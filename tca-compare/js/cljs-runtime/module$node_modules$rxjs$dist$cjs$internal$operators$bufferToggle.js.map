{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$bufferToggle.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/bufferToggle.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$bufferToggle\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferToggle = void 0;\nvar Subscription_1 = require(\"../Subscription\");\nvar innerSubscribe_1 = require(\"../innerSubscribe\");\nvar lift_1 = require(\"../util/lift\");\nfunction bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return lift_1.lift(source, new BufferToggleOperator(openings, closingSelector));\n    };\n}\nexports.bufferToggle = bufferToggle;\nvar BufferToggleOperator = (function () {\n    function BufferToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return BufferToggleOperator;\n}());\nvar BufferToggleSubscriber = (function (_super) {\n    __extends(BufferToggleSubscriber, _super);\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(innerSubscribe_1.innerSubscribe(openings, new innerSubscribe_1.ComplexInnerSubscriber(_this, undefined, 0)));\n        return _this;\n    }\n    BufferToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        for (var i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    };\n    BufferToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_1 = contexts.shift();\n            context_1.subscription.unsubscribe();\n            context_1.buffer = null;\n            context_1.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._error.call(this, err);\n    };\n    BufferToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            this.destination.next(context_2.buffer);\n            context_2.subscription.unsubscribe();\n            context_2.buffer = null;\n            context_2.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._complete.call(this);\n    };\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.closeBuffer(innerSub.context);\n    };\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n        try {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n        var contexts = this.contexts;\n        if (contexts && context) {\n            var buffer = context.buffer, subscription = context.subscription;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    };\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n        var contexts = this.contexts;\n        var buffer = [];\n        var subscription = new Subscription_1.Subscription();\n        var context = { buffer: buffer, subscription: subscription };\n        contexts.push(context);\n        var innerSubscription = innerSubscribe_1.innerSubscribe(closingNotifier, new innerSubscribe_1.ComplexInnerSubscriber(this, context, 0));\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    };\n    return BufferToggleSubscriber;\n}(innerSubscribe_1.ComplexOuterSubscriber));\n//# sourceMappingURL=bufferToggle.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","value","bufferToggle","Subscription_1","innerSubscribe_1","lift_1","openings","closingSelector","bufferToggleOperatorFunction","source","lift","BufferToggleOperator","BufferToggleOperator.prototype.call","subscriber","subscribe","BufferToggleSubscriber","_super","destination","_this","contexts","add","innerSubscribe","ComplexInnerSubscriber","undefined","_next","BufferToggleSubscriber.prototype._next","len","length","i","buffer","push","_error","BufferToggleSubscriber.prototype._error","err","context_1","shift","subscription","unsubscribe","_complete","BufferToggleSubscriber.prototype._complete","context_2","next","notifyNext","BufferToggleSubscriber.prototype.notifyNext","outerValue","innerValue","closeBuffer","openBuffer","notifyComplete","BufferToggleSubscriber.prototype.notifyComplete","innerSub","context","BufferToggleSubscriber.prototype.openBuffer","closingNotifier","trySubscribe","BufferToggleSubscriber.prototype.closeBuffer","splice","indexOf","remove","BufferToggleSubscriber.prototype.trySubscribe","Subscription","innerSubscription","closed","ComplexOuterSubscriber"]
}

shadow$provide.module$node_modules$rxjs$dist$cjs$internal$scheduler$AsyncAction=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}extendStatics(d,
b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.AsyncAction=void 0;global=require("module$node_modules$rxjs$dist$cjs$internal$scheduler$Action");var intervalProvider_1=require("module$node_modules$rxjs$dist$cjs$internal$scheduler$intervalProvider");require=function(_super){function AsyncAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;_this.scheduler=scheduler;_this.work=work;_this.pending=
!1;return _this}__extends(AsyncAction,_super);AsyncAction.prototype.schedule=function(state,delay){void 0===delay&&(delay=0);if(this.closed)return this;this.state=state;state=this.id;var scheduler=this.scheduler;null!=state&&(this.id=this.recycleAsyncId(scheduler,state,delay));this.pending=!0;this.delay=delay;this.id=this.id||this.requestAsyncId(scheduler,this.id,delay);return this};AsyncAction.prototype.requestAsyncId=function(scheduler,_id,delay){void 0===delay&&(delay=0);return intervalProvider_1.intervalProvider.setInterval(scheduler.flush.bind(scheduler,
this),delay)};AsyncAction.prototype.recycleAsyncId=function(_scheduler,id,delay){void 0===delay&&(delay=0);if(null!=delay&&this.delay===delay&&!1===this.pending)return id;intervalProvider_1.intervalProvider.clearInterval(id)};AsyncAction.prototype.execute=function(state,delay){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(state=this._execute(state,delay))return state;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};AsyncAction.prototype._execute=
function(state,_delay){_delay=!1;var errorValue=void 0;try{this.work(state)}catch(e){_delay=!0,errorValue=!!e&&e||Error(e)}if(_delay)return this.unsubscribe(),errorValue};AsyncAction.prototype.unsubscribe=function(){if(!this.closed){var id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==index&&actions.splice(index,1);null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null));this.delay=null;_super.prototype.unsubscribe.call(this)}};
return AsyncAction}(global.Action);exports.AsyncAction=require}
//# sourceMappingURL=module$node_modules$rxjs$dist$cjs$internal$scheduler$AsyncAction.js.map

{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$groupBy.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/groupBy.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$groupBy\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GroupedObservable = exports.groupBy = void 0;\nvar Subscriber_1 = require(\"../Subscriber\");\nvar Subscription_1 = require(\"../Subscription\");\nvar Observable_1 = require(\"../Observable\");\nvar Subject_1 = require(\"../Subject\");\nvar lift_1 = require(\"../util/lift\");\nfunction groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) { return lift_1.lift(source, new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector)); };\n}\nexports.groupBy = groupBy;\nvar GroupByOperator = (function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    GroupByOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n    return GroupByOperator;\n}());\nvar GroupBySubscriber = (function (_super) {\n    __extends(GroupBySubscriber, _super);\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.elementSelector = elementSelector;\n        _this.durationSelector = durationSelector;\n        _this.subjectSelector = subjectSelector;\n        _this.groups = null;\n        _this.attemptedToUnsubscribe = false;\n        _this.count = 0;\n        return _this;\n    }\n    GroupBySubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    };\n    GroupBySubscriber.prototype._group = function (value, key) {\n        var groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        var group = groups.get(key);\n        var element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject_1.Subject());\n            groups.set(key, group);\n            var groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                var duration = void 0;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    };\n    GroupBySubscriber.prototype._error = function (err) {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    };\n    GroupBySubscriber.prototype._complete = function () {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    };\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n        this.groups.delete(key);\n    };\n    GroupBySubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                _super.prototype.unsubscribe.call(this);\n            }\n        }\n    };\n    return GroupBySubscriber;\n}(Subscriber_1.Subscriber));\nvar GroupDurationSubscriber = (function (_super) {\n    __extends(GroupDurationSubscriber, _super);\n    function GroupDurationSubscriber(key, group, parent) {\n        var _this = _super.call(this, group) || this;\n        _this.key = key;\n        _this.parent = parent;\n        return _this;\n    }\n    GroupDurationSubscriber.prototype._next = function () {\n        this.complete();\n    };\n    GroupDurationSubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            var _a = this, parent_1 = _a.parent, key = _a.key;\n            this.key = this.parent = null;\n            if (parent_1) {\n                parent_1.removeGroup(key);\n            }\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    return GroupDurationSubscriber;\n}(Subscriber_1.Subscriber));\nvar GroupedObservable = (function (_super) {\n    __extends(GroupedObservable, _super);\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.groupSubject = groupSubject;\n        _this.refCountSubscription = refCountSubscription;\n        return _this;\n    }\n    GroupedObservable.prototype._subscribe = function (subscriber) {\n        var subscription = new Subscription_1.Subscription();\n        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    };\n    return GroupedObservable;\n}(Observable_1.Observable));\nexports.GroupedObservable = GroupedObservable;\nvar InnerRefCountSubscription = (function (_super) {\n    __extends(InnerRefCountSubscription, _super);\n    function InnerRefCountSubscription(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        parent.count++;\n        return _this;\n    }\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n        var parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            _super.prototype.unsubscribe.call(this);\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    };\n    return InnerRefCountSubscription;\n}(Subscription_1.Subscription));\n//# sourceMappingURL=groupBy.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","value","GroupedObservable","groupBy","Subscriber_1","Subscription_1","Observable_1","Subject_1","lift_1","keySelector","elementSelector","durationSelector","subjectSelector","source","lift","GroupByOperator","GroupByOperator.prototype.call","subscriber","subscribe","GroupBySubscriber","_super","destination","_this","groups","attemptedToUnsubscribe","count","_next","GroupBySubscriber.prototype._next","key","err","error","_group","GroupBySubscriber.prototype._group","Map","group","get","element","Subject","set","groupedObservable","next","duration","add","GroupDurationSubscriber","closed","_error","GroupBySubscriber.prototype._error","forEach","clear","_complete","GroupBySubscriber.prototype._complete","complete","removeGroup","GroupBySubscriber.prototype.removeGroup","delete","unsubscribe","GroupBySubscriber.prototype.unsubscribe","Subscriber","parent","GroupDurationSubscriber.prototype._next","GroupDurationSubscriber.prototype.unsubscribe","parent_1","_a","groupSubject","refCountSubscription","_subscribe","GroupedObservable.prototype._subscribe","subscription","Subscription","InnerRefCountSubscription","Observable","InnerRefCountSubscription.prototype.unsubscribe"]
}

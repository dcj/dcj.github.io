{
"version":3,
"file":"module$node_modules$vega_voronoi$build$vega_voronoi.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/vega-voronoi/build/vega-voronoi.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_voronoi$build$vega_voronoi\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-dataflow'), require('vega-util'), require('d3-delaunay')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-dataflow', 'vega-util', 'd3-delaunay'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega, global.d3));\n}(this, (function (exports, vegaDataflow, vegaUtil, d3Delaunay) { 'use strict';\n\n  function Voronoi(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n\n  Voronoi.Definition = {\n    'type': 'Voronoi',\n    'metadata': {'modifies': true},\n    'params': [\n      { 'name': 'x', 'type': 'field', 'required': true },\n      { 'name': 'y', 'type': 'field', 'required': true },\n      { 'name': 'size', 'type': 'number', 'array': true, 'length': 2 },\n      { 'name': 'extent', 'type': 'array', 'array': true, 'length': 2,\n        'default': [[-1e5, -1e5], [1e5, 1e5]],\n        'content': {'type': 'number', 'array': true, 'length': 2} },\n      { 'name': 'as', 'type': 'string', 'default': 'path' }\n    ]\n  };\n\n  const defaultExtent = [-1e5, -1e5, 1e5, 1e5];\n\n  vegaUtil.inherits(Voronoi, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const as = _.as || 'path',\n            data = pulse.source;\n\n      // nothing to do if no data\n      if (!data || !data.length) return pulse;\n\n      // configure and construct voronoi diagram\n      let s = _.size;\n      s = s ? [0, 0, s[0], s[1]]\n        : (s = _.extent) ? [s[0][0], s[0][1], s[1][0], s[1][1]]\n        : defaultExtent;\n\n      const voronoi = this.value = d3Delaunay.Delaunay.from(data, _.x, _.y).voronoi(s);\n\n      // map polygons to paths\n      for (let i=0, n=data.length; i<n; ++i) {\n        const polygon = voronoi.cellPolygon(i);\n        data[i][as] = polygon ? toPathString(polygon) : null;\n      }\n\n      return pulse.reflow(_.modified()).modifies(as);\n    }\n  });\n\n  // suppress duplicated end point vertices\n  function toPathString(p) {\n    const x = p[0][0],\n          y = p[0][1];\n\n    let n = p.length - 1;\n    for (; p[n][0] === x && p[n][1] === y; --n);\n\n    return 'M' + p.slice(0, n + 1).join('L') + 'Z';\n  }\n\n  exports.voronoi = Voronoi;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","transforms","d3","vegaDataflow","vegaUtil","d3Delaunay","Voronoi","params","Transform","call","Definition","defaultExtent","inherits","transform","_","pulse","as","data","source","length","s","size","extent","voronoi","value","Delaunay","from","x","y","i","n","polygon","cellPolygon","p","slice","join","reflow","modified","modifies","Object","defineProperty"]
}

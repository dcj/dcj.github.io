{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/windowTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.windowTime = void 0;\nvar Subject_1 = require(\"../Subject\");\nvar async_1 = require(\"../scheduler/async\");\nvar Subscriber_1 = require(\"../Subscriber\");\nvar isNumeric_1 = require(\"../util/isNumeric\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar lift_1 = require(\"../util/lift\");\nfunction windowTime(windowTimeSpan) {\n    var scheduler = async_1.async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Infinity;\n    if (isScheduler_1.isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler_1.isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric_1.isNumeric(arguments[2])) {\n        maxWindowSize = Number(arguments[2]);\n    }\n    if (isScheduler_1.isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric_1.isNumeric(arguments[1])) {\n        windowCreationInterval = Number(arguments[1]);\n    }\n    return function windowTimeOperatorFunction(source) {\n        return lift_1.lift(source, new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n}\nexports.windowTime = windowTime;\nvar WindowTimeOperator = (function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n    }\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n    return WindowTimeOperator;\n}());\nvar CountedSubject = (function (_super) {\n    __extends(CountedSubject, _super);\n    function CountedSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._numberOfNextedValues = 0;\n        return _this;\n    }\n    CountedSubject.prototype.next = function (value) {\n        this._numberOfNextedValues++;\n        _super.prototype.next.call(this, value);\n    };\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n        get: function () {\n            return this._numberOfNextedValues;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CountedSubject;\n}(Subject_1.Subject));\nvar WindowTimeSubscriber = (function (_super) {\n    __extends(WindowTimeSubscriber, _super);\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.maxWindowSize = maxWindowSize;\n        _this.windows = [];\n        var window = _this.openWindow();\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            var closeState = { subscriber: _this, window: window, context: null };\n            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n        }\n        else {\n            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };\n            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n        }\n        return _this;\n    }\n    WindowTimeSubscriber.prototype._next = function (value) {\n        var windows = this.maxWindowSize < Infinity ? this.windows.slice() : this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len; i++) {\n            var window_1 = windows[i];\n            if (!window_1.closed) {\n                window_1.next(value);\n                if (this.maxWindowSize <= window_1.numberOfNextedValues) {\n                    this.closeWindow(window_1);\n                }\n            }\n        }\n    };\n    WindowTimeSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().error(err);\n        }\n        this.destination.error(err);\n    };\n    WindowTimeSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().complete();\n        }\n        this.destination.complete();\n    };\n    WindowTimeSubscriber.prototype.openWindow = function () {\n        var window = new CountedSubject();\n        this.windows.push(window);\n        var destination = this.destination;\n        destination.next(window);\n        return window;\n    };\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n        var index = this.windows.indexOf(window);\n        if (index >= 0) {\n            window.complete();\n            this.windows.splice(index, 1);\n        }\n    };\n    return WindowTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;\n    if (window) {\n        subscriber.closeWindow(window);\n    }\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n}\nfunction dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = { action: action, subscription: null };\n    var timeSpanState = { subscriber: subscriber, window: window, context: context };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n}\nfunction dispatchWindowClose(state) {\n    var subscriber = state.subscriber, window = state.window, context = state.context;\n    if (context && context.action && context.subscription) {\n        context.action.remove(context.subscription);\n    }\n    subscriber.closeWindow(window);\n}\n//# sourceMappingURL=windowTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","dispatchWindowTimeSpanOnly","state","subscriber","windowTimeSpan","window","closeWindow","openWindow","schedule","dispatchWindowCreation","scheduler","windowCreationInterval","context","action","subscription","dispatchWindowClose","timeSpanState","add","remove","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","value","windowTime","Subject_1","async_1","Subscriber_1","isNumeric_1","isScheduler_1","lift_1","async","maxWindowSize","Infinity","isScheduler","isNumeric","Number","windowTimeOperatorFunction","source","lift","WindowTimeOperator","WindowTimeOperator.prototype.call","subscribe","WindowTimeSubscriber","CountedSubject","_super","_this","apply","arguments","_numberOfNextedValues","next","CountedSubject.prototype.next","get","enumerable","configurable","Subject","destination","windows","creationState","closeState","timeSpanOnlyState","_next","WindowTimeSubscriber.prototype._next","slice","len","length","i","window_1","closed","numberOfNextedValues","_error","WindowTimeSubscriber.prototype._error","err","shift","error","_complete","WindowTimeSubscriber.prototype._complete","complete","WindowTimeSubscriber.prototype.openWindow","push","WindowTimeSubscriber.prototype.closeWindow","index","indexOf","splice","Subscriber"]
}

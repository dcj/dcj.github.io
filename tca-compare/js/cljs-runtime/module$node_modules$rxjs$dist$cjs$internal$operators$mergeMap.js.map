{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$mergeMap.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/mergeMap.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$mergeMap\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flatMap = exports.MergeMapSubscriber = exports.MergeMapOperator = exports.mergeMap = void 0;\nvar map_1 = require(\"./map\");\nvar from_1 = require(\"../observable/from\");\nvar lift_1 = require(\"../util/lift\");\nvar innerSubscribe_1 = require(\"../innerSubscribe\");\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from_1.from(project(a, i)).pipe(map_1.map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return lift_1.lift(source, new MergeMapOperator(project, concurrent)); };\n}\nexports.mergeMap = mergeMap;\nvar MergeMapOperator = (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) { concurrent = Infinity; }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexports.MergeMapOperator = MergeMapOperator;\nvar MergeMapSubscriber = (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) { concurrent = Infinity; }\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            var result = void 0;\n            var index = this.index++;\n            try {\n                result = this.project(value, index);\n            }\n            catch (err) {\n                this.destination.error(err);\n                return;\n            }\n            this.active++;\n            var innerSubscriber = new innerSubscribe_1.SimpleInnerSubscriber(this);\n            var destination = this.destination;\n            destination.add(innerSubscriber);\n            innerSubscribe_1.innerSubscribe(result, innerSubscriber);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(innerSubscribe_1.SimpleOuterSubscriber));\nexports.MergeMapSubscriber = MergeMapSubscriber;\nexports.flatMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","mergeMap","project","resultSelector","concurrent","Infinity","source","pipe","a","i","from_1","from","map_1","map","b","ii","lift_1","lift","MergeMapOperator","__extends","extendStatics","d","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","value","flatMap","MergeMapSubscriber","innerSubscribe_1","MergeMapOperator.prototype.call","observer","subscribe","_super","destination","_this","hasCompleted","buffer","active","index","_next","MergeMapSubscriber.prototype._next","result","err","error","innerSubscriber","SimpleInnerSubscriber","add","innerSubscribe","push","_complete","MergeMapSubscriber.prototype._complete","length","complete","unsubscribe","notifyNext","MergeMapSubscriber.prototype.notifyNext","innerValue","next","notifyComplete","MergeMapSubscriber.prototype.notifyComplete","shift","SimpleOuterSubscriber"]
}

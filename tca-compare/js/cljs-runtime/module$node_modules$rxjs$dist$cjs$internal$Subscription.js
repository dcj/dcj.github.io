shadow$provide.module$node_modules$rxjs$dist$cjs$internal$Subscription=function(global,require,module,exports){var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;s=Array(s);var k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)s[k]=a[j];return s};Object.defineProperty(exports,"__esModule",{value:!0});exports.isSubscription=exports.Subscription=void 0;var isFunction_1=require("module$node_modules$rxjs$dist$cjs$internal$util$isFunction"),
UnsubscriptionError_1=require("module$node_modules$rxjs$dist$cjs$internal$util$UnsubscriptionError"),Subscription=function(){function Subscription(initialTeardown){this.initialTeardown=initialTeardown;this.closed=!1;this._teardowns=this._parents=this._singleParent=null}Subscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var _singleParent=this._singleParent;if(_singleParent)this._singleParent=null,_singleParent.remove(this);else if(_singleParent=this._parents){this._parents=
null;for(var _i=0;_i<_singleParent.length;_i++)_singleParent[_i].remove(this)}_singleParent=this.initialTeardown;if(isFunction_1.isFunction(_singleParent))try{_singleParent()}catch(e){var errors=e instanceof UnsubscriptionError_1.UnsubscriptionError?e.errors:[e]}_singleParent=this._teardowns;this._teardowns=null;if(_singleParent)for(_i=0;_i<_singleParent.length;_i++){var teardown_1=_singleParent[_i];try{"function"===typeof teardown_1?teardown_1():teardown_1.unsubscribe()}catch(err){errors=null!==
errors&&void 0!==errors?errors:[],err instanceof UnsubscriptionError_1.UnsubscriptionError?errors=__spreadArrays(errors,err.errors):errors.push(err)}}if(errors)throw new UnsubscriptionError_1.UnsubscriptionError(errors);}};Subscription.prototype.add=function(teardown){var _a;if(teardown&&teardown!==this)if(this.closed)"function"===typeof teardown?teardown():teardown.unsubscribe();else{if(teardown instanceof Subscription){if(teardown.closed||teardown._hasParent(this))return;teardown._addParent(this)}this._teardowns=
null!==(_a=this._teardowns)&&void 0!==_a?_a:[];this._teardowns.push(teardown)}};Subscription.prototype._hasParent=function(parent){var _a;return this._singleParent===parent||(null===(_a=this._parents)||void 0===_a?void 0:_a.includes(parent))||!1};Subscription.prototype._addParent=function(parent){var _singleParent=this._singleParent,_parents;_singleParent?(this._parents=[_singleParent,parent],this._singleParent=null):(_parents=this._parents)?_parents.push(parent):this._singleParent=parent};Subscription.prototype._removeParent=
function(parent){var _singleParent=this._singleParent;if(_singleParent)_singleParent===parent&&(this._singleParent=null);else if(_singleParent=this._parents)parent=_singleParent.indexOf(parent),0<=parent&&_singleParent.splice(parent,1)};Subscription.prototype.remove=function(teardown){var _teardowns=this._teardowns;if(_teardowns){var index=_teardowns.indexOf(teardown);0<=index&&_teardowns.splice(index,1)}teardown instanceof Subscription&&teardown._removeParent(this)};Subscription.EMPTY=function(empty){empty.closed=
!0;return empty}(new Subscription);return Subscription}();exports.Subscription=Subscription;exports.isSubscription=function(value){return value instanceof Subscription||value&&"closed"in value&&"function"===typeof value.remove&&"function"===typeof value.add&&"function"===typeof value.unsubscribe}}
//# sourceMappingURL=module$node_modules$rxjs$dist$cjs$internal$Subscription.js.map

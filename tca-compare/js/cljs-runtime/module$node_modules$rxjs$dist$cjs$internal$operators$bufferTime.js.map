{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$bufferTime.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/bufferTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$bufferTime\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferTime = void 0;\nvar async_1 = require(\"../scheduler/async\");\nvar Subscriber_1 = require(\"../Subscriber\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar lift_1 = require(\"../util/lift\");\nfunction bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async_1.async;\n    if (isScheduler_1.isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Infinity;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return function bufferTimeOperatorFunction(source) {\n        return lift_1.lift(source, new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n}\nexports.bufferTime = bufferTime;\nvar BufferTimeOperator = (function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n    }\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n    return BufferTimeOperator;\n}());\nvar Context = (function () {\n    function Context() {\n        this.buffer = [];\n    }\n    return Context;\n}());\nvar BufferTimeSubscriber = (function (_super) {\n    __extends(BufferTimeSubscriber, _super);\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferTimeSpan = bufferTimeSpan;\n        _this.bufferCreationInterval = bufferCreationInterval;\n        _this.maxBufferSize = maxBufferSize;\n        _this.scheduler = scheduler;\n        _this.contexts = [];\n        var context = _this.openContext();\n        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n        if (_this.timespanOnly) {\n            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n        else {\n            var closeState = { subscriber: _this, context: context };\n            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n        }\n        return _this;\n    }\n    BufferTimeSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        var filledBufferContext;\n        for (var i = 0; i < len; i++) {\n            var context_1 = contexts[i];\n            var buffer = context_1.buffer;\n            buffer.push(value);\n            if (buffer.length == this.maxBufferSize) {\n                filledBufferContext = context_1;\n            }\n        }\n        if (filledBufferContext) {\n            this.onBufferFull(filledBufferContext);\n        }\n    };\n    BufferTimeSubscriber.prototype._error = function (err) {\n        this.contexts.length = 0;\n        _super.prototype._error.call(this, err);\n    };\n    BufferTimeSubscriber.prototype._complete = function () {\n        var _a = this, contexts = _a.contexts, destination = _a.destination;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            destination.next(context_2.buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferTimeSubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.contexts = null;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n        this.closeContext(context);\n        var closeAction = context.closeAction;\n        closeAction.unsubscribe();\n        this.remove(closeAction);\n        if (!this.closed && this.timespanOnly) {\n            context = this.openContext();\n            var bufferTimeSpan = this.bufferTimeSpan;\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n    };\n    BufferTimeSubscriber.prototype.openContext = function () {\n        var context = new Context();\n        this.contexts.push(context);\n        return context;\n    };\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n        this.destination.next(context.buffer);\n        var contexts = this.contexts;\n        var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n        if (spliceIndex >= 0) {\n            contexts.splice(contexts.indexOf(context), 1);\n        }\n    };\n    return BufferTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n    if (prevContext) {\n        subscriber.closeContext(prevContext);\n    }\n    if (!subscriber.closed) {\n        state.context = subscriber.openContext();\n        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n}\nfunction dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n    if (!subscriber.closed) {\n        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));\n        action.schedule(state, bufferCreationInterval);\n    }\n}\nfunction dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber, context = arg.context;\n    subscriber.closeContext(context);\n}\n//# sourceMappingURL=bufferTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","dispatchBufferTimeSpanOnly","state","subscriber","prevContext","context","closeContext","closed","openContext","closeAction","schedule","bufferTimeSpan","dispatchBufferCreation","bufferCreationInterval","scheduler","add","dispatchBufferClose","action","arg","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","defineProperty","value","bufferTime","async_1","Subscriber_1","isScheduler_1","lift_1","length","arguments","async","isScheduler","maxBufferSize","Infinity","bufferTimeOperatorFunction","source","lift","BufferTimeOperator","BufferTimeOperator.prototype.call","subscribe","BufferTimeSubscriber","Context","buffer","_super","destination","_this","contexts","timespanOnly","timeSpanOnlyState","creationState","closeState","_next","BufferTimeSubscriber.prototype._next","len","filledBufferContext","i","context_1","push","onBufferFull","_error","BufferTimeSubscriber.prototype._error","err","_complete","BufferTimeSubscriber.prototype._complete","_a","context_2","shift","next","unsubscribe","BufferTimeSubscriber.prototype.unsubscribe","BufferTimeSubscriber.prototype.onBufferFull","remove","BufferTimeSubscriber.prototype.openContext","BufferTimeSubscriber.prototype.closeContext","spliceIndex","indexOf","splice","Subscriber"]
}

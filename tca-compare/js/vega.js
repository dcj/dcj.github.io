SHADOW_ENV.evalLoad("module$node_modules$base64_js$index.js", true , "shadow$provide.module$node_modules$base64_js$index\x3dfunction(global,require,module,exports){function getLens(b64){var len\x3db64.length;if(0\x3clen%4)throw Error(\x22Invalid string. Length must be a multiple of 4\x22);b64\x3db64.indexOf(\x22\\x3d\x22);-1\x3d\x3d\x3db64\x26\x26(b64\x3dlen);return[b64,b64\x3d\x3d\x3dlen?0:4-b64%4]}function encodeChunk(uint8,start,end){for(var output\x3d[],i\x3dstart;i\x3cend;i+\x3d3)start\x3d(uint8[i]\x3c\x3c16\x2616711680)+(uint8[i+1]\x3c\x3c8\x2665280)+(uint8[i+2]\x26255),output.push(lookup[start\x3e\x3e18\x2663]+lookup[start\x3e\x3e12\x2663]+lookup[start\x3e\x3e6\x2663]+lookup[start\x26\n63]);return output.join(\x22\x22)}exports.byteLength\x3dfunction(b64){b64\x3dgetLens(b64);var placeHoldersLen\x3db64[1];return 3*(b64[0]+placeHoldersLen)/4-placeHoldersLen};exports.toByteArray\x3dfunction(b64){var lens\x3dgetLens(b64);var tmp\x3dlens[0];lens\x3dlens[1];var arr\x3dnew Arr(3*(tmp+lens)/4-lens),curByte\x3d0,len\x3d0\x3clens?tmp-4:tmp,i;for(i\x3d0;i\x3clen;i+\x3d4)tmp\x3drevLookup[b64.charCodeAt(i)]\x3c\x3c18|revLookup[b64.charCodeAt(i+1)]\x3c\x3c12|revLookup[b64.charCodeAt(i+2)]\x3c\x3c6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]\x3dtmp\x3e\x3e16\x26255,arr[curByte++]\x3d\ntmp\x3e\x3e8\x26255,arr[curByte++]\x3dtmp\x26255;2\x3d\x3d\x3dlens\x26\x26(tmp\x3drevLookup[b64.charCodeAt(i)]\x3c\x3c2|revLookup[b64.charCodeAt(i+1)]\x3e\x3e4,arr[curByte++]\x3dtmp\x26255);1\x3d\x3d\x3dlens\x26\x26(tmp\x3drevLookup[b64.charCodeAt(i)]\x3c\x3c10|revLookup[b64.charCodeAt(i+1)]\x3c\x3c4|revLookup[b64.charCodeAt(i+2)]\x3e\x3e2,arr[curByte++]\x3dtmp\x3e\x3e8\x26255,arr[curByte++]\x3dtmp\x26255);return arr};exports.fromByteArray\x3dfunction(uint8){for(var len\x3duint8.length,extraBytes\x3dlen%3,parts\x3d[],i\x3d0,len2\x3dlen-extraBytes;i\x3clen2;i+\x3d16383)parts.push(encodeChunk(uint8,i,i+16383\x3elen2?len2:i+16383));\n1\x3d\x3d\x3dextraBytes?(uint8\x3duint8[len-1],parts.push(lookup[uint8\x3e\x3e2]+lookup[uint8\x3c\x3c4\x2663]+\x22\\x3d\\x3d\x22)):2\x3d\x3d\x3dextraBytes\x26\x26(uint8\x3d(uint8[len-2]\x3c\x3c8)+uint8[len-1],parts.push(lookup[uint8\x3e\x3e10]+lookup[uint8\x3e\x3e4\x2663]+lookup[uint8\x3c\x3c2\x2663]+\x22\\x3d\x22));return parts.join(\x22\x22)};var lookup\x3d[],revLookup\x3d[],Arr\x3d\x22undefined\x22!\x3d\x3dtypeof Uint8Array?Uint8Array:Array;for(global\x3d0;64\x3eglobal;++global)lookup[global]\x3d\x22ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x22[global],revLookup[\x22ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x22.charCodeAt(global)]\x3d\nglobal;revLookup[45]\x3d62;revLookup[95]\x3d63}");
SHADOW_ENV.evalLoad("module$node_modules$ieee754$index.js", true , "shadow$provide.module$node_modules$ieee754$index\x3dfunction(global,require,module,exports){exports.read\x3dfunction(buffer,offset,isLE,mLen,nBytes){var m\x3d8*nBytes-mLen-1;var eMax\x3d(1\x3c\x3cm)-1,eBias\x3deMax\x3e\x3e1,nBits\x3d-7;nBytes\x3disLE?nBytes-1:0;var d\x3disLE?-1:1,s\x3dbuffer[offset+nBytes];nBytes+\x3dd;isLE\x3ds\x26(1\x3c\x3c-nBits)-1;s\x3e\x3e\x3d-nBits;for(nBits+\x3dm;0\x3cnBits;isLE\x3d256*isLE+buffer[offset+nBytes],nBytes+\x3dd,nBits-\x3d8);m\x3disLE\x26(1\x3c\x3c-nBits)-1;isLE\x3e\x3e\x3d-nBits;for(nBits+\x3dmLen;0\x3cnBits;m\x3d256*m+buffer[offset+nBytes],nBytes+\x3dd,nBits-\x3d8);if(0\x3d\x3d\x3d\nisLE)isLE\x3d1-eBias;else{if(isLE\x3d\x3d\x3deMax)return m?NaN:Infinity*(s?-1:1);m+\x3dMath.pow(2,mLen);isLE-\x3deBias}return(s?-1:1)*m*Math.pow(2,isLE-mLen)};exports.write\x3dfunction(buffer,value,offset,isLE,mLen,nBytes){var c,eLen\x3d8*nBytes-mLen-1,eMax\x3d(1\x3c\x3ceLen)-1,eBias\x3deMax\x3e\x3e1,rt\x3d23\x3d\x3d\x3dmLen?Math.pow(2,-24)-Math.pow(2,-77):0;nBytes\x3disLE?0:nBytes-1;var d\x3disLE?1:-1,s\x3d0\x3evalue||0\x3d\x3d\x3dvalue\x26\x260\x3e1/value?1:0;value\x3dMath.abs(value);isNaN(value)||Infinity\x3d\x3d\x3dvalue?(value\x3disNaN(value)?1:0,isLE\x3deMax):(isLE\x3dMath.floor(Math.log(value)/\nMath.LN2),1\x3evalue*(c\x3dMath.pow(2,-isLE))\x26\x26(isLE--,c*\x3d2),value\x3d1\x3c\x3disLE+eBias?value+rt/c:value+rt*Math.pow(2,1-eBias),2\x3c\x3dvalue*c\x26\x26(isLE++,c/\x3d2),isLE+eBias\x3e\x3deMax?(value\x3d0,isLE\x3deMax):1\x3c\x3disLE+eBias?(value\x3d(value*c-1)*Math.pow(2,mLen),isLE+\x3deBias):(value\x3dvalue*Math.pow(2,eBias-1)*Math.pow(2,mLen),isLE\x3d0));for(;8\x3c\x3dmLen;buffer[offset+nBytes]\x3dvalue\x26255,nBytes+\x3dd,value/\x3d256,mLen-\x3d8);isLE\x3disLE\x3c\x3cmLen|value;for(eLen+\x3dmLen;0\x3ceLen;buffer[offset+nBytes]\x3disLE\x26255,nBytes+\x3dd,isLE/\x3d256,eLen-\x3d8);buffer[offset+nBytes-d]|\x3d\n128*s}}");
SHADOW_ENV.evalLoad("module$node_modules$isarray$index.js", true , "shadow$provide.module$node_modules$isarray$index\x3dfunction(global,require,module,exports){var toString\x3d{}.toString;module.exports\x3dArray.isArray||function(arr){return\x22[object Array]\x22\x3d\x3dtoString.call(arr)}}");
SHADOW_ENV.evalLoad("module$node_modules$buffer$index.js", true , "shadow$provide.module$node_modules$buffer$index\x3dfunction(global,require,module,exports){function typedArraySupport(){try{var arr\x3dnew Uint8Array(1);arr.__proto__\x3d{__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42\x3d\x3d\x3darr.foo()\x26\x26\x22function\x22\x3d\x3d\x3dtypeof arr.subarray\x26\x260\x3d\x3d\x3darr.subarray(1,1).byteLength}catch(e){return!1}}function createBuffer(that,length){if((Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823)\x3clength)throw new RangeError(\x22Invalid typed array length\x22);Buffer.TYPED_ARRAY_SUPPORT?\n(that\x3dnew Uint8Array(length),that.__proto__\x3dBuffer.prototype):(null\x3d\x3d\x3dthat\x26\x26(that\x3dnew Buffer(length)),that.length\x3dlength);return that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if(\x22number\x22\x3d\x3d\x3dtypeof arg){if(\x22string\x22\x3d\x3d\x3dtypeof encodingOrOffset)throw Error(\x22If encoding is specified then the first argument must be a string\x22);return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}\nfunction from(that,value,encodingOrOffset,length){if(\x22number\x22\x3d\x3d\x3dtypeof value)throw new TypeError(\x27\x22value\x22 argument must not be a number\x27);if(\x22undefined\x22!\x3d\x3dtypeof ArrayBuffer\x26\x26value instanceof ArrayBuffer){value.byteLength;if(0\x3eencodingOrOffset||value.byteLength\x3cencodingOrOffset)throw new RangeError(\x22\x27offset\x27 is out of bounds\x22);if(value.byteLength\x3cencodingOrOffset+(length||0))throw new RangeError(\x22\x27length\x27 is out of bounds\x22);value\x3dvoid 0\x3d\x3d\x3dencodingOrOffset\x26\x26void 0\x3d\x3d\x3dlength?new Uint8Array(value):void 0\x3d\x3d\x3d\nlength?new Uint8Array(value,encodingOrOffset):new Uint8Array(value,encodingOrOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that\x3dvalue,that.__proto__\x3dBuffer.prototype):that\x3dfromArrayLike(that,value);return that}if(\x22string\x22\x3d\x3d\x3dtypeof value){length\x3dthat;that\x3dencodingOrOffset;if(\x22string\x22!\x3d\x3dtypeof that||\x22\x22\x3d\x3d\x3dthat)that\x3d\x22utf8\x22;if(!Buffer.isEncoding(that))throw new TypeError(\x27\x22encoding\x22 must be a valid string encoding\x27);encodingOrOffset\x3dbyteLength$jscomp$0(value,that)|0;length\x3dcreateBuffer(length,encodingOrOffset);\nvalue\x3dlength.write(value,that);value!\x3d\x3dencodingOrOffset\x26\x26(length\x3dlength.slice(0,value));return length}return fromObject(that,value)}function assertSize(size){if(\x22number\x22!\x3d\x3dtypeof size)throw new TypeError(\x27\x22size\x22 argument must be a number\x27);if(0\x3esize)throw new RangeError(\x27\x22size\x22 argument must not be negative\x27);}function allocUnsafe(that,size){assertSize(size);that\x3dcreateBuffer(that,0\x3esize?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT)for(var i\x3d0;i\x3csize;++i)that[i]\x3d0;return that}function fromArrayLike(that,\narray){var length\x3d0\x3earray.length?0:checked(array.length)|0;that\x3dcreateBuffer(that,length);for(var i\x3d0;i\x3clength;i+\x3d1)that[i]\x3darray[i]\x26255;return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len\x3dchecked(obj.length)|0;that\x3dcreateBuffer(that,len);if(0\x3d\x3d\x3dthat.length)return that;obj.copy(that,0,0,len);return that}if(obj){if(\x22undefined\x22!\x3d\x3dtypeof ArrayBuffer\x26\x26obj.buffer instanceof ArrayBuffer||\x22length\x22in obj)return(len\x3d\x22number\x22!\x3d\x3dtypeof obj.length)||(len\x3dobj.length,len\x3dlen!\x3d\x3dlen),len?createBuffer(that,\n0):fromArrayLike(that,obj);if(\x22Buffer\x22\x3d\x3d\x3dobj.type\x26\x26isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError(\x22First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\x22);}function checked(length){if(length\x3e\x3d(Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError(\x22Attempt to allocate Buffer larger than maximum size: 0x\x22+(Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+\x22 bytes\x22);return length|0}function byteLength$jscomp$0(string,\nencoding){if(Buffer.isBuffer(string))return string.length;if(\x22undefined\x22!\x3d\x3dtypeof ArrayBuffer\x26\x26\x22function\x22\x3d\x3d\x3dtypeof ArrayBuffer.isView\x26\x26(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;\x22string\x22!\x3d\x3dtypeof string\x26\x26(string\x3d\x22\x22+string);var len\x3dstring.length;if(0\x3d\x3d\x3dlen)return 0;for(var loweredCase\x3d!1;;)switch(encoding){case \x22ascii\x22:case \x22latin1\x22:case \x22binary\x22:return len;case \x22utf8\x22:case \x22utf-8\x22:case void 0:return utf8ToBytes(string).length;case \x22ucs2\x22:case \x22ucs-2\x22:case \x22utf16le\x22:case \x22utf-16le\x22:return 2*\nlen;case \x22hex\x22:return len\x3e\x3e\x3e1;case \x22base64\x22:return base64.toByteArray(base64clean(string)).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding\x3d(\x22\x22+encoding).toLowerCase();loweredCase\x3d!0}}function slowToString(encoding,start,end){var loweredCase\x3d!1;if(void 0\x3d\x3d\x3dstart||0\x3estart)start\x3d0;if(start\x3ethis.length)return\x22\x22;if(void 0\x3d\x3d\x3dend||end\x3ethis.length)end\x3dthis.length;if(0\x3e\x3dend)return\x22\x22;end\x3e\x3e\x3e\x3d0;start\x3e\x3e\x3e\x3d0;if(end\x3c\x3dstart)return\x22\x22;for(encoding||(encoding\x3d\x22utf8\x22);;)switch(encoding){case \x22hex\x22:encoding\x3d\nstart;start\x3dend;end\x3dthis.length;if(!encoding||0\x3eencoding)encoding\x3d0;if(!start||0\x3estart||start\x3eend)start\x3dend;loweredCase\x3d\x22\x22;for(end\x3dencoding;end\x3cstart;++end)encoding\x3dloweredCase,loweredCase\x3dthis[end],loweredCase\x3d16\x3eloweredCase?\x220\x22+loweredCase.toString(16):loweredCase.toString(16),loweredCase\x3dencoding+loweredCase;return loweredCase;case \x22utf8\x22:case \x22utf-8\x22:return utf8Slice(this,start,end);case \x22ascii\x22:encoding\x3d\x22\x22;for(end\x3dMath.min(this.length,end);start\x3cend;++start)encoding+\x3dString.fromCharCode(this[start]\x26\n127);return encoding;case \x22latin1\x22:case \x22binary\x22:encoding\x3d\x22\x22;for(end\x3dMath.min(this.length,end);start\x3cend;++start)encoding+\x3dString.fromCharCode(this[start]);return encoding;case \x22base64\x22:return start\x3d0\x3d\x3d\x3dstart\x26\x26end\x3d\x3d\x3dthis.length?base64.fromByteArray(this):base64.fromByteArray(this.slice(start,end)),start;case \x22ucs2\x22:case \x22ucs-2\x22:case \x22utf16le\x22:case \x22utf-16le\x22:start\x3dthis.slice(start,end);end\x3d\x22\x22;for(encoding\x3d0;encoding\x3cstart.length;encoding+\x3d2)end+\x3dString.fromCharCode(start[encoding]+256*start[encoding+\n1]);return end;default:if(loweredCase)throw new TypeError(\x22Unknown encoding: \x22+encoding);encoding\x3d(encoding+\x22\x22).toLowerCase();loweredCase\x3d!0}}function swap(b,n,m){var i\x3db[n];b[n]\x3db[m];b[m]\x3di}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0\x3d\x3d\x3dbuffer.length)return-1;\x22string\x22\x3d\x3d\x3dtypeof byteOffset?(encoding\x3dbyteOffset,byteOffset\x3d0):2147483647\x3cbyteOffset?byteOffset\x3d2147483647:-2147483648\x3ebyteOffset\x26\x26(byteOffset\x3d-2147483648);byteOffset\x3d+byteOffset;isNaN(byteOffset)\x26\x26(byteOffset\x3ddir?\n0:buffer.length-1);0\x3ebyteOffset\x26\x26(byteOffset\x3dbuffer.length+byteOffset);if(byteOffset\x3e\x3dbuffer.length){if(dir)return-1;byteOffset\x3dbuffer.length-1}else if(0\x3ebyteOffset)if(dir)byteOffset\x3d0;else return-1;\x22string\x22\x3d\x3d\x3dtypeof val\x26\x26(val\x3dBuffer.from(val,encoding));if(Buffer.isBuffer(val))return 0\x3d\x3d\x3dval.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if(\x22number\x22\x3d\x3d\x3dtypeof val)return val\x26\x3d255,Buffer.TYPED_ARRAY_SUPPORT\x26\x26\x22function\x22\x3d\x3d\x3dtypeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,\nval,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError(\x22val must be string, number or Buffer\x22);}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1\x3d\x3d\x3dindexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize\x3d1,arrLength\x3darr.length,valLength\x3dval.length;if(void 0!\x3d\x3dencoding\x26\x26(encoding\x3dString(encoding).toLowerCase(),\x22ucs2\x22\x3d\x3d\x3dencoding||\x22ucs-2\x22\x3d\x3d\x3dencoding||\x22utf16le\x22\x3d\x3d\x3dencoding||\n\x22utf-16le\x22\x3d\x3d\x3dencoding)){if(2\x3earr.length||2\x3eval.length)return-1;indexSize\x3d2;arrLength/\x3d2;valLength/\x3d2;byteOffset/\x3d2}if(dir)for(encoding\x3d-1;byteOffset\x3carrLength;byteOffset++)if(read(arr,byteOffset)\x3d\x3d\x3dread(val,-1\x3d\x3d\x3dencoding?0:byteOffset-encoding)){if(-1\x3d\x3d\x3dencoding\x26\x26(encoding\x3dbyteOffset),byteOffset-encoding+1\x3d\x3d\x3dvalLength)return encoding*indexSize}else-1!\x3d\x3dencoding\x26\x26(byteOffset-\x3dbyteOffset-encoding),encoding\x3d-1;else for(byteOffset+valLength\x3earrLength\x26\x26(byteOffset\x3darrLength-valLength);0\x3c\x3dbyteOffset;byteOffset--){arrLength\x3d\n!0;for(encoding\x3d0;encoding\x3cvalLength;encoding++)if(read(arr,byteOffset+encoding)!\x3d\x3dread(val,encoding)){arrLength\x3d!1;break}if(arrLength)return byteOffset}return-1}function utf8Slice(buf,start,end){end\x3dMath.min(buf.length,end);for(var res\x3d[];start\x3cend;){var firstByte\x3dbuf[start],codePoint\x3dnull,bytesPerSequence\x3d239\x3cfirstByte?4:223\x3cfirstByte?3:191\x3cfirstByte?2:1;if(start+bytesPerSequence\x3c\x3dend)switch(bytesPerSequence){case 1:128\x3efirstByte\x26\x26(codePoint\x3dfirstByte);break;case 2:var secondByte\x3dbuf[start+1];128\x3d\x3d\x3d\n(secondByte\x26192)\x26\x26(firstByte\x3d(firstByte\x2631)\x3c\x3c6|secondByte\x2663,127\x3cfirstByte\x26\x26(codePoint\x3dfirstByte));break;case 3:secondByte\x3dbuf[start+1];var thirdByte\x3dbuf[start+2];128\x3d\x3d\x3d(secondByte\x26192)\x26\x26128\x3d\x3d\x3d(thirdByte\x26192)\x26\x26(firstByte\x3d(firstByte\x2615)\x3c\x3c12|(secondByte\x2663)\x3c\x3c6|thirdByte\x2663,2047\x3cfirstByte\x26\x26(55296\x3efirstByte||57343\x3cfirstByte)\x26\x26(codePoint\x3dfirstByte));break;case 4:secondByte\x3dbuf[start+1];thirdByte\x3dbuf[start+2];var fourthByte\x3dbuf[start+3];128\x3d\x3d\x3d(secondByte\x26192)\x26\x26128\x3d\x3d\x3d(thirdByte\x26192)\x26\x26128\x3d\x3d\x3d(fourthByte\x26192)\x26\x26\n(firstByte\x3d(firstByte\x2615)\x3c\x3c18|(secondByte\x2663)\x3c\x3c12|(thirdByte\x2663)\x3c\x3c6|fourthByte\x2663,65535\x3cfirstByte\x26\x261114112\x3efirstByte\x26\x26(codePoint\x3dfirstByte))}null\x3d\x3d\x3dcodePoint?(codePoint\x3d65533,bytesPerSequence\x3d1):65535\x3ccodePoint\x26\x26(codePoint-\x3d65536,res.push(codePoint\x3e\x3e\x3e10\x261023|55296),codePoint\x3d56320|codePoint\x261023);res.push(codePoint);start+\x3dbytesPerSequence}buf\x3dres.length;if(buf\x3c\x3dMAX_ARGUMENTS_LENGTH)res\x3dString.fromCharCode.apply(String,res);else{end\x3d\x22\x22;for(start\x3d0;start\x3cbuf;)end+\x3dString.fromCharCode.apply(String,\nres.slice(start,start+\x3dMAX_ARGUMENTS_LENGTH));res\x3dend}return res}function checkOffset(offset,ext,length){if(0!\x3d\x3doffset%1||0\x3eoffset)throw new RangeError(\x22offset is not uint\x22);if(offset+ext\x3elength)throw new RangeError(\x22Trying to access beyond buffer length\x22);}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError(\x27\x22buffer\x22 argument must be a Buffer instance\x27);if(value\x3emax||value\x3cmin)throw new RangeError(\x27\x22value\x22 argument is out of bounds\x27);if(offset+ext\x3ebuf.length)throw new RangeError(\x22Index out of range\x22);\n}function objectWriteUInt16(buf,value,offset,littleEndian){0\x3evalue\x26\x26(value\x3d65535+value+1);for(var i\x3d0,j\x3dMath.min(buf.length-offset,2);i\x3cj;++i)buf[offset+i]\x3d(value\x26255\x3c\x3c8*(littleEndian?i:1-i))\x3e\x3e\x3e8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0\x3evalue\x26\x26(value\x3d4294967295+value+1);for(var i\x3d0,j\x3dMath.min(buf.length-offset,4);i\x3cj;++i)buf[offset+i]\x3dvalue\x3e\x3e\x3e8*(littleEndian?i:3-i)\x26255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext\x3ebuf.length)throw new RangeError(\x22Index out of range\x22);\nif(0\x3eoffset)throw new RangeError(\x22Index out of range\x22);}function writeFloat(buf,value,offset,littleEndian,noAssert){noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886E38,-3.4028234663852886E38);ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157E308,-1.7976931348623157E308);ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}function base64clean(str){str\x3d\nstr.trim?str.trim():str.replace(/^\\s+|\\s+$/g,\x22\x22);str\x3dstr.replace(INVALID_BASE64_RE,\x22\x22);if(2\x3estr.length)return\x22\x22;for(;0!\x3d\x3dstr.length%4;)str+\x3d\x22\\x3d\x22;return str}function utf8ToBytes(string,units){units\x3dunits||Infinity;for(var codePoint,length\x3dstring.length,leadSurrogate\x3dnull,bytes\x3d[],i\x3d0;i\x3clength;++i){codePoint\x3dstring.charCodeAt(i);if(55295\x3ccodePoint\x26\x2657344\x3ecodePoint){if(!leadSurrogate){if(56319\x3ccodePoint){-1\x3c(units-\x3d3)\x26\x26bytes.push(239,191,189);continue}else if(i+1\x3d\x3d\x3dlength){-1\x3c(units-\x3d3)\x26\x26bytes.push(239,\n191,189);continue}leadSurrogate\x3dcodePoint;continue}if(56320\x3ecodePoint){-1\x3c(units-\x3d3)\x26\x26bytes.push(239,191,189);leadSurrogate\x3dcodePoint;continue}codePoint\x3d(leadSurrogate-55296\x3c\x3c10|codePoint-56320)+65536}else leadSurrogate\x26\x26-1\x3c(units-\x3d3)\x26\x26bytes.push(239,191,189);leadSurrogate\x3dnull;if(128\x3ecodePoint){if(0\x3e--units)break;bytes.push(codePoint)}else if(2048\x3ecodePoint){if(0\x3e(units-\x3d2))break;bytes.push(codePoint\x3e\x3e6|192,codePoint\x2663|128)}else if(65536\x3ecodePoint){if(0\x3e(units-\x3d3))break;bytes.push(codePoint\x3e\x3e12|\n224,codePoint\x3e\x3e6\x2663|128,codePoint\x2663|128)}else if(1114112\x3ecodePoint){if(0\x3e(units-\x3d4))break;bytes.push(codePoint\x3e\x3e18|240,codePoint\x3e\x3e12\x2663|128,codePoint\x3e\x3e6\x2663|128,codePoint\x2663|128)}else throw Error(\x22Invalid code point\x22);}return bytes}function asciiToBytes(str){for(var byteArray\x3d[],i\x3d0;i\x3cstr.length;++i)byteArray.push(str.charCodeAt(i)\x26255);return byteArray}function blitBuffer(src,dst,offset,length){for(var i\x3d0;i\x3clength\x26\x26!(i+offset\x3e\x3ddst.length||i\x3e\x3dsrc.length);++i)dst[i+offset]\x3dsrc[i];return i}var base64\x3d\nrequire(\x22module$node_modules$base64_js$index\x22),ieee754\x3drequire(\x22module$node_modules$ieee754$index\x22),isArray\x3drequire(\x22module$node_modules$isarray$index\x22);exports.Buffer\x3dBuffer;exports.SlowBuffer\x3dfunction(length){+length!\x3dlength\x26\x26(length\x3d0);return Buffer.alloc(+length)};exports.INSPECT_MAX_BYTES\x3d50;Buffer.TYPED_ARRAY_SUPPORT\x3dvoid 0!\x3d\x3dglobal.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength\x3dBuffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823;Buffer.poolSize\x3d8192;Buffer._augment\x3d\nfunction(arr){arr.__proto__\x3dBuffer.prototype;return arr};Buffer.from\x3dfunction(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};Buffer.TYPED_ARRAY_SUPPORT\x26\x26(Buffer.prototype.__proto__\x3dUint8Array.prototype,Buffer.__proto__\x3dUint8Array,\x22undefined\x22!\x3d\x3dtypeof Symbol\x26\x26Symbol.species\x26\x26Buffer[Symbol.species]\x3d\x3d\x3dBuffer\x26\x26Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0}));Buffer.alloc\x3dfunction(size,fill,encoding){assertSize(size);size\x3d0\x3e\x3dsize?createBuffer(null,\nsize):void 0!\x3d\x3dfill?\x22string\x22\x3d\x3d\x3dtypeof encoding?createBuffer(null,size).fill(fill,encoding):createBuffer(null,size).fill(fill):createBuffer(null,size);return size};Buffer.allocUnsafe\x3dfunction(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow\x3dfunction(size){return allocUnsafe(null,size)};Buffer.isBuffer\x3dfunction(b){return!(null\x3d\x3db||!b._isBuffer)};Buffer.compare\x3dfunction(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError(\x22Arguments must be Buffers\x22);if(a\x3d\x3d\x3db)return 0;for(var x\x3d\na.length,y\x3db.length,i\x3d0,len\x3dMath.min(x,y);i\x3clen;++i)if(a[i]!\x3d\x3db[i]){x\x3da[i];y\x3db[i];break}return x\x3cy?-1:y\x3cx?1:0};Buffer.isEncoding\x3dfunction(encoding){switch(String(encoding).toLowerCase()){case \x22hex\x22:case \x22utf8\x22:case \x22utf-8\x22:case \x22ascii\x22:case \x22latin1\x22:case \x22binary\x22:case \x22base64\x22:case \x22ucs2\x22:case \x22ucs-2\x22:case \x22utf16le\x22:case \x22utf-16le\x22:return!0;default:return!1}};Buffer.concat\x3dfunction(list,length){if(!isArray(list))throw new TypeError(\x27\x22list\x22 argument must be an Array of Buffers\x27);if(0\x3d\x3d\x3dlist.length)return Buffer.alloc(0);\nvar i;if(void 0\x3d\x3d\x3dlength)for(i\x3dlength\x3d0;i\x3clist.length;++i)length+\x3dlist[i].length;length\x3dBuffer.allocUnsafe(length);var pos\x3d0;for(i\x3d0;i\x3clist.length;++i){var buf\x3dlist[i];if(!Buffer.isBuffer(buf))throw new TypeError(\x27\x22list\x22 argument must be an Array of Buffers\x27);buf.copy(length,pos);pos+\x3dbuf.length}return length};Buffer.byteLength\x3dbyteLength$jscomp$0;Buffer.prototype._isBuffer\x3d!0;Buffer.prototype.swap16\x3dfunction(){var len\x3dthis.length;if(0!\x3d\x3dlen%2)throw new RangeError(\x22Buffer size must be a multiple of 16-bits\x22);\nfor(var i\x3d0;i\x3clen;i+\x3d2)swap(this,i,i+1);return this};Buffer.prototype.swap32\x3dfunction(){var len\x3dthis.length;if(0!\x3d\x3dlen%4)throw new RangeError(\x22Buffer size must be a multiple of 32-bits\x22);for(var i\x3d0;i\x3clen;i+\x3d4)swap(this,i,i+3),swap(this,i+1,i+2);return this};Buffer.prototype.swap64\x3dfunction(){var len\x3dthis.length;if(0!\x3d\x3dlen%8)throw new RangeError(\x22Buffer size must be a multiple of 64-bits\x22);for(var i\x3d0;i\x3clen;i+\x3d8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this};\nBuffer.prototype.toString\x3dfunction(){var length\x3dthis.length|0;return 0\x3d\x3d\x3dlength?\x22\x22:0\x3d\x3d\x3darguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)};Buffer.prototype.equals\x3dfunction(b){if(!Buffer.isBuffer(b))throw new TypeError(\x22Argument must be a Buffer\x22);return this\x3d\x3d\x3db?!0:0\x3d\x3d\x3dBuffer.compare(this,b)};Buffer.prototype.inspect\x3dfunction(){var str\x3d\x22\x22,max\x3dexports.INSPECT_MAX_BYTES;0\x3cthis.length\x26\x26(str\x3dthis.toString(\x22hex\x22,0,max).match(/.{2}/g).join(\x22 \x22),this.length\x3emax\x26\x26(str+\x3d\x22 ... \x22));\nreturn\x22\\x3cBuffer \x22+str+\x22\\x3e\x22};Buffer.prototype.compare\x3dfunction(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError(\x22Argument must be a Buffer\x22);void 0\x3d\x3d\x3dstart\x26\x26(start\x3d0);void 0\x3d\x3d\x3dend\x26\x26(end\x3dtarget?target.length:0);void 0\x3d\x3d\x3dthisStart\x26\x26(thisStart\x3d0);void 0\x3d\x3d\x3dthisEnd\x26\x26(thisEnd\x3dthis.length);if(0\x3estart||end\x3etarget.length||0\x3ethisStart||thisEnd\x3ethis.length)throw new RangeError(\x22out of range index\x22);if(thisStart\x3e\x3dthisEnd\x26\x26start\x3e\x3dend)return 0;if(thisStart\x3e\x3dthisEnd)return-1;\nif(start\x3e\x3dend)return 1;start\x3e\x3e\x3e\x3d0;end\x3e\x3e\x3e\x3d0;thisStart\x3e\x3e\x3e\x3d0;thisEnd\x3e\x3e\x3e\x3d0;if(this\x3d\x3d\x3dtarget)return 0;var x\x3dthisEnd-thisStart,y\x3dend-start,len\x3dMath.min(x,y);thisStart\x3dthis.slice(thisStart,thisEnd);target\x3dtarget.slice(start,end);for(start\x3d0;start\x3clen;++start)if(thisStart[start]!\x3d\x3dtarget[start]){x\x3dthisStart[start];y\x3dtarget[start];break}return x\x3cy?-1:y\x3cx?1:0};Buffer.prototype.includes\x3dfunction(val,byteOffset,encoding){return-1!\x3d\x3dthis.indexOf(val,byteOffset,encoding)};Buffer.prototype.indexOf\x3dfunction(val,\nbyteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)};Buffer.prototype.lastIndexOf\x3dfunction(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)};Buffer.prototype.write\x3dfunction(string,offset,length,encoding){if(void 0\x3d\x3d\x3doffset)encoding\x3d\x22utf8\x22,length\x3dthis.length,offset\x3d0;else if(void 0\x3d\x3d\x3dlength\x26\x26\x22string\x22\x3d\x3d\x3dtypeof offset)encoding\x3doffset,length\x3dthis.length,offset\x3d0;else if(isFinite(offset))offset|\x3d0,isFinite(length)?(length|\x3d0,void 0\x3d\x3d\x3dencoding\x26\x26\n(encoding\x3d\x22utf8\x22)):(encoding\x3dlength,length\x3dvoid 0);else throw Error(\x22Buffer.write(string, encoding, offset[, length]) is no longer supported\x22);var remaining\x3dthis.length-offset;if(void 0\x3d\x3d\x3dlength||length\x3eremaining)length\x3dremaining;if(0\x3cstring.length\x26\x26(0\x3elength||0\x3eoffset)||offset\x3ethis.length)throw new RangeError(\x22Attempt to write outside buffer bounds\x22);encoding||(encoding\x3d\x22utf8\x22);for(remaining\x3d!1;;)switch(encoding){case \x22hex\x22:a:{offset\x3dNumber(offset)||0;encoding\x3dthis.length-offset;length?(length\x3dNumber(length),\nlength\x3eencoding\x26\x26(length\x3dencoding)):length\x3dencoding;encoding\x3dstring.length;if(0!\x3d\x3dencoding%2)throw new TypeError(\x22Invalid hex string\x22);length\x3eencoding/2\x26\x26(length\x3dencoding/2);for(encoding\x3d0;encoding\x3clength;++encoding){remaining\x3dparseInt(string.substr(2*encoding,2),16);if(isNaN(remaining)){string\x3dencoding;break a}this[offset+encoding]\x3dremaining}string\x3dencoding}return string;case \x22utf8\x22:case \x22utf-8\x22:return blitBuffer(utf8ToBytes(string,this.length-offset),this,offset,length);case \x22ascii\x22:return blitBuffer(asciiToBytes(string),\nthis,offset,length);case \x22latin1\x22:case \x22binary\x22:return blitBuffer(asciiToBytes(string),this,offset,length);case \x22base64\x22:return blitBuffer(base64.toByteArray(base64clean(string)),this,offset,length);case \x22ucs2\x22:case \x22ucs-2\x22:case \x22utf16le\x22:case \x22utf-16le\x22:encoding\x3dstring;remaining\x3dthis.length-offset;for(var byteArray\x3d[],i\x3d0;i\x3cencoding.length\x26\x26!(0\x3e(remaining-\x3d2));++i){var lo\x3dencoding.charCodeAt(i);string\x3dlo\x3e\x3e8;lo%\x3d256;byteArray.push(lo);byteArray.push(string)}return blitBuffer(byteArray,this,offset,\nlength);default:if(remaining)throw new TypeError(\x22Unknown encoding: \x22+encoding);encoding\x3d(\x22\x22+encoding).toLowerCase();remaining\x3d!0}};Buffer.prototype.toJSON\x3dfunction(){return{type:\x22Buffer\x22,data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH\x3d4096;Buffer.prototype.slice\x3dfunction(start,end){var len\x3dthis.length;start\x3d~~start;end\x3dvoid 0\x3d\x3d\x3dend?len:~~end;0\x3estart?(start+\x3dlen,0\x3estart\x26\x26(start\x3d0)):start\x3elen\x26\x26(start\x3dlen);0\x3eend?(end+\x3dlen,0\x3eend\x26\x26(end\x3d0)):end\x3elen\x26\x26(end\x3dlen);end\x3cstart\x26\x26(end\x3d\nstart);if(Buffer.TYPED_ARRAY_SUPPORT)end\x3dthis.subarray(start,end),end.__proto__\x3dBuffer.prototype;else{len\x3dend-start;end\x3dnew Buffer(len,void 0);for(var i\x3d0;i\x3clen;++i)end[i]\x3dthis[i+start]}return end};Buffer.prototype.readUIntLE\x3dfunction(offset,byteLength,noAssert){offset|\x3d0;byteLength|\x3d0;noAssert||checkOffset(offset,byteLength,this.length);noAssert\x3dthis[offset];for(var mul\x3d1,i\x3d0;++i\x3cbyteLength\x26\x26(mul*\x3d256);)noAssert+\x3dthis[offset+i]*mul;return noAssert};Buffer.prototype.readUIntBE\x3dfunction(offset,byteLength,\nnoAssert){offset|\x3d0;byteLength|\x3d0;noAssert||checkOffset(offset,byteLength,this.length);noAssert\x3dthis[offset+--byteLength];for(var mul\x3d1;0\x3cbyteLength\x26\x26(mul*\x3d256);)noAssert+\x3dthis[offset+--byteLength]*mul;return noAssert};Buffer.prototype.readUInt8\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,2,this.length);return this[offset]|this[offset+1]\x3c\x3c8};Buffer.prototype.readUInt16BE\x3d\nfunction(offset,noAssert){noAssert||checkOffset(offset,2,this.length);return this[offset]\x3c\x3c8|this[offset+1]};Buffer.prototype.readUInt32LE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]\x3c\x3c8|this[offset+2]\x3c\x3c16)+16777216*this[offset+3]};Buffer.prototype.readUInt32BE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,4,this.length);return 16777216*this[offset]+(this[offset+1]\x3c\x3c16|this[offset+2]\x3c\x3c8|this[offset+3])};Buffer.prototype.readIntLE\x3d\nfunction(offset,byteLength,noAssert){offset|\x3d0;byteLength|\x3d0;noAssert||checkOffset(offset,byteLength,this.length);noAssert\x3dthis[offset];for(var mul\x3d1,i\x3d0;++i\x3cbyteLength\x26\x26(mul*\x3d256);)noAssert+\x3dthis[offset+i]*mul;noAssert\x3e\x3d128*mul\x26\x26(noAssert-\x3dMath.pow(2,8*byteLength));return noAssert};Buffer.prototype.readIntBE\x3dfunction(offset,byteLength,noAssert){offset|\x3d0;byteLength|\x3d0;noAssert||checkOffset(offset,byteLength,this.length);noAssert\x3dbyteLength;for(var mul\x3d1,val\x3dthis[offset+--noAssert];0\x3cnoAssert\x26\x26(mul*\x3d\n256);)val+\x3dthis[offset+--noAssert]*mul;val\x3e\x3d128*mul\x26\x26(val-\x3dMath.pow(2,8*byteLength));return val};Buffer.prototype.readInt8\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,1,this.length);return this[offset]\x26128?-1*(255-this[offset]+1):this[offset]};Buffer.prototype.readInt16LE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,2,this.length);offset\x3dthis[offset]|this[offset+1]\x3c\x3c8;return offset\x2632768?offset|4294901760:offset};Buffer.prototype.readInt16BE\x3dfunction(offset,noAssert){noAssert||\ncheckOffset(offset,2,this.length);offset\x3dthis[offset+1]|this[offset]\x3c\x3c8;return offset\x2632768?offset|4294901760:offset};Buffer.prototype.readInt32LE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,4,this.length);return this[offset]|this[offset+1]\x3c\x3c8|this[offset+2]\x3c\x3c16|this[offset+3]\x3c\x3c24};Buffer.prototype.readInt32BE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,4,this.length);return this[offset]\x3c\x3c24|this[offset+1]\x3c\x3c16|this[offset+2]\x3c\x3c8|this[offset+3]};Buffer.prototype.readFloatLE\x3dfunction(offset,\nnoAssert){noAssert||checkOffset(offset,4,this.length);return ieee754.read(this,offset,!0,23,4)};Buffer.prototype.readFloatBE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,4,this.length);return ieee754.read(this,offset,!1,23,4)};Buffer.prototype.readDoubleLE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,8,this.length);return ieee754.read(this,offset,!0,52,8)};Buffer.prototype.readDoubleBE\x3dfunction(offset,noAssert){noAssert||checkOffset(offset,8,this.length);return ieee754.read(this,\noffset,!1,52,8)};Buffer.prototype.writeUIntLE\x3dfunction(value,offset,byteLength,noAssert){value\x3d+value;offset|\x3d0;byteLength|\x3d0;noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);noAssert\x3d1;var i\x3d0;for(this[offset]\x3dvalue\x26255;++i\x3cbyteLength\x26\x26(noAssert*\x3d256);)this[offset+i]\x3dvalue/noAssert\x26255;return offset+byteLength};Buffer.prototype.writeUIntBE\x3dfunction(value,offset,byteLength,noAssert){value\x3d+value;offset|\x3d0;byteLength|\x3d0;noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,\n8*byteLength)-1,0);noAssert\x3dbyteLength-1;var mul\x3d1;for(this[offset+noAssert]\x3dvalue\x26255;0\x3c\x3d--noAssert\x26\x26(mul*\x3d256);)this[offset+noAssert]\x3dvalue/mul\x26255;return offset+byteLength};Buffer.prototype.writeUInt8\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,value,offset,1,255,0);Buffer.TYPED_ARRAY_SUPPORT||(value\x3dMath.floor(value));this[offset]\x3dvalue\x26255;return offset+1};Buffer.prototype.writeUInt16LE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,\nvalue,offset,2,65535,0);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x26255,this[offset+1]\x3dvalue\x3e\x3e\x3e8):objectWriteUInt16(this,value,offset,!0);return offset+2};Buffer.prototype.writeUInt16BE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,value,offset,2,65535,0);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x3e\x3e\x3e8,this[offset+1]\x3dvalue\x26255):objectWriteUInt16(this,value,offset,!1);return offset+2};Buffer.prototype.writeUInt32LE\x3dfunction(value,offset,noAssert){value\x3d+value;\noffset|\x3d0;noAssert||checkInt(this,value,offset,4,4294967295,0);Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]\x3dvalue\x3e\x3e\x3e24,this[offset+2]\x3dvalue\x3e\x3e\x3e16,this[offset+1]\x3dvalue\x3e\x3e\x3e8,this[offset]\x3dvalue\x26255):objectWriteUInt32(this,value,offset,!0);return offset+4};Buffer.prototype.writeUInt32BE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,value,offset,4,4294967295,0);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x3e\x3e\x3e24,this[offset+1]\x3dvalue\x3e\x3e\x3e16,this[offset+2]\x3dvalue\x3e\x3e\x3e8,this[offset+\n3]\x3dvalue\x26255):objectWriteUInt32(this,value,offset,!1);return offset+4};Buffer.prototype.writeIntLE\x3dfunction(value,offset,byteLength,noAssert){value\x3d+value;offset|\x3d0;noAssert||(noAssert\x3dMath.pow(2,8*byteLength-1),checkInt(this,value,offset,byteLength,noAssert-1,-noAssert));noAssert\x3d0;var mul\x3d1,sub\x3d0;for(this[offset]\x3dvalue\x26255;++noAssert\x3cbyteLength\x26\x26(mul*\x3d256);)0\x3evalue\x26\x260\x3d\x3d\x3dsub\x26\x260!\x3d\x3dthis[offset+noAssert-1]\x26\x26(sub\x3d1),this[offset+noAssert]\x3d(value/mul\x3e\x3e0)-sub\x26255;return offset+byteLength};Buffer.prototype.writeIntBE\x3d\nfunction(value,offset,byteLength,noAssert){value\x3d+value;offset|\x3d0;noAssert||(noAssert\x3dMath.pow(2,8*byteLength-1),checkInt(this,value,offset,byteLength,noAssert-1,-noAssert));noAssert\x3dbyteLength-1;var mul\x3d1,sub\x3d0;for(this[offset+noAssert]\x3dvalue\x26255;0\x3c\x3d--noAssert\x26\x26(mul*\x3d256);)0\x3evalue\x26\x260\x3d\x3d\x3dsub\x26\x260!\x3d\x3dthis[offset+noAssert+1]\x26\x26(sub\x3d1),this[offset+noAssert]\x3d(value/mul\x3e\x3e0)-sub\x26255;return offset+byteLength};Buffer.prototype.writeInt8\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,\nvalue,offset,1,127,-128);Buffer.TYPED_ARRAY_SUPPORT||(value\x3dMath.floor(value));0\x3evalue\x26\x26(value\x3d255+value+1);this[offset]\x3dvalue\x26255;return offset+1};Buffer.prototype.writeInt16LE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,value,offset,2,32767,-32768);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x26255,this[offset+1]\x3dvalue\x3e\x3e\x3e8):objectWriteUInt16(this,value,offset,!0);return offset+2};Buffer.prototype.writeInt16BE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d\n0;noAssert||checkInt(this,value,offset,2,32767,-32768);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x3e\x3e\x3e8,this[offset+1]\x3dvalue\x26255):objectWriteUInt16(this,value,offset,!1);return offset+2};Buffer.prototype.writeInt32LE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,value,offset,4,2147483647,-2147483648);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x26255,this[offset+1]\x3dvalue\x3e\x3e\x3e8,this[offset+2]\x3dvalue\x3e\x3e\x3e16,this[offset+3]\x3dvalue\x3e\x3e\x3e24):objectWriteUInt32(this,value,offset,\n!0);return offset+4};Buffer.prototype.writeInt32BE\x3dfunction(value,offset,noAssert){value\x3d+value;offset|\x3d0;noAssert||checkInt(this,value,offset,4,2147483647,-2147483648);0\x3evalue\x26\x26(value\x3d4294967295+value+1);Buffer.TYPED_ARRAY_SUPPORT?(this[offset]\x3dvalue\x3e\x3e\x3e24,this[offset+1]\x3dvalue\x3e\x3e\x3e16,this[offset+2]\x3dvalue\x3e\x3e\x3e8,this[offset+3]\x3dvalue\x26255):objectWriteUInt32(this,value,offset,!1);return offset+4};Buffer.prototype.writeFloatLE\x3dfunction(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)};\nBuffer.prototype.writeFloatBE\x3dfunction(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)};Buffer.prototype.writeDoubleLE\x3dfunction(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)};Buffer.prototype.writeDoubleBE\x3dfunction(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)};Buffer.prototype.copy\x3dfunction(target,targetStart,start,end){start||(start\x3d0);end||0\x3d\x3d\x3dend||(end\x3dthis.length);targetStart\x3e\x3dtarget.length\x26\x26(targetStart\x3dtarget.length);\ntargetStart||(targetStart\x3d0);0\x3cend\x26\x26end\x3cstart\x26\x26(end\x3dstart);if(end\x3d\x3d\x3dstart||0\x3d\x3d\x3dtarget.length||0\x3d\x3d\x3dthis.length)return 0;if(0\x3etargetStart)throw new RangeError(\x22targetStart out of bounds\x22);if(0\x3estart||start\x3e\x3dthis.length)throw new RangeError(\x22sourceStart out of bounds\x22);if(0\x3eend)throw new RangeError(\x22sourceEnd out of bounds\x22);end\x3ethis.length\x26\x26(end\x3dthis.length);target.length-targetStart\x3cend-start\x26\x26(end\x3dtarget.length-targetStart+start);var len\x3dend-start;if(this\x3d\x3d\x3dtarget\x26\x26start\x3ctargetStart\x26\x26targetStart\x3c\nend)for(end\x3dlen-1;0\x3c\x3dend;--end)target[end+targetStart]\x3dthis[end+start];else if(1E3\x3elen||!Buffer.TYPED_ARRAY_SUPPORT)for(end\x3d0;end\x3clen;++end)target[end+targetStart]\x3dthis[end+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len};Buffer.prototype.fill\x3dfunction(val,start,end,encoding){if(\x22string\x22\x3d\x3d\x3dtypeof val){\x22string\x22\x3d\x3d\x3dtypeof start?(encoding\x3dstart,start\x3d0,end\x3dthis.length):\x22string\x22\x3d\x3d\x3dtypeof end\x26\x26(encoding\x3dend,end\x3dthis.length);if(1\x3d\x3d\x3dval.length){var code\x3d\nval.charCodeAt(0);256\x3ecode\x26\x26(val\x3dcode)}if(void 0!\x3d\x3dencoding\x26\x26\x22string\x22!\x3d\x3dtypeof encoding)throw new TypeError(\x22encoding must be a string\x22);if(\x22string\x22\x3d\x3d\x3dtypeof encoding\x26\x26!Buffer.isEncoding(encoding))throw new TypeError(\x22Unknown encoding: \x22+encoding);}else\x22number\x22\x3d\x3d\x3dtypeof val\x26\x26(val\x26\x3d255);if(0\x3estart||this.length\x3cstart||this.length\x3cend)throw new RangeError(\x22Out of range index\x22);if(end\x3c\x3dstart)return this;start\x3e\x3e\x3e\x3d0;end\x3dvoid 0\x3d\x3d\x3dend?this.length:end\x3e\x3e\x3e0;val||(val\x3d0);if(\x22number\x22\x3d\x3d\x3dtypeof val)for(encoding\x3d\nstart;encoding\x3cend;++encoding)this[encoding]\x3dval;else for(val\x3dBuffer.isBuffer(val)?val:utf8ToBytes((new Buffer(val,encoding)).toString()),code\x3dval.length,encoding\x3d0;encoding\x3cend-start;++encoding)this[encoding+start]\x3dval[encoding%code];return this};var INVALID_BASE64_RE\x3d/[^+\\/0-9A-Za-z-_]/g}");
SHADOW_ENV.evalLoad("module$node_modules$vega_lite$build$vega_lite.js", true , "shadow$provide.module$node_modules$vega_lite$build$vega_lite\x3dfunction(global$jscomp$0,require,module$jscomp$0,exports$jscomp$0){var Buffer\x3drequire(\x22module$node_modules$buffer$index\x22).Buffer;(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module$jscomp$0?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vegaLite\x3d{}))})(this,function(exports){function accessor(fn,\nfields,name){fn.fields\x3dfields||[];fn.fname\x3dname;return fn}function getter(path){return 1\x3d\x3d\x3dpath.length?get1(path[0]):getN(path)}function splitAccessPath(p){function push(){path.push(s+p.substring(i,j));s\x3d\x22\x22;i\x3dj+1}var path\x3d[],n\x3dp.length,q\x3dnull,b\x3d0,s\x3d\x22\x22,i,j;p+\x3d\x22\x22;for(i\x3dj\x3d0;j\x3cn;++j){var c\x3dp[j];if(\x22\\\\\x22\x3d\x3d\x3dc)s+\x3dp.substring(i,j),s+\x3dp.substring(++j,++j),i\x3dj;else if(c\x3d\x3d\x3dq)push(),q\x3dnull,b\x3d-1;else if(!q)if(i\x3d\x3d\x3db\x26\x26\x27\x22\x27\x3d\x3d\x3dc)i\x3dj+1,q\x3dc;else if(i\x3d\x3d\x3db\x26\x26\x22\x27\x22\x3d\x3d\x3dc)i\x3dj+1,q\x3dc;else if(\x22.\x22\x3d\x3d\x3dc\x26\x26!b)j\x3ei?push():i\x3dj+1;else if(\x22[\x22\x3d\x3d\x3d\nc)j\x3ei\x26\x26push(),b\x3di\x3dj+1;else if(\x22]\x22\x3d\x3d\x3dc){if(!b)throw Error(\x22Access path missing open bracket: \x22+p);0\x3cb\x26\x26push();b\x3d0;i\x3dj+1}}if(b)throw Error(\x22Access path missing closing bracket: \x22+p);if(q)throw Error(\x22Access path missing closing quote: \x22+p);j\x3ei\x26\x26(j++,push());return path}function log(method,level,input){level\x3d[level].concat([].slice.call(input));console[method].apply(console,level)}function isObject(_){return _\x3d\x3d\x3dObject(_)}function mergeConfig(configs){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d\n0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];return $jscomp$restParams.reduce(function(out,source){for(var key in source)\x22signals\x22\x3d\x3d\x3dkey?out.signals\x3dmergeNamed(out.signals,source.signals):writeConfig(out,key,source[key],\x22legend\x22\x3d\x3d\x3dkey?{layout:1}:\x22style\x22\x3d\x3d\x3dkey?!0:null);return out},{})}function writeConfig(output,key,value,recurse){if(\x22__proto__\x22!\x3d\x3dkey){var k;if(isObject(value)\x26\x26!isArray(value))for(k in output\x3disObject(output[key])?\noutput[key]:output[key]\x3d{},value)recurse\x26\x26(!0\x3d\x3d\x3drecurse||recurse[k])?writeConfig(output,k,value[k]):\x22__proto__\x22!\x3d\x3dk\x26\x26(output[k]\x3dvalue[k]);else output[key]\x3dvalue}}function mergeNamed(a,b){function add(_){map[_.name]||(map[_.name]\x3d1,out.push(_))}if(null\x3d\x3da)return b;var map\x3d{},out\x3d[];b.forEach(add);a.forEach(add);return out}function array$jscomp$0(_){return null!\x3d_?isArray(_)?_:[_]:[]}function isBoolean(_){return\x22boolean\x22\x3d\x3d\x3dtypeof _}function isNumber(_){return\x22number\x22\x3d\x3d\x3dtypeof _}function isString(_){return\x22string\x22\x3d\x3d\x3d\ntypeof _}function $(x){return isArray(x)?\x22[\x22+x.map($)+\x22]\x22:isObject(x)||isString(x)?JSON.stringify(x).replace(\x22\\u2028\x22,\x22\\\\u2028\x22).replace(\x22\\u2029\x22,\x22\\\\u2029\x22):x}function toSet(_){for(var s\x3d{},n\x3d_.length,i\x3d0;i\x3cn;++i)s[_[i]]\x3d!0;return s}function __rest(s,e){var t\x3d{},p;for(p in s)Object.prototype.hasOwnProperty.call(s,p)\x26\x260\x3ee.indexOf(p)\x26\x26(t[p]\x3ds[p]);if(null!\x3ds\x26\x26\x22function\x22\x3d\x3d\x3dtypeof Object.getOwnPropertySymbols){var i\x3d0;for(p\x3dObject.getOwnPropertySymbols(s);i\x3cp.length;i++)0\x3ee.indexOf(p[i])\x26\x26Object.prototype.propertyIsEnumerable.call(s,\np[i])\x26\x26(t[p[i]]\x3ds[p[i]])}return t}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError(\x22attempted to set private field on non-instance\x22);privateMap.set(receiver,value);return value}function forEachLeaf(op,fn){if(op.not)forEachLeaf(op.not,fn);else if(op.and){var $jscomp$iter$56\x3d$jscomp.makeIterator(op.and);for(op\x3d$jscomp$iter$56.next();!op.done;op\x3d$jscomp$iter$56.next())forEachLeaf(op.value,fn)}else if(op.or)for($jscomp$iter$56\x3d$jscomp.makeIterator(op.or),\nop\x3d$jscomp$iter$56.next();!op.done;op\x3d$jscomp$iter$56.next())forEachLeaf(op.value,fn);else fn(op)}function normalizeLogicalComposition(op,normalizer){return op.not?{not:normalizeLogicalComposition(op.not,normalizer)}:op.and?{and:op.and.map(function(o){return normalizeLogicalComposition(o,normalizer)})}:op.or?{or:op.or.map(function(o){return normalizeLogicalComposition(o,normalizer)})}:normalizer(op)}function pick(obj,props){var copy\x3d{};props\x3d$jscomp.makeIterator(props);for(var $jscomp$key$prop\x3dprops.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d\nprops.next())$jscomp$key$prop\x3d$jscomp$key$prop.value,hop.call(obj,$jscomp$key$prop)\x26\x26(copy[$jscomp$key$prop]\x3dobj[$jscomp$key$prop]);return copy}function omit(obj,props){obj\x3dObject.assign({},obj);props\x3d$jscomp.makeIterator(props);for(var $jscomp$key$prop\x3dprops.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3dprops.next())delete obj[$jscomp$key$prop.value];return obj}function hash(a){if(isNumber(a))return a;a\x3disString(a)?a:fastJsonStableStringify(a);if(250\x3ea.length)return a;for(var h\x3d0,i\x3d0;i\x3ca.length;i++){var char\x3d\na.charCodeAt(i);h\x3d(h\x3c\x3c5)-h+char;h\x26\x3dh}return h}function isNullOrFalse(x){return!1\x3d\x3d\x3dx||null\x3d\x3d\x3dx}function contains(array,item){return-1\x3carray.indexOf(item)}function some(arr,f){var i\x3d0;arr\x3d$jscomp.makeIterator(arr.entries());for(var $jscomp$key$\x3darr.next();!$jscomp$key$.done;$jscomp$key$\x3darr.next()){var $jscomp$destructuring$var1\x3d$jscomp.makeIterator($jscomp$key$.value);$jscomp$key$\x3d$jscomp$destructuring$var1.next().value;$jscomp$destructuring$var1\x3d$jscomp$destructuring$var1.next().value;if(f($jscomp$destructuring$var1,\n$jscomp$key$,i++))return!0}return!1}function every(arr,f){var i\x3d0;arr\x3d$jscomp.makeIterator(arr.entries());for(var $jscomp$key$\x3darr.next();!$jscomp$key$.done;$jscomp$key$\x3darr.next()){var $jscomp$destructuring$var3\x3d$jscomp.makeIterator($jscomp$key$.value);$jscomp$key$\x3d$jscomp$destructuring$var3.next().value;$jscomp$destructuring$var3\x3d$jscomp$destructuring$var3.next().value;if(!f($jscomp$destructuring$var3,$jscomp$key$,i++))return!1}return!0}function mergeDeep(dest,src){for(var $jscomp$restParams\x3d[],\n$jscomp$restIndex\x3d1;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-1]\x3darguments[$jscomp$restIndex];$jscomp$restParams\x3d$jscomp.makeIterator($jscomp$restParams);for($jscomp$restIndex\x3d$jscomp$restParams.next();!$jscomp$restIndex.done;$jscomp$restIndex\x3d$jscomp$restParams.next()){var s\x3d$jscomp$restIndex.value;$jscomp$restIndex\x3ddest;s\x3dnull!\x3d\x3ds\x26\x26void 0!\x3d\x3ds?s:{};for(var $jscomp$inline_989\x3d$jscomp.makeIterator(keys(s)),$jscomp$inline_990\x3d$jscomp$inline_989.next();!$jscomp$inline_990.done;$jscomp$inline_990\x3d\n$jscomp$inline_989.next())$jscomp$inline_990\x3d$jscomp$inline_990.value,writeConfig($jscomp$restIndex,$jscomp$inline_990,s[$jscomp$inline_990],!0)}return dest}function unique(values,f){var results\x3d[],u\x3d{},v;values\x3d$jscomp.makeIterator(values);for(v\x3dvalues.next();!v.done;v\x3dvalues.next()){var val\x3dv.value;v\x3df(val);v in u||(u[v]\x3d1,results.push(val))}return results}function hasIntersection(a,b){a\x3d$jscomp.makeIterator(a);for(var $jscomp$key$key\x3da.next();!$jscomp$key$key.done;$jscomp$key$key\x3da.next())if(b.has($jscomp$key$key.value))return!0;\nreturn!1}function prefixGenerator(a){var prefixes\x3dnew Set,$jscomp$loop$606\x3d{};a\x3d$jscomp.makeIterator(a);for(var $jscomp$key$x\x3da.next();!$jscomp$key$x.done;$jscomp$loop$606\x3d{$jscomp$loop$prop$wrappedWithAccessors$607:$jscomp$loop$606.$jscomp$loop$prop$wrappedWithAccessors$607},$jscomp$key$x\x3da.next()){$jscomp$key$x\x3dsplitAccessPath($jscomp$key$x.value);$jscomp$loop$606.$jscomp$loop$prop$wrappedWithAccessors$607\x3d$jscomp$key$x.map(function(y,i){return 0\x3d\x3d\x3di?y:\x22[\x22+y+\x22]\x22});$jscomp$key$x\x3d$jscomp$loop$606.$jscomp$loop$prop$wrappedWithAccessors$607.map(function($jscomp$loop$606){return function(_,\ni){return $jscomp$loop$606.$jscomp$loop$prop$wrappedWithAccessors$607.slice(0,i+1).join(\x22\x22)}}($jscomp$loop$606));$jscomp$key$x\x3d$jscomp.makeIterator($jscomp$key$x);for(var $jscomp$key$y\x3d$jscomp$key$x.next();!$jscomp$key$y.done;$jscomp$key$y\x3d$jscomp$key$x.next())prefixes.add($jscomp$key$y.value)}return prefixes}function fieldIntersection(a,b){return void 0\x3d\x3d\x3da||void 0\x3d\x3d\x3db?!0:hasIntersection(prefixGenerator(a),prefixGenerator(b))}function isEmpty(obj){return 0\x3d\x3d\x3dkeys(obj).length}function varName(s){var alphanumericS\x3d\ns.replace(/\\W/g,\x22_\x22);return(s.match(/^\\d+/)?\x22_\x22:\x22\x22)+alphanumericS}function logicalExpr(op,cb){return op.not?\x22!(\x22+logicalExpr(op.not,cb)+\x22)\x22:op.and?\x22(\x22+op.and.map(function(and){return logicalExpr(and,cb)}).join(\x22) \\x26\\x26 (\x22)+\x22)\x22:op.or?\x22(\x22+op.or.map(function(or){return logicalExpr(or,cb)}).join(\x22) || (\x22)+\x22)\x22:cb(op)}function deleteNestedProperty(obj,orderedProps){if(0\x3d\x3d\x3dorderedProps.length)return!0;var prop\x3dorderedProps.shift();prop in obj\x26\x26deleteNestedProperty(obj[prop],orderedProps)\x26\x26delete obj[prop];\nreturn isEmpty(obj)}function titleCase(s){return s.charAt(0).toUpperCase()+s.substr(1)}function accessPathWithDatum(path,datum){datum\x3dvoid 0\x3d\x3d\x3ddatum?\x22datum\x22:datum;path\x3dsplitAccessPath(path);for(var prefixes\x3d[],i\x3d1;i\x3c\x3dpath.length;i++){var prefix\x3d\x22[\x22+path.slice(0,i).map($).join(\x22][\x22)+\x22]\x22;prefixes.push(\x22\x22+datum+prefix)}return prefixes.join(\x22 \\x26\\x26 \x22)}function escapePathAccess(string){return string.replace(/(\\[|\\]|\\.|\x27|\x22)/g,\x22\\\\$1\x22)}function replacePathInField(path){return\x22\x22+splitAccessPath(path).map(escapePathAccess).join(\x22\\\\.\x22)}\nfunction replaceAll(string,find,replacement){return string.replace(new RegExp(find.replace(/[-/\\\\^$*+?.()|[\\]{}]/g,\x22\\\\$\\x26\x22),\x22g\x22),replacement)}function accessPathDepth(path){return path?splitAccessPath(path).length:0}function getFirstDefined(args){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];$jscomp$restParams\x3d$jscomp.makeIterator($jscomp$restParams);for($jscomp$restIndex\x3d\n$jscomp$restParams.next();!$jscomp$restIndex.done;$jscomp$restIndex\x3d$jscomp$restParams.next())if($jscomp$restIndex\x3d$jscomp$restIndex.value,void 0!\x3d\x3d$jscomp$restIndex)return $jscomp$restIndex}function normalizeAngle(angle){if(void 0!\x3d\x3dangle)return(angle%360+360)%360}function isNumeric(value){return isNumber(value)?!0:!isNaN(value)\x26\x26!isNaN(parseFloat(value))}function isConditionalAxisValue(v){return v\x26\x26v.condition}function isPathMark(m){return contains([\x22line\x22,\x22area\x22,\x22trail\x22],m)}function isMarkDef(mark){return mark.type}\nfunction isUnitSpec(spec){return\x22mark\x22in spec}function isArgminDef(a){return!!a\x26\x26!!a.argmin}function isArgmaxDef(a){return!!a\x26\x26!!a.argmax}function isAggregateOp(a){return isString(a)\x26\x26!!AGGREGATE_OP_INDEX[a]}function getPositionChannelFromLatLong(channel){switch(channel){case \x22latitude\x22:return\x22y\x22;case \x22latitude2\x22:return\x22y2\x22;case \x22longitude\x22:return\x22x\x22;case \x22longitude2\x22:return\x22x2\x22}}function isColorChannel(channel){return\x22color\x22\x3d\x3d\x3dchannel||\x22fill\x22\x3d\x3d\x3dchannel||\x22stroke\x22\x3d\x3d\x3dchannel}function isSecondaryRangeChannel(c){return getMainRangeChannel(c)!\x3d\x3d\nc}function getMainRangeChannel(channel){switch(channel){case \x22x2\x22:return\x22x\x22;case \x22y2\x22:return\x22y\x22;case \x22latitude2\x22:return\x22latitude\x22;case \x22longitude2\x22:return\x22longitude\x22;case \x22theta2\x22:return\x22theta\x22;case \x22radius2\x22:return\x22radius\x22}return channel}function getVgPositionChannel(channel){if(channel in POLAR_POSITION_CHANNEL_INDEX)switch(channel){case \x22theta\x22:return\x22startAngle\x22;case \x22theta2\x22:return\x22endAngle\x22;case \x22radius\x22:return\x22outerRadius\x22;case \x22radius2\x22:return\x22innerRadius\x22}return channel}function getSecondaryRangeChannel(channel){switch(channel){case \x22x\x22:return\x22x2\x22;\ncase \x22y\x22:return\x22y2\x22;case \x22latitude\x22:return\x22latitude2\x22;case \x22longitude\x22:return\x22longitude2\x22;case \x22theta\x22:return\x22theta2\x22;case \x22radius\x22:return\x22radius2\x22}}function getSizeChannel(channel){switch(channel){case \x22x\x22:case \x22x2\x22:return\x22width\x22;case \x22y\x22:case \x22y2\x22:return\x22height\x22}}function getOffsetChannel(channel){switch(channel){case \x22x\x22:return\x22xOffset\x22;case \x22y\x22:return\x22yOffset\x22;case \x22x2\x22:return\x22x2Offset\x22;case \x22y2\x22:return\x22y2Offset\x22;case \x22theta\x22:return\x22thetaOffset\x22;case \x22radius\x22:return\x22radiusOffset\x22;case \x22theta2\x22:return\x22theta2Offset\x22;\ncase \x22radius2\x22:return\x22radius2Offset\x22}}function getPositionScaleChannel(sizeType){return\x22width\x22\x3d\x3d\x3dsizeType?\x22x\x22:\x22y\x22}function getSupportedMark(channel){switch(channel){case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:case \x22description\x22:case \x22detail\x22:case \x22key\x22:case \x22tooltip\x22:case \x22href\x22:case \x22order\x22:case \x22opacity\x22:case \x22fillOpacity\x22:case \x22strokeOpacity\x22:case \x22strokeWidth\x22:case \x22facet\x22:case \x22row\x22:case \x22column\x22:return ALL_MARKS;case \x22x\x22:case \x22y\x22:case \x22latitude\x22:case \x22longitude\x22:return ALL_MARKS_EXCEPT_GEOSHAPE;\ncase \x22x2\x22:case \x22y2\x22:case \x22latitude2\x22:case \x22longitude2\x22:return{area:\x22always\x22,bar:\x22always\x22,image:\x22always\x22,rect:\x22always\x22,rule:\x22always\x22,circle:\x22binned\x22,point:\x22binned\x22,square:\x22binned\x22,tick:\x22binned\x22,line:\x22binned\x22,trail:\x22binned\x22};case \x22size\x22:return{point:\x22always\x22,tick:\x22always\x22,rule:\x22always\x22,circle:\x22always\x22,square:\x22always\x22,bar:\x22always\x22,text:\x22always\x22,line:\x22always\x22,trail:\x22always\x22};case \x22strokeDash\x22:return{line:\x22always\x22,point:\x22always\x22,tick:\x22always\x22,rule:\x22always\x22,circle:\x22always\x22,square:\x22always\x22,bar:\x22always\x22,\ngeoshape:\x22always\x22};case \x22shape\x22:return{point:\x22always\x22,geoshape:\x22always\x22};case \x22text\x22:return{text:\x22always\x22};case \x22angle\x22:return{point:\x22always\x22,square:\x22always\x22,text:\x22always\x22};case \x22url\x22:return{image:\x22always\x22};case \x22theta\x22:return{text:\x22always\x22,arc:\x22always\x22};case \x22radius\x22:return{text:\x22always\x22,arc:\x22always\x22};case \x22theta2\x22:case \x22radius2\x22:return{arc:\x22always\x22}}}function rangeType(channel){switch(channel){case \x22facet\x22:case \x22row\x22:case \x22column\x22:case \x22shape\x22:case \x22strokeDash\x22:case \x22text\x22:case \x22tooltip\x22:case \x22href\x22:case \x22url\x22:case \x22description\x22:return\x22discrete\x22;\ncase \x22color\x22:case \x22fill\x22:case \x22stroke\x22:return\x22flexible\x22}}function binToString(bin){isBoolean(bin)\x26\x26(bin\x3dnormalizeBin(bin,void 0));return\x22bin\x22+keys(bin).map(function(p){return isSelectionExtent(bin[p])?varName(\x22_\x22+p+\x22_\x22+entries(bin[p])):varName(\x22_\x22+p+\x22_\x22+bin[p])}).join(\x22\x22)}function isBinning(bin){return!0\x3d\x3d\x3dbin||isObject(bin)\x26\x26!bin.binned}function isBinned(bin){return\x22binned\x22\x3d\x3d\x3dbin||isObject(bin)\x26\x26!0\x3d\x3d\x3dbin.binned}function isSelectionExtent(extent){return null\x3d\x3d\x3dextent||void 0\x3d\x3d\x3dextent?void 0:extent.selection}\nfunction autoMaxBins(channel){switch(channel){case \x22row\x22:case \x22column\x22:case \x22size\x22:case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:case \x22strokeWidth\x22:case \x22opacity\x22:case \x22fillOpacity\x22:case \x22strokeOpacity\x22:case \x22shape\x22:return 6;case \x22strokeDash\x22:return 4;default:return 10}}function invalidSpec(spec){return\x22Invalid specification \x22+JSON.stringify(spec)+\x27. Make sure the specification includes at least one of the following properties: \x22mark\x22, \x22layer\x22, \x22facet\x22, \x22hconcat\x22, \x22vconcat\x22, \x22concat\x22, or \x22repeat\x22.\x27}function containerSizeNonSingle(name){return(\x22width\x22\x3d\x3d\nname?\x22Width\x22:\x22Height\x22)+\x27 \x22container\x22 only works for single views and layered views.\x27}function containerSizeNotCompatibleWithAutosize(name){return(\x22width\x22\x3d\x3dname?\x22Width\x22:\x22Height\x22)+\x27 \x22container\x22 only works well with autosize \x22fit\x22 or \x22fit-\x27+(\x22width\x22\x3d\x3dname?\x22x\x22:\x22y\x22)+\x27\x22.\x27}function droppingFit(channel){return channel?\x27Dropping \x22fit-\x27+channel+\x27\x22 because spec has discrete \x27+getSizeChannel(channel)+\x22.\x22:\x27Dropping \x22fit\x22 because spec has discrete size.\x27}function unknownField(channel){return\x22Unknown field for \x22+\nchannel+\x22. Cannot calculate view size.\x22}function cannotProjectOnChannelWithoutField(channel){return\x27Cannot project a selection on encoding channel \x22\x27+channel+\x27\x22, which has no field.\x27}function selectionNotSupported(mark){return\x22Selection not supported for \x22+mark+\x22 yet.\x22}function columnsNotSupportByRowCol(type){return\x27The \x22columns\x22 property cannot be used when \x22\x27+type+\x27\x22 has nested row/column.\x27}function differentParse(field,local,ancestor){return\x27An ancestor parsed field \x22\x27+field+\x27\x22 as \x27+ancestor+\x22 but a child wants to parse the field as \x22+\nlocal+\x22.\x22}function customFormatTypeNotAllowed(channel){return\x22Config.customFormatTypes is not true, thus custom format type and format for channel \x22+channel+\x22 are dropped.\x22}function droppingColor(type,opt){var fill\x3dopt.fill;opt\x3dopt.stroke;return\x22Dropping color \x22+type+\x22 as the plot also has \x22+(fill\x26\x26opt?\x22fill and stroke\x22:fill?\x22fill\x22:\x22stroke\x22)+\x22.\x22}function emptyFieldDef(fieldDef,channel){return\x22Dropping \x22+stringify(fieldDef)+\x27 from channel \x22\x27+channel+\x27\x22 since it does not contain any data field, datum, value, or signal.\x27}\nfunction incompatibleChannel(channel,markOrFacet,when){return channel+\x27 dropped as it is incompatible with \x22\x27+markOrFacet+\x27\x22\x27+(when?\x22 when \x22+when:\x22\x22)+\x22.\x22}function discreteChannelCannotEncode(channel,type){return\x27Using discrete channel \x22\x27+channel+\x27\x22 to encode \x22\x27+type+\x27\x22 field can be misleading as it does not encode \x27+(\x22ordinal\x22\x3d\x3d\x3dtype?\x22order\x22:\x22magnitude\x22)+\x22.\x22}function scalePropertyNotWorkWithScaleType(scaleType,propName,channel){return channel+\x22-scale\x27s \\\x22\x22+propName+\x27\x22 is dropped as it does not work with \x27+\nscaleType+\x22 scale.\x22}function stepDropped(channel){return\x27The step for \x22\x27+channel+\x27\x22 is dropped because the \x27+(\x22width\x22\x3d\x3d\x3dchannel?\x22x\x22:\x22y\x22)+\x22 is continuous.\x22}function invalidTimeUnit(unitName,value){return\x22Invalid \x22+unitName+\x22: \x22+stringify(value)+\x22.\x22}function errorBand1DNotSupport(property){return\x221D error band does not support \x22+property+\x22.\x22}function channelRequiredForBinned(channel){return\x22Channel \x22+channel+\x27 is required for \x22binned\x22 bin.\x27}function warn(args){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d\n0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];current.warn.apply(current,$jscomp.arrayFromIterable($jscomp$restParams))}function debug(args){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];current.debug.apply(current,$jscomp.arrayFromIterable($jscomp$restParams))}function isDateTime(o){if(o\x26\x26isObject(o))for(var $jscomp$iter$70\x3d\n$jscomp.makeIterator(TIMEUNIT_PARTS),$jscomp$key$part\x3d$jscomp$iter$70.next();!$jscomp$key$part.done;$jscomp$key$part\x3d$jscomp$iter$70.next())if($jscomp$key$part.value in o)return!0;return!1}function normalizeMonth(m){isNumeric(m)\x26\x26(m\x3d+m);if(isNumber(m))return m-1;var lowerM\x3dm.toLowerCase(),monthIndex\x3dMONTHS.indexOf(lowerM);if(-1!\x3d\x3dmonthIndex)return monthIndex;lowerM\x3dlowerM.substr(0,3);lowerM\x3dSHORT_MONTHS.indexOf(lowerM);if(-1!\x3d\x3dlowerM)return lowerM;throw Error(invalidTimeUnit(\x22month\x22,m));}function normalizeDay(d){isNumeric(d)\x26\x26\n(d\x3d+d);if(isNumber(d))return d%7;var lowerD\x3dd.toLowerCase(),dayIndex\x3dDAYS.indexOf(lowerD);if(-1!\x3d\x3ddayIndex)return dayIndex;lowerD\x3dlowerD.substr(0,3);lowerD\x3dSHORT_DAYS.indexOf(lowerD);if(-1!\x3d\x3dlowerD)return lowerD;throw Error(invalidTimeUnit(\x22day\x22,d));}function dateTimeParts(d,normalize){var parts\x3d[];normalize\x26\x26void 0!\x3d\x3dd.day\x26\x261\x3ckeys(d).length\x26\x26(warn(\x22Dropping day from datetime \x22+stringify(d)+\x22 as day cannot be combined with other units.\x22),d\x3dduplicate(d),delete d.day);void 0!\x3d\x3dd.year?parts.push(d.year):\nparts.push(2012);if(void 0!\x3d\x3dd.month){var month\x3dnormalize?normalizeMonth(d.month):d.month;parts.push(month)}else if(void 0!\x3d\x3dd.quarter){if(normalize)if(month\x3dd.quarter,isNumeric(month)\x26\x26(month\x3d+month),isNumber(month))4\x3cmonth\x26\x26warn(invalidTimeUnit(\x22quarter\x22,month)),--month;else throw Error(invalidTimeUnit(\x22quarter\x22,month));else month\x3dd.quarter;parts.push(isNumber(month)?3*month:month+\x22*3\x22)}else parts.push(0);void 0!\x3d\x3dd.date?parts.push(d.date):void 0!\x3d\x3dd.day?(normalize\x3dnormalize?normalizeDay(d.day):\nd.day,parts.push(isNumber(normalize)?normalize+1:normalize+\x22+1\x22)):parts.push(1);normalize\x3d$jscomp.makeIterator([\x22hours\x22,\x22minutes\x22,\x22seconds\x22,\x22milliseconds\x22]);for(month\x3dnormalize.next();!month.done;month\x3dnormalize.next())month\x3dd[month.value],parts.push(\x22undefined\x22\x3d\x3d\x3dtypeof month?0:month);return parts}function dateTimeToExpr(d){var string\x3ddateTimeParts(d,!0).join(\x22, \x22);return d.utc?\x22utc(\x22+string+\x22)\x22:\x22datetime(\x22+string+\x22)\x22}function dateTimeToTimestamp(d){var parts\x3ddateTimeParts(d,!0);return d.utc?+new Date(Date.UTC.apply(Date,\n$jscomp.arrayFromIterable(parts))):+new (Function.prototype.bind.apply(Date,[null].concat($jscomp.arrayFromIterable(parts))))}function getTimeUnitParts(timeUnit){for(var parts\x3d[],$jscomp$iter$72\x3d$jscomp.makeIterator(TIMEUNIT_PARTS),$jscomp$key$part\x3d$jscomp$iter$72.next();!$jscomp$key$part.done;$jscomp$key$part\x3d$jscomp$iter$72.next())$jscomp$key$part\x3d$jscomp$key$part.value,containsTimeUnit(timeUnit,$jscomp$key$part)\x26\x26parts.push($jscomp$key$part);return parts}function containsTimeUnit(fullTimeUnit,\ntimeUnit){var index\x3dfullTimeUnit.indexOf(timeUnit);return 0\x3eindex||0\x3cindex\x26\x26\x22seconds\x22\x3d\x3d\x3dtimeUnit\x26\x26\x22i\x22\x3d\x3d\x3dfullTimeUnit.charAt(index-1)||fullTimeUnit.length\x3eindex+3\x26\x26\x22day\x22\x3d\x3d\x3dtimeUnit\x26\x26\x22o\x22\x3d\x3d\x3dfullTimeUnit.charAt(index+3)||0\x3cindex\x26\x26\x22year\x22\x3d\x3d\x3dtimeUnit\x26\x26\x22f\x22\x3d\x3d\x3dfullTimeUnit.charAt(index-1)?!1:!0}function timeUnitSpecifierExpression(timeUnit){if(timeUnit)return timeUnit\x3dgetTimeUnitParts(timeUnit),\x22timeUnitSpecifier(\x22+fastJsonStableStringify(timeUnit)+\x22, \x22+fastJsonStableStringify(VEGALITE_TIMEFORMAT)+\x22)\x22}function normalizeTimeUnit(timeUnit){if(timeUnit){var params;\nisString(timeUnit)?params\x3d{unit:timeUnit}:isObject(timeUnit)\x26\x26(params\x3dObject.assign(Object.assign({},timeUnit),timeUnit.unit?{unit:timeUnit.unit}:{}));params.unit.startsWith(\x22utc\x22)\x26\x26(params.utc\x3d!0,params.unit\x3dparams.unit.substr(3));return params}}function timeUnitToString(tu){tu\x3dnormalizeTimeUnit(tu);var utc\x3dtu.utc,rest\x3d__rest(tu,[\x22utc\x22]);return rest.unit?(utc?\x22utc\x22:\x22\x22)+keys(rest).map(function(p){return varName((\x22unit\x22\x3d\x3d\x3dp?\x22\x22:\x22_\x22+p+\x22_\x22)+rest[p])}).join(\x22\x22):(utc?\x22utc\x22:\x22\x22)+\x22timeunit\x22+keys(rest).map(function(p){return varName(\x22_\x22+\np+\x22_\x22+rest[p])}).join(\x22\x22)}function isSignalRef(o){return o\x26\x26!!o.signal}function isVgRangeStep(range){return!!range.step}function isDataRefDomain(domain){return isArray(domain)?!1:\x22field\x22in domain\x26\x26\x22data\x22in domain}function isFieldEqualPredicate(predicate){return predicate\x26\x26!!predicate.field\x26\x26void 0!\x3d\x3dpredicate.equal}function isFieldLTPredicate(predicate){return predicate\x26\x26!!predicate.field\x26\x26void 0!\x3d\x3dpredicate.lt}function isFieldLTEPredicate(predicate){return predicate\x26\x26!!predicate.field\x26\x26void 0!\x3d\x3d\npredicate.lte}function isFieldGTPredicate(predicate){return predicate\x26\x26!!predicate.field\x26\x26void 0!\x3d\x3dpredicate.gt}function isFieldGTEPredicate(predicate){return predicate\x26\x26!!predicate.field\x26\x26void 0!\x3d\x3dpredicate.gte}function isFieldRangePredicate(predicate){return predicate\x26\x26predicate.field\x26\x26(isArray(predicate.range)\x26\x262\x3d\x3d\x3dpredicate.range.length||isSignalRef(predicate.range))?!0:!1}function isFieldOneOfPredicate(predicate){return predicate\x26\x26!!predicate.field\x26\x26(isArray(predicate.oneOf)||isArray(predicate.in))}\nfunction isFieldPredicate(predicate){return isFieldOneOfPredicate(predicate)||isFieldEqualPredicate(predicate)||isFieldRangePredicate(predicate)||isFieldLTPredicate(predicate)||isFieldGTPredicate(predicate)||isFieldLTEPredicate(predicate)||isFieldGTEPredicate(predicate)}function predicateValueExpr(v,timeUnit){return valueExpr(v,{timeUnit:timeUnit,wrapTime:!0})}function predicateValuesExpr(vals,timeUnit){return vals.map(function(v){return predicateValueExpr(v,timeUnit)})}function fieldFilterExpression(predicate,\nuseInRange){useInRange\x3dvoid 0\x3d\x3d\x3duseInRange?!0:useInRange;var _a,field\x3dpredicate.field,timeUnit\x3dnull\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(predicate.timeUnit))||void 0\x3d\x3d\x3d_a?void 0:_a.unit;if(timeUnit){field\x3daccessPathWithDatum(field);var utc\x3dtimeUnit.startsWith(\x22utc\x22)?\x22utc\x22:\x22\x22;_a\x3d{};for(var $jscomp$inline_2881\x3d$jscomp.makeIterator(TIMEUNIT_PARTS),$jscomp$key$part\x3d$jscomp$inline_2881.next();!$jscomp$key$part.done;$jscomp$key$part\x3d$jscomp$inline_2881.next())if($jscomp$key$part\x3d$jscomp$key$part.value,containsTimeUnit(timeUnit,\n$jscomp$key$part)){var JSCompiler_inline_result\x3d\x22quarter\x22\x3d\x3d\x3d$jscomp$key$part?\x22(\x22+utc+\x22quarter(\x22+field+\x22)-1)\x22:\x22\x22+utc+$jscomp$key$part+\x22(\x22+field+\x22)\x22;_a[$jscomp$key$part]\x3dJSCompiler_inline_result}field\x3ddateTimeParts(_a,!1).join(\x22, \x22);_a\x3d\x22time(\x22+(_a.utc?\x22utc(\x22+field+\x22)\x22:\x22datetime(\x22+field+\x22)\x22)+\x22)\x22}else _a\x3dvgField(predicate,{expr:\x22datum\x22});if(isFieldEqualPredicate(predicate))return _a+\x22\\x3d\\x3d\\x3d\x22+predicateValueExpr(predicate.equal,timeUnit);if(isFieldLTPredicate(predicate))return _a+\x22\\x3c\x22+predicateValueExpr(predicate.lt,\ntimeUnit);if(isFieldGTPredicate(predicate))return _a+\x22\\x3e\x22+predicateValueExpr(predicate.gt,timeUnit);if(isFieldLTEPredicate(predicate))return _a+\x22\\x3c\\x3d\x22+predicateValueExpr(predicate.lte,timeUnit);if(isFieldGTEPredicate(predicate))return _a+\x22\\x3e\\x3d\x22+predicateValueExpr(predicate.gte,timeUnit);if(isFieldOneOfPredicate(predicate))return\x22indexof([\x22+predicateValuesExpr(predicate.oneOf,timeUnit).join(\x22,\x22)+\x22], \x22+_a+\x22) !\\x3d\\x3d -1\x22;if(predicate\x26\x26predicate.field\x26\x26void 0!\x3d\x3dpredicate.valid)return fieldValidPredicate(_a,\npredicate.valid);if(isFieldRangePredicate(predicate)){field\x3dpredicate.range;predicate\x3disSignalRef(field)?{signal:field.signal+\x22[0]\x22}:field[0];field\x3disSignalRef(field)?{signal:field.signal+\x22[1]\x22}:field[1];if(null!\x3d\x3dpredicate\x26\x26null!\x3d\x3dfield\x26\x26useInRange)return\x22inrange(\x22+_a+\x22, [\x22+predicateValueExpr(predicate,timeUnit)+\x22, \x22+predicateValueExpr(field,timeUnit)+\x22])\x22;useInRange\x3d[];null!\x3d\x3dpredicate\x26\x26useInRange.push(_a+\x22 \\x3e\\x3d \x22+predicateValueExpr(predicate,timeUnit));null!\x3d\x3dfield\x26\x26useInRange.push(_a+\x22 \\x3c\\x3d \x22+\npredicateValueExpr(field,timeUnit));return 0\x3cuseInRange.length?useInRange.join(\x22 \\x26\\x26 \x22):\x22true\x22}throw Error(\x22Invalid field predicate: \x22+JSON.stringify(predicate));}function fieldValidPredicate(fieldExpr,valid){return void 0\x3d\x3d\x3dvalid||valid?\x22isValid(\x22+fieldExpr+\x22) \\x26\\x26 isFinite(+\x22+fieldExpr+\x22)\x22:\x22!isValid(\x22+fieldExpr+\x22) || !isFinite(+\x22+fieldExpr+\x22)\x22}function normalizePredicate(f){var _a;return isFieldPredicate(f)\x26\x26f.timeUnit?Object.assign(Object.assign({},f),{timeUnit:null\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(f.timeUnit))||\nvoid 0\x3d\x3d\x3d_a?void 0:_a.unit}):f}function getFullName(type){if(type)switch(type\x3dtype.toLowerCase(),type){case \x22q\x22:case \x22quantitative\x22:return\x22quantitative\x22;case \x22t\x22:case \x22temporal\x22:return\x22temporal\x22;case \x22o\x22:case \x22ordinal\x22:return\x22ordinal\x22;case \x22n\x22:case \x22nominal\x22:return\x22nominal\x22;case \x22geojson\x22:return\x22geojson\x22}}function isSelectionDomain(domain){return null\x3d\x3d\x3ddomain||void 0\x3d\x3d\x3ddomain?void 0:domain.selection}function scaleTypeSupportProperty(scaleType,propName){switch(propName){case \x22type\x22:case \x22domain\x22:case \x22reverse\x22:case \x22range\x22:return!0;\ncase \x22scheme\x22:case \x22interpolate\x22:return!contains([\x22point\x22,\x22band\x22,\x22identity\x22],scaleType);case \x22bins\x22:return!contains([\x22point\x22,\x22band\x22,\x22identity\x22,\x22ordinal\x22],scaleType);case \x22round\x22:return scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX||\x22band\x22\x3d\x3d\x3dscaleType||\x22point\x22\x3d\x3d\x3dscaleType;case \x22padding\x22:case \x22rangeMin\x22:case \x22rangeMax\x22:return scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX||contains([\x22point\x22,\x22band\x22],scaleType);case \x22paddingOuter\x22:case \x22align\x22:return contains([\x22point\x22,\x22band\x22],scaleType);case \x22paddingInner\x22:return\x22band\x22\x3d\x3d\x3d\nscaleType;case \x22domainMax\x22:case \x22domainMid\x22:case \x22domainMin\x22:case \x22clamp\x22:return scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX;case \x22nice\x22:return scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX||\x22quantize\x22\x3d\x3d\x3dscaleType||\x22threshold\x22\x3d\x3d\x3dscaleType;case \x22exponent\x22:return\x22pow\x22\x3d\x3d\x3dscaleType;case \x22base\x22:return\x22log\x22\x3d\x3d\x3dscaleType;case \x22constant\x22:return\x22symlog\x22\x3d\x3d\x3dscaleType;case \x22zero\x22:return scaleType in CONTINUOUS_DOMAIN_INDEX\x26\x26!contains([\x22log\x22,\x22time\x22,\x22utc\x22,\x22threshold\x22,\x22quantile\x22],scaleType)}}function channelScalePropertyIncompatability(channel,\npropName){switch(propName){case \x22interpolate\x22:case \x22scheme\x22:case \x22domainMid\x22:if(!isColorChannel(channel))return\x27Cannot use the scale property \x22\x27+channel+\x27\x22 with non-color channel.\x27}}function channelSupportScaleType(channel,scaleType){if(!SCALE_CHANNEL_INDEX[channel])return!1;switch(channel){case \x22x\x22:case \x22y\x22:case \x22theta\x22:case \x22radius\x22:return scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX||contains([\x22band\x22,\x22point\x22],scaleType);case \x22size\x22:case \x22strokeWidth\x22:case \x22opacity\x22:case \x22fillOpacity\x22:case \x22strokeOpacity\x22:case \x22angle\x22:return scaleType in\nCONTINUOUS_TO_CONTINUOUS_INDEX||scaleType in CONTINUOUS_TO_DISCRETE_INDEX||contains([\x22band\x22,\x22point\x22,\x22ordinal\x22],scaleType);case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:return\x22band\x22!\x3d\x3dscaleType;case \x22strokeDash\x22:return\x22ordinal\x22\x3d\x3d\x3dscaleType||scaleType in CONTINUOUS_TO_DISCRETE_INDEX;case \x22shape\x22:return\x22ordinal\x22\x3d\x3d\x3dscaleType}}function midPointRefWithPositionInvalidTest(params){var channel\x3dparams.channel,channelDef\x3dparams.channelDef,markDef\x3dparams.markDef,scale\x3dparams.scale,config\x3dparams.config;params\x3dmidPoint(params);\nvar JSCompiler_temp;if(JSCompiler_temp\x3disFieldDef(channelDef))JSCompiler_temp\x3dchannelDef.aggregate,JSCompiler_temp\x3d!(isString(JSCompiler_temp)\x26\x26contains(COUNTING_OPS,JSCompiler_temp));return JSCompiler_temp\x26\x26scale\x26\x26scale.get(\x22type\x22)in CONTINUOUS_TO_CONTINUOUS_INDEX\x26\x26!1\x3d\x3d\x3dscale.get(\x22zero\x22)?wrapPositionInvalidTest({fieldDef:channelDef,channel:channel,markDef:markDef,ref:params,config:config}):params}function wrapPositionInvalidTest($jscomp$destructuring$var12){var fieldDef\x3d$jscomp$destructuring$var12.fieldDef,\nchannel\x3d$jscomp$destructuring$var12.channel,markDef\x3d$jscomp$destructuring$var12.markDef,ref\x3d$jscomp$destructuring$var12.ref;$jscomp$destructuring$var12\x3d$jscomp$destructuring$var12.config;if(isPathMark(markDef.type)||null\x3d\x3d\x3dgetMarkPropOrConfig(\x22invalid\x22,markDef,$jscomp$destructuring$var12))return ref;fieldDef\x3dfieldInvalidPredicate(fieldDef,!0);channel\x3d\x22y\x22\x3d\x3d\x3dgetMainRangeChannel(channel)?{field:{group:\x22height\x22}}:{value:0};return[Object.assign({test:fieldDef},channel),ref]}function fieldInvalidPredicate(field,\ninvalid){invalid\x3dvoid 0\x3d\x3d\x3dinvalid?!0:invalid;return fieldValidPredicate(isString(field)?field:vgField(field,{expr:\x22datum\x22}),!invalid)}function valueRefForFieldOrDatumDef(fieldDef,scaleName,opt,encode){var ref\x3d{};scaleName\x26\x26(ref.scale\x3dscaleName);isDatumDef(fieldDef)?(fieldDef\x3dfieldDef.datum,isDateTime(fieldDef)?ref.signal\x3ddateTimeToExpr(fieldDef):isSignalRef(fieldDef)?ref.signal\x3dfieldDef.signal:ref.value\x3dfieldDef):ref.field\x3dvgField(fieldDef,opt);encode\x26\x26(fieldDef\x3dencode.offset,encode\x3dencode.band,fieldDef\x26\x26\n(ref.offset\x3dfieldDef),encode\x26\x26(ref.band\x3dencode));return ref}function interpolatedSignalRef($jscomp$destructuring$var17){var scaleName\x3d$jscomp$destructuring$var17.scaleName,fieldOrDatumDef\x3d$jscomp$destructuring$var17.fieldOrDatumDef,fieldOrDatumDef2\x3d$jscomp$destructuring$var17.fieldOrDatumDef2,offset\x3d$jscomp$destructuring$var17.offset,band\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var17.band?.5:$jscomp$destructuring$var17.band,expr\x3d0\x3cband\x26\x261\x3eband?\x22datum\x22:void 0;$jscomp$destructuring$var17\x3dvgField(fieldOrDatumDef,\n{expr:expr,suffix:$jscomp$destructuring$var17.startSuffix});fieldOrDatumDef\x3dvoid 0!\x3d\x3dfieldOrDatumDef2?vgField(fieldOrDatumDef2,{expr:expr}):vgField(fieldOrDatumDef,{suffix:\x22end\x22,expr:expr});fieldOrDatumDef2\x3d{};0\x3d\x3d\x3dband||1\x3d\x3d\x3dband?(fieldOrDatumDef2.scale\x3dscaleName,fieldOrDatumDef2.field\x3d0\x3d\x3d\x3dband?$jscomp$destructuring$var17:fieldOrDatumDef):fieldOrDatumDef2.signal\x3d\x27scale(\x22\x27+scaleName+\x27\x22, \x27+(band+\x22 * \x22+$jscomp$destructuring$var17+\x22 + \x22+(1-band)+\x22 * \x22+fieldOrDatumDef)+\x22)\x22;offset\x26\x26(fieldOrDatumDef2.offset\x3d\noffset);return fieldOrDatumDef2}function midPoint($jscomp$destructuring$var19){var channel\x3d$jscomp$destructuring$var19.channel,channelDef\x3d$jscomp$destructuring$var19.channelDef,channel2Def\x3d$jscomp$destructuring$var19.channel2Def,markDef\x3d$jscomp$destructuring$var19.markDef,config\x3d$jscomp$destructuring$var19.config,scaleName\x3d$jscomp$destructuring$var19.scaleName,scale\x3d$jscomp$destructuring$var19.scale,stack\x3d$jscomp$destructuring$var19.stack,offset\x3d$jscomp$destructuring$var19.offset,defaultRef\x3d$jscomp$destructuring$var19.defaultRef;\n$jscomp$destructuring$var19\x3d$jscomp$destructuring$var19.band;var _a;if(channelDef){if(isFieldOrDatumDef(channelDef)){if(isTypedFieldDef(channelDef)){$jscomp$destructuring$var19\x3dnull!\x3d\x3d$jscomp$destructuring$var19\x26\x26void 0!\x3d\x3d$jscomp$destructuring$var19?$jscomp$destructuring$var19:getBand({channel:channel,fieldDef:channelDef,fieldDef2:channel2Def,markDef:markDef,stack:stack,config:config,isMidPoint:!0});markDef\x3dchannelDef.bin;config\x3dchannelDef.timeUnit;defaultRef\x3dchannelDef.type;if(isBinning(markDef)||\n$jscomp$destructuring$var19\x26\x26config\x26\x26\x22temporal\x22\x3d\x3d\x3ddefaultRef)return stack\x26\x26stack.impute?valueRefForFieldOrDatumDef(channelDef,scaleName,{binSuffix:\x22mid\x22},{offset:offset}):$jscomp$destructuring$var19?interpolatedSignalRef({scaleName:scaleName,fieldOrDatumDef:channelDef,band:$jscomp$destructuring$var19,offset:offset}):valueRefForFieldOrDatumDef(channelDef,scaleName,binRequiresRange(channelDef,channel)?{binSuffix:\x22range\x22}:{},{offset:offset});if(isBinned(markDef)){if(isFieldDef(channel2Def))return interpolatedSignalRef({scaleName:scaleName,\nfieldOrDatumDef:channelDef,fieldOrDatumDef2:channel2Def,band:$jscomp$destructuring$var19,offset:offset});warn(channelRequiredForBinned(\x22x\x22\x3d\x3d\x3dchannel?\x22x2\x22:\x22y2\x22))}}channel\x3dnull\x3d\x3d\x3dscale||void 0\x3d\x3d\x3dscale?void 0:scale.get(\x22type\x22);return valueRefForFieldOrDatumDef(channelDef,scaleName,channel in DISCRETE_DOMAIN_INDEX?{binSuffix:\x22range\x22}:{},{offset:offset,band:\x22band\x22\x3d\x3d\x3dchannel?null!\x3d\x3d(_a\x3dnull!\x3d\x3d$jscomp$destructuring$var19\x26\x26void 0!\x3d\x3d$jscomp$destructuring$var19?$jscomp$destructuring$var19:channelDef.band)\x26\x26\nvoid 0!\x3d\x3d_a?_a:.5:void 0})}if(isValueDef(channelDef))return scaleName\x3doffset?{offset:offset}:{},Object.assign(Object.assign({},widthHeightValueOrSignalRef(channel,channelDef.value)),scaleName)}\x22function\x22\x3d\x3d\x3dtypeof defaultRef\x26\x26(defaultRef\x3ddefaultRef());return defaultRef?Object.assign(Object.assign({},defaultRef),offset?{offset:offset}:{}):defaultRef}function widthHeightValueOrSignalRef(channel,value){return contains([\x22x\x22,\x22x2\x22],channel)\x26\x26\x22width\x22\x3d\x3d\x3dvalue?{field:{group:\x22width\x22}}:contains([\x22y\x22,\x22y2\x22],channel)\x26\x26\n\x22height\x22\x3d\x3d\x3dvalue?{field:{group:\x22height\x22}}:signalOrValueRef(value)}function isCustomFormatType(formatType){return formatType\x26\x26\x22number\x22!\x3d\x3dformatType\x26\x26\x22time\x22!\x3d\x3dformatType}function formatSignalRef($jscomp$destructuring$var22){var fieldOrDatumDef\x3d$jscomp$destructuring$var22.fieldOrDatumDef,format\x3d$jscomp$destructuring$var22.format,formatType\x3d$jscomp$destructuring$var22.formatType,expr\x3d$jscomp$destructuring$var22.expr,normalizeStack\x3d$jscomp$destructuring$var22.normalizeStack;$jscomp$destructuring$var22\x3d\n$jscomp$destructuring$var22.config;var _a,_b;if(isCustomFormatType(formatType))return formatCustomType({fieldOrDatumDef:fieldOrDatumDef,format:format,formatType:formatType,expr:expr,config:$jscomp$destructuring$var22});normalizeStack\x3dfieldToFormat(fieldOrDatumDef,expr,normalizeStack);if(isFieldOrDatumDefForTimeFormat(fieldOrDatumDef))return formatType\x3disFieldDef(fieldOrDatumDef)?null\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(fieldOrDatumDef.timeUnit))||void 0\x3d\x3d\x3d_a?void 0:_a.unit:void 0,$jscomp$destructuring$var22\x3d\n$jscomp$destructuring$var22.timeFormat,fieldOrDatumDef\x3disScaleFieldDef(fieldOrDatumDef)\x26\x26(null\x3d\x3d\x3d(_b\x3dfieldOrDatumDef.scale)||void 0\x3d\x3d\x3d_b?void 0:_b.type)\x3d\x3d\x3dScaleType.UTC,!formatType||format?(format\x3disString(format)?format:$jscomp$destructuring$var22,_b\x3d(fieldOrDatumDef?\x22utc\x22:\x22time\x22)+\x22Format(\x22+normalizeStack+\x22, \x27\x22+format+\x22\x27)\x22):formatType?(_b\x3dtimeUnitSpecifierExpression(formatType),_b\x3d(fieldOrDatumDef||formatType.startsWith(\x22utc\x22)?\x22utc\x22:\x22time\x22)+\x22Format(\x22+normalizeStack+\x22, \x22+_b+\x22)\x22):_b\x3dvoid 0,_b?{signal:_b}:\nvoid 0;format\x3dnumberFormat(channelDefType(fieldOrDatumDef),format,$jscomp$destructuring$var22);return isFieldDef(fieldOrDatumDef)\x26\x26isBinning(fieldOrDatumDef.bin)?(_b\x3dvgField(fieldOrDatumDef,{expr:expr,binSuffix:\x22end\x22}),{signal:binFormatExpression(normalizeStack,_b,format,formatType,$jscomp$destructuring$var22)}):format||\x22quantitative\x22\x3d\x3d\x3dchannelDefType(fieldOrDatumDef)?{signal:\x22format(\x22+normalizeStack+\x27, \x22\x27+(format||\x22\x22)+\x27\x22)\x27}:{signal:\x22isValid(\x22+normalizeStack+\x22) ? \x22+normalizeStack+\x27 : \x22\x22+\x27+normalizeStack}}\nfunction fieldToFormat(fieldOrDatumDef,expr,normalizeStack){if(isFieldDef(fieldOrDatumDef))return normalizeStack?vgField(fieldOrDatumDef,{expr:expr,suffix:\x22end\x22})+\x22-\x22+vgField(fieldOrDatumDef,{expr:expr,suffix:\x22start\x22}):vgField(fieldOrDatumDef,{expr:expr});fieldOrDatumDef\x3dfieldOrDatumDef.datum;fieldOrDatumDef\x3disDateTime(fieldOrDatumDef)?dateTimeToExpr(fieldOrDatumDef):\x22\x22+JSON.stringify(fieldOrDatumDef);return fieldOrDatumDef}function formatCustomType($jscomp$destructuring$var24){var fieldOrDatumDef\x3d\n$jscomp$destructuring$var24.fieldOrDatumDef,format\x3d$jscomp$destructuring$var24.format,formatType\x3d$jscomp$destructuring$var24.formatType,expr\x3d$jscomp$destructuring$var24.expr,normalizeStack\x3d$jscomp$destructuring$var24.normalizeStack,config\x3d$jscomp$destructuring$var24.config;$jscomp$destructuring$var24\x3d$jscomp$destructuring$var24.field;$jscomp$destructuring$var24\x3dnull!\x3d\x3d$jscomp$destructuring$var24\x26\x26void 0!\x3d\x3d$jscomp$destructuring$var24?$jscomp$destructuring$var24:fieldToFormat(fieldOrDatumDef,expr,normalizeStack);\nreturn isFieldDef(fieldOrDatumDef)\x26\x26isBinning(fieldOrDatumDef.bin)?(fieldOrDatumDef\x3dvgField(fieldOrDatumDef,{expr:expr,binSuffix:\x22end\x22}),{signal:binFormatExpression($jscomp$destructuring$var24,fieldOrDatumDef,format,formatType,config)}):{signal:formatType+\x22(\x22+$jscomp$destructuring$var24+(format?\x22, \x22+JSON.stringify(format):\x22\x22)+\x22)\x22}}function guideFormat(fieldOrDatumDef,type,format,formatType,config,omitTimeFormatConfig){var _a;if(!isCustomFormatType(formatType))return isFieldOrDatumDefForTimeFormat(fieldOrDatumDef)?\n(fieldOrDatumDef\x3disFieldDef(fieldOrDatumDef)?null\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(fieldOrDatumDef.timeUnit))||void 0\x3d\x3d\x3d_a?void 0:_a.unit:void 0,format\x3dformat?format:fieldOrDatumDef?{signal:timeUnitSpecifierExpression(fieldOrDatumDef)}:omitTimeFormatConfig?void 0:config.timeFormat,format):numberFormat(type,format,config)}function guideFormatType(formatType,fieldOrDatumDef,scaleType){if(formatType\x26\x26(isSignalRef(formatType)||\x22number\x22\x3d\x3d\x3dformatType||\x22time\x22\x3d\x3d\x3dformatType))return formatType;if(isFieldOrDatumDefForTimeFormat(fieldOrDatumDef)\x26\x26\n\x22time\x22!\x3d\x3dscaleType\x26\x26\x22utc\x22!\x3d\x3dscaleType)return\x22time\x22}function numberFormat(type,specifiedFormat,config){if(isString(specifiedFormat))return specifiedFormat;if(\x22quantitative\x22\x3d\x3d\x3dtype)return config.numberFormat}function binNumberFormatExpr(field,format,formatType,config){var _a;if(isCustomFormatType(formatType))return formatType+\x22(\x22+field+(format?\x22, \x22+JSON.stringify(format):\x22\x22)+\x22)\x22;format\x3dnull!\x3d\x3d(_a\x3disString(format)?format:void 0)\x26\x26void 0!\x3d\x3d_a?_a:config.numberFormat;return\x22format(\x22+field+\x27, \x22\x27+(format||\n\x22\x22)+\x27\x22)\x27}function binFormatExpression(startField,endField,format,formatType,config){var start\x3dbinNumberFormatExpr(startField,format,formatType,config);endField\x3dbinNumberFormatExpr(endField,format,formatType,config);return fieldValidPredicate(startField,!1)+\x27 ? \x22null\x22 : \x27+start+\x27 + \x22 \u2013 \x22 + \x27+endField}function isSortField(sort){return!!sort\x26\x26(\x22count\x22\x3d\x3d\x3dsort.op||!!sort.field)}function isSortArray(sort){return!!sort\x26\x26isArray(sort)}function isFacetMapping(f){return\x22row\x22in f||\x22column\x22in f}function toFieldDefBase(fieldDef){var field\x3d\nfieldDef.field,timeUnit\x3dfieldDef.timeUnit,bin\x3dfieldDef.bin;fieldDef\x3dfieldDef.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},timeUnit?{timeUnit:timeUnit}:{}),bin?{bin:bin}:{}),fieldDef?{aggregate:fieldDef}:{}),{field:field})}function getBand($jscomp$destructuring$var27){var channel\x3d$jscomp$destructuring$var27.channel,fieldDef\x3d$jscomp$destructuring$var27.fieldDef,fieldDef2\x3d$jscomp$destructuring$var27.fieldDef2,mark\x3d$jscomp$destructuring$var27.markDef,stack\x3d$jscomp$destructuring$var27.stack,\nconfig\x3d$jscomp$destructuring$var27.config;$jscomp$destructuring$var27\x3d$jscomp$destructuring$var27.isMidPoint;if(isFieldOrDatumDef(fieldDef)\x26\x26void 0!\x3d\x3dfieldDef.band)return fieldDef.band;if(isFieldDef(fieldDef)){var bin\x3dfieldDef.bin;if(fieldDef.timeUnit\x26\x26!fieldDef2)return $jscomp$destructuring$var27?getMarkConfig(\x22timeUnitBandPosition\x22,mark,config):contains([\x22rect\x22,\x22bar\x22,\x22image\x22,\x22arc\x22],mark.type)?getMarkConfig(\x22timeUnitBand\x22,mark,config):0;if(isBinning(bin))return contains([\x22rect\x22,\x22bar\x22,\x22image\x22,\x22arc\x22],\nmark.type)\x26\x26!$jscomp$destructuring$var27?1:.5}if((null\x3d\x3d\x3dstack||void 0\x3d\x3d\x3dstack?void 0:stack.fieldChannel)\x3d\x3d\x3dchannel\x26\x26$jscomp$destructuring$var27)return.5}function hasBand(channel,fieldDef,fieldDef2,stack,markDef,config){return isBinning(fieldDef.bin)||fieldDef.timeUnit\x26\x26isTypedFieldDef(fieldDef)\x26\x26\x22temporal\x22\x3d\x3d\x3dfieldDef.type?!!getBand({channel:channel,fieldDef:fieldDef,fieldDef2:fieldDef2,stack:stack,markDef:markDef,config:config}):!1}function hasConditionalFieldDef(channelDef){channelDef\x3dchannelDef\x26\x26\nchannelDef.condition;return!!channelDef\x26\x26!isArray(channelDef)\x26\x26isFieldDef(channelDef)}function hasConditionalFieldOrDatumDef(channelDef){channelDef\x3dchannelDef\x26\x26channelDef.condition;return!!channelDef\x26\x26!isArray(channelDef)\x26\x26isFieldOrDatumDef(channelDef)}function isFieldDef(channelDef){return!!channelDef\x26\x26(!!channelDef.field||\x22count\x22\x3d\x3d\x3dchannelDef.aggregate)}function channelDefType(channelDef){return channelDef\x26\x26channelDef.type}function isDatumDef(channelDef){return!!channelDef\x26\x26\x22datum\x22in channelDef}\nfunction isContinuousFieldOrDatumDef(cd){return isTypedFieldDef(cd)\x26\x26!isDiscrete(cd)||isNumericDataDef(cd)}function isNumericDataDef(cd){return isDatumDef(cd)\x26\x26isNumber(cd.datum)}function isFieldOrDatumDef(channelDef){return isFieldDef(channelDef)||isDatumDef(channelDef)}function isTypedFieldDef(channelDef){return!!channelDef\x26\x26(\x22field\x22in channelDef||\x22count\x22\x3d\x3d\x3dchannelDef.aggregate)\x26\x26\x22type\x22in channelDef}function isValueDef(channelDef){return channelDef\x26\x26\x22value\x22in channelDef\x26\x26\x22value\x22in channelDef}function isScaleFieldDef(channelDef){return!!channelDef\x26\x26\n(\x22scale\x22in channelDef||\x22sort\x22in channelDef)}function isPositionFieldOrDatumDef(channelDef){return channelDef\x26\x26(\x22axis\x22in channelDef||\x22stack\x22in channelDef||\x22impute\x22in channelDef)}function isStringFieldOrDatumDef(channelDef){return!!channelDef\x26\x26(\x22format\x22in channelDef||\x22formatType\x22in channelDef)}function toStringFieldDef(fieldDef){return omit(fieldDef,[\x22legend\x22,\x22axis\x22,\x22header\x22,\x22scale\x22])}function vgField(fieldDef,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;var _a,_b,_c,field\x3dfieldDef.field,prefix\x3dopt.prefix,suffix\x3dopt.suffix,\nargAccessor\x3d\x22\x22;if(\x22count\x22\x3d\x3d\x3dfieldDef.aggregate)field\x3d\x22__count\x22;else{if(!opt.nofn)if(\x22op\x22in fieldDef)var fn\x3dfieldDef.op;else{var bin\x3dfieldDef.bin,aggregate\x3dfieldDef.aggregate;fieldDef\x3dfieldDef.timeUnit;isBinning(bin)?(fn\x3dbinToString(bin),suffix\x3d(null!\x3d\x3d(_a\x3dopt.binSuffix)\x26\x26void 0!\x3d\x3d_a?_a:\x22\x22)+(null!\x3d\x3d(_b\x3dopt.suffix)\x26\x26void 0!\x3d\x3d_b?_b:\x22\x22)):aggregate?isArgmaxDef(aggregate)?(argAccessor\x3d\x27[\x22\x27+field+\x27\x22]\x27,field\x3d\x22argmax_\x22+aggregate.argmax):isArgminDef(aggregate)?(argAccessor\x3d\x27[\x22\x27+field+\x27\x22]\x27,field\x3d\x22argmin_\x22+aggregate.argmin):\nfn\x3dString(aggregate):fieldDef\x26\x26(fn\x3dtimeUnitToString(fieldDef),suffix\x3d(!contains([\x22range\x22,\x22mid\x22],opt.binSuffix)\x26\x26opt.binSuffix||\x22\x22)+(null!\x3d\x3d(_c\x3dopt.suffix)\x26\x26void 0!\x3d\x3d_c?_c:\x22\x22))}fn\x26\x26(field\x3dfield?fn+\x22_\x22+field:fn)}suffix\x26\x26(field\x3dfield+\x22_\x22+suffix);prefix\x26\x26(field\x3dprefix+\x22_\x22+field);return opt.forAs?\x22\x22+splitAccessPath(field).join(\x22.\x22):opt.expr?(opt\x3dopt.expr,(void 0\x3d\x3d\x3dopt?\x22datum\x22:opt)+\x22[\x22+$(splitAccessPath(field).join(\x22.\x22))+\x22]\x22+argAccessor):replacePathInField(field)+argAccessor}function isDiscrete(def){switch(def.type){case \x22nominal\x22:case \x22ordinal\x22:case \x22geojson\x22:return!0;\ncase \x22quantitative\x22:return isFieldDef(def)\x26\x26!!def.bin;case \x22temporal\x22:return!1}throw Error(\x27Invalid field type \x22\x27+def.type+\x27\x22.\x27);}function verbalTitleFormatter(fieldDef,config){var _a,field\x3dfieldDef.field,timeUnit\x3dfieldDef.timeUnit,aggregate\x3dfieldDef.aggregate;if(\x22count\x22\x3d\x3d\x3daggregate)return config.countTitle;if(isBinning(fieldDef.bin))return field+\x22 (binned)\x22;if(timeUnit){if(fieldDef\x3dnull\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(timeUnit))||void 0\x3d\x3d\x3d_a?void 0:_a.unit)return field+\x22 (\x22+getTimeUnitParts(fieldDef).join(\x22-\x22)+\n\x22)\x22}else if(aggregate)return isArgmaxDef(aggregate)?field+\x22 for max \x22+aggregate.argmax:isArgminDef(aggregate)?field+\x22 for min \x22+aggregate.argmin:titleCase(aggregate)+\x22 of \x22+field;return field}function title$jscomp$0(fieldOrDatumDef,config,$jscomp$destructuring$var33){var allowDisabling\x3d$jscomp$destructuring$var33.allowDisabling,includeDefault\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var33.includeDefault?!0:$jscomp$destructuring$var33.includeDefault,_a,_b;$jscomp$destructuring$var33\x3dnull\x3d\x3d\x3d(_a\x3dgetGuide(fieldOrDatumDef))||\nvoid 0\x3d\x3d\x3d_a?void 0:_a.title;if(!isFieldDef(fieldOrDatumDef))return $jscomp$destructuring$var33;config\x3dincludeDefault?titleFormatter(fieldOrDatumDef,config):void 0;return allowDisabling?getFirstDefined($jscomp$destructuring$var33,fieldOrDatumDef.title,config):null!\x3d\x3d(_b\x3dnull!\x3d\x3d$jscomp$destructuring$var33\x26\x26void 0!\x3d\x3d$jscomp$destructuring$var33?$jscomp$destructuring$var33:fieldOrDatumDef.title)\x26\x26void 0!\x3d\x3d_b?_b:config}function getGuide(fieldDef){if(isPositionFieldOrDatumDef(fieldDef)\x26\x26fieldDef.axis)return fieldDef.axis;\nif(fieldDef\x26\x26\x22legend\x22in fieldDef\x26\x26fieldDef.legend)return fieldDef.legend;if(fieldDef\x26\x26\x22header\x22in fieldDef\x26\x26fieldDef.header)return fieldDef.header}function getFormatMixins(fieldDef){var _a;if(isStringFieldOrDatumDef(fieldDef))return{format:fieldDef.format,formatType:fieldDef.formatType};fieldDef\x3dnull!\x3d\x3d(_a\x3dgetGuide(fieldDef))\x26\x26void 0!\x3d\x3d_a?_a:{};return{format:fieldDef.format,formatType:fieldDef.formatType}}function defaultType(fieldDef,channel){var _a;switch(channel){case \x22latitude\x22:case \x22longitude\x22:return\x22quantitative\x22;\ncase \x22row\x22:case \x22column\x22:case \x22facet\x22:case \x22shape\x22:case \x22strokeDash\x22:return\x22nominal\x22;case \x22order\x22:return\x22ordinal\x22}if(\x22sort\x22in fieldDef\x26\x26isArray(fieldDef.sort))return\x22ordinal\x22;channel\x3dfieldDef.aggregate;if(fieldDef.timeUnit)return\x22temporal\x22;if(fieldDef.bin||channel\x26\x26!isArgmaxDef(channel)\x26\x26!isArgminDef(channel))return\x22quantitative\x22;if(isScaleFieldDef(fieldDef)\x26\x26(null\x3d\x3d\x3d(_a\x3dfieldDef.scale)||void 0\x3d\x3d\x3d_a?0:_a.type))switch(SCALE_CATEGORY_INDEX[fieldDef.scale.type]){case \x22numeric\x22:case \x22discretizing\x22:return\x22quantitative\x22;\ncase \x22time\x22:return\x22temporal\x22}return\x22nominal\x22}function getFieldDef(channelDef){if(isFieldDef(channelDef))return channelDef;if(hasConditionalFieldDef(channelDef))return channelDef.condition}function getFieldOrDatumDef(channelDef){if(isFieldOrDatumDef(channelDef))return channelDef;if(hasConditionalFieldOrDatumDef(channelDef))return channelDef.condition}function initChannelDef(channelDef,channel,config,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;return isString(channelDef)||isNumber(channelDef)||isBoolean(channelDef)?\n(config\x3disString(channelDef)?\x22string\x22:isNumber(channelDef)?\x22number\x22:\x22boolean\x22,warn(\x22Channel \x22+channel+\x22 is a \x22+config+\x22. Converted to {value: \x22+stringify(channelDef)+\x22}.\x22),{value:channelDef}):isFieldOrDatumDef(channelDef)?initFieldOrDatumDef(channelDef,channel,config,opt):hasConditionalFieldOrDatumDef(channelDef)?Object.assign(Object.assign({},channelDef),{condition:initFieldOrDatumDef(channelDef.condition,channel,config,opt)}):channelDef}function initFieldOrDatumDef(fd,channel,config,opt){if(isStringFieldOrDatumDef(fd)){var formatType\x3d\nfd.formatType,rest\x3d__rest(fd,[\x22format\x22,\x22formatType\x22]);if(isCustomFormatType(formatType)\x26\x26!config.customFormatTypes)return warn(customFormatTypeNotAllowed(channel)),initFieldOrDatumDef(rest,channel,config,opt)}else if((formatType\x3disPositionFieldOrDatumDef(fd)?\x22axis\x22:fd\x26\x26\x22legend\x22in fd?\x22legend\x22:fd\x26\x26\x22header\x22in fd?\x22header\x22:null)\x26\x26fd[formatType]){var _a\x3dfd[formatType];rest\x3d_a.formatType;_a\x3d__rest(_a,[\x22format\x22,\x22formatType\x22]);if(isCustomFormatType(rest)\x26\x26!config.customFormatTypes)return warn(customFormatTypeNotAllowed(channel)),\nrest\x3d{},initFieldOrDatumDef(Object.assign(Object.assign({},fd),(rest[formatType]\x3d_a,rest)),channel,config,opt)}if(isFieldDef(fd))return initFieldDef(fd,channel,opt);channel\x3dfd.type;channel||(channel\x3dfd.datum,channel\x3disNumber(channel)?\x22quantitative\x22:isString(channel)?\x22nominal\x22:isDateTime(channel)?\x22temporal\x22:void 0,fd\x3dObject.assign(Object.assign({},fd),{type:channel}));return fd}function initFieldDef(fd,channel,$jscomp$destructuring$var41){$jscomp$destructuring$var41\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var41?\n{}:$jscomp$destructuring$var41;var compositeMark\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var41.compositeMark?!1:$jscomp$destructuring$var41.compositeMark;$jscomp$destructuring$var41\x3dfd.aggregate;var timeUnit\x3dfd.timeUnit,bin\x3dfd.bin,field\x3dfd.field;fd\x3dObject.assign({},fd);compositeMark||!$jscomp$destructuring$var41||isAggregateOp($jscomp$destructuring$var41)||isArgmaxDef($jscomp$destructuring$var41)||isArgminDef($jscomp$destructuring$var41)||(warn(\x27Invalid aggregation operator \x22\x27+$jscomp$destructuring$var41+\n\x27\x22.\x27),delete fd.aggregate);timeUnit\x26\x26(fd.timeUnit\x3dnormalizeTimeUnit(timeUnit));field\x26\x26(fd.field\x3d\x22\x22+field);isBinning(bin)\x26\x26(fd.bin\x3dnormalizeBin(bin,channel));!isBinned(bin)||channel in POSITION_SCALE_CHANNEL_INDEX||warn(\x22Channel \x22+channel+\x27 should not be used with \x22binned\x22 bin.\x27);isTypedFieldDef(fd)?(compositeMark\x3dfd.type,timeUnit\x3dgetFullName(compositeMark),compositeMark!\x3d\x3dtimeUnit\x26\x26(fd.type\x3dtimeUnit),\x22quantitative\x22!\x3d\x3dcompositeMark\x26\x26isString($jscomp$destructuring$var41)\x26\x26contains(COUNTING_OPS,$jscomp$destructuring$var41)\x26\x26\n(warn(\x27Invalid field type \x22\x27+compositeMark+\x27\x22 for aggregate: \x22\x27+$jscomp$destructuring$var41+\x27\x22, using \x22quantitative\x22 instead.\x27),fd.type\x3d\x22quantitative\x22)):isSecondaryRangeChannel(channel)||($jscomp$destructuring$var41\x3ddefaultType(fd,channel),fd.type\x3d$jscomp$destructuring$var41);isTypedFieldDef(fd)\x26\x26(channel\x3dchannelCompatibility(fd,channel)||{},$jscomp$destructuring$var41\x3dchannel.warning,!1\x3d\x3d\x3dchannel.compatible\x26\x26warn($jscomp$destructuring$var41));if(\x22sort\x22in fd\x26\x26isString(fd.sort)){channel\x3dfd.sort;if(channel in\nSORT_BY_CHANNEL_INDEX)return Object.assign(Object.assign({},fd),{sort:{encoding:channel}});$jscomp$destructuring$var41\x3dchannel.substr(1);if(\x22-\x22\x3d\x3d\x3dchannel.charAt(0)\x26\x26$jscomp$destructuring$var41 in SORT_BY_CHANNEL_INDEX)return Object.assign(Object.assign({},fd),{sort:{encoding:$jscomp$destructuring$var41,order:\x22descending\x22}})}return fd\x26\x26\x22header\x22in fd\x26\x26(channel\x3dfd.header,$jscomp$destructuring$var41\x3dchannel.orient,compositeMark\x3d__rest(channel,[\x22orient\x22]),$jscomp$destructuring$var41)?Object.assign(Object.assign({},\nfd),{header:Object.assign(Object.assign({},compositeMark),{labelOrient:channel.labelOrient||$jscomp$destructuring$var41,titleOrient:channel.titleOrient||$jscomp$destructuring$var41})}):fd}function normalizeBin(bin,channel){return isBoolean(bin)?{maxbins:autoMaxBins(channel)}:\x22binned\x22\x3d\x3d\x3dbin?{binned:!0}:bin.maxbins||bin.step?bin:Object.assign(Object.assign({},bin),{maxbins:autoMaxBins(channel)})}function channelCompatibility(fieldDef,channel){var type\x3dfieldDef.type;if(\x22geojson\x22\x3d\x3d\x3dtype\x26\x26\x22shape\x22!\x3d\x3dchannel)return{compatible:!1,\nwarning:\x22Channel \x22+channel+\x22 should not be used with a geojson data.\x22};switch(channel){case \x22row\x22:case \x22column\x22:case \x22facet\x22:return isDiscrete(fieldDef)?COMPATIBLE:{compatible:!1,warning:channel+\x22 encoding should be discrete (ordinal / nominal / binned).\x22};case \x22x\x22:case \x22y\x22:case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:case \x22text\x22:case \x22detail\x22:case \x22key\x22:case \x22tooltip\x22:case \x22href\x22:case \x22url\x22:case \x22angle\x22:case \x22theta\x22:case \x22radius\x22:case \x22description\x22:return COMPATIBLE;case \x22longitude\x22:case \x22longitude2\x22:case \x22latitude\x22:case \x22latitude2\x22:return\x22quantitative\x22!\x3d\x3d\ntype?{compatible:!1,warning:\x22Channel \x22+channel+\x22 should be used with a quantitative field only, not \x22+fieldDef.type+\x22 field.\x22}:COMPATIBLE;case \x22opacity\x22:case \x22fillOpacity\x22:case \x22strokeOpacity\x22:case \x22strokeWidth\x22:case \x22size\x22:case \x22theta2\x22:case \x22radius2\x22:case \x22x2\x22:case \x22y2\x22:return\x22nominal\x22!\x3d\x3dtype||fieldDef.sort?COMPATIBLE:{compatible:!1,warning:\x22Channel \x22+channel+\x22 should not be used with an unsorted discrete field.\x22};case \x22strokeDash\x22:return contains([\x22ordinal\x22,\x22nominal\x22],fieldDef.type)?COMPATIBLE:\n{compatible:!1,warning:\x22StrokeDash channel should be used with only discrete data.\x22};case \x22shape\x22:return contains([\x22ordinal\x22,\x22nominal\x22,\x22geojson\x22],fieldDef.type)?COMPATIBLE:{compatible:!1,warning:\x22Shape channel should be used with only either discrete or geojson data.\x22};case \x22order\x22:return\x22nominal\x22!\x3d\x3dfieldDef.type||\x22sort\x22in fieldDef?COMPATIBLE:{compatible:!1,warning:\x22Channel order is inappropriate for nominal field, which has no inherent order.\x22}}}function isFieldOrDatumDefForTimeFormat(fieldOrDatumDef){var formatType\x3d\ngetFormatMixins(fieldOrDatumDef).formatType,JSCompiler_temp;if(!(JSCompiler_temp\x3d\x22time\x22\x3d\x3d\x3dformatType)){if(formatType\x3d!formatType)formatType\x3dfieldOrDatumDef\x26\x26(\x22temporal\x22\x3d\x3d\x3dfieldOrDatumDef.type||isFieldDef(fieldOrDatumDef)\x26\x26!!fieldOrDatumDef.timeUnit);JSCompiler_temp\x3dformatType}return JSCompiler_temp}function valueExpr(v,$jscomp$destructuring$var50){var timeUnit\x3d$jscomp$destructuring$var50.timeUnit,type\x3d$jscomp$destructuring$var50.type,wrapTime\x3d$jscomp$destructuring$var50.wrapTime;$jscomp$destructuring$var50\x3d\n$jscomp$destructuring$var50.undefinedIfExprNotRequired;var _a;type\x3d(timeUnit\x3dtimeUnit\x26\x26(null\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(timeUnit))||void 0\x3d\x3d\x3d_a?void 0:_a.unit))||\x22temporal\x22\x3d\x3d\x3dtype;if(isSignalRef(v))var expr\x3dv.signal;else isDateTime(v)?(type\x3d!0,expr\x3ddateTimeToExpr(v)):(isString(v)||isNumber(v))\x26\x26type\x26\x26(expr\x3d\x22datetime(\x22+JSON.stringify(v)+\x22)\x22,LOCAL_SINGLE_TIMEUNIT_INDEX[timeUnit]\x26\x26(isNumber(v)\x26\x261E4\x3ev||isString(v)\x26\x26isNaN(Date.parse(v)))\x26\x26(expr\x3d{},expr\x3ddateTimeToExpr((expr[timeUnit]\x3dv,expr))));return expr?\nwrapTime\x26\x26type?\x22time(\x22+expr+\x22)\x22:expr:$jscomp$destructuring$var50?void 0:JSON.stringify(v)}function valueArray(fieldOrDatumDef,values){var type\x3dfieldOrDatumDef.type;return values.map(function(v){var expr\x3dvalueExpr(v,{timeUnit:isFieldDef(fieldOrDatumDef)?fieldOrDatumDef.timeUnit:void 0,type:type,undefinedIfExprNotRequired:!0});return void 0!\x3d\x3dexpr?{signal:expr}:v})}function binRequiresRange(fieldDef,channel){return isBinning(fieldDef.bin)?!!SCALE_CHANNEL_INDEX[channel]\x26\x26contains([\x22ordinal\x22,\x22nominal\x22],\nfieldDef.type):(console.warn(\x22Only call this method for binned field defs.\x22),!1)}function extractTitleConfig(titleConfig){var anchor\x3dtitleConfig.anchor,frame\x3dtitleConfig.frame,offset\x3dtitleConfig.offset,orient\x3dtitleConfig.orient,color\x3dtitleConfig.color,subtitleColor\x3dtitleConfig.subtitleColor,subtitleFont\x3dtitleConfig.subtitleFont,subtitleFontSize\x3dtitleConfig.subtitleFontSize,subtitleFontStyle\x3dtitleConfig.subtitleFontStyle,subtitleFontWeight\x3dtitleConfig.subtitleFontWeight,subtitleLineHeight\x3dtitleConfig.subtitleLineHeight,\nsubtitlePadding\x3dtitleConfig.subtitlePadding;titleConfig\x3d__rest(titleConfig,\x22anchor frame offset orient color subtitleColor subtitleFont subtitleFontSize subtitleFontStyle subtitleFontWeight subtitleLineHeight subtitlePadding\x22.split(\x22 \x22));color\x3dObject.assign(Object.assign({},titleConfig),color?{fill:color}:{});anchor\x3dObject.assign(Object.assign(Object.assign(Object.assign({},anchor?{anchor:anchor}:{}),frame?{frame:frame}:{}),offset?{offset:offset}:{}),orient?{orient:orient}:{});subtitleColor\x3dObject.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},\nsubtitleColor?{subtitleColor:subtitleColor}:{}),subtitleFont?{subtitleFont:subtitleFont}:{}),subtitleFontSize?{subtitleFontSize:subtitleFontSize}:{}),subtitleFontStyle?{subtitleFontStyle:subtitleFontStyle}:{}),subtitleFontWeight?{subtitleFontWeight:subtitleFontWeight}:{}),subtitleLineHeight?{subtitleLineHeight:subtitleLineHeight}:{}),subtitlePadding?{subtitlePadding:subtitlePadding}:{});subtitleFont\x3dpick(color,[\x22align\x22,\x22baseline\x22,\x22dx\x22,\x22dy\x22,\x22limit\x22]);return{titleMarkConfig:color,subtitleMarkConfig:subtitleFont,\nnonMark:anchor,subtitle:subtitleColor}}function isText(v){return isString(v)||isArray(v)\x26\x26isString(v[0])}function signalOrValueRef(value){return isSignalRef(value)?value:void 0!\x3d\x3dvalue?{value:value}:void 0}function signalOrStringValue(v){return isSignalRef(v)?v.signal:null\x3d\x3dv?null:$(v)}function applyMarkConfig(e,model,propsList){propsList\x3d$jscomp.makeIterator(propsList);for(var $jscomp$key$property\x3dpropsList.next();!$jscomp$key$property.done;$jscomp$key$property\x3dpropsList.next()){$jscomp$key$property\x3d\n$jscomp$key$property.value;var value\x3dgetMarkConfig($jscomp$key$property,model.markDef,model.config);void 0!\x3d\x3dvalue\x26\x26(e[$jscomp$key$property]\x3dsignalOrValueRef(value))}return e}function getStyles(mark){var _a;return[].concat(mark.type,null!\x3d\x3d(_a\x3dmark.style)\x26\x26void 0!\x3d\x3d_a?_a:[])}function getMarkPropOrConfig(channel,mark,config,opt){var $jscomp$destructuring$var54\x3dopt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt,vgChannel\x3d$jscomp$destructuring$var54.vgChannel;if(vgChannel\x26\x26void 0!\x3d\x3dmark[vgChannel])return mark[vgChannel];if(void 0!\x3d\x3d\nmark[channel])return mark[channel];if(!$jscomp$destructuring$var54.ignoreVgConfig||vgChannel\x26\x26vgChannel!\x3d\x3dchannel)return getMarkConfig(channel,mark,config,opt)}function getMarkConfig(channel,mark,config,$jscomp$destructuring$var55){$jscomp$destructuring$var55\x3d(void 0\x3d\x3d\x3d$jscomp$destructuring$var55?{}:$jscomp$destructuring$var55).vgChannel;return getFirstDefined($jscomp$destructuring$var55?getMarkStyleConfig(channel,mark,config.style):void 0,getMarkStyleConfig(channel,mark,config.style),$jscomp$destructuring$var55?\nconfig[mark.type][$jscomp$destructuring$var55]:void 0,config[mark.type][channel],$jscomp$destructuring$var55?config.mark[$jscomp$destructuring$var55]:config.mark[channel])}function getMarkStyleConfig(prop,mark,styleConfigIndex){return getStyleConfig(prop,getStyles(mark),styleConfigIndex)}function getStyleConfig(p,styles,styleConfigIndex){styles\x3darray$jscomp$0(styles);var value;styles\x3d$jscomp.makeIterator(styles);for(var $jscomp$key$style\x3dstyles.next();!$jscomp$key$style.done;$jscomp$key$style\x3dstyles.next())($jscomp$key$style\x3d\nstyleConfigIndex[$jscomp$key$style.value])\x26\x26void 0!\x3d\x3d$jscomp$key$style[p]\x26\x26(value\x3d$jscomp$key$style[p]);return value}function sortParams(orderDef,fieldRefOption){return array$jscomp$0(orderDef).reduce(function(s,orderChannelDef){var _a;s.field.push(vgField(orderChannelDef,fieldRefOption));s.order.push(null!\x3d\x3d(_a\x3dorderChannelDef.sort)\x26\x26void 0!\x3d\x3d_a?_a:\x22ascending\x22);return s},{field:[],order:[]})}function mergeTitleFieldDefs(f1,f2){var merged\x3d[].concat($jscomp.arrayFromIterable(f1));f2.forEach(function(fdToMerge){for(var $jscomp$iter$76\x3d\n$jscomp.makeIterator(merged),$jscomp$key$fieldDef1\x3d$jscomp$iter$76.next();!$jscomp$key$fieldDef1.done;$jscomp$key$fieldDef1\x3d$jscomp$iter$76.next())if(deepEqual($jscomp$key$fieldDef1.value,fdToMerge))return;merged.push(fdToMerge)});return merged}function mergeTitle(title1,title2){return deepEqual(title1,title2)||!title2?title1:title1?[].concat($jscomp.arrayFromIterable(array$jscomp$0(title1)),$jscomp.arrayFromIterable(array$jscomp$0(title2))).join(\x22, \x22):title2}function mergeTitleComponent(v1,v2){var v1Val\x3d\nv1.value;v2\x3dv2.value;if(null\x3d\x3dv1Val||null\x3d\x3d\x3dv2)return{explicit:v1.explicit,value:null};if((isText(v1Val)||isSignalRef(v1Val))\x26\x26(isText(v2)||isSignalRef(v2)))return{explicit:v1.explicit,value:mergeTitle(v1Val,v2)};if(isText(v1Val)||isSignalRef(v1Val))return{explicit:v1.explicit,value:v1Val};if(isText(v2)||isSignalRef(v2))return{explicit:v1.explicit,value:v2};if(!(isText(v1Val)||isSignalRef(v1Val)||isText(v2)||isSignalRef(v2)))return{explicit:v1.explicit,value:mergeTitleFieldDefs(v1Val,v2)};throw Error(\x22It should never reach here\x22);\n}function channelHasField(encoding,channel){return(encoding\x3dencoding\x26\x26encoding[channel])?isArray(encoding)?some(encoding,function(fieldDef){return!!fieldDef.field}):isFieldDef(encoding)||hasConditionalFieldDef(encoding):!1}function isAggregate(encoding){return some(CHANNELS,function(channel){return channelHasField(encoding,channel)?(channel\x3dencoding[channel],isArray(channel)?some(channel,function(fieldDef){return!!fieldDef.aggregate}):(channel\x3dgetFieldDef(channel))\x26\x26!!channel.aggregate):!1})}function extractTransformsFromEncoding(oldEncoding,\nconfig){var groupby\x3d[],bins\x3d[],timeUnits\x3d[],aggregate\x3d[],encoding\x3d{};forEach(oldEncoding,function(channelDef,channel){if(isFieldDef(channelDef)){var field$359\x3dchannelDef.field,aggOp\x3dchannelDef.aggregate,bin\x3dchannelDef.bin,timeUnit\x3dchannelDef.timeUnit,remaining\x3d__rest(channelDef,[\x22field\x22,\x22aggregate\x22,\x22bin\x22,\x22timeUnit\x22]);if(aggOp||timeUnit||bin){var guide\x3dgetGuide(channelDef),isTitleDefined\x3dguide\x26\x26guide.title;guide\x3dvgField(channelDef,{forAs:!0});remaining\x3dObject.assign(Object.assign(Object.assign({},\nisTitleDefined?[]:{title:title$jscomp$0(channelDef,config,{allowDisabling:!0})}),remaining),{field:guide});if(aggOp){if(isArgmaxDef(aggOp)){var op\x3d\x22argmax\x22;guide\x3dvgField({op:\x22argmax\x22,field:aggOp.argmax},{forAs:!0});remaining.field\x3dguide+\x22.\x22+field$359}else isArgminDef(aggOp)?(op\x3d\x22argmin\x22,guide\x3dvgField({op:\x22argmin\x22,field:aggOp.argmin},{forAs:!0}),remaining.field\x3dguide+\x22.\x22+field$359):\x22boxplot\x22!\x3d\x3daggOp\x26\x26\x22errorbar\x22!\x3d\x3daggOp\x26\x26\x22errorband\x22!\x3d\x3daggOp\x26\x26(op\x3daggOp);op\x26\x26(channelDef\x3d{op:op,as:guide},field$359\x26\x26(channelDef.field\x3d\nfield$359),aggregate.push(channelDef))}else groupby.push(guide),isTypedFieldDef(channelDef)\x26\x26isBinning(bin)?(bins.push({bin:bin,field:field$359,as:guide}),groupby.push(vgField(channelDef,{binSuffix:\x22end\x22})),binRequiresRange(channelDef,channel)\x26\x26groupby.push(vgField(channelDef,{binSuffix:\x22range\x22})),channel in POSITION_SCALE_CHANNEL_INDEX\x26\x26(encoding[channel+\x222\x22]\x3d{field:guide+\x22_end\x22}),remaining.bin\x3d\x22binned\x22,isSecondaryRangeChannel(channel)||(remaining.type\x3d\x22quantitative\x22)):timeUnit\x26\x26(timeUnits.push({timeUnit:timeUnit,\nfield:field$359,as:guide}),(field$359\x3disTypedFieldDef(channelDef)\x26\x26\x22temporal\x22!\x3d\x3dchannelDef.type\x26\x26\x22time\x22)\x26\x26(\x22text\x22\x3d\x3d\x3dchannel||\x22tooltip\x22\x3d\x3d\x3dchannel?remaining.formatType\x3dfield$359:NONPOSITION_CHANNEL_INDEX[channel]?remaining.legend\x3dObject.assign({formatType:field$359},remaining.legend):channel in POSITION_SCALE_CHANNEL_INDEX\x26\x26(remaining.axis\x3dObject.assign({formatType:field$359},remaining.axis))));encoding[channel]\x3dremaining}else groupby.push(field$359),encoding[channel]\x3doldEncoding[channel]}else encoding[channel]\x3d\noldEncoding[channel]});return{bins:bins,timeUnits:timeUnits,aggregate:aggregate,groupby:groupby,encoding:encoding}}function markChannelCompatible(encoding,channel,mark){mark\x3dgetSupportedMark(channel)[mark];return mark\x26\x26(\x22binned\x22!\x3d\x3dmark||(mark\x3dencoding[\x22x2\x22\x3d\x3d\x3dchannel?\x22x\x22:\x22y\x22],isFieldDef(mark)\x26\x26isFieldDef(encoding[channel])\x26\x26isBinned(mark.bin)))?!0:!1}function initEncoding(encoding,mark,filled,config){return keys(encoding).reduce(function(normalizedEncoding,channel){if(!CHANNEL_INDEX[channel])return warn(channel+\n\x22-encoding is dropped as \x22+channel+\x22 is not a valid encoding channel.\x22),normalizedEncoding;var channelDef\x3dencoding[channel];\x22angle\x22!\x3d\x3dchannel||\x22arc\x22!\x3d\x3dmark||encoding.theta||(warn(\x22Arc marks uses theta channel rather than angle, replacing angle with theta.\x22),channel\x3d\x22theta\x22);if(!markChannelCompatible(encoding,channel,mark))return warn(incompatibleChannel(channel,mark)),normalizedEncoding;if(\x22size\x22\x3d\x3d\x3dchannel\x26\x26\x22line\x22\x3d\x3d\x3dmark){var fieldDef$jscomp$0\x3dgetFieldDef(encoding[channel]);if(null\x3d\x3d\x3dfieldDef$jscomp$0||\nvoid 0\x3d\x3d\x3dfieldDef$jscomp$0?0:fieldDef$jscomp$0.aggregate)return warn(\x22Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.\x22),normalizedEncoding}if(\x22color\x22\x3d\x3d\x3dchannel\x26\x26(filled?\x22fill\x22in encoding:\x22stroke\x22in encoding))return warn(droppingColor(\x22encoding\x22,{fill:\x22fill\x22in encoding,stroke:\x22stroke\x22in encoding})),normalizedEncoding;if(\x22detail\x22\x3d\x3d\x3dchannel||\x22order\x22\x3d\x3d\x3dchannel\x26\x26!isArray(channelDef)\x26\x26!isValueDef(channelDef)||\x22tooltip\x22\x3d\x3d\x3dchannel\x26\x26isArray(channelDef))channelDef\x26\x26\n(normalizedEncoding[channel]\x3darray$jscomp$0(channelDef).reduce(function(defs,fieldDef){isFieldDef(fieldDef)?defs.push(initFieldDef(fieldDef,channel)):warn(emptyFieldDef(fieldDef,channel));return defs},[]));else{if(\x22tooltip\x22\x3d\x3d\x3dchannel\x26\x26null\x3d\x3d\x3dchannelDef)normalizedEncoding[channel]\x3dnull;else if(!(isFieldDef(channelDef)||isDatumDef(channelDef)||isValueDef(channelDef)||channelDef\x26\x26\x22condition\x22in channelDef||isSignalRef(channelDef)))return warn(emptyFieldDef(channelDef,channel)),normalizedEncoding;normalizedEncoding[channel]\x3d\ninitChannelDef(channelDef,channel,config)}return normalizedEncoding},{})}function normalizeEncoding(encoding,config){for(var normalizedEncoding\x3d{},$jscomp$iter$77\x3d$jscomp.makeIterator(keys(encoding)),$jscomp$key$channel\x3d$jscomp$iter$77.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$77.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var newChannelDef\x3dinitChannelDef(encoding[$jscomp$key$channel],$jscomp$key$channel,config,{compositeMark:!0});normalizedEncoding[$jscomp$key$channel]\x3d\nnewChannelDef}return normalizedEncoding}function fieldDefs(encoding){for(var arr\x3d[],$jscomp$iter$79\x3d$jscomp.makeIterator(keys(encoding)),$jscomp$key$channel\x3d$jscomp$iter$79.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$79.next())if($jscomp$key$channel\x3d$jscomp$key$channel.value,channelHasField(encoding,$jscomp$key$channel)){$jscomp$key$channel\x3darray$jscomp$0(encoding[$jscomp$key$channel]);$jscomp$key$channel\x3d$jscomp.makeIterator($jscomp$key$channel);for(var $jscomp$key$def\x3d$jscomp$key$channel.next();!$jscomp$key$def.done;$jscomp$key$def\x3d\n$jscomp$key$channel.next())$jscomp$key$def\x3d$jscomp$key$def.value,isFieldDef($jscomp$key$def)?arr.push($jscomp$key$def):hasConditionalFieldDef($jscomp$key$def)\x26\x26arr.push($jscomp$key$def.condition)}return arr}function forEach(mapping,f,thisArg){if(mapping)for(var $jscomp$iter$81\x3d$jscomp.makeIterator(keys(mapping)),$jscomp$key$channel\x3d$jscomp$iter$81.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$81.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var el\x3dmapping[$jscomp$key$channel];\nif(isArray(el)){el\x3d$jscomp.makeIterator(el);for(var $jscomp$key$channelDef\x3del.next();!$jscomp$key$channelDef.done;$jscomp$key$channelDef\x3del.next())f.call(thisArg,$jscomp$key$channelDef.value,$jscomp$key$channel)}else f.call(thisArg,el,$jscomp$key$channel)}}function reduce(mapping,f,init,thisArg){return mapping?keys(mapping).reduce(function(r,channel){var map\x3dmapping[channel];return isArray(map)?map.reduce(function(r1,channelDef){return f.call(thisArg,r1,channelDef,channel)},r):f.call(thisArg,r,map,\nchannel)},init):init}function pathGroupingFields(mark,encoding){return keys(encoding).reduce(function(details,channel){switch(channel){case \x22x\x22:case \x22y\x22:case \x22href\x22:case \x22description\x22:case \x22url\x22:case \x22x2\x22:case \x22y2\x22:case \x22theta\x22:case \x22theta2\x22:case \x22radius\x22:case \x22radius2\x22:case \x22latitude\x22:case \x22longitude\x22:case \x22latitude2\x22:case \x22longitude2\x22:case \x22text\x22:case \x22shape\x22:case \x22angle\x22:case \x22tooltip\x22:return details;case \x22order\x22:if(\x22line\x22\x3d\x3d\x3dmark||\x22trail\x22\x3d\x3d\x3dmark)return details;case \x22detail\x22:case \x22key\x22:channel\x3d\nencoding[channel];if(isArray(channel)||isFieldDef(channel)){channel\x3d$jscomp.makeIterator(array$jscomp$0(channel));for(var $jscomp$key$fieldDef\x3dchannel.next();!$jscomp$key$fieldDef.done;$jscomp$key$fieldDef\x3dchannel.next())$jscomp$key$fieldDef\x3d$jscomp$key$fieldDef.value,$jscomp$key$fieldDef.aggregate||details.push(vgField($jscomp$key$fieldDef,{}))}return details;case \x22size\x22:if(\x22trail\x22\x3d\x3d\x3dmark)return details;case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:case \x22opacity\x22:case \x22fillOpacity\x22:case \x22strokeOpacity\x22:case \x22strokeDash\x22:case \x22strokeWidth\x22:return(channel\x3d\ngetFieldDef(encoding[channel]))\x26\x26!channel.aggregate\x26\x26details.push(vgField(channel,{})),details}},[])}function getCompositeMarkTooltip(tooltipSummary,continuousAxisChannelDef,encodingWithoutContinuousAxis,withFieldName){withFieldName\x3dvoid 0\x3d\x3d\x3dwithFieldName?!0:withFieldName;if(\x22tooltip\x22in encodingWithoutContinuousAxis)return{tooltip:encodingWithoutContinuousAxis.tooltip};tooltipSummary\x3dtooltipSummary.map(function($jscomp$destructuring$var59){var fieldPrefix\x3d$jscomp$destructuring$var59.fieldPrefix;$jscomp$destructuring$var59\x3d\n$jscomp$destructuring$var59.titlePrefix;var mainTitle\x3dwithFieldName?\x22 of \x22+getFirstDefined(continuousAxisChannelDef.title,continuousAxisChannelDef.field):\x22\x22;return{field:fieldPrefix+continuousAxisChannelDef.field,type:continuousAxisChannelDef.type,title:isSignalRef($jscomp$destructuring$var59)?{signal:$jscomp$destructuring$var59+(\x27\x22\x27+escape(mainTitle)+\x27\x22\x27)}:$jscomp$destructuring$var59+mainTitle}});encodingWithoutContinuousAxis\x3dfieldDefs(encodingWithoutContinuousAxis).map(toStringFieldDef);return{tooltip:[].concat($jscomp.arrayFromIterable(tooltipSummary),\n$jscomp.arrayFromIterable(unique(encodingWithoutContinuousAxis,hash)))}}function makeCompositeAggregatePartFactory(compositeMarkDef,continuousAxis,continuousAxisChannelDef,sharedEncoding,compositeMarkConfig){var scale\x3dcontinuousAxisChannelDef.scale,axis\x3dcontinuousAxisChannelDef.axis;return function($jscomp$destructuring$var63){var partName\x3d$jscomp$destructuring$var63.partName,mark\x3d$jscomp$destructuring$var63.mark,positionPrefix\x3d$jscomp$destructuring$var63.positionPrefix,endPositionPrefix\x3dvoid 0\x3d\x3d\x3d\n$jscomp$destructuring$var63.endPositionPrefix?void 0:$jscomp$destructuring$var63.endPositionPrefix;$jscomp$destructuring$var63\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var63.extraEncoding?{}:$jscomp$destructuring$var63.extraEncoding;var title\x3dgetFirstDefined(continuousAxisChannelDef.title,continuousAxisChannelDef.field),$jscomp$compprop2\x3d{},$jscomp$compprop3\x3d{};return partLayerMixins(compositeMarkDef,partName,compositeMarkConfig,{mark:mark,encoding:Object.assign(Object.assign(Object.assign(($jscomp$compprop2[continuousAxis]\x3d\nObject.assign(Object.assign(Object.assign({field:positionPrefix+\x22_\x22+continuousAxisChannelDef.field,type:continuousAxisChannelDef.type},void 0!\x3d\x3dtitle?{title:title}:{}),void 0!\x3d\x3dscale?{scale:scale}:{}),void 0!\x3d\x3daxis?{axis:axis}:{}),$jscomp$compprop2),isString(endPositionPrefix)?($jscomp$compprop3[continuousAxis+\x222\x22]\x3d{field:endPositionPrefix+\x22_\x22+continuousAxisChannelDef.field},$jscomp$compprop3):{}),sharedEncoding),$jscomp$destructuring$var63)})}}function partLayerMixins(markDef,part,compositeMarkConfig,\npartBaseSpec){var clip\x3dmarkDef.clip,color\x3dmarkDef.color,opacity\x3dmarkDef.opacity,mark\x3dmarkDef.type;return markDef[part]||void 0\x3d\x3d\x3dmarkDef[part]\x26\x26compositeMarkConfig[part]?[Object.assign(Object.assign({},partBaseSpec),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},compositeMarkConfig[part]),clip?{clip:clip}:{}),color?{color:color}:{}),opacity?{opacity:opacity}:{}),isMarkDef(partBaseSpec.mark)?partBaseSpec.mark:{type:partBaseSpec.mark}),{style:mark+\n\x22-\x22+part}),isBoolean(markDef[part])?{}:markDef[part])})]:[]}function compositeMarkContinuousAxis(spec,orient,compositeMark){spec\x3dspec.encoding;orient\x3d\x22vertical\x22\x3d\x3d\x3dorient?\x22y\x22:\x22x\x22;var continuousAxisChannelDef2\x3dspec[orient+\x222\x22],continuousAxisChannelDefError\x3dspec[orient+\x22Error\x22],continuousAxisChannelDefError2\x3dspec[orient+\x22Error2\x22];return{continuousAxisChannelDef:filterAggregateFromChannelDef(spec[orient],compositeMark),continuousAxisChannelDef2:filterAggregateFromChannelDef(continuousAxisChannelDef2,\ncompositeMark),continuousAxisChannelDefError:filterAggregateFromChannelDef(continuousAxisChannelDefError,compositeMark),continuousAxisChannelDefError2:filterAggregateFromChannelDef(continuousAxisChannelDefError2,compositeMark),continuousAxis:orient}}function filterAggregateFromChannelDef(continuousAxisChannelDef,compositeMark){if(continuousAxisChannelDef\x26\x26continuousAxisChannelDef.aggregate){var aggregate\x3dcontinuousAxisChannelDef.aggregate;continuousAxisChannelDef\x3d__rest(continuousAxisChannelDef,[\x22aggregate\x22]);\naggregate!\x3d\x3dcompositeMark\x26\x26warn(\x22Continuous axis should not have customized aggregation function \x22+aggregate+\x22; \x22+compositeMark+\x22 already agregates the axis.\x22);return continuousAxisChannelDef}return continuousAxisChannelDef}function compositeMarkOrient(spec,compositeMark){var mark\x3dspec.mark,$jscomp$destructuring$var69\x3dspec.encoding;spec\x3d$jscomp$destructuring$var69.x;$jscomp$destructuring$var69\x3d$jscomp$destructuring$var69.y;if(isMarkDef(mark)\x26\x26mark.orient)return mark.orient;if(isContinuousFieldOrDatumDef(spec)){if(isContinuousFieldOrDatumDef($jscomp$destructuring$var69)){mark\x3d\nisFieldDef(spec)\x26\x26spec.aggregate;var yAggregate\x3disFieldDef($jscomp$destructuring$var69)\x26\x26$jscomp$destructuring$var69.aggregate;if(!mark\x26\x26yAggregate\x3d\x3d\x3dcompositeMark)return\x22vertical\x22;if(yAggregate||mark!\x3d\x3dcompositeMark){if(mark\x3d\x3d\x3dcompositeMark\x26\x26yAggregate\x3d\x3d\x3dcompositeMark)throw Error(\x22Both x and y cannot have aggregate\x22);return isFieldOrDatumDefForTimeFormat($jscomp$destructuring$var69)\x26\x26!isFieldOrDatumDefForTimeFormat(spec)?\x22horizontal\x22:\x22vertical\x22}}return\x22horizontal\x22}if(isContinuousFieldOrDatumDef($jscomp$destructuring$var69))return\x22vertical\x22;\nthrow Error(\x22Need a valid continuous axis for \x22+compositeMark+\x22s\x22);}function normalizeBoxPlot(spec$jscomp$0,$jscomp$destructuring$var70){var config\x3d$jscomp$destructuring$var70.config,_a,_b;$jscomp$destructuring$var70\x3dspec$jscomp$0\x3dObject.assign(Object.assign({},spec$jscomp$0),{encoding:normalizeEncoding(spec$jscomp$0.encoding,config)});var mark\x3d$jscomp$destructuring$var70.mark,selection\x3d$jscomp$destructuring$var70.selection;$jscomp$destructuring$var70\x3d__rest(spec$jscomp$0,[\x22mark\x22,\x22encoding\x22,\x22selection\x22,\n\x22projection\x22]);mark\x3disMarkDef(mark)?mark:{type:mark};selection\x26\x26warn(selectionNotSupported(\x22boxplot\x22));selection\x3dnull!\x3d\x3d(_a\x3dmark.extent)\x26\x26void 0!\x3d\x3d_a?_a:config.boxplot.extent;var sizeValue\x3dgetMarkPropOrConfig(\x22size\x22,mark,config),boxPlotType\x3disNumber(selection)?\x22tukey\x22:selection,spec\x3dspec$jscomp$0,orient\x3dcompositeMarkOrient(spec,\x22boxplot\x22);_a\x3dcompositeMarkContinuousAxis(spec,orient,\x22boxplot\x22);spec$jscomp$0\x3d_a.continuousAxisChannelDef;_a\x3d_a.continuousAxis;var continuousFieldName\x3dspec$jscomp$0.field,\nboxPlotType$jscomp$0\x3disNumber(selection)?\x22tukey\x22:selection,boxplotSpecificAggregate\x3d[].concat($jscomp.arrayFromIterable(boxParamsQuartiles(continuousFieldName)),[{op:\x22median\x22,field:continuousFieldName,as:\x22mid_box_\x22+continuousFieldName},{op:\x22min\x22,field:continuousFieldName,as:(\x22min-max\x22\x3d\x3d\x3dboxPlotType$jscomp$0?\x22lower_whisker_\x22:\x22min_\x22)+continuousFieldName},{op:\x22max\x22,field:continuousFieldName,as:(\x22min-max\x22\x3d\x3d\x3dboxPlotType$jscomp$0?\x22upper_whisker_\x22:\x22max_\x22)+continuousFieldName}]);continuousFieldName\x3d\x22min-max\x22\x3d\x3d\x3d\nboxPlotType$jscomp$0||\x22tukey\x22\x3d\x3d\x3dboxPlotType$jscomp$0?[]:[{calculate:\x27datum[\x22upper_box_\x27+continuousFieldName+\x27\x22] - datum[\x22lower_box_\x27+continuousFieldName+\x27\x22]\x27,as:\x22iqr_\x22+continuousFieldName},{calculate:\x27min(datum[\x22upper_box_\x27+continuousFieldName+\x27\x22] + datum[\x22iqr_\x27+continuousFieldName+\x27\x22] * \x27+selection+\x27, datum[\x22max_\x27+continuousFieldName+\x27\x22])\x27,as:\x22upper_whisker_\x22+continuousFieldName},{calculate:\x27max(datum[\x22lower_box_\x27+continuousFieldName+\x27\x22] - datum[\x22iqr_\x27+continuousFieldName+\x27\x22] * \x27+selection+\x27, datum[\x22min_\x27+\ncontinuousFieldName+\x27\x22])\x27,as:\x22lower_whisker_\x22+continuousFieldName}];spec\x3d__rest(spec.encoding,[\x22symbol\x22\x3d\x3d\x3dtypeof _a?_a:_a+\x22\x22]);var JSCompiler_inline_result;boxPlotType$jscomp$0\x3dspec.tooltip;spec\x3d__rest(spec,[\x22tooltip\x22]);if(boxPlotType$jscomp$0){var customTooltipWithoutAggregatedField;if(isArray(boxPlotType$jscomp$0)){boxPlotType$jscomp$0\x3d$jscomp.makeIterator(boxPlotType$jscomp$0);for(var $jscomp$inline_2911\x3dboxPlotType$jscomp$0.next();!$jscomp$inline_2911.done;$jscomp$inline_2911\x3dboxPlotType$jscomp$0.next())$jscomp$inline_2911\x3d\n$jscomp$inline_2911.value,$jscomp$inline_2911.aggregate?(JSCompiler_inline_result||(JSCompiler_inline_result\x3d[]),JSCompiler_inline_result.push($jscomp$inline_2911)):(customTooltipWithoutAggregatedField||(customTooltipWithoutAggregatedField\x3d[]),customTooltipWithoutAggregatedField.push($jscomp$inline_2911));JSCompiler_inline_result\x26\x26(spec.tooltip\x3dJSCompiler_inline_result)}else boxPlotType$jscomp$0.aggregate?spec.tooltip\x3dboxPlotType$jscomp$0:customTooltipWithoutAggregatedField\x3dboxPlotType$jscomp$0;isArray(customTooltipWithoutAggregatedField)\x26\x26\n1\x3d\x3d\x3dcustomTooltipWithoutAggregatedField.length\x26\x26(customTooltipWithoutAggregatedField\x3dcustomTooltipWithoutAggregatedField[0]);JSCompiler_inline_result\x3d{customTooltipWithoutAggregatedField:customTooltipWithoutAggregatedField,filteredEncoding:spec}}else JSCompiler_inline_result\x3d{filteredEncoding:spec};customTooltipWithoutAggregatedField\x3dJSCompiler_inline_result;JSCompiler_inline_result\x3dcustomTooltipWithoutAggregatedField.customTooltipWithoutAggregatedField;var $jscomp$inline_2915\x3dextractTransformsFromEncoding(customTooltipWithoutAggregatedField.filteredEncoding,\nconfig);customTooltipWithoutAggregatedField\x3d$jscomp$inline_2915.bins;spec\x3d$jscomp$inline_2915.timeUnits;boxPlotType$jscomp$0\x3d$jscomp$inline_2915.aggregate;$jscomp$inline_2911\x3d$jscomp$inline_2915.groupby;var encodingWithoutContinuousAxis\x3d$jscomp$inline_2915.encoding,ticksOrient\x3d\x22vertical\x22\x3d\x3d\x3dorient?\x22horizontal\x22:\x22vertical\x22;boxplotSpecificAggregate\x3d[].concat($jscomp.arrayFromIterable(customTooltipWithoutAggregatedField),$jscomp.arrayFromIterable(spec),[{aggregate:[].concat($jscomp.arrayFromIterable(boxPlotType$jscomp$0),\n$jscomp.arrayFromIterable(boxplotSpecificAggregate)),groupby:$jscomp$inline_2911}],$jscomp.arrayFromIterable(continuousFieldName));continuousFieldName\x3dencodingWithoutContinuousAxis.color;var size\x3dencodingWithoutContinuousAxis.size;$jscomp$inline_2915\x3d__rest(encodingWithoutContinuousAxis,[\x22color\x22,\x22size\x22]);var makeBoxPlotExtent\x3dmakeCompositeAggregatePartFactory(mark,_a,spec$jscomp$0,$jscomp$inline_2915,config.boxplot),makeBoxPlotBox\x3dmakeCompositeAggregatePartFactory(mark,_a,spec$jscomp$0,encodingWithoutContinuousAxis,\nconfig.boxplot);size\x3dmakeCompositeAggregatePartFactory(mark,_a,spec$jscomp$0,Object.assign(Object.assign({},$jscomp$inline_2915),size?{size:size}:{}),config.boxplot);var fiveSummaryTooltipEncoding\x3dgetCompositeMarkTooltip([{fieldPrefix:\x22min-max\x22\x3d\x3d\x3dboxPlotType?\x22upper_whisker_\x22:\x22max_\x22,titlePrefix:\x22Max\x22},{fieldPrefix:\x22upper_box_\x22,titlePrefix:\x22Q3\x22},{fieldPrefix:\x22mid_box_\x22,titlePrefix:\x22Median\x22},{fieldPrefix:\x22lower_box_\x22,titlePrefix:\x22Q1\x22},{fieldPrefix:\x22min-max\x22\x3d\x3d\x3dboxPlotType?\x22lower_whisker_\x22:\x22min_\x22,titlePrefix:\x22Min\x22}],\nspec$jscomp$0,encodingWithoutContinuousAxis),endTick\x3d{type:\x22tick\x22,color:\x22black\x22,opacity:1,orient:ticksOrient,invalid:null,aria:!1};encodingWithoutContinuousAxis\x3d\x22min-max\x22\x3d\x3d\x3dboxPlotType?fiveSummaryTooltipEncoding:getCompositeMarkTooltip([{fieldPrefix:\x22upper_whisker_\x22,titlePrefix:\x22Upper Whisker\x22},{fieldPrefix:\x22lower_whisker_\x22,titlePrefix:\x22Lower Whisker\x22}],spec$jscomp$0,encodingWithoutContinuousAxis);encodingWithoutContinuousAxis\x3d[].concat($jscomp.arrayFromIterable(makeBoxPlotExtent({partName:\x22rule\x22,\nmark:{type:\x22rule\x22,invalid:null,aria:!1},positionPrefix:\x22lower_whisker\x22,endPositionPrefix:\x22lower_box\x22,extraEncoding:encodingWithoutContinuousAxis})),$jscomp.arrayFromIterable(makeBoxPlotExtent({partName:\x22rule\x22,mark:{type:\x22rule\x22,invalid:null,aria:!1},positionPrefix:\x22upper_box\x22,endPositionPrefix:\x22upper_whisker\x22,extraEncoding:encodingWithoutContinuousAxis})),$jscomp.arrayFromIterable(makeBoxPlotExtent({partName:\x22ticks\x22,mark:endTick,positionPrefix:\x22lower_whisker\x22,extraEncoding:encodingWithoutContinuousAxis})),\n$jscomp.arrayFromIterable(makeBoxPlotExtent({partName:\x22ticks\x22,mark:endTick,positionPrefix:\x22upper_whisker\x22,extraEncoding:encodingWithoutContinuousAxis})));sizeValue\x3d[].concat($jscomp.arrayFromIterable(\x22tukey\x22!\x3d\x3dboxPlotType?encodingWithoutContinuousAxis:[]),$jscomp.arrayFromIterable(makeBoxPlotBox({partName:\x22box\x22,mark:Object.assign(Object.assign({type:\x22bar\x22},sizeValue?{size:sizeValue}:{}),{orient:orient,invalid:null,ariaRoleDescription:\x22box\x22}),positionPrefix:\x22lower_box\x22,endPositionPrefix:\x22upper_box\x22,\nextraEncoding:fiveSummaryTooltipEncoding})),$jscomp.arrayFromIterable(size({partName:\x22median\x22,mark:Object.assign(Object.assign(Object.assign({type:\x22tick\x22,invalid:null},isObject(config.boxplot.median)\x26\x26config.boxplot.median.color?{color:config.boxplot.median.color}:{}),sizeValue?{size:sizeValue}:{}),{orient:ticksOrient,aria:!1}),positionPrefix:\x22mid_box\x22,extraEncoding:fiveSummaryTooltipEncoding})));if(\x22min-max\x22\x3d\x3d\x3dboxPlotType)return Object.assign(Object.assign({},$jscomp$destructuring$var70),{transform:(null!\x3d\x3d\n(_b\x3d$jscomp$destructuring$var70.transform)\x26\x26void 0!\x3d\x3d_b?_b:[]).concat(boxplotSpecificAggregate),layer:sizeValue});_b\x3d\x27datum[\x22lower_box_\x27+spec$jscomp$0.field+\x27\x22]\x27;boxPlotType\x3d\x27datum[\x22upper_box_\x27+spec$jscomp$0.field+\x27\x22]\x27;orient\x3d\x22(\x22+boxPlotType+\x22 - \x22+_b+\x22)\x22;_b\x3d_b+\x22 - \x22+selection+\x22 * \x22+orient;boxPlotType\x3dboxPlotType+\x22 + \x22+selection+\x22 * \x22+orient;orient\x3d\x27datum[\x22\x27+spec$jscomp$0.field+\x27\x22]\x27;selection\x3d{joinaggregate:boxParamsQuartiles(spec$jscomp$0.field),groupby:$jscomp$inline_2911};boxPlotType$jscomp$0\x3d{transform:[{filter:\x22(\x22+\n_b+\x22 \\x3c\\x3d \x22+orient+\x22) \\x26\\x26 (\x22+orient+\x22 \\x3c\\x3d \x22+boxPlotType+\x22)\x22},{aggregate:[{op:\x22min\x22,field:spec$jscomp$0.field,as:\x22lower_whisker_\x22+spec$jscomp$0.field},{op:\x22max\x22,field:spec$jscomp$0.field,as:\x22upper_whisker_\x22+spec$jscomp$0.field},{op:\x22min\x22,field:\x22lower_box_\x22+spec$jscomp$0.field,as:\x22lower_box_\x22+spec$jscomp$0.field},{op:\x22max\x22,field:\x22upper_box_\x22+spec$jscomp$0.field,as:\x22upper_box_\x22+spec$jscomp$0.field}].concat($jscomp.arrayFromIterable(boxPlotType$jscomp$0)),groupby:$jscomp$inline_2911}],layer:encodingWithoutContinuousAxis};\n$jscomp$inline_2911\x3d__rest($jscomp$inline_2915,[\x22tooltip\x22]);$jscomp$inline_2915\x3dspec$jscomp$0.scale;ticksOrient\x3dspec$jscomp$0.axis;encodingWithoutContinuousAxis\x3dgetFirstDefined(spec$jscomp$0.title,spec$jscomp$0.field);ticksOrient\x3domit(ticksOrient,[\x22title\x22]);makeBoxPlotBox\x3d{};config\x3dpartLayerMixins(mark,\x22outliers\x22,config.boxplot,{transform:[{filter:\x22(\x22+orient+\x22 \\x3c \x22+_b+\x22) || (\x22+orient+\x22 \\x3e \x22+boxPlotType+\x22)\x22}],mark:\x22point\x22,encoding:Object.assign(Object.assign(Object.assign((makeBoxPlotBox[_a]\x3dObject.assign(Object.assign(Object.assign({field:spec$jscomp$0.field,\ntype:spec$jscomp$0.type},void 0!\x3d\x3dencodingWithoutContinuousAxis?{title:encodingWithoutContinuousAxis}:{}),void 0!\x3d\x3d$jscomp$inline_2915?{scale:$jscomp$inline_2915}:{}),isEmpty(ticksOrient)?{}:{axis:ticksOrient}),makeBoxPlotBox),$jscomp$inline_2911),continuousFieldName?{color:continuousFieldName}:{}),JSCompiler_inline_result?{tooltip:JSCompiler_inline_result}:{})})[0];mark\x3d[].concat($jscomp.arrayFromIterable(customTooltipWithoutAggregatedField),$jscomp.arrayFromIterable(spec),[selection]);config?config\x3d\n{transform:mark,layer:[config,boxPlotType$jscomp$0]}:(config\x3dboxPlotType$jscomp$0,config.transform.unshift.apply(config.transform,$jscomp.arrayFromIterable(mark)));return Object.assign(Object.assign({},$jscomp$destructuring$var70),{layer:[config,{transform:boxplotSpecificAggregate,layer:sizeValue}]})}function boxParamsQuartiles(continousAxisField){return[{op:\x22q1\x22,field:continousAxisField,as:\x22lower_box_\x22+continousAxisField},{op:\x22q3\x22,field:continousAxisField,as:\x22upper_box_\x22+continousAxisField}]}function normalizeErrorBar(spec,\n$jscomp$destructuring$var79){var config\x3d$jscomp$destructuring$var79.config;spec\x3dObject.assign(Object.assign({},spec),{encoding:normalizeEncoding(spec.encoding,config)});var $jscomp$destructuring$var81\x3derrorBarParams(spec,\x22errorbar\x22,config);spec\x3d$jscomp$destructuring$var81.transform;var continuousAxisChannelDef\x3d$jscomp$destructuring$var81.continuousAxisChannelDef,continuousAxis\x3d$jscomp$destructuring$var81.continuousAxis,encodingWithoutContinuousAxis\x3d$jscomp$destructuring$var81.encodingWithoutContinuousAxis,\nticksOrient\x3d$jscomp$destructuring$var81.ticksOrient,markDef\x3d$jscomp$destructuring$var81.markDef;$jscomp$destructuring$var79\x3d$jscomp$destructuring$var81.outerSpec;$jscomp$destructuring$var81\x3d$jscomp$destructuring$var81.tooltipEncoding;delete encodingWithoutContinuousAxis.size;config\x3dmakeCompositeAggregatePartFactory(markDef,continuousAxis,continuousAxisChannelDef,encodingWithoutContinuousAxis,config.errorbar);continuousAxisChannelDef\x3dmarkDef.thickness;markDef\x3dmarkDef.size;ticksOrient\x3dObject.assign(Object.assign({type:\x22tick\x22,\norient:ticksOrient,aria:!1},void 0!\x3d\x3dcontinuousAxisChannelDef?{thickness:continuousAxisChannelDef}:{}),void 0!\x3d\x3dmarkDef?{size:markDef}:{});ticksOrient\x3d[].concat($jscomp.arrayFromIterable(config({partName:\x22ticks\x22,mark:ticksOrient,positionPrefix:\x22lower\x22,extraEncoding:$jscomp$destructuring$var81})),$jscomp.arrayFromIterable(config({partName:\x22ticks\x22,mark:ticksOrient,positionPrefix:\x22upper\x22,extraEncoding:$jscomp$destructuring$var81})),$jscomp.arrayFromIterable(config({partName:\x22rule\x22,mark:Object.assign({type:\x22rule\x22,\nariaRoleDescription:\x22errorbar\x22},void 0!\x3d\x3dcontinuousAxisChannelDef?{size:continuousAxisChannelDef}:{}),positionPrefix:\x22lower\x22,endPositionPrefix:\x22upper\x22,extraEncoding:$jscomp$destructuring$var81})));return Object.assign(Object.assign(Object.assign({},$jscomp$destructuring$var79),{transform:spec}),1\x3cticksOrient.length?{layer:ticksOrient}:Object.assign({},ticksOrient[0]))}function errorBarOrientAndInputType(spec,compositeMark){var encoding\x3dspec.encoding;if(!(!isFieldOrDatumDef(encoding.x)\x26\x26!isFieldOrDatumDef(encoding.y)||\nisFieldOrDatumDef(encoding.x2)||isFieldOrDatumDef(encoding.y2)||isFieldOrDatumDef(encoding.xError)||isFieldOrDatumDef(encoding.xError2)||isFieldOrDatumDef(encoding.yError)||isFieldOrDatumDef(encoding.yError2)))return{orient:compositeMarkOrient(spec,compositeMark),inputType:\x22raw\x22};var isTypeAggregatedUpperLower\x3disFieldOrDatumDef(encoding.x2)||isFieldOrDatumDef(encoding.y2),isTypeAggregatedError\x3disFieldOrDatumDef(encoding.xError)||isFieldOrDatumDef(encoding.xError2)||isFieldOrDatumDef(encoding.yError)||\nisFieldOrDatumDef(encoding.yError2);spec\x3dencoding.x;var y\x3dencoding.y;if(isTypeAggregatedUpperLower){if(isTypeAggregatedError)throw Error(compositeMark+\x22 cannot be both type aggregated-upper-lower and aggregated-error\x22);isTypeAggregatedUpperLower\x3dencoding.x2;encoding\x3dencoding.y2;if(isFieldOrDatumDef(isTypeAggregatedUpperLower)\x26\x26isFieldOrDatumDef(encoding))throw Error(compositeMark+\x22 cannot have both x2 and y2\x22);if(isFieldOrDatumDef(isTypeAggregatedUpperLower)){if(isContinuousFieldOrDatumDef(spec))return{orient:\x22horizontal\x22,\ninputType:\x22aggregated-upper-lower\x22};throw Error(\x22Both x and x2 have to be quantitative in \x22+compositeMark);}if(isFieldOrDatumDef(encoding)){if(isContinuousFieldOrDatumDef(y))return{orient:\x22vertical\x22,inputType:\x22aggregated-upper-lower\x22};throw Error(\x22Both y and y2 have to be quantitative in \x22+compositeMark);}}else{isTypeAggregatedUpperLower\x3dencoding.xError;isTypeAggregatedError\x3dencoding.yError;var yError2\x3dencoding.yError2;if(isFieldOrDatumDef(encoding.xError2)\x26\x26!isFieldOrDatumDef(isTypeAggregatedUpperLower))throw Error(compositeMark+\n\x22 cannot have xError2 without xError\x22);if(isFieldOrDatumDef(yError2)\x26\x26!isFieldOrDatumDef(isTypeAggregatedError))throw Error(compositeMark+\x22 cannot have yError2 without yError\x22);if(isFieldOrDatumDef(isTypeAggregatedUpperLower)\x26\x26isFieldOrDatumDef(isTypeAggregatedError))throw Error(compositeMark+\x22 cannot have both xError and yError with both are quantiative\x22);if(isFieldOrDatumDef(isTypeAggregatedUpperLower)){if(isContinuousFieldOrDatumDef(spec))return{orient:\x22horizontal\x22,inputType:\x22aggregated-error\x22};\nthrow Error(\x22All x, xError, and xError2 (if exist) have to be quantitative\x22);}if(isFieldOrDatumDef(isTypeAggregatedError)){if(isContinuousFieldOrDatumDef(y))return{orient:\x22vertical\x22,inputType:\x22aggregated-error\x22};throw Error(\x22All y, yError, and yError2 (if exist) have to be quantitative\x22);}}throw Error(\x22No ranged axis\x22);}function errorBarParams(spec,compositeMark,config){var _a,mark\x3dspec.mark,encoding\x3dspec.encoding,selection\x3dspec.selection,outerSpec\x3d__rest(spec,[\x22mark\x22,\x22encoding\x22,\x22selection\x22,\x22projection\x22]);\nmark\x3disMarkDef(mark)?mark:{type:mark};selection\x26\x26warn(selectionNotSupported(compositeMark));var $jscomp$destructuring$var84\x3derrorBarOrientAndInputType(spec,compositeMark);selection\x3d$jscomp$destructuring$var84.orient;$jscomp$destructuring$var84\x3d$jscomp$destructuring$var84.inputType;var $jscomp$destructuring$var85\x3dcompositeMarkContinuousAxis(spec,selection,compositeMark);spec\x3d$jscomp$destructuring$var85.continuousAxisChannelDef;var continuousAxisChannelDef2\x3d$jscomp$destructuring$var85.continuousAxisChannelDef2,\ncontinuousAxisChannelDefError\x3d$jscomp$destructuring$var85.continuousAxisChannelDefError,continuousAxisChannelDefError2\x3d$jscomp$destructuring$var85.continuousAxisChannelDefError2;$jscomp$destructuring$var85\x3d$jscomp$destructuring$var85.continuousAxis;var JSCompiler_object_inline_errorBarSpecificAggregate_2767\x3d[];var JSCompiler_object_inline_postAggregateCalculates_2766\x3d[];var continuousFieldName\x3dspec.field,tooltipTitleWithFieldName\x3d!1;if(\x22raw\x22\x3d\x3d\x3d$jscomp$destructuring$var84){var JSCompiler_object_inline_tooltipSummary_2768\x3d\nmark.center?mark.center:mark.extent?\x22iqr\x22\x3d\x3d\x3dmark.extent?\x22median\x22:\x22mean\x22:config.errorbar.center;continuousAxisChannelDef2\x3dmark.extent?mark.extent:\x22mean\x22\x3d\x3d\x3dJSCompiler_object_inline_tooltipSummary_2768?\x22stderr\x22:\x22iqr\x22;\x22median\x22\x3d\x3d\x3dJSCompiler_object_inline_tooltipSummary_2768!\x3d\x3d(\x22iqr\x22\x3d\x3d\x3dcontinuousAxisChannelDef2)\x26\x26warn(JSCompiler_object_inline_tooltipSummary_2768+\x22 is not usually used with \x22+continuousAxisChannelDef2+\x22 for \x22+compositeMark+\x22.\x22);\x22stderr\x22\x3d\x3d\x3dcontinuousAxisChannelDef2||\x22stdev\x22\x3d\x3d\x3dcontinuousAxisChannelDef2?\n(JSCompiler_object_inline_errorBarSpecificAggregate_2767\x3d[{op:continuousAxisChannelDef2,field:continuousFieldName,as:\x22extent_\x22+continuousFieldName},{op:JSCompiler_object_inline_tooltipSummary_2768,field:continuousFieldName,as:\x22center_\x22+continuousFieldName}],JSCompiler_object_inline_postAggregateCalculates_2766\x3d[{calculate:\x27datum[\x22center_\x27+continuousFieldName+\x27\x22] + datum[\x22extent_\x27+continuousFieldName+\x27\x22]\x27,as:\x22upper_\x22+continuousFieldName},{calculate:\x27datum[\x22center_\x27+continuousFieldName+\x27\x22] - datum[\x22extent_\x27+\ncontinuousFieldName+\x27\x22]\x27,as:\x22lower_\x22+continuousFieldName}],JSCompiler_object_inline_tooltipSummary_2768\x3d[{fieldPrefix:\x22center_\x22,titlePrefix:titleCase(JSCompiler_object_inline_tooltipSummary_2768)},{fieldPrefix:\x22upper_\x22,titlePrefix:titleCase(JSCompiler_object_inline_tooltipSummary_2768)+\x22 + \x22+continuousAxisChannelDef2},{fieldPrefix:\x22lower_\x22,titlePrefix:titleCase(JSCompiler_object_inline_tooltipSummary_2768)+\x22 - \x22+continuousAxisChannelDef2}],tooltipTitleWithFieldName\x3d!0):(\x22ci\x22\x3d\x3d\x3dcontinuousAxisChannelDef2?\n(JSCompiler_object_inline_tooltipSummary_2768\x3d\x22mean\x22,compositeMark\x3d\x22ci0\x22,continuousAxisChannelDef2\x3d\x22ci1\x22):(JSCompiler_object_inline_tooltipSummary_2768\x3d\x22median\x22,compositeMark\x3d\x22q1\x22,continuousAxisChannelDef2\x3d\x22q3\x22),JSCompiler_object_inline_errorBarSpecificAggregate_2767\x3d[{op:compositeMark,field:continuousFieldName,as:\x22lower_\x22+continuousFieldName},{op:continuousAxisChannelDef2,field:continuousFieldName,as:\x22upper_\x22+continuousFieldName},{op:JSCompiler_object_inline_tooltipSummary_2768,field:continuousFieldName,\nas:\x22center_\x22+continuousFieldName}],JSCompiler_object_inline_tooltipSummary_2768\x3d[{fieldPrefix:\x22upper_\x22,titlePrefix:title$jscomp$0({field:continuousFieldName,aggregate:continuousAxisChannelDef2,type:\x22quantitative\x22},config,{allowDisabling:!1})},{fieldPrefix:\x22lower_\x22,titlePrefix:title$jscomp$0({field:continuousFieldName,aggregate:compositeMark,type:\x22quantitative\x22},config,{allowDisabling:!1})},{fieldPrefix:\x22center_\x22,titlePrefix:title$jscomp$0({field:continuousFieldName,aggregate:JSCompiler_object_inline_tooltipSummary_2768,\ntype:\x22quantitative\x22},config,{allowDisabling:!1})}])}else{if(mark.center||mark.extent){compositeMark\x3dmark.center;var extent\x3dmark.extent;warn((extent?\x22extent \x22:\x22\x22)+(extent\x26\x26compositeMark?\x22and \x22:\x22\x22)+(compositeMark?\x22center \x22:\x22\x22)+(extent\x26\x26compositeMark?\x22are \x22:\x22is \x22)+\x22not needed when data are aggregated.\x22)}\x22aggregated-upper-lower\x22\x3d\x3d\x3d$jscomp$destructuring$var84?(JSCompiler_object_inline_tooltipSummary_2768\x3d[],JSCompiler_object_inline_postAggregateCalculates_2766\x3d[{calculate:\x27datum[\x22\x27+continuousAxisChannelDef2.field+\n\x27\x22]\x27,as:\x22upper_\x22+continuousFieldName},{calculate:\x27datum[\x22\x27+continuousFieldName+\x27\x22]\x27,as:\x22lower_\x22+continuousFieldName}]):\x22aggregated-error\x22\x3d\x3d\x3d$jscomp$destructuring$var84\x26\x26(JSCompiler_object_inline_tooltipSummary_2768\x3d[{fieldPrefix:\x22\x22,titlePrefix:continuousFieldName}],JSCompiler_object_inline_postAggregateCalculates_2766\x3d[{calculate:\x27datum[\x22\x27+continuousFieldName+\x27\x22] + datum[\x22\x27+continuousAxisChannelDefError.field+\x27\x22]\x27,as:\x22upper_\x22+continuousFieldName}],continuousAxisChannelDefError2?JSCompiler_object_inline_postAggregateCalculates_2766.push({calculate:\x27datum[\x22\x27+\ncontinuousFieldName+\x27\x22] + datum[\x22\x27+continuousAxisChannelDefError2.field+\x27\x22]\x27,as:\x22lower_\x22+continuousFieldName}):JSCompiler_object_inline_postAggregateCalculates_2766.push({calculate:\x27datum[\x22\x27+continuousFieldName+\x27\x22] - datum[\x22\x27+continuousAxisChannelDefError.field+\x27\x22]\x27,as:\x22lower_\x22+continuousFieldName}));compositeMark\x3d$jscomp.makeIterator(JSCompiler_object_inline_postAggregateCalculates_2766);for(continuousFieldName\x3dcompositeMark.next();!continuousFieldName.done;continuousFieldName\x3dcompositeMark.next())continuousFieldName\x3d\ncontinuousFieldName.value,JSCompiler_object_inline_tooltipSummary_2768.push({fieldPrefix:continuousFieldName.as.substring(0,6),titlePrefix:replaceAll(replaceAll(continuousFieldName.calculate,\x27datum[\x22\x27,\x22\x22),\x27\x22]\x27,\x22\x22)})}compositeMark\x3d\x22x\x22\x3d\x3d\x3d$jscomp$destructuring$var85?\x22x2\x22:\x22y2\x22;continuousFieldName\x3d\x22x\x22\x3d\x3d\x3d$jscomp$destructuring$var85?\x22xError\x22:\x22yError\x22;continuousAxisChannelDef2\x3d\x22x\x22\x3d\x3d\x3d$jscomp$destructuring$var85?\x22xError2\x22:\x22yError2\x22;encoding\x3d__rest(encoding,[\x22symbol\x22\x3d\x3d\x3dtypeof $jscomp$destructuring$var85?$jscomp$destructuring$var85:\n$jscomp$destructuring$var85+\x22\x22,\x22symbol\x22\x3d\x3d\x3dtypeof compositeMark?compositeMark:compositeMark+\x22\x22,\x22symbol\x22\x3d\x3d\x3dtypeof continuousFieldName?continuousFieldName:continuousFieldName+\x22\x22,\x22symbol\x22\x3d\x3d\x3dtypeof continuousAxisChannelDef2?continuousAxisChannelDef2:continuousAxisChannelDef2+\x22\x22]);continuousAxisChannelDef2\x3dextractTransformsFromEncoding(encoding,config);config\x3dcontinuousAxisChannelDef2.bins;encoding\x3dcontinuousAxisChannelDef2.timeUnits;continuousFieldName\x3dcontinuousAxisChannelDef2.groupby;compositeMark\x3dcontinuousAxisChannelDef2.encoding;\nJSCompiler_object_inline_errorBarSpecificAggregate_2767\x3d[].concat($jscomp.arrayFromIterable(continuousAxisChannelDef2.aggregate),$jscomp.arrayFromIterable(JSCompiler_object_inline_errorBarSpecificAggregate_2767));$jscomp$destructuring$var84\x3d\x22raw\x22!\x3d\x3d$jscomp$destructuring$var84?[]:continuousFieldName;tooltipTitleWithFieldName\x3dgetCompositeMarkTooltip(JSCompiler_object_inline_tooltipSummary_2768,spec,compositeMark,tooltipTitleWithFieldName);return{transform:[].concat($jscomp.arrayFromIterable(null!\x3d\x3d\n(_a\x3douterSpec.transform)\x26\x26void 0!\x3d\x3d_a?_a:[]),$jscomp.arrayFromIterable(config),$jscomp.arrayFromIterable(encoding),$jscomp.arrayFromIterable(0\x3d\x3d\x3dJSCompiler_object_inline_errorBarSpecificAggregate_2767.length?[]:[{aggregate:JSCompiler_object_inline_errorBarSpecificAggregate_2767,groupby:$jscomp$destructuring$var84}]),$jscomp.arrayFromIterable(JSCompiler_object_inline_postAggregateCalculates_2766)),groupby:$jscomp$destructuring$var84,continuousAxisChannelDef:spec,continuousAxis:$jscomp$destructuring$var85,\nencodingWithoutContinuousAxis:compositeMark,ticksOrient:\x22vertical\x22\x3d\x3d\x3dselection?\x22horizontal\x22:\x22vertical\x22,markDef:mark,outerSpec:outerSpec,tooltipEncoding:tooltipTitleWithFieldName}}function normalizeErrorBand(spec,$jscomp$destructuring$var88){var config\x3d$jscomp$destructuring$var88.config;spec\x3dObject.assign(Object.assign({},spec),{encoding:normalizeEncoding(spec.encoding,config)});var $jscomp$destructuring$var90\x3derrorBarParams(spec,\x22errorband\x22,config);$jscomp$destructuring$var88\x3d$jscomp$destructuring$var90.transform;\nvar outerSpec\x3d$jscomp$destructuring$var90.outerSpec,tooltipEncoding\x3d$jscomp$destructuring$var90.tooltipEncoding,errorBandDef\x3d$jscomp$destructuring$var90.markDef;config\x3dmakeCompositeAggregatePartFactory(errorBandDef,$jscomp$destructuring$var90.continuousAxis,$jscomp$destructuring$var90.continuousAxisChannelDef,$jscomp$destructuring$var90.encodingWithoutContinuousAxis,config.errorband);spec\x3dvoid 0!\x3d\x3dspec.encoding.x\x26\x26void 0!\x3d\x3dspec.encoding.y;$jscomp$destructuring$var90\x3d{type:spec?\x22area\x22:\x22rect\x22};var bordersMark\x3d\n{type:spec?\x22line\x22:\x22rule\x22},interpolate\x3dObject.assign(Object.assign({},errorBandDef.interpolate?{interpolate:errorBandDef.interpolate}:{}),errorBandDef.tension\x26\x26errorBandDef.interpolate?{tension:errorBandDef.tension}:{});spec?($jscomp$destructuring$var90\x3dObject.assign(Object.assign(Object.assign({},$jscomp$destructuring$var90),interpolate),{ariaRoleDescription:\x22errorband\x22}),bordersMark\x3dObject.assign(Object.assign(Object.assign({},bordersMark),interpolate),{aria:!1})):errorBandDef.interpolate?warn(errorBand1DNotSupport(\x22interpolate\x22)):\nerrorBandDef.tension\x26\x26warn(errorBand1DNotSupport(\x22tension\x22));return Object.assign(Object.assign({},outerSpec),{transform:$jscomp$destructuring$var88,layer:[].concat($jscomp.arrayFromIterable(config({partName:\x22band\x22,mark:$jscomp$destructuring$var90,positionPrefix:\x22lower\x22,endPositionPrefix:\x22upper\x22,extraEncoding:tooltipEncoding})),$jscomp.arrayFromIterable(config({partName:\x22borders\x22,mark:bordersMark,positionPrefix:\x22lower\x22,extraEncoding:tooltipEncoding})),$jscomp.arrayFromIterable(config({partName:\x22borders\x22,\nmark:bordersMark,positionPrefix:\x22upper\x22,extraEncoding:tooltipEncoding})))})}function add(mark,run,parts){run\x3dnew CompositeMarkNormalizer(mark,run);compositeMarkRegistry[mark]\x3d{normalizer:run,parts:parts}}function isLegendBinding(bind){return!!bind\x26\x26(\x22legend\x22\x3d\x3d\x3dbind||!!bind.legend)}function isLegendStreamBinding(bind){return isLegendBinding(bind)\x26\x26isObject(bind)}function isStep(size){return isObject(size)\x26\x26void 0!\x3d\x3dsize.step}function isFrameMixins(o){return o.view||o.width||o.height}function extractCompositionLayout(spec,\nspecType,config){var _a,_b,layout\x3d{};config\x3dconfig[specType];specType\x3dconfig.spacing;config\x3dconfig.columns;void 0!\x3d\x3dspecType\x26\x26(layout.spacing\x3dspecType);void 0!\x3d\x3dconfig\x26\x26(\x22facet\x22in spec\x26\x26!isFacetMapping(spec.facet)||\x22concat\x22in spec)\x26\x26(layout.columns\x3dconfig);\x22vconcat\x22in spec\x26\x26(layout.columns\x3d1);config\x3d$jscomp.makeIterator(COMPOSITION_LAYOUT_PROPERTIES);for(var $jscomp$key$prop\x3dconfig.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3dconfig.next())if($jscomp$key$prop\x3d$jscomp$key$prop.value,void 0!\x3d\x3dspec[$jscomp$key$prop])if(\x22spacing\x22\x3d\x3d\x3d\n$jscomp$key$prop){var spacing\x3dspec[$jscomp$key$prop];layout[$jscomp$key$prop]\x3disNumber(spacing)?spacing:{row:null!\x3d\x3d(_a\x3dspacing.row)\x26\x26void 0!\x3d\x3d_a?_a:specType,column:null!\x3d\x3d(_b\x3dspacing.column)\x26\x26void 0!\x3d\x3d_b?_b:specType}}else layout[$jscomp$key$prop]\x3dspec[$jscomp$key$prop];return layout}function getViewConfigContinuousSize(viewConfig,channel){var _a;return null!\x3d\x3d(_a\x3dviewConfig[channel])\x26\x26void 0!\x3d\x3d_a?_a:viewConfig[\x22width\x22\x3d\x3d\x3dchannel?\x22continuousWidth\x22:\x22continuousHeight\x22]}function getViewConfigDiscreteStep(viewConfig,\nchannel){viewConfig\x3dgetViewConfigDiscreteSize(viewConfig,channel);return isStep(viewConfig)?viewConfig.step:20}function getViewConfigDiscreteSize(viewConfig,channel){var _a;channel\x3dnull!\x3d\x3d(_a\x3dviewConfig[channel])\x26\x26void 0!\x3d\x3d_a?_a:viewConfig[\x22width\x22\x3d\x3d\x3dchannel?\x22discreteWidth\x22:\x22discreteHeight\x22];return getFirstDefined(channel,{step:viewConfig.step})}function initConfig(config){var $jscomp$destructuring$var92\x3dconfig\x3dvoid 0\x3d\x3d\x3dconfig?{}:config,color\x3d$jscomp$destructuring$var92.color,font\x3d$jscomp$destructuring$var92.font;\n$jscomp$destructuring$var92\x3d$jscomp$destructuring$var92.fontSize;config\x3d__rest(config,[\x22color\x22,\x22font\x22,\x22fontSize\x22]);font\x3dfont?{text:{font:font},style:{\x22guide-label\x22:{font:font},\x22guide-title\x22:{font:font},\x22group-title\x22:{font:font},\x22group-subtitle\x22:{font:font}}}:{};color?(color\x3dvoid 0\x3d\x3d\x3dcolor?{}:color,color\x3d{signals:[{name:\x22color\x22,value:isObject(color)?Object.assign(Object.assign({},DEFAULT_COLOR),color):DEFAULT_COLOR}],mark:{color:{signal:\x22color.blue\x22}},rule:{color:{signal:\x22color.gray0\x22}},text:{color:{signal:\x22color.gray0\x22}},\nstyle:{\x22guide-label\x22:{fill:{signal:\x22color.gray0\x22}},\x22guide-title\x22:{fill:{signal:\x22color.gray0\x22}},\x22group-title\x22:{fill:{signal:\x22color.gray0\x22}},\x22group-subtitle\x22:{fill:{signal:\x22color.gray0\x22}},cell:{stroke:{signal:\x22color.gray8\x22}}},axis:{domainColor:{signal:\x22color.gray13\x22},gridColor:{signal:\x22color.gray8\x22},tickColor:{signal:\x22color.gray13\x22}},range:{category:[{signal:\x22color.blue\x22},{signal:\x22color.orange\x22},{signal:\x22color.red\x22},{signal:\x22color.teal\x22},{signal:\x22color.green\x22},{signal:\x22color.yellow\x22},{signal:\x22color.purple\x22},\n{signal:\x22color.pink\x22},{signal:\x22color.brown\x22},{signal:\x22color.grey8\x22}]}}):color\x3d{};return mergeConfig({},defaultConfig$1,font,color,$jscomp$destructuring$var92?{signals:[{name:\x22fontSize\x22,value:isObject($jscomp$destructuring$var92)?Object.assign(Object.assign({},DEFAULT_FONT_SIZE),$jscomp$destructuring$var92):DEFAULT_FONT_SIZE}],text:{fontSize:{signal:\x22fontSize.text\x22}},style:{\x22guide-label\x22:{fontSize:{signal:\x22fontSize.guideLabel\x22}},\x22guide-title\x22:{fontSize:{signal:\x22fontSize.guideTitle\x22}},\x22group-title\x22:{fontSize:{signal:\x22fontSize.groupTitle\x22}},\n\x22group-subtitle\x22:{fontSize:{signal:\x22fontSize.groupSubtitle\x22}}}}:{},config||{})}function stripAndRedirectConfig(config){config\x3dduplicate(config);for(var $jscomp$iter$86\x3d$jscomp.makeIterator(VL_ONLY_CONFIG_PROPERTIES),$jscomp$key$prop\x3d$jscomp$iter$86.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d$jscomp$iter$86.next())delete config[$jscomp$key$prop.value];if(config.axis)for(var prop$361 in config.axis)isConditionalAxisValue(config.axis[prop$361])\x26\x26delete config.axis[prop$361];if(config.legend)for($jscomp$iter$86\x3d\n$jscomp.makeIterator(VL_ONLY_LEGEND_CONFIG),$jscomp$key$prop\x3d$jscomp$iter$86.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d$jscomp$iter$86.next())delete config.legend[$jscomp$key$prop.value];if(config.mark){$jscomp$iter$86\x3d$jscomp.makeIterator(VL_ONLY_MARK_CONFIG_PROPERTIES);for($jscomp$key$prop\x3d$jscomp$iter$86.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d$jscomp$iter$86.next())delete config.mark[$jscomp$key$prop.value];config.mark.tooltip\x26\x26isObject(config.mark.tooltip)\x26\x26delete config.mark.tooltip}$jscomp$iter$86\x3d\n$jscomp.makeIterator(MARK_STYLES);for(prop$361\x3d$jscomp$iter$86.next();!prop$361.done;prop$361\x3d$jscomp$iter$86.next()){prop$361\x3dprop$361.value;var $jscomp$iter$89\x3d$jscomp.makeIterator(VL_ONLY_MARK_CONFIG_PROPERTIES);for($jscomp$key$prop\x3d$jscomp$iter$89.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d$jscomp$iter$89.next())delete config[prop$361][$jscomp$key$prop.value];if($jscomp$key$prop\x3dVL_ONLY_ALL_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX[prop$361])for($jscomp$iter$89\x3d$jscomp.makeIterator($jscomp$key$prop),\n$jscomp$key$prop\x3d$jscomp$iter$89.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d$jscomp$iter$89.next())delete config[prop$361][$jscomp$key$prop.value];$jscomp$key$prop\x3dconfig;$jscomp$iter$89\x3dvoid 0;var propConfig\x3d$jscomp$key$prop[prop$361];\x22view\x22\x3d\x3d\x3dprop$361\x26\x26($jscomp$iter$89\x3d\x22cell\x22);propConfig\x3dObject.assign(Object.assign({},propConfig),$jscomp$key$prop.style[null!\x3d\x3d$jscomp$iter$89\x26\x26void 0!\x3d\x3d$jscomp$iter$89?$jscomp$iter$89:prop$361]);isEmpty(propConfig)||($jscomp$key$prop.style[null!\x3d\x3d$jscomp$iter$89\x26\x26\nvoid 0!\x3d\x3d$jscomp$iter$89?$jscomp$iter$89:prop$361]\x3dpropConfig);delete $jscomp$key$prop[prop$361]}$jscomp$iter$86\x3d$jscomp.makeIterator(keys(compositeMarkRegistry));for(prop$361\x3d$jscomp$iter$86.next();!prop$361.done;prop$361\x3d$jscomp$iter$86.next())delete config[prop$361.value];$jscomp$iter$86\x3dconfig;$jscomp$iter$89\x3dextractTitleConfig($jscomp$iter$86.title);prop$361\x3d$jscomp$iter$89.titleMarkConfig;$jscomp$key$prop\x3d$jscomp$iter$89.subtitleMarkConfig;$jscomp$iter$89\x3d$jscomp$iter$89.subtitle;isEmpty(prop$361)||\n($jscomp$iter$86.style[\x22group-title\x22]\x3dObject.assign(Object.assign({},$jscomp$iter$86.style[\x22group-title\x22]),prop$361));isEmpty($jscomp$key$prop)||($jscomp$iter$86.style[\x22group-subtitle\x22]\x3dObject.assign(Object.assign({},$jscomp$iter$86.style[\x22group-subtitle\x22]),$jscomp$key$prop));isEmpty($jscomp$iter$89)?delete $jscomp$iter$86.title:$jscomp$iter$86.title\x3d$jscomp$iter$89;for(var prop$366 in config)isObject(config[prop$366])\x26\x26isEmpty(config[prop$366])\x26\x26delete config[prop$366];return isEmpty(config)?void 0:\nconfig}function potentialStackedChannel(encoding,x){var _a,_b,y\x3d\x22x\x22\x3d\x3d\x3dx?\x22y\x22:\x22radius\x22,xDef\x3dencoding[x];encoding\x3dencoding[y];if(isFieldDef(xDef)\x26\x26isFieldDef(encoding))if(\x22quantitative\x22\x3d\x3d\x3dchannelDefType(xDef)\x26\x26\x22quantitative\x22\x3d\x3d\x3dchannelDefType(encoding)){if(xDef.stack)return x;if(encoding.stack)return y;var xAggregate\x3disFieldDef(xDef)\x26\x26!!xDef.aggregate,yAggregate\x3disFieldDef(encoding)\x26\x26!!encoding.aggregate;if(xAggregate!\x3d\x3dyAggregate)return xAggregate?x:y;xDef\x3dnull\x3d\x3d\x3d(_a\x3dxDef.scale)||void 0\x3d\x3d\x3d_a?void 0:\n_a.type;_a\x3dnull\x3d\x3d\x3d(_b\x3dencoding.scale)||void 0\x3d\x3d\x3d_b?void 0:_b.type;if(xDef\x26\x26\x22linear\x22!\x3d\x3dxDef)return y;if(_a\x26\x26\x22linear\x22!\x3d\x3d_a)return x}else{if(\x22quantitative\x22\x3d\x3d\x3dchannelDefType(xDef))return x;if(\x22quantitative\x22\x3d\x3d\x3dchannelDefType(encoding))return y}else{if(\x22quantitative\x22\x3d\x3d\x3dchannelDefType(xDef))return x;if(\x22quantitative\x22\x3d\x3d\x3dchannelDefType(encoding))return y}}function getDimensionChannel(channel){switch(channel){case \x22x\x22:return\x22y\x22;case \x22y\x22:return\x22x\x22;case \x22theta\x22:return\x22radius\x22;case \x22radius\x22:return\x22theta\x22}}function stack(m,\nencoding,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;m\x3disMarkDef(m)?m.type:m;if(!STACKABLE_MARKS.has(m))return null;var fieldChannel\x3dpotentialStackedChannel(encoding,\x22x\x22)||potentialStackedChannel(encoding,\x22theta\x22);if(!fieldChannel)return null;var stackedFieldDef\x3dencoding[fieldChannel],stackedField\x3disFieldDef(stackedFieldDef)?vgField(stackedFieldDef,{}):void 0,dimensionChannel\x3dgetDimensionChannel(fieldChannel),dimensionDef\x3dencoding[dimensionChannel],dimensionField\x3disFieldDef(dimensionDef)?vgField(dimensionDef,{}):\nvoid 0;dimensionField\x3d\x3d\x3dstackedField\x26\x26(dimensionChannel\x3ddimensionDef\x3ddimensionField\x3dvoid 0);stackedField\x3dNONPOSITION_CHANNELS.reduce(function(sc,channel){if(\x22tooltip\x22!\x3d\x3dchannel\x26\x26channelHasField(encoding,channel))for(var $jscomp$iter$93\x3d$jscomp.makeIterator(array$jscomp$0(encoding[channel])),$jscomp$key$cDef\x3d$jscomp$iter$93.next();!$jscomp$key$cDef.done;$jscomp$key$cDef\x3d$jscomp$iter$93.next())if($jscomp$key$cDef\x3dgetFieldDef($jscomp$key$cDef.value),!$jscomp$key$cDef.aggregate){var f\x3dvgField($jscomp$key$cDef,\n{});f\x26\x26f\x3d\x3d\x3ddimensionField||sc.push({channel:channel,fieldDef:$jscomp$key$cDef})}return sc},[]);var offset;void 0!\x3d\x3dstackedFieldDef.stack?offset\x3disBoolean(stackedFieldDef.stack)?stackedFieldDef.stack?\x22zero\x22:null:stackedFieldDef.stack:0\x3cstackedField.length\x26\x26STACK_BY_DEFAULT_MARKS.has(m)\x26\x26(offset\x3d\x22zero\x22);if(!(offset\x26\x26offset in STACK_OFFSET_INDEX)||isAggregate(encoding)\x26\x260\x3d\x3d\x3dstackedField.length)return null;if(stackedFieldDef.scale\x26\x26stackedFieldDef.scale.type\x26\x26stackedFieldDef.scale.type!\x3d\x3dScaleType.LINEAR){if(opt.disallowNonLinearStack)return null;\nwarn(\x22Cannot stack non-linear scale (\x22+stackedFieldDef.scale.type+\x22).\x22)}if(isFieldOrDatumDef(encoding[getSecondaryRangeChannel(fieldChannel)]))return void 0!\x3d\x3dstackedFieldDef.stack\x26\x26warn(\x27Cannot stack \x22\x27+fieldChannel+\x27\x22 if there is already \x22\x27+fieldChannel+\x272\x22.\x27),null;isFieldDef(stackedFieldDef)\x26\x26stackedFieldDef.aggregate\x26\x26!contains(SUM_OPS,stackedFieldDef.aggregate)\x26\x26warn(\x27Stacking is applied even though the aggregate function is non-summative (\x22\x27+stackedFieldDef.aggregate+\x27\x22).\x27);return{groupbyChannel:dimensionDef?\ndimensionChannel:void 0,groupbyField:dimensionField,fieldChannel:fieldChannel,impute:null\x3d\x3d\x3dstackedFieldDef.impute?!1:isPathMark(m),stackBy:stackedField,offset:offset}}function dropLineAndPoint(markDef){markDef\x3d__rest(markDef,[\x22point\x22,\x22line\x22]);return 1\x3ckeys(markDef).length?markDef:markDef.type}function dropLineAndPointFromConfig(config){for(var $jscomp$iter$94\x3d$jscomp.makeIterator([\x22line\x22,\x22area\x22,\x22rule\x22,\x22trail\x22]),$jscomp$key$mark\x3d$jscomp$iter$94.next();!$jscomp$key$mark.done;$jscomp$key$mark\x3d$jscomp$iter$94.next())if($jscomp$key$mark\x3d\n$jscomp$key$mark.value,config[$jscomp$key$mark]){var $jscomp$compprop5\x3d{};config\x3dObject.assign(Object.assign({},config),($jscomp$compprop5[$jscomp$key$mark]\x3domit(config[$jscomp$key$mark],[\x22point\x22,\x22line\x22]),$jscomp$compprop5))}return config}function getPointOverlay(markDef,markConfig,encoding){markConfig\x3dvoid 0\x3d\x3d\x3dmarkConfig?{}:markConfig;if(\x22transparent\x22\x3d\x3d\x3dmarkDef.point)return{opacity:0};if(markDef.point)return isObject(markDef.point)?markDef.point:{};if(void 0!\x3d\x3dmarkDef.point)return null;if(markConfig.point||\nencoding.shape)return isObject(markConfig.point)?markConfig.point:{}}function getLineOverlay(markDef,markConfig){markConfig\x3dvoid 0\x3d\x3d\x3dmarkConfig?{}:markConfig;if(markDef.line)return!0\x3d\x3d\x3dmarkDef.line?{}:markDef.line;if(void 0!\x3d\x3dmarkDef.line)return null;if(markConfig.line)return!0\x3d\x3d\x3dmarkConfig.line?{}:markConfig.line}function replaceRepeaterInEncoding(encoding,repeater){return repeater?replaceRepeaterInMapping(encoding,repeater):encoding}function replaceRepeatInProp(prop,o,repeater){var val\x3do[prop];\nif(val\x26\x26!isString(val)\x26\x26\x22repeat\x22in val){if(val.repeat in repeater){var $jscomp$compprop8\x3d{};return Object.assign(Object.assign({},o),($jscomp$compprop8[prop]\x3drepeater[val.repeat],$jscomp$compprop8))}warn(\x27Unknown repeated value \x22\x27+val.repeat+\x27\x22.\x27)}else return o}function replaceRepeaterInFieldDef(fieldDef,repeater){fieldDef\x3dreplaceRepeatInProp(\x22field\x22,fieldDef,repeater);if(void 0!\x3d\x3dfieldDef){if(null\x3d\x3d\x3dfieldDef)return null;\x22sort\x22in fieldDef\x26\x26isSortField(fieldDef.sort)\x26\x26(repeater\x3dreplaceRepeatInProp(\x22field\x22,\nfieldDef.sort,repeater),fieldDef\x3dObject.assign(Object.assign({},fieldDef),repeater?{sort:repeater}:{}));return fieldDef}}function replaceRepeaterInFieldOrDatumDef(def,repeater){if(isFieldDef(def))return replaceRepeaterInFieldDef(def,repeater);repeater\x3dreplaceRepeatInProp(\x22datum\x22,def,repeater);repeater\x3d\x3d\x3ddef||repeater.type||(repeater.type\x3d\x22nominal\x22);return repeater}function replaceRepeaterInChannelDef(channelDef,repeater){if(isFieldOrDatumDef(channelDef)){if(repeater\x3dreplaceRepeaterInFieldOrDatumDef(channelDef,\nrepeater))return repeater;if(channelDef\x26\x26\x22condition\x22in channelDef)return{condition:channelDef.condition}}else return hasConditionalFieldOrDatumDef(channelDef)?(repeater\x3dreplaceRepeaterInFieldOrDatumDef(channelDef.condition,repeater))?Object.assign(Object.assign({},channelDef),{condition:repeater}):__rest(channelDef,[\x22condition\x22]):channelDef}function replaceRepeaterInMapping(mapping,repeater){var out\x3d{},channel;for(channel in mapping)if(hop.call(mapping,channel)){var channelDef\x3dmapping[channel];isArray(channelDef)?\nout[channel]\x3dchannelDef.map(function(cd){return replaceRepeaterInChannelDef(cd,repeater)}).filter(function(cd){return cd}):(channelDef\x3dreplaceRepeaterInChannelDef(channelDef,repeater),void 0!\x3d\x3dchannelDef\x26\x26(out[channel]\x3dchannelDef))}return out}function mergeEncoding($jscomp$destructuring$var118){var parentEncoding\x3d$jscomp$destructuring$var118.parentEncoding,encoding\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var118.encoding?{}:$jscomp$destructuring$var118.encoding;$jscomp$destructuring$var118\x3d$jscomp$destructuring$var118.layer;\nvar merged\x3d{};if(parentEncoding){var channels\x3dnew Set([].concat($jscomp.arrayFromIterable(keys(parentEncoding)),$jscomp.arrayFromIterable(keys(encoding))));channels\x3d$jscomp.makeIterator(channels);for(var $jscomp$key$channel\x3dchannels.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3dchannels.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var channelDef\x3dencoding[$jscomp$key$channel],parentChannelDef\x3dparentEncoding[$jscomp$key$channel];if(isFieldOrDatumDef(channelDef))channelDef\x3dObject.assign(Object.assign({},\nparentChannelDef),channelDef),merged[$jscomp$key$channel]\x3dchannelDef;else if(hasConditionalFieldOrDatumDef(channelDef))merged[$jscomp$key$channel]\x3dObject.assign(Object.assign({},channelDef),{condition:Object.assign(Object.assign({},parentChannelDef),channelDef.condition)});else if(channelDef||null\x3d\x3d\x3dchannelDef)merged[$jscomp$key$channel]\x3dchannelDef;else if($jscomp$destructuring$var118||isValueDef(parentChannelDef)||isSignalRef(parentChannelDef)||isFieldOrDatumDef(parentChannelDef)||isArray(parentChannelDef))merged[$jscomp$key$channel]\x3d\nparentChannelDef}}else merged\x3dencoding;return!merged||isEmpty(merged)?void 0:merged}function mergeProjection(opt){var parentProjection\x3dopt.parentProjection;opt\x3dopt.projection;if(parentProjection\x26\x26opt){var JSCompiler_inline_result\x3d\x22Layer\x27s shared projection \x22+stringify(parentProjection)+\x22 is overridden by a child projection \x22+stringify(opt)+\x22.\x22;warn(JSCompiler_inline_result)}return null!\x3d\x3dopt\x26\x26void 0!\x3d\x3dopt?opt:parentProjection}function normalize(spec,config$jscomp$0){void 0\x3d\x3d\x3dconfig$jscomp$0\x26\x26(config$jscomp$0\x3d\ninitConfig(spec.config));var JSCompiler_inline_result\x3dconfig$jscomp$0;JSCompiler_inline_result\x3dvoid 0\x3d\x3d\x3dJSCompiler_inline_result?{}:JSCompiler_inline_result;JSCompiler_inline_result\x3dnormalizer.map(spec,{config:JSCompiler_inline_result});var config\x3dconfig$jscomp$0;config$jscomp$0\x3dspec.width;spec\x3dspec.height;var isFitCompatible\x3disUnitSpec(JSCompiler_inline_result)||\x22layer\x22in JSCompiler_inline_result,autosizeDefault\x3d{};isFitCompatible?\x22container\x22\x3d\x3dconfig$jscomp$0\x26\x26\x22container\x22\x3d\x3dspec?(autosizeDefault.type\x3d\n\x22fit\x22,autosizeDefault.contains\x3d\x22padding\x22):\x22container\x22\x3d\x3dconfig$jscomp$0?(autosizeDefault.type\x3d\x22fit-x\x22,autosizeDefault.contains\x3d\x22padding\x22):\x22container\x22\x3d\x3dspec\x26\x26(autosizeDefault.type\x3d\x22fit-y\x22,autosizeDefault.contains\x3d\x22padding\x22):(\x22container\x22\x3d\x3dconfig$jscomp$0\x26\x26(warn(containerSizeNonSingle(\x22width\x22)),config$jscomp$0\x3dvoid 0),\x22container\x22\x3d\x3dspec\x26\x26(warn(containerSizeNonSingle(\x22height\x22)),spec\x3dvoid 0));config\x3dObject.assign(Object.assign(Object.assign({type:\x22pad\x22},autosizeDefault),config?_normalizeAutoSize(config.autosize):\n{}),_normalizeAutoSize(JSCompiler_inline_result.autosize));\x22fit\x22!\x3d\x3dconfig.type||isFitCompatible||(warn(\x27Autosize \x22fit\x22 only works for single views and layered views.\x27),config.type\x3d\x22pad\x22);\x22container\x22\x3d\x3dconfig$jscomp$0\x26\x26\x22fit\x22!\x3dconfig.type\x26\x26\x22fit-x\x22!\x3dconfig.type\x26\x26warn(containerSizeNotCompatibleWithAutosize(\x22width\x22));\x22container\x22\x3d\x3dspec\x26\x26\x22fit\x22!\x3dconfig.type\x26\x26\x22fit-y\x22!\x3dconfig.type\x26\x26warn(containerSizeNotCompatibleWithAutosize(\x22height\x22));config$jscomp$0\x3ddeepEqual(config,{type:\x22pad\x22})?void 0:config;return Object.assign(Object.assign({},\nJSCompiler_inline_result),config$jscomp$0?{autosize:config$jscomp$0}:{})}function _normalizeAutoSize(autosize){return isString(autosize)?{type:autosize}:null!\x3d\x3dautosize\x26\x26void 0!\x3d\x3dautosize?autosize:{}}function extractTopLevelProperties(t){return TOP_LEVEL_PROPERTIES.reduce(function(o,p){t\x26\x26void 0!\x3d\x3dt[p]\x26\x26(o[p]\x3dt[p]);return o},{})}function makeExplicit(value){return{explicit:!0,value:value}}function makeImplicit(value){return{explicit:!1,value:value}}function tieBreakByComparing(compare){return function(v1,\nv2,property,propertyOf){var diff\x3dcompare(v1.value,v2.value);return 0\x3cdiff?v1:0\x3ediff?v2:defaultTieBreaker(v1,v2,property,propertyOf)}}function defaultTieBreaker(v1$jscomp$0,v2,property,propertyOf){if(v1$jscomp$0.explicit\x26\x26v2.explicit){var v1\x3dv1$jscomp$0.value;v2\x3dv2.value;property\x3d\x22Conflicting \x22+propertyOf.toString()+\x27 property \x22\x27+property.toString()+\x27\x22 (\x27+stringify(v1)+\x22 and \x22+stringify(v2)+\x22). Using \x22+stringify(v1)+\x22.\x22;warn(property)}return v1$jscomp$0}function mergeValuesWithExplicit(v1,v2,property,\npropertyOf,tieBreaker){tieBreaker\x3dvoid 0\x3d\x3d\x3dtieBreaker?defaultTieBreaker:tieBreaker;return void 0\x3d\x3d\x3dv1||void 0\x3d\x3d\x3dv1.value?v2:v1.explicit\x26\x26!v2.explicit?v1:v2.explicit\x26\x26!v1.explicit?v2:deepEqual(v1.value,v2.value)?v1:tieBreaker(v1,v2,property,propertyOf)}function isNamedData(data){return\x22name\x22in data\x26\x26!(\x22url\x22in data)\x26\x26!(\x22values\x22in data)\x26\x26!isGenerator(data)}function isGenerator(data){return data\x26\x26(\x22sequence\x22in data||\x22sphere\x22in data||\x22graticule\x22in data)}function normalizeTransform(transform){return transform.map(function(t){return\x22filter\x22in\nt?{filter:normalizeLogicalComposition(t.filter,normalizePredicate)}:t})}function parseSelector(selector,source,marks){DEFAULT_SOURCE\x3dsource||\x22view\x22;MARKS\x3dmarks||DEFAULT_MARKS;return parseMerge(selector.trim()).map(parseSelector$1)}function find(s,i,endChar,pushChar,popChar){for(var n\x3ds.length,count\x3d0,c;i\x3cn;++i)if(c\x3ds[i],count||c!\x3d\x3dendChar)popChar\x26\x260\x3c\x3dpopChar.indexOf(c)?--count:pushChar\x26\x260\x3c\x3dpushChar.indexOf(c)\x26\x26++count;else break;return i}function parseMerge(s){for(var output\x3d[],n\x3ds.length,start\x3d0,\ni\x3d0;i\x3cn;)i\x3dfind(s,i,\x22,\x22,\x22[{\x22,\x22]}\x22),output.push(s.substring(start,i).trim()),start\x3d++i;if(0\x3d\x3d\x3doutput.length)throw\x22Empty event selector: \x22+s;return output}function parseSelector$1(s){if(\x22[\x22\x3d\x3d\x3ds[0]){var JSCompiler_temp\x3ds;var n\x3dJSCompiler_temp.length;s\x3dfind(JSCompiler_temp,1,\x22]\x22,\x22[\x22,\x22]\x22);if(s\x3d\x3d\x3dn)throw\x22Empty between selector: \x22+JSCompiler_temp;n\x3dparseMerge(JSCompiler_temp.substring(1,s));if(2!\x3d\x3dn.length)throw\x22Between selector must have two elements: \x22+JSCompiler_temp;JSCompiler_temp\x3dJSCompiler_temp.slice(s+\n1).trim();if(\x22\\x3e\x22!\x3d\x3dJSCompiler_temp[0])throw\x22Expected \x27\\x3e\x27 after between selector: \x22+JSCompiler_temp;n\x3dn.map(parseSelector$1);JSCompiler_temp\x3dparseSelector$1(JSCompiler_temp.slice(1).trim());JSCompiler_temp.between?JSCompiler_temp\x3d{between:n,stream:JSCompiler_temp}:JSCompiler_temp.between\x3dn}else{n\x3d{source:DEFAULT_SOURCE};var source\x3d[],throttle\x3d[0,0],markname\x3d0,start\x3d0,n$jscomp$0\x3ds.length,i\x3d0;if(\x22}\x22\x3d\x3d\x3ds[n$jscomp$0-1]){i\x3ds.lastIndexOf(\x22{\x22);if(0\x3c\x3di){try{throttle\x3dparseThrottle(s.substring(i+1,n$jscomp$0-\n1))}catch(e){throw\x22Invalid throttle specification: \x22+s;}s\x3ds.slice(0,i).trim();n$jscomp$0\x3ds.length}else throw\x22Unmatched right brace: \x22+s;i\x3d0}if(!n$jscomp$0)throw s;\x22@\x22\x3d\x3d\x3ds[0]\x26\x26(markname\x3d++i);var j\x3dfind(s,i,\x22:\x22);j\x3cn$jscomp$0\x26\x26(source.push(s.substring(start,j).trim()),start\x3di\x3d++j);i\x3dfind(s,i,\x22[\x22);if(i\x3d\x3d\x3dn$jscomp$0)source.push(s.substring(start,n$jscomp$0).trim());else if(source.push(s.substring(start,i).trim()),JSCompiler_temp\x3d[],start\x3d++i,start\x3d\x3d\x3dn$jscomp$0)throw\x22Unmatched left bracket: \x22+s;for(;i\x3c\nn$jscomp$0;){i\x3dfind(s,i,\x22]\x22);if(i\x3d\x3d\x3dn$jscomp$0)throw\x22Unmatched left bracket: \x22+s;JSCompiler_temp.push(s.substring(start,i).trim());if(i\x3cn$jscomp$0-1\x26\x26\x22[\x22!\x3d\x3ds[++i])throw\x22Expected left bracket: \x22+s;start\x3d++i}if(!(n$jscomp$0\x3dsource.length)||ILLEGAL.test(source[n$jscomp$0-1]))throw\x22Invalid event selector: \x22+s;1\x3cn$jscomp$0?(n.type\x3dsource[1],markname?n.markname\x3dsource[0].slice(1):MARKS[source[0]]?n.marktype\x3dsource[0]:n.source\x3dsource[0]):n.type\x3dsource[0];\x22!\x22\x3d\x3d\x3dn.type.slice(-1)\x26\x26(n.consume\x3d!0,n.type\x3dn.type.slice(0,\n-1));null!\x3dJSCompiler_temp\x26\x26(n.filter\x3dJSCompiler_temp);throttle[0]\x26\x26(n.throttle\x3dthrottle[0]);throttle[1]\x26\x26(n.debounce\x3dthrottle[1]);JSCompiler_temp\x3dn}return JSCompiler_temp}function parseThrottle(s){var a\x3ds.split(\x22,\x22);if(!s.length||2\x3ca.length)throw s;return a.map(function(_){_\x3d+_;if(_!\x3d\x3d_)throw s;return _})}function wrapCondition(model,channelDef,vgChannel,refFn){var condition\x3d!!channelDef\x26\x26\x22condition\x22in channelDef\x26\x26channelDef.condition;channelDef\x3drefFn(channelDef);if(condition){condition\x3darray$jscomp$0(condition).map(function(c){var conditionValueRef\x3d\nrefFn(c);c\x3dc.selection?parseSelectionPredicate(model,c.selection):expression$jscomp$0(model,c.test);return Object.assign({test:c},conditionValueRef)});var $jscomp$compprop9\x3d{};return $jscomp$compprop9[vgChannel]\x3d[].concat($jscomp.arrayFromIterable(condition),$jscomp.arrayFromIterable(void 0!\x3d\x3dchannelDef?[channelDef]:[])),$jscomp$compprop9}condition\x3d{};return void 0!\x3d\x3dchannelDef?(condition[vgChannel]\x3dchannelDef,condition):{}}function text$jscomp$0(model,channel){channel\x3dvoid 0\x3d\x3d\x3dchannel?\x22text\x22:channel;\nreturn wrapCondition(model,model.encoding[channel],channel,function(cDef){return textRef(cDef,model.config)})}function textRef(channelDef,config,expr){expr\x3dvoid 0\x3d\x3d\x3dexpr?\x22datum\x22:expr;if(channelDef){if(isValueDef(channelDef))return signalOrValueRef(channelDef.value);if(isFieldOrDatumDef(channelDef)){var $jscomp$destructuring$var123\x3dgetFormatMixins(channelDef);return formatSignalRef({fieldOrDatumDef:channelDef,format:$jscomp$destructuring$var123.format,formatType:$jscomp$destructuring$var123.formatType,\nexpr:expr,config:config})}}}function tooltip(model,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;var encoding\x3dmodel.encoding,markDef\x3dmodel.markDef,config\x3dmodel.config,stack\x3dmodel.stack,channelDef\x3dencoding.tooltip;if(isArray(channelDef))return{tooltip:tooltipRefForEncoding({tooltip:channelDef},stack,config,opt)};var datum\x3dopt.reactiveGeom?\x22datum.datum\x22:\x22datum\x22;return wrapCondition(model,channelDef,\x22tooltip\x22,function(cDef){var tooltipRefFromChannelDef\x3dtextRef(cDef,config,datum);if(tooltipRefFromChannelDef)return tooltipRefFromChannelDef;\nif(null!\x3d\x3dcDef){cDef\x3dgetMarkPropOrConfig(\x22tooltip\x22,markDef,config);!0\x3d\x3d\x3dcDef\x26\x26(cDef\x3d{content:\x22encoding\x22});if(isString(cDef))return{value:cDef};if(isObject(cDef))return isSignalRef(cDef)?cDef:\x22encoding\x22\x3d\x3d\x3dcDef.content?tooltipRefForEncoding(encoding,stack,config,opt):{signal:datum}}})}function tooltipData(encoding,stack,config,$jscomp$destructuring$var125){function add(fDef,channel){var mainChannel\x3dgetMainRangeChannel(channel);fDef\x3disTypedFieldDef(fDef)?fDef:Object.assign(Object.assign({},fDef),{type:encoding[mainChannel].type});\nmainChannel\x3dfDef.title||titleFormatter(fDef,config);mainChannel\x3darray$jscomp$0(mainChannel).join(\x22, \x22);if(channel in POSITION_SCALE_CHANNEL_INDEX){var channel2\x3d\x22x\x22\x3d\x3d\x3dchannel?\x22x2\x22:\x22y2\x22,fieldDef2\x3dgetFieldDef(encoding[channel2]);if(isBinned(fDef.bin)\x26\x26fieldDef2){var value\x3dvgField(fDef,{expr:expr});fieldDef2\x3dvgField(fieldDef2,{expr:expr});var $jscomp$destructuring$var127\x3dgetFormatMixins(fDef);value\x3dbinFormatExpression(value,fieldDef2,$jscomp$destructuring$var127.format,$jscomp$destructuring$var127.formatType,\nconfig);toSkip[channel2]\x3d!0}else stack\x26\x26stack.fieldChannel\x3d\x3d\x3dchannel\x26\x26\x22normalize\x22\x3d\x3d\x3dstack.offset\x26\x26(value\x3dgetFormatMixins(fDef),value\x3dformatSignalRef({fieldOrDatumDef:fDef,format:value.format,formatType:value.formatType,expr:expr,config:config,normalizeStack:!0}).signal)}value\x3dnull!\x3d\x3dvalue\x26\x26void 0!\x3d\x3dvalue?value:textRef(fDef,config,expr).signal;tuples.push({channel:channel,key:mainChannel,value:value})}var toSkip\x3d{},expr\x3d(void 0\x3d\x3d\x3d$jscomp$destructuring$var125?{}:$jscomp$destructuring$var125).reactiveGeom?\n\x22datum.datum\x22:\x22datum\x22,tuples\x3d[];forEach(encoding,function(channelDef,channel){isFieldDef(channelDef)?add(channelDef,channel):hasConditionalFieldDef(channelDef)\x26\x26add(channelDef.condition,channel)});$jscomp$destructuring$var125\x3d{};for(var $jscomp$iter$106\x3d$jscomp.makeIterator(tuples),$jscomp$key$\x3d$jscomp$iter$106.next();!$jscomp$key$.done;$jscomp$key$\x3d$jscomp$iter$106.next()){$jscomp$key$\x3d$jscomp$key$.value;var key\x3d$jscomp$key$.key,value$jscomp$0\x3d$jscomp$key$.value;toSkip[$jscomp$key$.channel]||$jscomp$destructuring$var125[key]||\n($jscomp$destructuring$var125[key]\x3dvalue$jscomp$0)}return $jscomp$destructuring$var125}function tooltipRefForEncoding(encoding,stack,config,$jscomp$destructuring$var131){encoding\x3dtooltipData(encoding,stack,config,{reactiveGeom:(void 0\x3d\x3d\x3d$jscomp$destructuring$var131?{}:$jscomp$destructuring$var131).reactiveGeom});encoding\x3dentries(encoding).map(function($jscomp$destructuring$var133){var $jscomp$destructuring$var134\x3d$jscomp.makeIterator($jscomp$destructuring$var133);$jscomp$destructuring$var133\x3d$jscomp$destructuring$var134.next().value;\n$jscomp$destructuring$var134\x3d$jscomp$destructuring$var134.next().value;return\x27\x22\x27+$jscomp$destructuring$var133+\x27\x22: \x27+$jscomp$destructuring$var134});return 0\x3cencoding.length?{signal:\x22{\x22+encoding.join(\x22, \x22)+\x22}\x22}:void 0}function aria(model){var enableAria\x3dgetMarkPropOrConfig(\x22aria\x22,model.markDef,model.config);return!1\x3d\x3d\x3denableAria?{}:Object.assign(Object.assign(Object.assign({},enableAria?{aria:enableAria}:{}),ariaRoleDescription(model)),description(model))}function ariaRoleDescription(model){var mark\x3d\nmodel.mark,config\x3dmodel.config;if(!1\x3d\x3d\x3dconfig.aria)return{};model\x3dgetMarkPropOrConfig(\x22ariaRoleDescription\x22,model.markDef,config);return null!\x3dmodel?{ariaRoleDescription:{value:model}}:mark in VG_MARK_INDEX?{}:{ariaRoleDescription:{value:mark}}}function description(model){var encoding\x3dmodel.encoding,markDef\x3dmodel.markDef,config\x3dmodel.config,stack\x3dmodel.stack,channelDef\x3dencoding.description;if(channelDef)return wrapCondition(model,channelDef,\x22description\x22,function(cDef){return textRef(cDef,model.config)});\nmarkDef\x3dgetMarkPropOrConfig(\x22description\x22,markDef,config);if(null!\x3dmarkDef)return{description:signalOrValueRef(markDef)};if(!1\x3d\x3d\x3dconfig.aria)return{};encoding\x3dtooltipData(encoding,stack,config);if(!isEmpty(encoding))return{description:{signal:entries(encoding).map(function($jscomp$destructuring$var138,index){var $jscomp$destructuring$var139\x3d$jscomp.makeIterator($jscomp$destructuring$var138);$jscomp$destructuring$var138\x3d$jscomp$destructuring$var139.next().value;$jscomp$destructuring$var139\x3d$jscomp$destructuring$var139.next().value;\nreturn\x27\x22\x27+(0\x3cindex?\x22; \x22:\x22\x22)+$jscomp$destructuring$var138+\x27: \x22 + (\x27+$jscomp$destructuring$var139+\x22)\x22}).join(\x22 + \x22)}}}function nonPosition(channel,model,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;var markDef\x3dmodel.markDef,encoding\x3dmodel.encoding,config\x3dmodel.config,vgChannel\x3dopt.vgChannel,defaultRef\x3dopt.defaultRef;opt\x3dopt.defaultValue;void 0\x3d\x3d\x3ddefaultRef\x26\x26(opt\x3dnull!\x3d\x3dopt\x26\x26void 0!\x3d\x3dopt?opt:getMarkPropOrConfig(channel,markDef,config,{vgChannel:vgChannel,ignoreVgConfig:!0}),void 0!\x3d\x3dopt\x26\x26(defaultRef\x3dsignalOrValueRef(opt)));\nreturn wrapCondition(model,encoding[channel],null!\x3d\x3dvgChannel\x26\x26void 0!\x3d\x3dvgChannel?vgChannel:channel,function(cDef){return midPoint({channel:channel,channelDef:cDef,markDef:markDef,config:config,scaleName:model.scaleName(channel),scale:model.getScaleComponent(channel),stack:null,defaultRef:defaultRef})})}function color$jscomp$0(model,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{filled:void 0}:opt;var _a,_b,_c,_d,markDef\x3dmodel.markDef,encoding\x3dmodel.encoding,config\x3dmodel.config,markType\x3dmarkDef.type;opt\x3dnull!\x3d\x3d(_a\x3dopt.filled)\x26\x26\nvoid 0!\x3d\x3d_a?_a:getMarkPropOrConfig(\x22filled\x22,markDef,config);_a\x3dcontains([\x22bar\x22,\x22point\x22,\x22circle\x22,\x22square\x22,\x22geoshape\x22],markType)?\x22transparent\x22:void 0;_a\x3dnull!\x3d\x3d(_c\x3dnull!\x3d\x3d(_b\x3dgetMarkPropOrConfig(!0\x3d\x3d\x3dopt?\x22color\x22:void 0,markDef,config,{vgChannel:\x22fill\x22}))\x26\x26void 0!\x3d\x3d_b?_b:config.mark[!0\x3d\x3d\x3dopt\x26\x26\x22color\x22])\x26\x26void 0!\x3d\x3d_c?_c:_a;_b\x3dnull!\x3d\x3d(_d\x3dgetMarkPropOrConfig(!1\x3d\x3d\x3dopt?\x22color\x22:void 0,markDef,config,{vgChannel:\x22stroke\x22}))\x26\x26void 0!\x3d\x3d_d?_d:config.mark[!1\x3d\x3d\x3dopt\x26\x26\x22color\x22];_d\x3dopt?\x22fill\x22:\x22stroke\x22;_c\x3dObject.assign(Object.assign({},\n_a?{fill:signalOrValueRef(_a)}:{}),_b?{stroke:signalOrValueRef(_b)}:{});markDef.color\x26\x26(opt?markDef.fill:markDef.stroke)\x26\x26warn(droppingColor(\x22property\x22,{fill:\x22fill\x22in markDef,stroke:\x22stroke\x22in markDef}));return Object.assign(Object.assign(Object.assign(Object.assign({},_c),nonPosition(\x22color\x22,model,{vgChannel:_d,defaultValue:opt?_a:_b})),nonPosition(\x22fill\x22,model,{defaultValue:encoding.fill?_a:void 0})),nonPosition(\x22stroke\x22,model,{defaultValue:encoding.stroke?_b:void 0}))}function zindex(model){var order\x3d\nmodel.encoding.order;return!isPathMark(model.mark)\x26\x26isValueDef(order)?wrapCondition(model,order,\x22zindex\x22,function(cd){return cd}):{}}function getOffset(channel,markDef){channel\x3dgetOffsetChannel(channel);if(markDef\x3dmarkDef[channel])return markDef}function pointPosition(channel,model,$jscomp$destructuring$var146){var defaultPos\x3d$jscomp$destructuring$var146.defaultPos,vgChannel\x3d$jscomp$destructuring$var146.vgChannel;$jscomp$destructuring$var146\x3d$jscomp$destructuring$var146.isMidPoint;var encoding\x3dmodel.encoding,\nmarkDef\x3dmodel.markDef,config\x3dmodel.config,stack\x3dmodel.stack,channelDef\x3dencoding[channel],channel2Def\x3dencoding[getSecondaryRangeChannel(channel)],scaleName\x3dmodel.scaleName(channel),scale\x3dmodel.getScaleComponent(channel),offset\x3dgetOffset(channel,markDef);defaultPos\x3dpointPositionDefaultRef({model:model,defaultPos:defaultPos,channel:channel,scaleName:scaleName,scale:scale});if(!channelDef\x26\x26channel in POSITION_SCALE_CHANNEL_INDEX\x26\x26(encoding.latitude||encoding.longitude))model\x3d{field:model.getName(channel)};\nelse a:if(encoding\x3d{channel:channel,channelDef:channelDef,channel2Def:channel2Def,markDef:markDef,config:config,isMidPoint:$jscomp$destructuring$var146,scaleName:scaleName,scale:scale,stack:stack,offset:offset,defaultRef:defaultPos},markDef\x3dencoding.channel,model\x3dencoding.channelDef,config\x3dencoding.isMidPoint,defaultPos\x3dencoding.scaleName,stack\x3dencoding.stack,$jscomp$destructuring$var146\x3dencoding.offset,channelDef\x3dencoding.markDef,channel2Def\x3dencoding.config,isFieldOrDatumDef(model)\x26\x26stack\x26\x26markDef\x3d\x3d\x3d\nstack.fieldChannel){if(isFieldDef(model)\x26\x26(encoding\x3dgetBand({channel:markDef,fieldDef:model,isMidPoint:config,markDef:channelDef,stack:stack,config:channel2Def}),void 0!\x3d\x3dencoding)){model\x3dinterpolatedSignalRef({scaleName:defaultPos,fieldOrDatumDef:model,startSuffix:\x22start\x22,band:encoding,offset:$jscomp$destructuring$var146});break a}model\x3dvalueRefForFieldOrDatumDef(model,defaultPos,{suffix:\x22end\x22},{offset:$jscomp$destructuring$var146})}else model\x3dmidPointRefWithPositionInvalidTest(encoding);defaultPos\x3d\n{};return model?(defaultPos[vgChannel||channel]\x3dmodel,defaultPos):void 0}function pointPositionDefaultRef($jscomp$destructuring$var150){var model\x3d$jscomp$destructuring$var150.model,defaultPos\x3d$jscomp$destructuring$var150.defaultPos,channel\x3d$jscomp$destructuring$var150.channel,scaleName\x3d$jscomp$destructuring$var150.scaleName,scale\x3d$jscomp$destructuring$var150.scale,markDef\x3dmodel.markDef,config\x3dmodel.config;return function(){var mainChannel\x3dgetMainRangeChannel(channel),vgChannel\x3dgetVgPositionChannel(channel);\nvgChannel\x3dgetMarkPropOrConfig(channel,markDef,config,{vgChannel:vgChannel});if(void 0!\x3d\x3dvgChannel)return widthHeightValueOrSignalRef(channel,vgChannel);switch(defaultPos){case \x22zeroOrMin\x22:case \x22zeroOrMax\x22:if(scaleName\x26\x26(vgChannel\x3dscale.get(\x22type\x22),!contains([ScaleType.LOG,ScaleType.TIME,ScaleType.UTC],vgChannel)\x26\x26scale.domainDefinitelyIncludesZero()))return{scale:scaleName,value:0};if(\x22zeroOrMin\x22\x3d\x3d\x3ddefaultPos)return\x22y\x22\x3d\x3d\x3dmainChannel?{field:{group:\x22height\x22}}:{value:0};switch(mainChannel){case \x22radius\x22:return{signal:\x22min(\x22+\nmodel.width.signal+\x22,\x22+model.height.signal+\x22)/2\x22};case \x22theta\x22:return{signal:\x222*PI\x22};case \x22x\x22:return{field:{group:\x22width\x22}};case \x22y\x22:return{value:0}}break;case \x22mid\x22:return mainChannel\x3dmodel[getSizeChannel(channel)],Object.assign(Object.assign({},mainChannel),{mult:.5})}}}function vgAlignedPositionChannel(channel,markDef,config,defaultAlign){defaultAlign\x3dvoid 0\x3d\x3d\x3ddefaultAlign?\x22middle\x22:defaultAlign;if(\x22radius\x22\x3d\x3d\x3dchannel||\x22theta\x22\x3d\x3d\x3dchannel)return getVgPositionChannel(channel);markDef\x3dgetMarkPropOrConfig(\x22x\x22\x3d\x3d\x3d\nchannel?\x22align\x22:\x22baseline\x22,markDef,config);return\x22x\x22\x3d\x3d\x3dchannel?ALIGNED_X_CHANNEL[markDef||(\x22top\x22\x3d\x3d\x3ddefaultAlign?\x22left\x22:\x22center\x22)]:BASELINED_Y_CHANNEL[markDef||defaultAlign]}function pointOrRangePosition(channel,model,$jscomp$destructuring$var153){var defaultPos\x3d$jscomp$destructuring$var153.defaultPos,defaultPos2\x3d$jscomp$destructuring$var153.defaultPos2;return $jscomp$destructuring$var153.range?rangePosition(channel,model,{defaultPos:defaultPos,defaultPos2:defaultPos2}):pointPosition(channel,model,\n{defaultPos:defaultPos})}function rangePosition(channel,model,$jscomp$destructuring$var155){var defaultPos\x3d$jscomp$destructuring$var155.defaultPos,defaultPos2\x3d$jscomp$destructuring$var155.defaultPos2;$jscomp$destructuring$var155\x3dmodel.markDef;var config\x3dmodel.config,channel2\x3dgetSecondaryRangeChannel(channel),sizeChannel\x3dgetSizeChannel(channel);var encoding\x3dmodel.encoding,mark\x3dmodel.mark,markDef\x3dmodel.markDef,stack\x3dmodel.stack,config$jscomp$0\x3dmodel.config,baseChannel\x3dgetMainRangeChannel(channel2),\nsizeChannel$jscomp$0\x3dgetSizeChannel(channel2);var JSCompiler_inline_result\x3dgetVgPositionChannel(channel2);var channelDef\x3dencoding[baseChannel],scaleName\x3dmodel.scaleName(baseChannel),scale\x3dmodel.getScaleComponent(baseChannel);baseChannel\x3dchannel2 in encoding||channel2 in markDef?getOffset(channel2,model.markDef):getOffset(baseChannel,model.markDef);channelDef||\x22x2\x22!\x3d\x3dchannel2\x26\x26\x22y2\x22!\x3d\x3dchannel2||!encoding.latitude\x26\x26!encoding.longitude?(encoding\x3dencoding[channel2],stack\x3disFieldOrDatumDef(channelDef)\x26\x26\nstack\x26\x26channel2.charAt(0)\x3d\x3d\x3dstack.fieldChannel.charAt(0)?valueRefForFieldOrDatumDef(channelDef,scaleName,{suffix:\x22start\x22},{offset:baseChannel}):midPointRefWithPositionInvalidTest({channel:channel2,channelDef:encoding,scaleName:scaleName,scale:scale,stack:stack,markDef:markDef,config:config$jscomp$0,offset:baseChannel,defaultRef:void 0}),void 0!\x3d\x3dstack?(channel2\x3d{},JSCompiler_inline_result\x3d(channel2[JSCompiler_inline_result]\x3dstack,channel2)):(stack\x3d{},channelDef\x3d{},JSCompiler_inline_result\x3dposition2orSize(channel2,\nmarkDef)||position2orSize(channel2,(stack[channel2]\x3dgetMarkStyleConfig(channel2,markDef,config$jscomp$0.style),stack[sizeChannel$jscomp$0]\x3dgetMarkStyleConfig(sizeChannel$jscomp$0,markDef,config$jscomp$0.style),stack))||position2orSize(channel2,config$jscomp$0[mark])||position2orSize(channel2,config$jscomp$0.mark)||(channelDef[JSCompiler_inline_result]\x3dpointPositionDefaultRef({model:model,defaultPos:defaultPos2,channel:channel2,scaleName:scaleName,scale:scale})(),channelDef))):(defaultPos2\x3d{},JSCompiler_inline_result\x3d\n(defaultPos2[JSCompiler_inline_result]\x3d{field:model.getName(channel2)},defaultPos2));$jscomp$destructuring$var155\x3dJSCompiler_inline_result[sizeChannel]?vgAlignedPositionChannel(channel,$jscomp$destructuring$var155,config):getVgPositionChannel(channel);return Object.assign(Object.assign({},pointPosition(channel,model,{defaultPos:defaultPos,vgChannel:$jscomp$destructuring$var155})),JSCompiler_inline_result)}function position2orSize(channel,markDef){var sizeChannel\x3dgetSizeChannel(channel),vgChannel\x3d\ngetVgPositionChannel(channel);if(void 0!\x3d\x3dmarkDef[vgChannel])return sizeChannel\x3d{},sizeChannel[vgChannel]\x3dwidthHeightValueOrSignalRef(channel,markDef[vgChannel]),sizeChannel;if(void 0!\x3d\x3dmarkDef[channel])return sizeChannel\x3d{},sizeChannel[vgChannel]\x3dwidthHeightValueOrSignalRef(channel,markDef[channel]),sizeChannel;if(markDef[sizeChannel])return vgChannel\x3d{},vgChannel[sizeChannel]\x3dwidthHeightValueOrSignalRef(channel,markDef[sizeChannel]),vgChannel}function rectPosition(model,channel,mark){var _a,_b,\n_c,_d,config\x3dmodel.config,encoding\x3dmodel.encoding,markDef\x3dmodel.markDef,stack\x3dmodel.stack,channel2\x3dgetSecondaryRangeChannel(channel),sizeChannel\x3dgetSizeChannel(channel),channelDef\x3dencoding[channel],channelDef2\x3dencoding[channel2],scale\x3dmodel.getScaleComponent(channel),scaleType\x3dscale?scale.get(\x22type\x22):void 0;channel2\x3dmodel.scaleName(channel);var orient\x3dmarkDef.orient;encoding\x3dnull!\x3d\x3d(_b\x3dnull!\x3d\x3d(_a\x3dencoding[sizeChannel])\x26\x26void 0!\x3d\x3d_a?_a:encoding.size)\x26\x26void 0!\x3d\x3d_b?_b:getMarkPropOrConfig(\x22size\x22,markDef,\nconfig,{vgChannel:sizeChannel});_a\x3d\x22bar\x22\x3d\x3d\x3dmark\x26\x26(\x22x\x22\x3d\x3d\x3dchannel?\x22vertical\x22\x3d\x3d\x3dorient:\x22horizontal\x22\x3d\x3d\x3dorient);if(isFieldDef(channelDef)\x26\x26(isBinning(channelDef.bin)||isBinned(channelDef.bin)||channelDef.timeUnit\x26\x26!channelDef2)\x26\x26!encoding\x26\x26!(scaleType in DISCRETE_DOMAIN_INDEX)){var band\x3dgetBand({channel:channel,fieldDef:channelDef,stack:stack,markDef:markDef,config:config});model\x3dnull\x3d\x3d\x3d(_c\x3dmodel.component.axes[channel])||void 0\x3d\x3d\x3d_c?void 0:_c[0];model\x3dnull!\x3d\x3d(_d\x3dnull\x3d\x3d\x3dmodel||void 0\x3d\x3d\x3dmodel?void 0:model.get(\x22translate\x22))\x26\x26\nvoid 0!\x3d\x3d_d?_d:.5;a:{var JSCompiler_object_inline_spacing_3338\x3dchannel in POSITION_SCALE_CHANNEL_INDEX?getMarkPropOrConfig(\x22binSpacing\x22,markDef,config):void 0;mark\x3dscale.get(\x22reverse\x22);JSCompiler_object_inline_spacing_3338\x3dvoid 0\x3d\x3d\x3dJSCompiler_object_inline_spacing_3338?0:JSCompiler_object_inline_spacing_3338;stack\x3dgetSecondaryRangeChannel(channel);_d\x3dgetVgPositionChannel(channel);scale\x3dgetVgPositionChannel(stack);_c\x3dgetOffset(channel,markDef);if(isBinning(channelDef.bin)||channelDef.timeUnit)channelDef2\x3d\n{},channel\x3d(channelDef2[scale]\x3drectBinRef({channel:channel,fieldDef:channelDef,scaleName:channel2,markDef:markDef,band:(1-band)/2,offset:getBinSpacing(stack,JSCompiler_object_inline_spacing_3338,mark,model,_c),config:config}),channelDef2[_d]\x3drectBinRef({channel:channel,fieldDef:channelDef,scaleName:channel2,markDef:markDef,band:1-(1-band)/2,offset:getBinSpacing(channel,JSCompiler_object_inline_spacing_3338,mark,model,_c),config:config}),channelDef2);else{if(isBinned(channelDef.bin)){band\x3dvalueRefForFieldOrDatumDef(channelDef,\nchannel2,{},{offset:getBinSpacing(stack,JSCompiler_object_inline_spacing_3338,mark,model,_c)});if(isFieldDef(channelDef2)){channelDef\x3d{};channel\x3d(channelDef[scale]\x3dband,channelDef[_d]\x3dvalueRefForFieldOrDatumDef(channelDef2,channel2,{},{offset:getBinSpacing(channel,JSCompiler_object_inline_spacing_3338,mark,model,_c)}),channelDef);break a}if(isObject(channelDef.bin)\x26\x26channelDef.bin.step){config\x3d{};channel\x3d(config[scale]\x3dband,config[_d]\x3d{signal:\x27scale(\x22\x27+channel2+\x27\x22, \x27+vgField(channelDef,{expr:\x22datum\x22})+\n\x22 + \x22+channelDef.bin.step+\x22)\x22,offset:getBinSpacing(channel,JSCompiler_object_inline_spacing_3338,mark,model,_c)},config);break a}}warn(channelRequiredForBinned(stack));channel\x3dvoid 0}}return channel}if((isFieldOrDatumDef(channelDef)\x26\x26scaleType in DISCRETE_DOMAIN_INDEX||_a)\x26\x26!channelDef2){markDef\x3dmodel.markDef;stack\x3dmodel.encoding;channelDef2\x3dmodel.config;_d\x3dmodel.stack;_a\x3dmarkDef.orient;scale\x3dmodel.scaleName(channel);_c\x3dmodel.getScaleComponent(channel);channel2\x3dgetSizeChannel(channel);config\x3dgetSecondaryRangeChannel(channel);\n_a\x3d\x22horizontal\x22\x3d\x3d\x3d_a\x26\x26\x22y\x22\x3d\x3d\x3dchannel||\x22vertical\x22\x3d\x3d\x3d_a\x26\x26\x22x\x22\x3d\x3d\x3dchannel;_b\x3dgetMarkPropOrConfig(_a?\x22size\x22:channel2,markDef,channelDef2,{vgChannel:channel2});if(stack.size||void 0!\x3d\x3d_b)_a?band\x3dnonPosition(\x22size\x22,model,{vgChannel:channel2,defaultValue:_b}):warn(\x27Cannot apply size to non-oriented mark \x22\x27+markDef.type+\x27\x22.\x27);stack\x3dnull!\x3d\x3d(JSCompiler_object_inline_spacing_3338\x3disFieldOrDatumDef(channelDef)?getBand({channel:channel,fieldDef:channelDef,markDef:markDef,stack:_d,config:channelDef2}):void 0)\x26\x26void 0!\x3d\x3d\nJSCompiler_object_inline_spacing_3338?JSCompiler_object_inline_spacing_3338:1;JSCompiler_object_inline_spacing_3338\x3d{};band||(_c?(band\x3d_c.get(\x22type\x22),\x22point\x22\x3d\x3d\x3dband||\x22band\x22\x3d\x3d\x3dband?void 0!\x3d\x3dchannelDef2[mark].discreteBandSize?band\x3d{value:channelDef2[mark].discreteBandSize}:band\x3d\x3d\x3dScaleType.POINT?(band\x3d_c.get(\x22range\x22),band\x3disVgRangeStep(band)\x26\x26isNumber(band.step)?{value:band.step-2}:{value:18}):band\x3d{scale:scale,band:stack}:band\x3d{value:channelDef2[mark].continuousBandSize}):(band\x3dgetViewConfigDiscreteStep(channelDef2.view,\nchannel2),band\x3dgetFirstDefined(channelDef2[mark].discreteBandSize,band-2),band\x3dvoid 0!\x3d\x3dband?{value:band}:void 0),band\x3d(JSCompiler_object_inline_spacing_3338[channel2]\x3dband,JSCompiler_object_inline_spacing_3338));_a\x3d\x22band\x22!\x3d\x3d(null\x3d\x3d\x3d_c||void 0\x3d\x3d\x3d_c?void 0:_c.get(\x22type\x22))||!(\x22band\x22in band[channel2]);mark\x3dvgAlignedPositionChannel(channel,markDef,channelDef2,_a?\x22middle\x22:\x22top\x22);JSCompiler_object_inline_spacing_3338\x3dgetOffset(channel,markDef);channel\x3dmidPointRefWithPositionInvalidTest({channel:channel,\nchannelDef:channelDef,markDef:markDef,config:channelDef2,scaleName:scale,scale:_c,stack:_d,offset:JSCompiler_object_inline_spacing_3338,defaultRef:pointPositionDefaultRef({model:model,defaultPos:\x22mid\x22,channel:channel,scaleName:scale,scale:_c}),band:_a?.5:(1-stack)/2});channel2?(channelDef\x3d{},channel\x3dObject.assign((channelDef[mark]\x3dchannel,channelDef),band)):(channelDef\x3dgetVgPositionChannel(config),model\x3dband[channel2],model\x3dJSCompiler_object_inline_spacing_3338?Object.assign(Object.assign({},model),\n{offset:JSCompiler_object_inline_spacing_3338}):model,band\x3d{},channel\x3d(band[mark]\x3dchannel,band[channelDef]\x3disArray(channel)?[channel[0],Object.assign(Object.assign({},channel[1]),{offset:model})]:Object.assign(Object.assign({},channel),{offset:model}),band));return channel}return rangePosition(channel,model,{defaultPos:\x22zeroOrMax\x22,defaultPos2:\x22zeroOrMin\x22})}function getBinSpacing(channel,spacing,reverse,translate,offset){if(channel in POLAR_POSITION_CHANNEL_INDEX)return 0;channel\x3d\x22x\x22\x3d\x3d\x3dchannel||\x22y2\x22\x3d\x3d\x3d\nchannel?-spacing/2:spacing/2;if(isSignalRef(reverse)||isSignalRef(offset)||isSignalRef(translate))return reverse\x3dsignalOrStringValue(reverse),offset\x3dsignalOrStringValue(offset),translate\x3dsignalOrStringValue(translate),{signal:(translate?translate+\x22 + \x22:\x22\x22)+(reverse?\x22(\x22+reverse+\x22 ? -1 : 1) * \x22:\x22\x22)+(offset?\x22(\x22+offset+\x22 + \x22+channel+\x22)\x22:channel)};offset\x3doffset||0;return translate+(reverse?-offset-channel:+offset+channel)}function rectBinRef($jscomp$destructuring$var165){var channel\x3d$jscomp$destructuring$var165.channel,\nfieldDef\x3d$jscomp$destructuring$var165.fieldDef,markDef\x3d$jscomp$destructuring$var165.markDef,config\x3d$jscomp$destructuring$var165.config;$jscomp$destructuring$var165\x3dinterpolatedSignalRef({scaleName:$jscomp$destructuring$var165.scaleName,fieldOrDatumDef:fieldDef,band:$jscomp$destructuring$var165.band,offset:$jscomp$destructuring$var165.offset});return wrapPositionInvalidTest({fieldDef:fieldDef,channel:channel,markDef:markDef,ref:$jscomp$destructuring$var165,config:config})}function baseEncodeEntry(model,\nignore){var $jscomp$destructuring$var167\x3d\x22include\x22\x3d\x3d\x3dignore.color?color$jscomp$0(model):{},fill\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var167.fill?void 0:$jscomp$destructuring$var167.fill;$jscomp$destructuring$var167\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var167.stroke?void 0:$jscomp$destructuring$var167.stroke;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},markDefProperties(model.markDef,\nignore)),wrapAllFieldsInvalid(model,\x22fill\x22,fill)),wrapAllFieldsInvalid(model,\x22stroke\x22,$jscomp$destructuring$var167)),nonPosition(\x22opacity\x22,model)),nonPosition(\x22fillOpacity\x22,model)),nonPosition(\x22strokeOpacity\x22,model)),nonPosition(\x22strokeWidth\x22,model)),nonPosition(\x22strokeDash\x22,model)),zindex(model)),tooltip(model)),text$jscomp$0(model,\x22href\x22)),aria(model))}function wrapAllFieldsInvalid(model,channel,valueRef){var mark\x3dmodel.mark;if(\x22hide\x22\x3d\x3d\x3dgetMarkPropOrConfig(\x22invalid\x22,model.markDef,model.config)\x26\x26\nvalueRef\x26\x26!isPathMark(mark)\x26\x26(model\x3dallFieldsInvalidPredicate(model,{invalid:!0,channels:SCALE_CHANNELS})))return mark\x3d{},mark[channel]\x3d[{test:model,value:null}].concat($jscomp.arrayFromIterable(array$jscomp$0(valueRef))),mark;model\x3d{};return valueRef?(model[channel]\x3dvalueRef,model):{}}function markDefProperties(mark,ignore){return VG_MARK_CONFIGS.reduce(function(m,prop){ALWAYS_IGNORE.has(prop)||void 0\x3d\x3d\x3dmark[prop]||\x22ignore\x22\x3d\x3d\x3dignore[prop]||(m[prop]\x3dsignalOrValueRef(mark[prop]));return m},{})}function allFieldsInvalidPredicate(model,\n$jscomp$destructuring$var169){var invalid\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var169.invalid?!1:$jscomp$destructuring$var169.invalid;$jscomp$destructuring$var169\x3d$jscomp$destructuring$var169.channels.reduce(function(aggregator,channel){var scaleComponent\x3dmodel.getScaleComponent(channel);scaleComponent\x26\x26(scaleComponent\x3dscaleComponent.get(\x22type\x22),(channel\x3dmodel.vgField(channel,{expr:\x22datum\x22}))\x26\x26scaleComponent in CONTINUOUS_DOMAIN_INDEX\x26\x26(aggregator[channel]\x3d!0));return aggregator},{});$jscomp$destructuring$var169\x3d\nkeys($jscomp$destructuring$var169);if(0\x3c$jscomp$destructuring$var169.length){var op\x3dinvalid?\x22||\x22:\x22\\x26\\x26\x22;return $jscomp$destructuring$var169.map(function(field){return fieldInvalidPredicate(field,invalid)}).join(\x22 \x22+op+\x22 \x22)}}function defined(model){return getMarkPropOrConfig(\x22invalid\x22,model.markDef,model.config)\x26\x26(model\x3dallFieldsInvalidPredicate$1(model,{channels:POSITION_SCALE_CHANNELS}))?{defined:{signal:model}}:{}}function allFieldsInvalidPredicate$1(model,$jscomp$destructuring$var172){var invalid\x3d\nvoid 0\x3d\x3d\x3d$jscomp$destructuring$var172.invalid?!1:$jscomp$destructuring$var172.invalid;$jscomp$destructuring$var172\x3d$jscomp$destructuring$var172.channels.reduce(function(aggregator,channel){var scaleComponent\x3dmodel.getScaleComponent(channel);scaleComponent\x26\x26(scaleComponent\x3dscaleComponent.get(\x22type\x22),(channel\x3dmodel.vgField(channel,{expr:\x22datum\x22}))\x26\x26scaleComponent in CONTINUOUS_DOMAIN_INDEX\x26\x26(aggregator[channel]\x3d!0));return aggregator},{});$jscomp$destructuring$var172\x3dkeys($jscomp$destructuring$var172);\nif(0\x3c$jscomp$destructuring$var172.length){var op\x3dinvalid?\x22||\x22:\x22\\x26\\x26\x22;return $jscomp$destructuring$var172.map(function(field){return fieldInvalidPredicate(field,invalid)}).join(\x22 \x22+op+\x22 \x22)}}function valueIfDefined(prop,value){if(void 0!\x3d\x3dvalue){var $jscomp$compprop27\x3d{};return $jscomp$compprop27[prop]\x3dsignalOrValueRef(value),$jscomp$compprop27}}function isTopLevelLayer(model){var _a;return model.parent\x26\x26isLayerModel(model.parent)\x26\x26(null!\x3d\x3d(_a\x3d!model.parent.parent)\x26\x26void 0!\x3d\x3d_a?_a:isTopLevelLayer(model.parent.parent))}\nfunction parseInteractiveLegend(model,channel,legendCmpt){var _a$jscomp$0,field\x3dnull\x3d\x3d\x3d(_a$jscomp$0\x3dmodel.fieldDef(channel))||void 0\x3d\x3d\x3d_a$jscomp$0?void 0:_a$jscomp$0.field;forEachSelection(model,function(selCmpt){var _a,_b,proj\x3dnull!\x3d\x3d(_a\x3dselCmpt.project.hasField[field])\x26\x26void 0!\x3d\x3d_a?_a:selCmpt.project.hasChannel[channel];proj\x26\x26legendBindings.has(selCmpt)\x26\x26(_a\x3dnull!\x3d\x3d(_b\x3dlegendCmpt.get(\x22selections\x22))\x26\x26void 0!\x3d\x3d_b?_b:[],_a.push(selCmpt.name),legendCmpt.set(\x22selections\x22,_a,!1),proj.hasLegend\x3d!0)})}\nfunction onDelta(model,selCmpt,proj,size,signals){var _a,name\x3dselCmpt.name,anchor\x3dname+\x22_translate_anchor\x22;name+\x3d\x22_translate_delta\x22;var channel\x3dproj.channel,hasScales\x3dscaleBindings.has(selCmpt);selCmpt\x3dsignals.filter(function(s){return s.name\x3d\x3d\x3dproj.signals[hasScales?\x22data\x22:\x22visual\x22]})[0];size\x3dmodel.getSizeSignalRef(size).signal;model\x3dmodel.getScaleComponent(channel);signals\x3dmodel.get(\x22type\x22);anchor\x3danchor+\x22.extent_\x22+channel;anchor\x3d(hasScales?\x22log\x22\x3d\x3d\x3dsignals?\x22panLog\x22:\x22pow\x22\x3d\x3d\x3dsignals?\x22panPow\x22:\x22panLinear\x22:\n\x22panLinear\x22)+\x22(\x22+anchor+\x22, \x22+((hasScales\x26\x26\x22x\x22\x3d\x3d\x3dchannel?\x22-\x22:\x22\x22)+name+\x22.\x22+channel+\x22 / \x22+(hasScales?\x22\x22+size:\x22span(\x22+anchor+\x22)\x22))+(hasScales\x26\x26\x22pow\x22\x3d\x3d\x3dsignals?\x22, \x22+(null!\x3d\x3d(_a\x3dmodel.get(\x22exponent\x22))\x26\x26void 0!\x3d\x3d_a?_a:1):\x22\x22)+\x22)\x22;selCmpt.on.push({events:{signal:name},update:hasScales?anchor:\x22clampRange(\x22+anchor+\x22, 0, \x22+size+\x22)\x22})}function onDelta$1(model,selCmpt,proj,size,signals){var _a,name\x3dselCmpt.name,channel\x3dproj.channel,hasScales\x3dscaleBindings.has(selCmpt);selCmpt\x3dsignals.filter(function(s){return s.name\x3d\x3d\x3d\nproj.signals[hasScales?\x22data\x22:\x22visual\x22]})[0];size\x3dmodel.getSizeSignalRef(size).signal;signals\x3dmodel.getScaleComponent(channel);var scaleType\x3dsignals.get(\x22type\x22),base\x3dhasScales?\x22domain(\x22+$(model.scaleName(channel))+\x22)\x22:selCmpt.name;model\x3dname+\x22_zoom_delta\x22;name\x3d(hasScales?\x22log\x22\x3d\x3d\x3dscaleType?\x22zoomLog\x22:\x22pow\x22\x3d\x3d\x3dscaleType?\x22zoomPow\x22:\x22zoomLinear\x22:\x22zoomLinear\x22)+\x22(\x22+base+\x22, \x22+(name+\x22_zoom_anchor.\x22+channel)+\x22, \x22+model+(hasScales\x26\x26\x22pow\x22\x3d\x3d\x3dscaleType?\x22, \x22+(null!\x3d\x3d(_a\x3dsignals.get(\x22exponent\x22))\x26\x26void 0!\x3d\x3d_a?_a:1):\n\x22\x22)+\x22)\x22;selCmpt.on.push({events:{signal:model},update:hasScales?name:\x22clampRange(\x22+name+\x22, 0, \x22+size+\x22)\x22})}function forEachTransform(selCmpt,cb){for(var $jscomp$iter$124\x3d$jscomp.makeIterator(compilers),$jscomp$key$t\x3d$jscomp$iter$124.next();!$jscomp$key$t.done;$jscomp$key$t\x3d$jscomp$iter$124.next())$jscomp$key$t\x3d$jscomp$key$t.value,$jscomp$key$t.has(selCmpt)\x26\x26cb($jscomp$key$t)}function assembleInit(init,isExpr,wrap){isExpr\x3dvoid 0\x3d\x3d\x3disExpr?!0:isExpr;wrap\x3dvoid 0\x3d\x3d\x3dwrap?identity:wrap;return isArray(init)?\n(init\x3dinit.map(function(v){return assembleInit(v,isExpr,wrap)}),isExpr?\x22[\x22+init.join(\x22, \x22)+\x22]\x22:init):isDateTime(init)?isExpr?wrap(dateTimeToExpr(init)):wrap(dateTimeToTimestamp(init)):isExpr?wrap(JSON.stringify(init)):init}function assembleUnitSelectionSignals(model,signals){forEachSelection(model,function(selCmpt,selCompiler){var name\x3dselCmpt.name,modifyExpr\x3dselCompiler.modifyExpr(model,selCmpt);signals.push.apply(signals,$jscomp.arrayFromIterable(selCompiler.signals(model,selCmpt)));forEachTransform(selCmpt,\nfunction(txCompiler){txCompiler.signals\x26\x26(signals\x3dtxCompiler.signals(model,selCmpt,signals));txCompiler.modifyExpr\x26\x26(modifyExpr\x3dtxCompiler.modifyExpr(model,selCmpt,modifyExpr))});signals.push({name:name+\x22_modify\x22,on:[{events:{signal:selCmpt.name+\x22_tuple\x22},update:\x22modify(\x22+$(selCmpt.name+\x22_store\x22)+\x22, \x22+modifyExpr+\x22)\x22}]})});return cleanupEmptyOnArray(signals)}function assembleFacetSignals(model,signals){model.component.selection\x26\x26keys(model.component.selection).length\x26\x26(model\x3d$(model.getName(\x22cell\x22)),\nsignals.unshift({name:\x22facet\x22,value:{},on:[{events:parseSelector(\x22mousemove\x22,\x22scope\x22),update:\x22isTuple(facet) ? facet : group(\x22+model+\x22).datum\x22}]}));return cleanupEmptyOnArray(signals)}function assembleTopLevelSignals(model,signals){var hasSelections\x3d!1;forEachSelection(model,function(selCmpt,selCompiler){var name\x3dselCmpt.name,store\x3d$(name+\x22_store\x22);if(0\x3d\x3d\x3dsignals.filter(function(s){return s.name\x3d\x3d\x3dname}).length){var isMulti\x3d\x22multi\x22\x3d\x3d\x3dselCmpt.type?\x22, true)\x22:\x22)\x22;signals.push({name:selCmpt.name,update:\x22vlSelectionResolve(\x22+\nstore+\x22, \x22+$(\x22global\x22\x3d\x3d\x3dselCmpt.resolve?\x22union\x22:selCmpt.resolve)+isMulti})}hasSelections\x3d!0;selCompiler.topLevelSignals\x26\x26(signals\x3dselCompiler.topLevelSignals(model,selCmpt,signals));forEachTransform(selCmpt,function(txCompiler){txCompiler.topLevelSignals\x26\x26(signals\x3dtxCompiler.topLevelSignals(model,selCmpt,signals))})});hasSelections\x26\x260\x3d\x3d\x3dsignals.filter(function(s){return\x22unit\x22\x3d\x3d\x3ds.name}).length\x26\x26signals.unshift({name:\x22unit\x22,value:{},on:[{events:\x22mousemove\x22,update:\x22isTuple(group()) ? group() : unit\x22}]});\nreturn cleanupEmptyOnArray(signals)}function assembleUnitSelectionData(model,data){var dataCopy\x3d[].concat($jscomp.arrayFromIterable(data));forEachSelection(model,function(selCmpt){var init\x3d{name:selCmpt.name+\x22_store\x22};if(selCmpt.init){var fields\x3dselCmpt.project.items.map(function(proj){return __rest(proj,[\x22signals\x22])}),insert\x3dselCmpt.init.map(function(i){return assembleInit(i,!1)});init.values\x3d\x22interval\x22\x3d\x3d\x3dselCmpt.type?[{unit:unitName(model,{escape:!1}),fields:fields,values:insert}]:insert.map(function(i){return{unit:unitName(model,\n{escape:!1}),fields:fields,values:i}})}dataCopy.filter(function(d){return d.name\x3d\x3d\x3dselCmpt.name+\x22_store\x22}).length||dataCopy.push(init)});return dataCopy}function assembleUnitSelectionMarks(model,marks){forEachSelection(model,function(selCmpt,selCompiler){marks\x3dselCompiler.marks?selCompiler.marks(model,selCmpt,marks):marks;forEachTransform(selCmpt,function(txCompiler){txCompiler.marks\x26\x26(marks\x3dtxCompiler.marks(model,selCmpt,marks))})});return marks}function assembleLayerSelectionMarks(model,marks){model\x3d\n$jscomp.makeIterator(model.children);for(var $jscomp$key$child\x3dmodel.next();!$jscomp$key$child.done;$jscomp$key$child\x3dmodel.next())$jscomp$key$child\x3d$jscomp$key$child.value,isUnitModel($jscomp$key$child)\x26\x26(marks\x3dassembleUnitSelectionMarks($jscomp$key$child,marks));return marks}function cleanupEmptyOnArray(signals){return signals.map(function(s){s.on\x26\x26!s.on.length\x26\x26delete s.on;return s})}function channelSignals(model,selCmpt,proj,init){var channel\x3dproj.channel,vname\x3dproj.signals.visual;proj\x3dproj.signals.data;\nvar hasScales\x3dscaleBindings.has(selCmpt),scaleName\x3d$(model.scaleName(channel)),scale\x3dmodel.getScaleComponent(channel);scale\x3dscale?scale.get(\x22type\x22):void 0;var scaled\x3dfunction(str){return\x22scale(\x22+scaleName+\x22, \x22+str+\x22)\x22},size\x3dmodel.getSizeSignalRef(\x22x\x22\x3d\x3d\x3dchannel?\x22width\x22:\x22height\x22).signal,coord\x3dchannel+\x22(unit)\x22;model\x3devents(selCmpt,function(def,evt){return[].concat($jscomp.arrayFromIterable(def),[{events:evt.between[0],update:\x22[\x22+coord+\x22, \x22+coord+\x22]\x22},{events:evt,update:\x22[\x22+vname+\x22[0], clamp(\x22+coord+\n\x22, 0, \x22+size+\x22)]\x22}])});model.push({events:{signal:selCmpt.name+\x22_scale_trigger\x22},update:scale in CONTINUOUS_DOMAIN_INDEX?\x22[\x22+scaled(proj+\x22[0]\x22)+\x22, \x22+scaled(proj+\x22[1]\x22)+\x22]\x22:\x22[0, 0]\x22});return hasScales?[{name:proj,on:[]}]:[Object.assign(Object.assign({name:vname},init?{init:assembleInit(init,!0,scaled)}:{value:[]}),{on:model}),Object.assign(Object.assign({name:proj},init?{init:assembleInit(init)}:{}),{on:[{events:{signal:vname},update:vname+\x22[0] \\x3d\\x3d\\x3d \x22+vname+\x22[1] ? null : invert(\x22+scaleName+\n\x22, \x22+vname+\x22)\x22}]})]}function events(selCmpt,cb){return selCmpt.events.reduce(function(on,evt){return evt.between?cb(on,evt):(warn(evt+\x22 is not an ordered event stream for interval selections.\x22),on)},[])}function singleOrMultiSignals(model,selCmpt){var name\x3dselCmpt.name,fieldsSg\x3dname+\x22_tuple_fields\x22,values\x3dselCmpt.project.items.map(function(p){var fieldDef\x3dmodel.fieldDef(p.channel);return fieldDef\x26\x26fieldDef.bin?\x22[(item().isVoronoi ? datum.datum : datum)[\x22+$(model.vgField(p.channel,{}))+\x22], (item().isVoronoi ? datum.datum : datum)[\x22+\n($(model.vgField(p.channel,{binSuffix:\x22end\x22}))+\x22]]\x22):\x22(item().isVoronoi ? datum.datum : datum)[\x22+$(p.field)+\x22]\x22}).join(\x22, \x22);fieldsSg\x3d\x22unit: \x22+unitName(model)+\x22, fields: \x22+fieldsSg+\x22, values\x22;selCmpt\x3dselCmpt.events;return[{name:name+\x22_tuple\x22,on:selCmpt?[{events:selCmpt,update:\x22datum \\x26\\x26 item().mark.marktype !\\x3d\\x3d \x27group\x27 ? {\x22+fieldsSg+\x22: [\x22+values+\x22]} : null\x22,force:!0}]:[]}]}function forEachSelection(model,cb){if(model\x3dmodel.component.selection){model\x3d$jscomp.makeIterator(vals(model));for(var $jscomp$key$sel\x3d\nmodel.next();!$jscomp$key$sel.done\x26\x26($jscomp$key$sel\x3d$jscomp$key$sel.value,!0!\x3d\x3dcb($jscomp$key$sel,compilers$1[$jscomp$key$sel.type]));$jscomp$key$sel\x3dmodel.next());}}function unitName(model,$jscomp$destructuring$var185){$jscomp$destructuring$var185\x3d(void 0\x3d\x3d\x3d$jscomp$destructuring$var185?{escape:!0}:$jscomp$destructuring$var185).escape?$(model.name):model.name;for(model\x3dmodel.parent;model\x26\x26!isFacetModel(model);)model\x3dmodel.parent;if(model)for(var facet\x3dmodel.facet,$jscomp$iter$128\x3d$jscomp.makeIterator(FACET_CHANNELS),\n$jscomp$key$channel\x3d$jscomp$iter$128.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$128.next())$jscomp$key$channel\x3d$jscomp$key$channel.value,facet[$jscomp$key$channel]\x26\x26($jscomp$destructuring$var185+\x3d\x22 + \x27__facet_\x22+$jscomp$key$channel+\x22_\x27 + (facet[\x22+$(model.vgField($jscomp$key$channel))+\x22])\x22);return $jscomp$destructuring$var185}function requiresSelectionId(model){var identifier\x3d!1;forEachSelection(model,function(selCmpt){identifier\x3didentifier||selCmpt.project.items.some(function(proj){return\x22_vgsid_\x22\x3d\x3d\x3d\nproj.field})});return identifier}function ASTNode(type){this.type\x3dtype}function children$jscomp$0(node){switch(node.type){case \x22ArrayExpression\x22:return node.elements;case \x22BinaryExpression\x22:case \x22LogicalExpression\x22:return[node.left,node.right];case \x22CallExpression\x22:return[node.callee].concat(node.arguments);case \x22ConditionalExpression\x22:return[node.test,node.consequent,node.alternate];case \x22MemberExpression\x22:return[node.object,node.property];case \x22ObjectExpression\x22:return node.properties;case \x22Property\x22:return[node.key,\nnode.value];case \x22UnaryExpression\x22:return[node.argument];default:return[]}}function assert(condition,message){if(!condition)throw Error(\x22ASSERT: \x22+message);}function isDecimalDigit(ch){return 48\x3c\x3dch\x26\x2657\x3e\x3dch}function isHexDigit(ch){return 0\x3c\x3d\x220123456789abcdefABCDEF\x22.indexOf(ch)}function isOctalDigit(ch){return 0\x3c\x3d\x2201234567\x22.indexOf(ch)}function isLineTerminator(ch){return 10\x3d\x3d\x3dch||13\x3d\x3d\x3dch||8232\x3d\x3d\x3dch||8233\x3d\x3d\x3dch}function isIdentifierStart(ch){return 36\x3d\x3d\x3dch||95\x3d\x3d\x3dch||65\x3c\x3dch\x26\x2690\x3e\x3dch||97\x3c\x3dch\x26\x26122\x3e\x3dch||\n92\x3d\x3d\x3dch||128\x3c\x3dch\x26\x26RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return 36\x3d\x3d\x3dch||95\x3d\x3d\x3dch||65\x3c\x3dch\x26\x2690\x3e\x3dch||97\x3c\x3dch\x26\x26122\x3e\x3dch||48\x3c\x3dch\x26\x2657\x3e\x3dch||92\x3d\x3d\x3dch||128\x3c\x3dch\x26\x26RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch))}function skipComment(){for(var ch;index$jscomp$0\x3clength$jscomp$0;)if(ch\x3dsource$jscomp$0.charCodeAt(index$jscomp$0),32\x3d\x3d\x3dch||9\x3d\x3d\x3dch||11\x3d\x3d\x3dch||12\x3d\x3d\x3dch||160\x3d\x3d\x3dch||5760\x3c\x3dch\x26\x260\x3c\x3d[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,\n8287,12288,65279].indexOf(ch)||isLineTerminator(ch))++index$jscomp$0;else break}function scanHexEscape(prefix){var code\x3d0;var len\x3d\x22u\x22\x3d\x3d\x3dprefix?4:2;for(prefix\x3d0;prefix\x3clen;++prefix)if(index$jscomp$0\x3clength$jscomp$0\x26\x26isHexDigit(source$jscomp$0[index$jscomp$0])){var ch\x3dsource$jscomp$0[index$jscomp$0++];code\x3d16*code+\x220123456789abcdef\x22.indexOf(ch.toLowerCase())}else throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return String.fromCharCode(code)}function getEscapedIdentifier(){var ch\x3dsource$jscomp$0.charCodeAt(index$jscomp$0++);\nvar id\x3dString.fromCharCode(ch);92\x3d\x3d\x3dch\x26\x26(117!\x3d\x3dsource$jscomp$0.charCodeAt(index$jscomp$0)\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),++index$jscomp$0,(ch\x3dscanHexEscape(\x22u\x22))\x26\x26\x22\\\\\x22!\x3d\x3dch\x26\x26isIdentifierStart(ch.charCodeAt(0))||throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),id\x3dch);for(;index$jscomp$0\x3clength$jscomp$0;){ch\x3dsource$jscomp$0.charCodeAt(index$jscomp$0);if(!isIdentifierPart(ch))break;++index$jscomp$0;id+\x3dString.fromCharCode(ch);92\x3d\x3d\x3dch\x26\x26(id\x3did.substr(0,id.length-1),117!\x3d\x3dsource$jscomp$0.charCodeAt(index$jscomp$0)\x26\x26\nthrowError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),++index$jscomp$0,(ch\x3dscanHexEscape(\x22u\x22))\x26\x26\x22\\\\\x22!\x3d\x3dch\x26\x26isIdentifierPart(ch.charCodeAt(0))||throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),id+\x3dch)}return id}function scanPunctuator(){var start\x3dindex$jscomp$0,code\x3dsource$jscomp$0.charCodeAt(index$jscomp$0),ch1\x3dsource$jscomp$0[index$jscomp$0];switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++index$jscomp$0,{type:7,value:String.fromCharCode(code),\nstart:start,end:index$jscomp$0};default:var code2\x3dsource$jscomp$0.charCodeAt(index$jscomp$0+1);if(61\x3d\x3d\x3dcode2)switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return index$jscomp$0+\x3d2,{type:7,value:String.fromCharCode(code)+String.fromCharCode(code2),start:start,end:index$jscomp$0};case 33:case 61:return index$jscomp$0+\x3d2,61\x3d\x3d\x3dsource$jscomp$0.charCodeAt(index$jscomp$0)\x26\x26++index$jscomp$0,{type:7,value:source$jscomp$0.slice(start,index$jscomp$0),start:start,\nend:index$jscomp$0}}}code\x3dsource$jscomp$0.substr(index$jscomp$0,4);if(\x22\\x3e\\x3e\\x3e\\x3d\x22\x3d\x3d\x3dcode)return index$jscomp$0+\x3d4,{type:7,value:code,start:start,end:index$jscomp$0};code\x3dcode.substr(0,3);if(\x22\\x3e\\x3e\\x3e\x22\x3d\x3d\x3dcode||\x22\\x3c\\x3c\\x3d\x22\x3d\x3d\x3dcode||\x22\\x3e\\x3e\\x3d\x22\x3d\x3d\x3dcode)return index$jscomp$0+\x3d3,{type:7,value:code,start:start,end:index$jscomp$0};code\x3dcode.substr(0,2);if(ch1\x3d\x3d\x3dcode[1]\x26\x260\x3c\x3d\x22+-\\x3c\\x3e\\x26|\x22.indexOf(ch1)||\x22\\x3d\\x3e\x22\x3d\x3d\x3dcode)return index$jscomp$0+\x3d2,{type:7,value:code,start:start,end:index$jscomp$0};\nif(0\x3c\x3d\x22\\x3c\\x3e\\x3d!+-*%\\x26|^/\x22.indexOf(ch1))return++index$jscomp$0,{type:7,value:ch1,start:start,end:index$jscomp$0};throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22)}function scanNumericLiteral(){var ch\x3dsource$jscomp$0[index$jscomp$0];assert(isDecimalDigit(ch.charCodeAt(0))||\x22.\x22\x3d\x3d\x3dch,\x22Numeric literal must start with a decimal digit or a decimal point\x22);var start\x3dindex$jscomp$0;var number\x3d\x22\x22;if(\x22.\x22!\x3d\x3dch){number\x3dsource$jscomp$0[index$jscomp$0++];ch\x3dsource$jscomp$0[index$jscomp$0];if(\x220\x22\x3d\x3d\x3dnumber){if(\x22x\x22\x3d\x3d\x3d\nch||\x22X\x22\x3d\x3d\x3dch){++index$jscomp$0;for(number\x3d\x22\x22;index$jscomp$0\x3clength$jscomp$0\x26\x26isHexDigit(source$jscomp$0[index$jscomp$0]);)number+\x3dsource$jscomp$0[index$jscomp$0++];0\x3d\x3d\x3dnumber.length\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);isIdentifierStart(source$jscomp$0.charCodeAt(index$jscomp$0))\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:6,value:parseInt(\x220x\x22+number,16),start:start,end:index$jscomp$0}}if(isOctalDigit(ch)){for(number\x3d\x220\x22+source$jscomp$0[index$jscomp$0++];index$jscomp$0\x3c\nlength$jscomp$0\x26\x26isOctalDigit(source$jscomp$0[index$jscomp$0]);)number+\x3dsource$jscomp$0[index$jscomp$0++];(isIdentifierStart(source$jscomp$0.charCodeAt(index$jscomp$0))||isDecimalDigit(source$jscomp$0.charCodeAt(index$jscomp$0)))\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:6,value:parseInt(number,8),octal:!0,start:start,end:index$jscomp$0}}ch\x26\x26isDecimalDigit(ch.charCodeAt(0))\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22)}for(;isDecimalDigit(source$jscomp$0.charCodeAt(index$jscomp$0));)number+\x3d\nsource$jscomp$0[index$jscomp$0++];ch\x3dsource$jscomp$0[index$jscomp$0]}if(\x22.\x22\x3d\x3d\x3dch){for(number+\x3dsource$jscomp$0[index$jscomp$0++];isDecimalDigit(source$jscomp$0.charCodeAt(index$jscomp$0));)number+\x3dsource$jscomp$0[index$jscomp$0++];ch\x3dsource$jscomp$0[index$jscomp$0]}if(\x22e\x22\x3d\x3d\x3dch||\x22E\x22\x3d\x3d\x3dch){number+\x3dsource$jscomp$0[index$jscomp$0++];ch\x3dsource$jscomp$0[index$jscomp$0];if(\x22+\x22\x3d\x3d\x3dch||\x22-\x22\x3d\x3d\x3dch)number+\x3dsource$jscomp$0[index$jscomp$0++];if(isDecimalDigit(source$jscomp$0.charCodeAt(index$jscomp$0)))for(;isDecimalDigit(source$jscomp$0.charCodeAt(index$jscomp$0));)number+\x3d\nsource$jscomp$0[index$jscomp$0++];else throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22)}isIdentifierStart(source$jscomp$0.charCodeAt(index$jscomp$0))\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:6,value:parseFloat(number),start:start,end:index$jscomp$0}}function testRegExp(pattern,flags){var tmp\x3dpattern;0\x3c\x3dflags.indexOf(\x22u\x22)\x26\x26(tmp\x3dtmp.replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g,function($0,$1){if(1114111\x3e\x3dparseInt($1,16))return\x22x\x22;throwError({},\x22Invalid regular expression\x22)}).replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n\x22x\x22));try{new RegExp(tmp)}catch(e){throwError({},\x22Invalid regular expression\x22)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function advance(){skipComment();if(index$jscomp$0\x3e\x3dlength$jscomp$0)return{type:2,start:index$jscomp$0,end:index$jscomp$0};var ch\x3dsource$jscomp$0.charCodeAt(index$jscomp$0);if(isIdentifierStart(ch)){ch\x3dindex$jscomp$0;if(92\x3d\x3d\x3dsource$jscomp$0.charCodeAt(index$jscomp$0))var id\x3dgetEscapedIdentifier();else a:{for(id\x3dindex$jscomp$0++;index$jscomp$0\x3clength$jscomp$0;){var ch$jscomp$0\x3d\nsource$jscomp$0.charCodeAt(index$jscomp$0);if(92\x3d\x3d\x3dch$jscomp$0){index$jscomp$0\x3did;id\x3dgetEscapedIdentifier();break a}if(isIdentifierPart(ch$jscomp$0))++index$jscomp$0;else break}id\x3dsource$jscomp$0.slice(id,index$jscomp$0)}return{type:1\x3d\x3d\x3did.length?3:keywords.hasOwnProperty(id)?4:\x22null\x22\x3d\x3d\x3did?5:\x22true\x22\x3d\x3d\x3did||\x22false\x22\x3d\x3d\x3did?1:3,value:id,start:ch,end:index$jscomp$0}}if(40\x3d\x3d\x3dch||41\x3d\x3d\x3dch||59\x3d\x3d\x3dch)return scanPunctuator();if(39\x3d\x3d\x3dch||34\x3d\x3d\x3dch){var str\x3d\x22\x22;ch$jscomp$0\x3d!1;ch\x3dsource$jscomp$0[index$jscomp$0];assert(\x22\x27\x22\x3d\x3d\x3d\nch||\x27\x22\x27\x3d\x3d\x3dch,\x22String literal must starts with a quote\x22);id\x3dindex$jscomp$0;for(++index$jscomp$0;index$jscomp$0\x3clength$jscomp$0;){var ch$jscomp$1\x3dsource$jscomp$0[index$jscomp$0++];if(ch$jscomp$1\x3d\x3d\x3dch){ch\x3d\x22\x22;break}else if(\x22\\\\\x22\x3d\x3d\x3dch$jscomp$1)if((ch$jscomp$1\x3dsource$jscomp$0[index$jscomp$0++])\x26\x26isLineTerminator(ch$jscomp$1.charCodeAt(0)))\x22\\r\x22\x3d\x3d\x3dch$jscomp$1\x26\x26\x22\\n\x22\x3d\x3d\x3dsource$jscomp$0[index$jscomp$0]\x26\x26++index$jscomp$0;else switch(ch$jscomp$1){case \x22u\x22:case \x22x\x22:if(\x22{\x22\x3d\x3d\x3dsource$jscomp$0[index$jscomp$0]){++index$jscomp$0;\nvar code\x3dsource$jscomp$0[index$jscomp$0];ch$jscomp$1\x3d0;for(\x22}\x22\x3d\x3d\x3dcode\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);index$jscomp$0\x3clength$jscomp$0;){code\x3dsource$jscomp$0[index$jscomp$0++];if(!isHexDigit(code))break;ch$jscomp$1\x3d16*ch$jscomp$1+\x220123456789abcdef\x22.indexOf(code.toLowerCase())}(1114111\x3cch$jscomp$1||\x22}\x22!\x3d\x3dcode)\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);ch$jscomp$1\x3d65535\x3e\x3dch$jscomp$1?String.fromCharCode(ch$jscomp$1):String.fromCharCode((ch$jscomp$1-65536\x3e\x3e10)+55296,(ch$jscomp$1-65536\x26\n1023)+56320);str+\x3dch$jscomp$1}else str+\x3dscanHexEscape(ch$jscomp$1);break;case \x22n\x22:str+\x3d\x22\\n\x22;break;case \x22r\x22:str+\x3d\x22\\r\x22;break;case \x22t\x22:str+\x3d\x22\\t\x22;break;case \x22b\x22:str+\x3d\x22\\b\x22;break;case \x22f\x22:str+\x3d\x22\\f\x22;break;case \x22v\x22:str+\x3d\x22\\x0B\x22;break;default:isOctalDigit(ch$jscomp$1)?(code\x3d\x2201234567\x22.indexOf(ch$jscomp$1),0!\x3d\x3dcode\x26\x26(ch$jscomp$0\x3d!0),index$jscomp$0\x3clength$jscomp$0\x26\x26isOctalDigit(source$jscomp$0[index$jscomp$0])\x26\x26(ch$jscomp$0\x3d!0,code\x3d8*code+\x2201234567\x22.indexOf(source$jscomp$0[index$jscomp$0++]),0\x3c\x3d\x220123\x22.indexOf(ch$jscomp$1)\x26\x26\nindex$jscomp$0\x3clength$jscomp$0\x26\x26isOctalDigit(source$jscomp$0[index$jscomp$0])\x26\x26(code\x3d8*code+\x2201234567\x22.indexOf(source$jscomp$0[index$jscomp$0++]))),str+\x3dString.fromCharCode(code)):str+\x3dch$jscomp$1}else if(isLineTerminator(ch$jscomp$1.charCodeAt(0)))break;else str+\x3dch$jscomp$1}\x22\x22!\x3d\x3dch\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:8,value:str,octal:ch$jscomp$0,start:id,end:index$jscomp$0}}return 46\x3d\x3d\x3dch?isDecimalDigit(source$jscomp$0.charCodeAt(index$jscomp$0+1))?scanNumericLiteral():\nscanPunctuator():isDecimalDigit(ch)?scanNumericLiteral():scanPunctuator()}function lex(){var token\x3dlookahead;index$jscomp$0\x3dtoken.end;lookahead\x3dadvance();index$jscomp$0\x3dtoken.end;return token}function peek(){var pos\x3dindex$jscomp$0;lookahead\x3dadvance();index$jscomp$0\x3dpos}function finishBinaryExpression(operator,left,right){var node\x3dnew ASTNode(\x22||\x22\x3d\x3d\x3doperator||\x22\\x26\\x26\x22\x3d\x3d\x3doperator?\x22LogicalExpression\x22:\x22BinaryExpression\x22);node.operator\x3doperator;node.left\x3dleft;node.right\x3dright;return node}function finishIdentifier(name){var node\x3d\nnew ASTNode(\x22Identifier\x22);node.name\x3dname;return node}function finishLiteral(token){var node\x3dnew ASTNode(\x22Literal\x22);node.value\x3dtoken.value;node.raw\x3dsource$jscomp$0.slice(token.start,token.end);token.regex\x26\x26(\x22//\x22\x3d\x3d\x3dnode.raw\x26\x26(node.raw\x3d\x22/(?:)/\x22),node.regex\x3dtoken.regex);return node}function finishMemberExpression(accessor,object,property){var node\x3dnew ASTNode(\x22MemberExpression\x22);node.computed\x3d\x22[\x22\x3d\x3d\x3daccessor;node.object\x3dobject;node.property\x3dproperty;node.computed||(property.member\x3d!0);return node}function finishProperty(kind,\nkey,value){var node\x3dnew ASTNode(\x22Property\x22);node.key\x3dkey;node.value\x3dvalue;node.kind\x3dkind;return node}function throwError(token,messageFormat){var args\x3dArray.prototype.slice.call(arguments,2),msg\x3dmessageFormat.replace(/%(\\d)/g,function(whole,index){assert(index\x3cargs.length,\x22Message reference must be in range\x22);return args[index]});var error\x3dError(msg);error.index\x3dindex$jscomp$0;error.description\x3dmsg;throw error;}function throwUnexpected(token){2\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected end of input\x22);\n6\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected number\x22);8\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected string\x22);3\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected identifier\x22);4\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected reserved word\x22);throwError(token,\x22Unexpected token %0\x22,token.value)}function expect(value){var token\x3dlex();7\x3d\x3d\x3dtoken.type\x26\x26token.value\x3d\x3d\x3dvalue||throwUnexpected(token)}function match(value){return 7\x3d\x3d\x3dlookahead.type\x26\x26lookahead.value\x3d\x3d\x3dvalue}function parseObjectPropertyKey(){index$jscomp$0\x3dlookahead.start;\nvar token\x3dlex();return 8\x3d\x3d\x3dtoken.type||6\x3d\x3d\x3dtoken.type?(token.octal\x26\x26throwError(token,\x22Octal literals are not allowed in strict mode.\x22),finishLiteral(token)):finishIdentifier(token.value)}function parsePrimaryExpression(){if(match(\x22(\x22)){expect(\x22(\x22);var type\x3dparseExpression();expect(\x22)\x22);return type}if(match(\x22[\x22)){type\x3d[];index$jscomp$0\x3dlookahead.start;for(expect(\x22[\x22);!match(\x22]\x22);)match(\x22,\x22)?(lex(),type.push(null)):(type.push(parseConditionalExpression()),match(\x22]\x22)||expect(\x22,\x22));lex();var JSCompiler_object_inline_value_3341\x3d\nnew ASTNode(\x22ArrayExpression\x22);JSCompiler_object_inline_value_3341.elements\x3dtype;return JSCompiler_object_inline_value_3341}if(match(\x22{\x22)){type\x3d[];JSCompiler_object_inline_value_3341\x3d{};var JSCompiler_object_inline_literal_3342\x3dString;index$jscomp$0\x3dlookahead.start;for(expect(\x22{\x22);!match(\x22}\x22);){index$jscomp$0\x3dlookahead.start;var JSCompiler_object_inline_value_3343\x3dlookahead;if(3\x3d\x3d\x3dJSCompiler_object_inline_value_3343.type){var JSCompiler_object_inline_literal_3344\x3dparseObjectPropertyKey();expect(\x22:\x22);\nJSCompiler_object_inline_value_3343\x3dparseConditionalExpression();JSCompiler_object_inline_value_3343\x3dfinishProperty(\x22init\x22,JSCompiler_object_inline_literal_3344,JSCompiler_object_inline_value_3343)}else 2\x3d\x3d\x3dJSCompiler_object_inline_value_3343.type||7\x3d\x3d\x3dJSCompiler_object_inline_value_3343.type?(throwUnexpected(JSCompiler_object_inline_value_3343),JSCompiler_object_inline_value_3343\x3dvoid 0):(JSCompiler_object_inline_literal_3344\x3dparseObjectPropertyKey(),expect(\x22:\x22),JSCompiler_object_inline_value_3343\x3d\nparseConditionalExpression(),JSCompiler_object_inline_value_3343\x3dfinishProperty(\x22init\x22,JSCompiler_object_inline_literal_3344,JSCompiler_object_inline_value_3343));JSCompiler_object_inline_literal_3344\x3d\x22Identifier\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3343.key.type?JSCompiler_object_inline_value_3343.key.name:JSCompiler_object_inline_literal_3342(JSCompiler_object_inline_value_3343.key.value);JSCompiler_object_inline_literal_3344\x3d\x22$\x22+JSCompiler_object_inline_literal_3344;Object.prototype.hasOwnProperty.call(JSCompiler_object_inline_value_3341,\nJSCompiler_object_inline_literal_3344)?throwError({},\x22Duplicate data property in object literal not allowed in strict mode\x22):JSCompiler_object_inline_value_3341[JSCompiler_object_inline_literal_3344]\x3d!0;type.push(JSCompiler_object_inline_value_3343);match(\x22}\x22)||expect(\x22,\x22)}expect(\x22}\x22);JSCompiler_object_inline_value_3341\x3dnew ASTNode(\x22ObjectExpression\x22);JSCompiler_object_inline_value_3341.properties\x3dtype;return JSCompiler_object_inline_value_3341}type\x3dlookahead.type;index$jscomp$0\x3dlookahead.start;if(3\x3d\x3d\x3d\ntype||legalKeywords[lookahead.value])JSCompiler_object_inline_value_3341\x3dfinishIdentifier(lex().value);else if(8\x3d\x3d\x3dtype||6\x3d\x3d\x3dtype)lookahead.octal\x26\x26throwError(lookahead,\x22Octal literals are not allowed in strict mode.\x22),JSCompiler_object_inline_value_3341\x3dfinishLiteral(lex());else{if(4\x3d\x3d\x3dtype)throw Error(\x22Disabled.\x22);if(1\x3d\x3d\x3dtype)type\x3dlex(),type.value\x3d\x22true\x22\x3d\x3d\x3dtype.value,JSCompiler_object_inline_value_3341\x3dfinishLiteral(type);else if(5\x3d\x3d\x3dtype)type\x3dlex(),type.value\x3dnull,JSCompiler_object_inline_value_3341\x3d\nfinishLiteral(type);else if(match(\x22/\x22)||match(\x22/\\x3d\x22)){var value;lookahead\x3dnull;skipComment();type\x3dindex$jscomp$0;JSCompiler_object_inline_value_3341\x3dsource$jscomp$0[index$jscomp$0];assert(\x22/\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3341,\x22Regular expression literal must start with a slash\x22);JSCompiler_object_inline_literal_3342\x3dsource$jscomp$0[index$jscomp$0++];for(JSCompiler_object_inline_literal_3344\x3dJSCompiler_object_inline_value_3343\x3d!1;index$jscomp$0\x3clength$jscomp$0;)if(JSCompiler_object_inline_value_3341\x3d\nsource$jscomp$0[index$jscomp$0++],JSCompiler_object_inline_literal_3342+\x3dJSCompiler_object_inline_value_3341,\x22\\\\\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3341)JSCompiler_object_inline_value_3341\x3dsource$jscomp$0[index$jscomp$0++],isLineTerminator(JSCompiler_object_inline_value_3341.charCodeAt(0))\x26\x26throwError({},\x22Invalid regular expression: missing /\x22),JSCompiler_object_inline_literal_3342+\x3dJSCompiler_object_inline_value_3341;else if(isLineTerminator(JSCompiler_object_inline_value_3341.charCodeAt(0)))throwError({},\n\x22Invalid regular expression: missing /\x22);else if(JSCompiler_object_inline_value_3343)\x22]\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3341\x26\x26(JSCompiler_object_inline_value_3343\x3d!1);else if(\x22/\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3341){JSCompiler_object_inline_literal_3344\x3d!0;break}else\x22[\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3341\x26\x26(JSCompiler_object_inline_value_3343\x3d!0);JSCompiler_object_inline_literal_3344||throwError({},\x22Invalid regular expression: missing /\x22);JSCompiler_object_inline_value_3341\x3dJSCompiler_object_inline_literal_3342.substr(1,\nJSCompiler_object_inline_literal_3342.length-2);for(value\x3dJSCompiler_object_inline_literal_3344\x3d\x22\x22;index$jscomp$0\x3clength$jscomp$0;){JSCompiler_object_inline_value_3343\x3dsource$jscomp$0[index$jscomp$0];if(!isIdentifierPart(JSCompiler_object_inline_value_3343.charCodeAt(0)))break;++index$jscomp$0;\x22\\\\\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3343\x26\x26index$jscomp$0\x3clength$jscomp$0?throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22):(value+\x3dJSCompiler_object_inline_value_3343,JSCompiler_object_inline_literal_3344+\x3dJSCompiler_object_inline_value_3343)}0\x3c\x3d\nvalue.search(/[^gimuy]/g)\x26\x26throwError({},\x22Invalid regular expression\x22,value);JSCompiler_object_inline_value_3343\x3dvalue;value\x3dtestRegExp(JSCompiler_object_inline_value_3341,JSCompiler_object_inline_value_3343);JSCompiler_object_inline_value_3341\x3dfinishLiteral({literal:JSCompiler_object_inline_literal_3342+JSCompiler_object_inline_literal_3344,value:value,regex:{pattern:JSCompiler_object_inline_value_3341,flags:JSCompiler_object_inline_value_3343},start:type,end:index$jscomp$0});peek()}else throwUnexpected(lex())}return JSCompiler_object_inline_value_3341}\nfunction parsePostfixExpression(){var expr;for(expr\x3dparsePrimaryExpression();;)if(match(\x22.\x22)){expect(\x22.\x22);index$jscomp$0\x3dlookahead.start;var args\x3dlex();3\x3d\x3d\x3dargs.type||4\x3d\x3d\x3dargs.type||1\x3d\x3d\x3dargs.type||5\x3d\x3d\x3dargs.type||throwUnexpected(args);args\x3dfinishIdentifier(args.value);expr\x3dfinishMemberExpression(\x22.\x22,expr,args)}else if(match(\x22(\x22)){args\x3d[];expect(\x22(\x22);if(!match(\x22)\x22))for(;index$jscomp$0\x3clength$jscomp$0;){args.push(parseConditionalExpression());if(match(\x22)\x22))break;expect(\x22,\x22)}expect(\x22)\x22);var node\x3dnew ASTNode(\x22CallExpression\x22);\nnode.callee\x3dexpr;node.arguments\x3dargs;expr\x3dnode}else if(match(\x22[\x22))expect(\x22[\x22),args\x3dparseExpression(),expect(\x22]\x22),expr\x3dfinishMemberExpression(\x22[\x22,expr,args);else break;if(7\x3d\x3d\x3dlookahead.type\x26\x26(match(\x22++\x22)||match(\x22--\x22)))throw Error(\x22Disabled.\x22);return expr}function parseUnaryExpression(){if(7!\x3d\x3dlookahead.type\x26\x264!\x3d\x3dlookahead.type)var expr\x3dparsePostfixExpression();else{if(match(\x22++\x22)||match(\x22--\x22))throw Error(\x22Disabled.\x22);if(match(\x22+\x22)||match(\x22-\x22)||match(\x22~\x22)||match(\x22!\x22)){var token\x3dlex();expr\x3dparseUnaryExpression();\ntoken\x3dtoken.value;var node\x3dnew ASTNode(\x22UnaryExpression\x22);node.operator\x3dtoken;node.argument\x3dexpr;node.prefix\x3d!0;expr\x3dnode}else{if(4\x3d\x3d\x3dlookahead.type\x26\x26\x22delete\x22\x3d\x3d\x3dlookahead.value||4\x3d\x3d\x3dlookahead.type\x26\x26\x22void\x22\x3d\x3d\x3dlookahead.value||4\x3d\x3d\x3dlookahead.type\x26\x26\x22typeof\x22\x3d\x3d\x3dlookahead.value)throw Error(\x22Disabled.\x22);expr\x3dparsePostfixExpression()}}return expr}function binaryPrecedence(token){var prec\x3d0;if(7!\x3d\x3dtoken.type\x26\x264!\x3d\x3dtoken.type)return 0;switch(token.value){case \x22||\x22:prec\x3d1;break;case \x22\\x26\\x26\x22:prec\x3d2;break;case \x22|\x22:prec\x3d\n3;break;case \x22^\x22:prec\x3d4;break;case \x22\\x26\x22:prec\x3d5;break;case \x22\\x3d\\x3d\x22:case \x22!\\x3d\x22:case \x22\\x3d\\x3d\\x3d\x22:case \x22!\\x3d\\x3d\x22:prec\x3d6;break;case \x22\\x3c\x22:case \x22\\x3e\x22:case \x22\\x3c\\x3d\x22:case \x22\\x3e\\x3d\x22:case \x22instanceof\x22:case \x22in\x22:prec\x3d7;break;case \x22\\x3c\\x3c\x22:case \x22\\x3e\\x3e\x22:case \x22\\x3e\\x3e\\x3e\x22:prec\x3d8;break;case \x22+\x22:case \x22-\x22:prec\x3d9;break;case \x22*\x22:case \x22/\x22:case \x22%\x22:prec\x3d11}return prec}function parseConditionalExpression(){var consequent\x3dlookahead;var expr\x3dparseUnaryExpression();var token\x3dlookahead;var alternate\x3d\nbinaryPrecedence(token);if(0\x3d\x3d\x3dalternate)var expr$jscomp$0\x3dexpr;else{token.prec\x3dalternate;lex();consequent\x3d[consequent,lookahead];var right\x3dparseUnaryExpression();for(expr$jscomp$0\x3d[expr,token,right];0\x3c(alternate\x3dbinaryPrecedence(lookahead));){for(;2\x3cexpr$jscomp$0.length\x26\x26alternate\x3c\x3dexpr$jscomp$0[expr$jscomp$0.length-2].prec;)right\x3dexpr$jscomp$0.pop(),token\x3dexpr$jscomp$0.pop().value,expr\x3dexpr$jscomp$0.pop(),consequent.pop(),expr\x3dfinishBinaryExpression(token,expr,right),expr$jscomp$0.push(expr);token\x3d\nlex();token.prec\x3dalternate;expr$jscomp$0.push(token);consequent.push(lookahead);expr\x3dparseUnaryExpression();expr$jscomp$0.push(expr)}alternate\x3dexpr$jscomp$0.length-1;expr\x3dexpr$jscomp$0[alternate];for(consequent.pop();1\x3calternate;)consequent.pop(),expr\x3dfinishBinaryExpression(expr$jscomp$0[alternate-1].value,expr$jscomp$0[alternate-2],expr),alternate-\x3d2;expr$jscomp$0\x3dexpr}match(\x22?\x22)\x26\x26(lex(),consequent\x3dparseConditionalExpression(),expect(\x22:\x22),alternate\x3dparseConditionalExpression(),expr\x3dnew ASTNode(\x22ConditionalExpression\x22),\nexpr.test\x3dexpr$jscomp$0,expr.consequent\x3dconsequent,expr.alternate\x3dalternate,expr$jscomp$0\x3dexpr);return expr$jscomp$0}function parseExpression(){var expr\x3dparseConditionalExpression();if(match(\x22,\x22))throw Error(\x22Disabled.\x22);return expr}function parse(code){source$jscomp$0\x3dcode;index$jscomp$0\x3d0;length$jscomp$0\x3dsource$jscomp$0.length;lookahead\x3dnull;peek();code\x3dparseExpression();if(2!\x3d\x3dlookahead.type)throw Error(\x22Unexpect token after expression.\x22);return code}function getName(node){var name\x3d[];if(\x22Identifier\x22\x3d\x3d\x3d\nnode.type)return[node.name];if(\x22Literal\x22\x3d\x3d\x3dnode.type)return[node.value];\x22MemberExpression\x22\x3d\x3d\x3dnode.type\x26\x26(name.push.apply(name,$jscomp.arrayFromIterable(getName(node.object))),name.push.apply(name,$jscomp.arrayFromIterable(getName(node.property))));return name}function startsWithDatum(node){return\x22MemberExpression\x22\x3d\x3d\x3dnode.object.type?startsWithDatum(node.object):\x22datum\x22\x3d\x3d\x3dnode.object.name}function getDependentFields(expression){expression\x3dparse(expression);var dependents\x3dnew Set;expression.visit(function(node){\x22MemberExpression\x22\x3d\x3d\x3d\nnode.type\x26\x26startsWithDatum(node)\x26\x26dependents.add(getName(node).slice(1).join(\x22.\x22))});return dependents}function parseUnitSelection(model,selDefs){for(var _a,selCmpts\x3d{},selectionConfig\x3dmodel.config.selection,$jscomp$loop$617\x3d{},$jscomp$iter$129\x3d$jscomp.makeIterator(keys(null!\x3d\x3dselDefs\x26\x26void 0!\x3d\x3dselDefs?selDefs:{})),$jscomp$key$name\x3d$jscomp$iter$129.next();!$jscomp$key$name.done;$jscomp$loop$617\x3d{$jscomp$loop$prop$selCmpt$618:$jscomp$loop$617.$jscomp$loop$prop$selCmpt$618,$jscomp$loop$prop$selDef$619:$jscomp$loop$617.$jscomp$loop$prop$selDef$619,\n$jscomp$loop$prop$name$620:$jscomp$loop$617.$jscomp$loop$prop$name$620},$jscomp$key$name\x3d$jscomp$iter$129.next()){$jscomp$loop$617.$jscomp$loop$prop$name$620\x3d$jscomp$key$name.value;$jscomp$loop$617.$jscomp$loop$prop$selDef$619\x3dduplicate(selDefs[$jscomp$loop$617.$jscomp$loop$prop$name$620]);$jscomp$key$name\x3d__rest(selectionConfig[$jscomp$loop$617.$jscomp$loop$prop$selDef$619.type],[\x22fields\x22,\x22encodings\x22]);for(var key in $jscomp$key$name)\x22encodings\x22\x3d\x3d\x3dkey\x26\x26$jscomp$loop$617.$jscomp$loop$prop$selDef$619.fields||\n\x22fields\x22\x3d\x3d\x3dkey\x26\x26$jscomp$loop$617.$jscomp$loop$prop$selDef$619.encodings||(\x22mark\x22\x3d\x3d\x3dkey\x26\x26($jscomp$loop$617.$jscomp$loop$prop$selDef$619[key]\x3dObject.assign(Object.assign({},$jscomp$key$name[key]),$jscomp$loop$617.$jscomp$loop$prop$selDef$619[key])),void 0!\x3d\x3d$jscomp$loop$617.$jscomp$loop$prop$selDef$619[key]\x26\x26!0!\x3d\x3d$jscomp$loop$617.$jscomp$loop$prop$selDef$619[key])||($jscomp$loop$617.$jscomp$loop$prop$selDef$619[key]\x3dnull!\x3d\x3d(_a\x3d$jscomp$key$name[key])\x26\x26void 0!\x3d\x3d_a?_a:$jscomp$loop$617.$jscomp$loop$prop$selDef$619[key]);\n$jscomp$key$name\x3dvarName($jscomp$loop$617.$jscomp$loop$prop$name$620);$jscomp$loop$617.$jscomp$loop$prop$selCmpt$618\x3dselCmpts[$jscomp$key$name]\x3dObject.assign(Object.assign({},$jscomp$loop$617.$jscomp$loop$prop$selDef$619),{name:$jscomp$key$name,events:isString($jscomp$loop$617.$jscomp$loop$prop$selDef$619.on)?parseSelector($jscomp$loop$617.$jscomp$loop$prop$selDef$619.on,\x22scope\x22):duplicate($jscomp$loop$617.$jscomp$loop$prop$selDef$619.on)});forEachTransform($jscomp$loop$617.$jscomp$loop$prop$selCmpt$618,\nfunction($jscomp$loop$617){return function(txCompiler){txCompiler.has($jscomp$loop$617.$jscomp$loop$prop$selCmpt$618)\x26\x26txCompiler.parse\x26\x26txCompiler.parse(model,$jscomp$loop$617.$jscomp$loop$prop$selCmpt$618,$jscomp$loop$617.$jscomp$loop$prop$selDef$619,selDefs[$jscomp$loop$617.$jscomp$loop$prop$name$620])}}($jscomp$loop$617))}return selCmpts}function parseSelectionPredicate(model,selections,dfnode,datum){datum\x3dvoid 0\x3d\x3d\x3ddatum?\x22datum\x22:datum;var stores\x3d[];selections\x3dlogicalExpr(selections,function(name){var vname\x3d\nvarName(name);name\x3dmodel.getSelectionComponent(vname,name);vname\x3d$(vname+\x22_store\x22);if(name.project.timeUnit){var child\x3dnull!\x3d\x3ddfnode\x26\x26void 0!\x3d\x3ddfnode?dfnode:model.component.data.raw,tunode\x3dname.project.timeUnit.clone();child.parent?tunode.insertAsParentOf(child):child.parent\x3dtunode}\x22none\x22!\x3d\x3dname.empty\x26\x26stores.push(vname);return\x22vlSelectionTest(\x22+vname+\x22, \x22+datum+(\x22global\x22\x3d\x3d\x3dname.resolve?\x22)\x22:\x22, \x22+$(name.resolve)+\x22)\x22)});return(stores.length?\x22!(\x22+stores.map(function(s){return\x22length(data(\x22+s+\x22))\x22}).join(\x22 || \x22)+\n\x22) || \x22:\x22\x22)+(\x22(\x22+selections+\x22)\x22)}function parseSelectionBinExtent(selCmpt,extent){var encoding\x3dextent.encoding,field\x3dextent.field;if(!encoding\x26\x26!field)field\x3dselCmpt.project.items[0].field,1\x3cselCmpt.project.items.length\x26\x26warn(\x27A \x22field\x22 or \x22encoding\x22 must be specified when using a selection as a scale domain. Using \x22field\x22: \x27+($(field)+\x22.\x22));else if(encoding\x26\x26!field){var encodings\x3dselCmpt.project.items.filter(function(p){return p.channel\x3d\x3d\x3dencoding});!encodings.length||1\x3cencodings.length?(field\x3dselCmpt.project.items[0].field,\nwarn((encodings.length?\x22Multiple \x22:\x22No \x22)+(\x22matching \x22+$(encoding)+\x22 encoding found for selection \x22+$(extent.selection)+\x27. Using \x22field\x22: \x27)+($(field)+\x22.\x22))):field\x3dencodings[0].field}return selCmpt.name+\x22[\x22+$(field)+\x22]\x22}function materializeSelections(model,main){forEachSelection(model,function(selCmpt){var selection\x3dselCmpt.name,lookupName\x3dmodel.getName(\x22lookup_\x22+selection);model.component.data.outputNodes[lookupName]\x3dselCmpt.materialized\x3dnew OutputNode(new FilterNode(main,model,{selection:selection}),\nlookupName,DataSourceType.Lookup,model.component.data.outputNodeRefCounts)})}function expression$jscomp$0(model,filterOp,node){return logicalExpr(filterOp,function(predicate){return isString(predicate)?predicate:(null\x3d\x3d\x3dpredicate||void 0\x3d\x3d\x3dpredicate?0:predicate.selection)?parseSelectionPredicate(model,predicate.selection,node):fieldFilterExpression(predicate)})}function assembleTitle(title,config){if(title)return isArray(title)\x26\x26!isText(title)?title.map(function(fieldDef){return titleFormatter(fieldDef,\nconfig)}).join(\x22, \x22):title}function setAxisEncode(axis,part,vgProp,vgRef){var _a,_b,_c;axis.encode\x3dnull!\x3d\x3d(_a\x3daxis.encode)\x26\x26void 0!\x3d\x3d_a?_a:{};axis.encode[part]\x3dnull!\x3d\x3d(_b\x3daxis.encode[part])\x26\x26void 0!\x3d\x3d_b?_b:{};axis.encode[part].update\x3dnull!\x3d\x3d(_c\x3daxis.encode[part].update)\x26\x26void 0!\x3d\x3d_c?_c:{};axis.encode[part].update[vgProp]\x3dvgRef}function assembleAxis(axisCmpt,kind,config,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{header:!1}:opt;var _a,_b,_c\x3daxisCmpt.combine(),disable\x3d_c.disable,orient\x3d_c.orient,scale\x3d_c.scale,labelExpr\x3d\n_c.labelExpr,title\x3d_c.title,zindex\x3d_c.zindex;_c\x3d__rest(_c,\x22disable orient scale labelExpr title zindex\x22.split(\x22 \x22));if(!disable){for(var prop in _c){var propType\x3dAXIS_PROPERTY_TYPE[prop];disable\x3d_c[prop];if(propType\x26\x26propType!\x3d\x3dkind\x26\x26\x22both\x22!\x3d\x3dpropType)delete _c[prop];else if(isConditionalAxisValue(disable)){propType\x3ddisable.condition;disable\x3d__rest(disable,[\x22condition\x22]);propType\x3darray$jscomp$0(propType);var propIndex\x3dCONDITIONAL_AXIS_PROP_INDEX[prop];if(propIndex){var $jscomp$destructuring$var190\x3d\npropIndex;propIndex\x3d$jscomp$destructuring$var190.vgProp;$jscomp$destructuring$var190\x3d$jscomp$destructuring$var190.part;disable\x3d[].concat($jscomp.arrayFromIterable(propType.map(function(c){var test\x3dc.test;c\x3d__rest(c,[\x22test\x22]);return Object.assign({test:expression$jscomp$0(null,test)},c)})),[disable]);setAxisEncode(_c,$jscomp$destructuring$var190,propIndex,disable);delete _c[prop]}else null\x3d\x3d\x3dpropIndex\x26\x26(disable\x3d{signal:propType.map(function(c){var test\x3dc.test;c\x3d__rest(c,[\x22test\x22]);return expression$jscomp$0(null,\ntest)+\x22 ? \x22+(isSignalRef(c)?c.signal:$(c.value))+\x22 : \x22}).join(\x22\x22)+(isSignalRef(disable)?disable.signal:$(disable.value))},_c[prop]\x3ddisable)}else isSignalRef(disable)\x26\x26(propType\x3dCONDITIONAL_AXIS_PROP_INDEX[prop])\x26\x26(setAxisEncode(_c,propType.part,propType.vgProp,disable),delete _c[prop])}if(\x22grid\x22\x3d\x3d\x3dkind){if(_c.grid)return _c.encode\x26\x26(config\x3d_c.encode.grid,_c.encode\x3dObject.assign({},config?{grid:config}:{}),isEmpty(_c.encode)\x26\x26delete _c.encode),Object.assign(Object.assign({scale:scale,orient:orient},\n_c),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:getFirstDefined(zindex,0)})}else if(opt.header||!axisCmpt.mainExtracted){void 0!\x3d\x3dlabelExpr\x26\x26(kind\x3dlabelExpr,(null\x3d\x3d\x3d(_b\x3dnull\x3d\x3d\x3d(_a\x3d_c.encode)||void 0\x3d\x3d\x3d_a?void 0:_a.labels)||void 0\x3d\x3d\x3d_b?0:_b.update)\x26\x26isSignalRef(_c.encode.labels.update.text)\x26\x26(kind\x3dreplaceAll(labelExpr,\x22datum.label\x22,_c.encode.labels.update.text.signal)),setAxisEncode(_c,\x22labels\x22,\x22text\x22,{signal:kind}));null\x3d\x3d\x3d_c.labelAlign\x26\x26delete _c.labelAlign;if(_c.encode){_a\x3d\n$jscomp.makeIterator(AXIS_PARTS);for(_b\x3d_a.next();!_b.done;_b\x3d_a.next())_b\x3d_b.value,axisCmpt.hasAxisPart(_b)||delete _c.encode[_b];isEmpty(_c.encode)\x26\x26delete _c.encode}axisCmpt\x3dassembleTitle(title,config);return Object.assign(Object.assign(Object.assign(Object.assign({scale:scale,orient:orient,grid:!1},axisCmpt?{title:axisCmpt}:{}),_c),!1\x3d\x3d\x3dconfig.aria?{aria:!1}:{}),{zindex:getFirstDefined(zindex,0)})}}}function assembleAxisSignals(model){for(var axes\x3dmodel.component.axes,signals\x3d[],$jscomp$iter$132\x3d\n$jscomp.makeIterator(POSITION_SCALE_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$132.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$132.next())if($jscomp$key$channel\x3d$jscomp$key$channel.value,axes[$jscomp$key$channel])for(var $jscomp$iter$131\x3d$jscomp.makeIterator(axes[$jscomp$key$channel]),$jscomp$key$axis\x3d$jscomp$iter$131.next();!$jscomp$key$axis.done;$jscomp$key$axis\x3d$jscomp$iter$131.next())if($jscomp$key$axis\x3d$jscomp$key$axis.value,!$jscomp$key$axis.get(\x22disable\x22)\x26\x26!$jscomp$key$axis.get(\x22gridScale\x22)){$jscomp$key$axis\x3d\n\x22x\x22\x3d\x3d\x3d$jscomp$key$channel?\x22height\x22:\x22width\x22;var update\x3dmodel.getSizeSignalRef($jscomp$key$axis).signal;$jscomp$key$axis!\x3d\x3dupdate\x26\x26signals.push({name:$jscomp$key$axis,update:update})}return signals}function assembleAxes(axisComponents,config){var x\x3dvoid 0\x3d\x3d\x3daxisComponents.x?[]:axisComponents.x;axisComponents\x3dvoid 0\x3d\x3d\x3daxisComponents.y?[]:axisComponents.y;return[].concat($jscomp.arrayFromIterable(x.map(function(a){return assembleAxis(a,\x22grid\x22,config)})),$jscomp.arrayFromIterable(axisComponents.map(function(a){return assembleAxis(a,\n\x22grid\x22,config)})),$jscomp.arrayFromIterable(x.map(function(a){return assembleAxis(a,\x22main\x22,config)})),$jscomp.arrayFromIterable(axisComponents.map(function(a){return assembleAxis(a,\x22main\x22,config)}))).filter(function(a){return a})}function getAxisConfigFromConfigTypes(configTypes,config,channel,orient){return Object.assign.apply(null,[{}].concat($jscomp.arrayFromIterable(configTypes.map(function(configType){if(\x22axisOrient\x22\x3d\x3d\x3dconfigType){configType\x3d\x22x\x22\x3d\x3d\x3dchannel?\x22bottom\x22:\x22left\x22;var orientConfig1\x3dconfig[\x22x\x22\x3d\x3d\x3d\nchannel?\x22axisBottom\x22:\x22axisLeft\x22]||{},orientConfig2\x3dconfig[\x22x\x22\x3d\x3d\x3dchannel?\x22axisTop\x22:\x22axisRight\x22]||{},props\x3dnew Set([].concat($jscomp.arrayFromIterable(keys(orientConfig1)),$jscomp.arrayFromIterable(keys(orientConfig2)))),conditionalOrientAxisConfig\x3d{};props\x3d$jscomp.makeIterator(props.values());for(var $jscomp$key$prop\x3dprops.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3dprops.next())$jscomp$key$prop\x3d$jscomp$key$prop.value,conditionalOrientAxisConfig[$jscomp$key$prop]\x3d{signal:orient.signal+\x27 \\x3d\\x3d\\x3d \x22\x27+\nconfigType+\x27\x22 ? \x27+signalOrStringValue(orientConfig1[$jscomp$key$prop])+\x22 : \x22+signalOrStringValue(orientConfig2[$jscomp$key$prop])};return conditionalOrientAxisConfig}return config[configType]}))))}function getAxisConfigs(channel,scaleType,orient,config){var typeBasedConfigTypes\x3d\x22band\x22\x3d\x3d\x3dscaleType?[\x22axisDiscrete\x22,\x22axisBand\x22]:\x22point\x22\x3d\x3d\x3dscaleType?[\x22axisDiscrete\x22,\x22axisPoint\x22]:scaleType in QUANTITATIVE_SCALES_INDEX?[\x22axisQuantitative\x22]:\x22time\x22\x3d\x3d\x3dscaleType||\x22utc\x22\x3d\x3d\x3dscaleType?[\x22axisTemporal\x22]:[],axisChannel\x3d\n\x22x\x22\x3d\x3d\x3dchannel?\x22axisX\x22:\x22axisY\x22;scaleType\x3disSignalRef(orient)?\x22axisOrient\x22:\x22axis\x22+titleCase(orient);typeBasedConfigTypes\x3d[].concat($jscomp.arrayFromIterable(typeBasedConfigTypes),$jscomp.arrayFromIterable(typeBasedConfigTypes.map(function(c){return axisChannel+c.substr(4)})));scaleType\x3d[\x22axis\x22,scaleType,axisChannel];return{vlOnlyAxisConfig:getAxisConfigFromConfigTypes(typeBasedConfigTypes,config,channel,orient),vgAxisConfig:getAxisConfigFromConfigTypes(scaleType,config,channel,orient),axisConfigStyle:getAxisConfigStyle([].concat($jscomp.arrayFromIterable(scaleType),\n$jscomp.arrayFromIterable(typeBasedConfigTypes)),config)}}function getAxisConfigStyle(axisConfigTypes,config){var _a,toMerge\x3d[{}];axisConfigTypes\x3d$jscomp.makeIterator(axisConfigTypes);for(var $jscomp$key$configType\x3daxisConfigTypes.next();!$jscomp$key$configType.done;$jscomp$key$configType\x3daxisConfigTypes.next())if($jscomp$key$configType\x3dnull\x3d\x3d\x3d(_a\x3dconfig[$jscomp$key$configType.value])||void 0\x3d\x3d\x3d_a?void 0:_a.style){$jscomp$key$configType\x3darray$jscomp$0($jscomp$key$configType);$jscomp$key$configType\x3d\n$jscomp.makeIterator($jscomp$key$configType);for(var $jscomp$key$s\x3d$jscomp$key$configType.next();!$jscomp$key$s.done;$jscomp$key$s\x3d$jscomp$key$configType.next())toMerge.push(config.style[$jscomp$key$s.value])}return Object.assign.apply(null,toMerge)}function getAxisConfig(property,styleConfigIndex,style,axisConfigs){axisConfigs\x3dvoid 0\x3d\x3d\x3daxisConfigs?{}:axisConfigs;var _a;styleConfigIndex\x3dgetStyleConfig(property,style,styleConfigIndex);if(void 0!\x3d\x3dstyleConfigIndex)return{configFrom:\x22style\x22,configValue:styleConfigIndex};\nstyleConfigIndex\x3d$jscomp.makeIterator([\x22vlOnlyAxisConfig\x22,\x22vgAxisConfig\x22,\x22axisConfigStyle\x22]);for(style\x3dstyleConfigIndex.next();!style.done;style\x3dstyleConfigIndex.next())if(style\x3dstyle.value,void 0!\x3d\x3d(null\x3d\x3d\x3d(_a\x3daxisConfigs[style])||void 0\x3d\x3d\x3d_a?void 0:_a[property]))return{configFrom:style,configValue:axisConfigs[style][property]};return{}}function getLabelAngle(fieldOrDatumDef,axis,channel,styleConfig,axisConfigs){var labelAngle\x3dnull\x3d\x3d\x3daxis||void 0\x3d\x3d\x3daxis?void 0:axis.labelAngle;if(void 0!\x3d\x3dlabelAngle)return isSignalRef(labelAngle)?\nlabelAngle:normalizeAngle(labelAngle);axis\x3dgetAxisConfig(\x22labelAngle\x22,styleConfig,null\x3d\x3d\x3daxis||void 0\x3d\x3d\x3daxis?void 0:axis.style,axisConfigs).configValue;if(void 0!\x3d\x3daxis)return normalizeAngle(axis);if(\x22x\x22\x3d\x3d\x3dchannel\x26\x26contains([\x22nominal\x22,\x22ordinal\x22],fieldOrDatumDef.type)\x26\x26(!isFieldDef(fieldOrDatumDef)||!fieldOrDatumDef.timeUnit))return 270}function normalizeAngleExpr(angle){return\x22(((\x22+angle.signal+\x22 % 360) + 360) % 360)\x22}function defaultLabelBaseline(angle,orient,channel,alwaysIncludeMiddle){if(void 0!\x3d\x3d\nangle)return\x22x\x22\x3d\x3d\x3dchannel?isSignalRef(angle)?(alwaysIncludeMiddle\x3dnormalizeAngleExpr(angle),orient\x3disSignalRef(orient)?\x22(\x22+orient.signal+\x27 \\x3d\\x3d\\x3d \x22top\x22)\x27:\x22top\x22\x3d\x3d\x3dorient,{signal:\x22(45 \\x3c \x22+alwaysIncludeMiddle+\x22 \\x26\\x26 \x22+alwaysIncludeMiddle+\x22 \\x3c 135) || (225 \\x3c \x22+alwaysIncludeMiddle+\x22 \\x26\\x26 \x22+alwaysIncludeMiddle+\x27 \\x3c 315) ? \x22middle\x22 :(\x27+(alwaysIncludeMiddle+\x22 \\x3c\\x3d 45 || 315 \\x3c\\x3d \x22+alwaysIncludeMiddle+\x22) \\x3d\\x3d\\x3d \x22+orient+\x27 ? \x22bottom\x22 : \x22top\x22\x27)}):45\x3cangle\x26\x26135\x3eangle||225\x3c\nangle\x26\x26315\x3eangle?\x22middle\x22:isSignalRef(orient)?{signal:orient.signal+\x22 \x22+(45\x3e\x3dangle||315\x3c\x3dangle?\x22\\x3d\\x3d\\x3d\x22:\x22!\\x3d\\x3d\x22)+\x27 \x22top\x22 ? \x22bottom\x22 : \x22top\x22\x27}:(45\x3e\x3dangle||315\x3c\x3dangle)\x3d\x3d\x3d(\x22top\x22\x3d\x3d\x3dorient)?\x22bottom\x22:\x22top\x22:isSignalRef(angle)?(angle\x3dnormalizeAngleExpr(angle),orient\x3disSignalRef(orient)?\x22(\x22+orient.signal+\x27 \\x3d\\x3d\\x3d \x22left\x22)\x27:\x22left\x22\x3d\x3d\x3dorient,{signal:angle+\x22 \\x3c\\x3d 45 || 315 \\x3c\\x3d \x22+angle+\x22 || (135 \\x3c\\x3d \x22+angle+\x22 \\x26\\x26 \x22+angle+\x22 \\x3c\\x3d 225) ? \x22+(alwaysIncludeMiddle?\x27\x22middle\x22\x27:\x22null\x22)+\n\x22 : (45 \\x3c\\x3d \x22+angle+\x22 \\x26\\x26 \x22+angle+\x22 \\x3c\\x3d 135) \\x3d\\x3d\\x3d \x22+orient+\x27 ? \x22top\x22 : \x22bottom\x22\x27}):45\x3e\x3dangle||315\x3c\x3dangle||135\x3c\x3dangle\x26\x26225\x3e\x3dangle?alwaysIncludeMiddle?\x22middle\x22:null:isSignalRef(orient)?{signal:orient.signal+\x22 \x22+(45\x3c\x3dangle\x26\x26135\x3e\x3dangle?\x22\\x3d\\x3d\\x3d\x22:\x22!\\x3d\\x3d\x22)+\x27 \x22left\x22 ? \x22top\x22 : \x22bottom\x22\x27}:(45\x3c\x3dangle\x26\x26135\x3e\x3dangle)\x3d\x3d\x3d(\x22left\x22\x3d\x3d\x3dorient)?\x22top\x22:\x22bottom\x22}function defaultLabelAlign(angle,orient,channel){if(void 0!\x3d\x3dangle){var startAngle\x3d(channel\x3d\x22x\x22\x3d\x3d\x3dchannel)?0:90,mainOrient\x3dchannel?\n\x22bottom\x22:\x22left\x22;return isSignalRef(angle)?(angle\x3dnormalizeAngleExpr(angle),orient\x3disSignalRef(orient)?\x22(\x22+orient.signal+\x27 \\x3d\\x3d\\x3d \x22\x27+mainOrient+\x27\x22)\x27:orient\x3d\x3d\x3dmainOrient,{signal:\x22(\x22+(startAngle?\x22(\x22+angle+\x22 + 90)\x22:angle)+\x22 % 180 \\x3d\\x3d\\x3d 0) ? \x22+(channel?null:\x27\x22center\x22\x27)+\x22 :(\x22+(startAngle+\x22 \\x3c \x22+angle+\x22 \\x26\\x26 \x22+angle+\x22 \\x3c \x22+(180+startAngle)+\x22) \\x3d\\x3d\\x3d \x22+orient+\x27 ? \x22left\x22 : \x22right\x22\x27)}):0\x3d\x3d\x3d(angle+startAngle)%180?channel?null:\x22center\x22:isSignalRef(orient)?{signal:orient.signal+\x22 \x22+\n(startAngle\x3cangle\x26\x26angle\x3c180+startAngle?\x22\\x3d\\x3d\\x3d\x22:\x22!\\x3d\\x3d\x22)+\x27 \x22\x27+mainOrient+\x27\x22 ? \x22left\x22 : \x22right\x22\x27}:(startAngle\x3cangle\x26\x26angle\x3c180+startAngle)\x3d\x3d\x3d(orient\x3d\x3d\x3dmainOrient)?\x22left\x22:\x22right\x22}}function getFieldDefTitle(model,channel){var channel2\x3d\x22x\x22\x3d\x3d\x3dchannel?\x22x2\x22:\x22y2\x22;channel\x3dmodel.fieldDef(channel);model\x3dmodel.fieldDef(channel2);channel2\x3dchannel?channel.title:void 0;model\x3dmodel?model.title:void 0;if(channel2\x26\x26model)return mergeTitle(channel2,model);if(channel2)return channel2;if(model)return model;\nif(void 0!\x3d\x3dchannel2)return channel2;if(void 0!\x3d\x3dmodel)return model}function sortArrayIndexField(fieldDef,channel,opt){return vgField(fieldDef,Object.assign({prefix:channel,suffix:\x22sort_index\x22},null!\x3d\x3dopt\x26\x26void 0!\x3d\x3dopt?opt:{}))}function getHeaderChannel(channel,orient){return contains([\x22top\x22,\x22bottom\x22],orient)?\x22column\x22:contains([\x22left\x22,\x22right\x22],orient)?\x22row\x22:\x22row\x22\x3d\x3d\x3dchannel?\x22row\x22:\x22column\x22}function getHeaderProperty(prop,facetFieldDef,config,channel){return getFirstDefined(((null\x3d\x3d\x3dfacetFieldDef||void 0\x3d\x3d\x3d\nfacetFieldDef?void 0:facetFieldDef.header)||{})[prop],(\x22row\x22\x3d\x3d\x3dchannel?config.headerRow:\x22column\x22\x3d\x3d\x3dchannel?config.headerColumn:config.headerFacet)[prop],config.header[prop])}function getHeaderProperties(properties,facetFieldDef,config,channel){var props\x3d{};properties\x3d$jscomp.makeIterator(properties);for(var $jscomp$key$prop\x3dproperties.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3dproperties.next()){$jscomp$key$prop\x3d$jscomp$key$prop.value;var value\x3dgetHeaderProperty($jscomp$key$prop,facetFieldDef,\nconfig,channel);void 0!\x3d\x3dvalue\x26\x26(props[$jscomp$key$prop]\x3dvalue)}return props}function assembleTitleGroup(model,channel){var title\x3dmodel.component.layoutHeaders[channel].title,config\x3dmodel.config?model.config:void 0;model\x3dmodel.component.layoutHeaders[channel].facetFieldDef?model.component.layoutHeaders[channel].facetFieldDef:void 0;var $jscomp$destructuring$var233\x3dgetHeaderProperties([\x22titleAnchor\x22,\x22titleAngle\x22,\x22titleOrient\x22],model,config,channel),titleAnchor\x3d$jscomp$destructuring$var233.titleAnchor,\nta\x3d$jscomp$destructuring$var233.titleAngle;$jscomp$destructuring$var233\x3dgetHeaderChannel(channel,$jscomp$destructuring$var233.titleOrient);ta\x3dnormalizeAngle(ta);return{name:channel+\x22-title\x22,type:\x22group\x22,role:$jscomp$destructuring$var233+\x22-title\x22,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:title},\x22row\x22\x3d\x3d\x3dchannel?{orient:\x22left\x22}:{}),{style:\x22guide-title\x22}),defaultHeaderGuideBaseline(ta,$jscomp$destructuring$var233)),defaultHeaderGuideAlign($jscomp$destructuring$var233,\nta,titleAnchor)),assembleHeaderProperties(config,model,channel,HEADER_TITLE_PROPERTIES,HEADER_TITLE_PROPERTIES_MAP))}}function defaultHeaderGuideAlign(headerChannel,angle,anchor){switch(void 0\x3d\x3d\x3danchor?\x22middle\x22:anchor){case \x22start\x22:return{align:\x22left\x22};case \x22end\x22:return{align:\x22right\x22}}return(headerChannel\x3ddefaultLabelAlign(angle,\x22row\x22\x3d\x3d\x3dheaderChannel?\x22left\x22:\x22top\x22,\x22row\x22\x3d\x3d\x3dheaderChannel?\x22y\x22:\x22x\x22))?{align:headerChannel}:{}}function defaultHeaderGuideBaseline(angle,channel){return(angle\x3ddefaultLabelBaseline(angle,\n\x22row\x22\x3d\x3d\x3dchannel?\x22left\x22:\x22top\x22,\x22row\x22\x3d\x3d\x3dchannel?\x22y\x22:\x22x\x22,!0))?{baseline:angle}:{}}function assembleHeaderGroups(model$jscomp$0,channel$jscomp$0){for(var layoutHeader\x3dmodel$jscomp$0.component.layoutHeaders[channel$jscomp$0],groups\x3d[],$jscomp$iter$139\x3d$jscomp.makeIterator(HEADER_TYPES),$jscomp$key$headerType\x3d$jscomp$iter$139.next();!$jscomp$key$headerType.done;$jscomp$key$headerType\x3d$jscomp$iter$139.next())if($jscomp$key$headerType\x3d$jscomp$key$headerType.value,layoutHeader[$jscomp$key$headerType])for(var $jscomp$iter$138\x3d\n$jscomp.makeIterator(layoutHeader[$jscomp$key$headerType]),$jscomp$key$headerComponent\x3d$jscomp$iter$138.next();!$jscomp$key$headerComponent.done;$jscomp$key$headerComponent\x3d$jscomp$iter$138.next()){$jscomp$key$headerComponent\x3d$jscomp$key$headerComponent.value;a:{var model\x3dmodel$jscomp$0,channel\x3dchannel$jscomp$0;if($jscomp$key$headerComponent){var title$396\x3dnull,facetFieldDef\x3dlayoutHeader.facetFieldDef,config\x3dmodel.config?model.config:void 0;if(facetFieldDef\x26\x26$jscomp$key$headerComponent.labels){var labelOrient\x3d\ngetHeaderProperties([\x22labelOrient\x22],facetFieldDef,config,channel).labelOrient;if(\x22row\x22\x3d\x3d\x3dchannel\x26\x26!contains([\x22top\x22,\x22bottom\x22],labelOrient)||\x22column\x22\x3d\x3d\x3dchannel\x26\x26!contains([\x22left\x22,\x22right\x22],labelOrient))title$396\x3dassembleLabelTitle(facetFieldDef,channel,config)}config\x3disFacetModel(model)\x26\x26!isFacetMapping(model.facet);labelOrient\x3d$jscomp$key$headerComponent.axes;var hasAxes\x3d0\x3c(null\x3d\x3d\x3dlabelOrient||void 0\x3d\x3d\x3dlabelOrient?void 0:labelOrient.length);if(title$396||hasAxes){var sizeChannel\x3d\x22row\x22\x3d\x3d\x3dchannel?\x22height\x22:\n\x22width\x22,$jscomp$inline_1267\x3d{};$jscomp$key$headerComponent\x3dObject.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:model.getName(channel+\x22_\x22+$jscomp$key$headerType),type:\x22group\x22,role:channel+\x22-\x22+$jscomp$key$headerType},layoutHeader.facetFieldDef?{from:{data:model.getName(channel+\x22_domain\x22)},sort:getSort(facetFieldDef,channel)}:{}),hasAxes\x26\x26config?{from:{data:model.getName(\x22facet_domain_\x22+channel)}}:{}),title$396?{title:title$396}:{}),$jscomp$key$headerComponent.sizeSignal?{encode:{update:($jscomp$inline_1267[sizeChannel]\x3d\n$jscomp$key$headerComponent.sizeSignal,$jscomp$inline_1267)}}:{}),hasAxes?{axes:labelOrient}:{});break a}}$jscomp$key$headerComponent\x3dnull}null!\x3d$jscomp$key$headerComponent\x26\x26groups.push($jscomp$key$headerComponent)}return groups}function getSort(facetFieldDef,channel){var _a,sort\x3dfacetFieldDef.sort;return isSortField(sort)?{field:vgField(sort,{expr:\x22datum\x22}),order:null!\x3d\x3d(_a\x3dsort.order)\x26\x26void 0!\x3d\x3d_a?_a:\x22ascending\x22}:isArray(sort)?{field:sortArrayIndexField(facetFieldDef,channel,{expr:\x22datum\x22}),order:\x22ascending\x22}:\n{field:vgField(facetFieldDef,{expr:\x22datum\x22}),order:null!\x3d\x3dsort\x26\x26void 0!\x3d\x3dsort?sort:\x22ascending\x22}}function assembleLabelTitle(facetFieldDef,channel,config){var $jscomp$destructuring$var235\x3dgetHeaderProperties(\x22format formatType labelAngle labelAnchor labelOrient labelExpr\x22.split(\x22 \x22),facetFieldDef,config,channel),labelAngle\x3d$jscomp$destructuring$var235.labelAngle,labelAnchor\x3d$jscomp$destructuring$var235.labelAnchor,labelOrient\x3d$jscomp$destructuring$var235.labelOrient,labelExpr\x3d$jscomp$destructuring$var235.labelExpr;\n$jscomp$destructuring$var235\x3dformatSignalRef({fieldOrDatumDef:facetFieldDef,format:$jscomp$destructuring$var235.format,formatType:$jscomp$destructuring$var235.formatType,expr:\x22parent\x22,config:config}).signal;labelOrient\x3dgetHeaderChannel(channel,labelOrient);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:labelExpr?replaceAll(replaceAll(labelExpr,\x22datum.label\x22,$jscomp$destructuring$var235),\x22datum.value\x22,vgField(facetFieldDef,{expr:\x22parent\x22})):$jscomp$destructuring$var235}},\n\x22row\x22\x3d\x3d\x3dchannel?{orient:\x22left\x22}:{}),{style:\x22guide-label\x22,frame:\x22group\x22}),defaultHeaderGuideBaseline(labelAngle,labelOrient)),defaultHeaderGuideAlign(labelOrient,labelAngle,labelAnchor)),assembleHeaderProperties(config,facetFieldDef,channel,HEADER_LABEL_PROPERTIES,HEADER_LABEL_PROPERTIES_MAP))}function assembleHeaderProperties(config,facetFieldDef,channel,properties,propertiesMap){var props\x3d{};properties\x3d$jscomp.makeIterator(properties);for(var $jscomp$key$prop\x3dproperties.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d\nproperties.next())if($jscomp$key$prop\x3d$jscomp$key$prop.value,propertiesMap[$jscomp$key$prop]){var value\x3dgetHeaderProperty($jscomp$key$prop,facetFieldDef,config,channel);void 0!\x3d\x3dvalue\x26\x26(props[propertiesMap[$jscomp$key$prop]]\x3dvalue)}return props}function assembleLayoutSignals(model){return[].concat($jscomp.arrayFromIterable(sizeSignals(model,\x22width\x22)),$jscomp.arrayFromIterable(sizeSignals(model,\x22height\x22)),$jscomp.arrayFromIterable(sizeSignals(model,\x22childWidth\x22)),$jscomp.arrayFromIterable(sizeSignals(model,\n\x22childHeight\x22)))}function sizeSignals(model,sizeType){var channel\x3d\x22width\x22\x3d\x3d\x3dsizeType?\x22x\x22:\x22y\x22,size\x3dmodel.component.layoutSize.get(sizeType);if(!size||\x22merged\x22\x3d\x3d\x3dsize)return[];sizeType\x3dmodel.getSizeSignalRef(sizeType).signal;if(\x22step\x22\x3d\x3d\x3dsize){if(size\x3dmodel.getScaleComponent(channel)){var type\x3dsize.get(\x22type\x22),range\x3dsize.get(\x22range\x22);if(type in DISCRETE_DOMAIN_INDEX\x26\x26isVgRangeStep(range))return type\x3dmodel.scaleName(channel),isFacetModel(model.parent)\x26\x26\x22independent\x22\x3d\x3d\x3dmodel.parent.component.resolve.scale[channel]?\n[{name:type+\x22_step\x22,value:range.step}]:[{name:type+\x22_step\x22,value:range.step},{name:sizeType,update:sizeExpr(type,size,\x22domain(\x27\x22+type+\x22\x27).length\x22)}]}throw Error(\x22layout size is step although width/height is not step.\x22);}return\x22container\x22\x3d\x3dsize?(channel\x3d(size\x3dsizeType.endsWith(\x22width\x22))?\x22containerSize()[0]\x22:\x22containerSize()[1]\x22,model\x3dgetViewConfigContinuousSize(model.config.view,size?\x22width\x22:\x22height\x22),model\x3d\x22isFinite(\x22+channel+\x22) ? \x22+channel+\x22 : \x22+model,[{name:sizeType,init:model,on:[{update:model,\nevents:\x22window:resize\x22}]}]):[{name:sizeType,value:size}]}function sizeExpr(scaleName,scaleComponent,cardinality){var type\x3dscaleComponent.get(\x22type\x22),padding\x3dscaleComponent.get(\x22padding\x22),paddingOuter\x3dgetFirstDefined(scaleComponent.get(\x22paddingOuter\x22),padding);scaleComponent\x3dscaleComponent.get(\x22paddingInner\x22);return\x22bandspace(\x22+cardinality+\x22, \x22+(\x22band\x22\x3d\x3d\x3dtype?void 0!\x3d\x3dscaleComponent?scaleComponent:padding:1)+\x22, \x22+paddingOuter+\x22) * \x22+scaleName+\x22_step\x22}function getSizeTypeFromLayoutSizeType(layoutSizeType){return\x22childWidth\x22\x3d\x3d\x3d\nlayoutSizeType?\x22width\x22:\x22childHeight\x22\x3d\x3d\x3dlayoutSizeType?\x22height\x22:layoutSizeType}function guideEncodeEntry(encoding,model){return keys(encoding).reduce(function(encode,channel){var valueDef\x3dencoding[channel];return Object.assign(Object.assign({},encode),wrapCondition(model,valueDef,channel,function(x){return isSignalRef(x)?x:{value:x.value}}))},{})}function parseGuideResolve(resolve,channel){var guide\x3dchannel in POSITION_SCALE_CHANNEL_INDEX?\x22axis\x22:\x22legend\x22;return\x22independent\x22\x3d\x3d\x3dresolve.scale[channel]?\n(\x22shared\x22\x3d\x3d\x3dresolve[guide][channel]\x26\x26warn(\x27Setting the scale to be independent for \x22\x27+channel+\x27\x22 means we also have to set the guide (axis or legend) to be independent.\x27),\x22independent\x22):resolve[guide][channel]||\x22shared\x22}function getMaxValue(channelDef){return getConditionValue(channelDef,function(v,conditionalDef){return Math.max(v,conditionalDef.value)})}function getFirstConditionValue(channelDef){return getConditionValue(channelDef,function(v,conditionalDef){return getFirstDefined(v,conditionalDef.value)})}\nfunction getConditionValue(channelDef,reducer){var condition\x3dchannelDef\x26\x26channelDef.condition;if(condition\x26\x26(isArray(condition)||isValueDef(condition)))return array$jscomp$0(channelDef.condition).reduce(reducer,channelDef.value);if(isValueDef(channelDef))return channelDef.value}function selectedCondition(model,legendCmpt,fieldDef){model\x3dlegendCmpt.get(\x22selections\x22);if(null!\x3d\x3dmodel\x26\x26void 0!\x3d\x3dmodel\x26\x26model.length){var field\x3d$(fieldDef.field);return model.map(function(name){return\x22(!length(data(\x22+$(varName(name)+\n\x22_store\x22)+\x22)) || (\x22+name+\x22[\x22+field+\x22] \\x26\\x26 indexof(\x22+name+\x22[\x22+field+\x22], datum.value) \\x3e\\x3d 0))\x22}).join(\x22 || \x22)}}function parseLegend(model$jscomp$0){if(isUnitModel(model$jscomp$0)){var JSCompiler_temp\x3dmodel$jscomp$0.encoding;for(var legendComponent\x3d{},$jscomp$inline_1276\x3d$jscomp.makeIterator([\x22color\x22].concat($jscomp.arrayFromIterable(LEGEND_SCALE_CHANNELS))),$jscomp$key$channel\x3d$jscomp$inline_1276.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1276.next()){$jscomp$key$channel\x3d\n$jscomp$key$channel.value;var def\x3dgetFieldOrDatumDef(JSCompiler_temp[$jscomp$key$channel]);if(def\x26\x26model$jscomp$0.getScaleComponent($jscomp$key$channel)\x26\x26(\x22shape\x22!\x3d\x3d$jscomp$key$channel||!isFieldDef(def)||\x22geojson\x22!\x3d\x3ddef.type)){var _b\x3dvoid 0,_a\x3dvoid 0,_b$jscomp$0\x3ddef\x3dvoid 0;var JSCompiler_inline_result\x3dvoid 0;var model\x3dmodel$jscomp$0,legend\x3dmodel.legend($jscomp$key$channel),markDef\x3dmodel.markDef,encoding\x3dmodel.encoding,config\x3dmodel.config,legendConfig\x3dconfig.legend,legendCmpt\x3dnew LegendComponent({},\ngetLegendDefWithScale(model,$jscomp$key$channel));parseInteractiveLegend(model,$jscomp$key$channel,legendCmpt);var disable\x3dvoid 0!\x3d\x3dlegend?!legend:legendConfig.disable;legendCmpt.set(\x22disable\x22,disable,void 0!\x3d\x3dlegend);if(!disable){legend\x3dlegend||{};var scaleType\x3dmodel.getScaleComponent($jscomp$key$channel).get(\x22type\x22);disable\x3dgetFieldOrDatumDef(encoding[$jscomp$key$channel]);var timeUnit\x3disFieldDef(disable)?null\x3d\x3d\x3d(JSCompiler_inline_result\x3dnormalizeTimeUnit(disable.timeUnit))||void 0\x3d\x3d\x3dJSCompiler_inline_result?\nvoid 0:JSCompiler_inline_result.unit:void 0,orient\x3dlegend.orient||config.legend.orient||\x22right\x22;JSCompiler_inline_result\x3dlegend.type;b:{var scaleType$jscomp$0\x3dscaleType;if(isColorChannel($jscomp$key$channel)){if(contains([\x22quarter\x22,\x22month\x22,\x22day\x22],timeUnit)){timeUnit\x3d\x22symbol\x22;break b}if(scaleType$jscomp$0 in CONTINUOUS_TO_CONTINUOUS_INDEX){timeUnit\x3d\x22gradient\x22;break b}}timeUnit\x3d\x22symbol\x22}JSCompiler_inline_result\x3dgetFirstDefined(JSCompiler_inline_result,timeUnit);timeUnit\x3dlegendConfig;scaleType$jscomp$0\x3d\nJSCompiler_inline_result;var orient$jscomp$0\x3dorient;if(null\x3d\x3d\x3d(_b\x3dnull!\x3d\x3d(_a\x3dlegend.direction)\x26\x26void 0!\x3d\x3d_a?_a:timeUnit[scaleType$jscomp$0?\x22gradientDirection\x22:\x22symbolDirection\x22])||void 0\x3d\x3d\x3d_b)b:{switch(orient$jscomp$0){case \x22top\x22:case \x22bottom\x22:_b\x3d\x22horizontal\x22;break b;case \x22left\x22:case \x22right\x22:case \x22none\x22:case void 0:break;default:_b\x3d\x22gradient\x22\x3d\x3d\x3dscaleType$jscomp$0?\x22horizontal\x22:void 0;break b}_b\x3dvoid 0}markDef\x3d{legend:legend,channel:$jscomp$key$channel,model:model,markDef:markDef,encoding:encoding,\nfieldOrDatumDef:disable,legendConfig:legendConfig,config:config,scaleType:scaleType,orient:orient,legendType:JSCompiler_inline_result,direction:_b};encoding\x3d$jscomp.makeIterator(LEGEND_COMPONENT_PROPERTIES);for(legendConfig\x3dencoding.next();!legendConfig.done;legendConfig\x3dencoding.next())if(legendConfig\x3dlegendConfig.value,!(\x22gradient\x22\x3d\x3d\x3dJSCompiler_inline_result\x26\x26legendConfig.startsWith(\x22symbol\x22)||\x22symbol\x22\x3d\x3d\x3dJSCompiler_inline_result\x26\x26legendConfig.startsWith(\x22gradient\x22))\x26\x26(scaleType\x3dlegendConfig in legendRules?\nlegendRules[legendConfig](markDef):legend[legendConfig],void 0!\x3d\x3dscaleType)){b:{_b\x3dmodel.fieldDef($jscomp$key$channel);switch(legendConfig){case \x22disable\x22:_b\x3dvoid 0!\x3d\x3dlegend;break b;case \x22values\x22:_b\x3d!(null\x3d\x3d\x3dlegend||void 0\x3d\x3d\x3dlegend||!legend.values);break b;case \x22title\x22:if(\x22title\x22\x3d\x3d\x3dlegendConfig\x26\x26scaleType\x3d\x3d\x3d(null\x3d\x3d\x3d_b||void 0\x3d\x3d\x3d_b?void 0:_b.title)){_b\x3d!0;break b}}_b\x3dscaleType\x3d\x3d\x3d(legend||{})[legendConfig]}(_b||void 0\x3d\x3d\x3dconfig.legend[legendConfig])\x26\x26legendCmpt.set(legendConfig,scaleType,_b)}config\x3d\nnull!\x3d\x3d(_b$jscomp$0\x3dnull\x3d\x3d\x3dlegend||void 0\x3d\x3d\x3dlegend?void 0:legend.encoding)\x26\x26void 0!\x3d\x3d_b$jscomp$0?_b$jscomp$0:{};_b$jscomp$0\x3dlegendCmpt.get(\x22selections\x22);markDef\x3d{};JSCompiler_inline_result\x3d{fieldOrDatumDef:disable,model:model,channel:$jscomp$key$channel,legendCmpt:legendCmpt,legendType:JSCompiler_inline_result};encoding\x3d$jscomp.makeIterator(\x22labels legend title symbols gradient entries\x22.split(\x22 \x22));for(legendConfig\x3dencoding.next();!legendConfig.done;legendConfig\x3dencoding.next())legendConfig\x3dlegendConfig.value,\nscaleType\x3dguideEncodeEntry(null!\x3d\x3d(def\x3dconfig[legendConfig])\x26\x26void 0!\x3d\x3ddef?def:{},model),scaleType\x3dlegendConfig in legendEncodeRules?legendEncodeRules[legendConfig](scaleType,JSCompiler_inline_result):scaleType,void 0\x3d\x3d\x3dscaleType||isEmpty(scaleType)||(markDef[legendConfig]\x3dObject.assign(Object.assign(Object.assign({},(null\x3d\x3d\x3d_b$jscomp$0||void 0\x3d\x3d\x3d_b$jscomp$0?0:_b$jscomp$0.length)\x26\x26isFieldDef(disable)?{name:varName(disable.field)+\x22_legend_\x22+legendConfig}:{}),(null\x3d\x3d\x3d_b$jscomp$0||void 0\x3d\x3d\x3d_b$jscomp$0?\n0:_b$jscomp$0.length)?{interactive:!!_b$jscomp$0}:{}),{update:scaleType}));isEmpty(markDef)||legendCmpt.set(\x22encode\x22,markDef,!(null\x3d\x3d\x3dlegend||void 0\x3d\x3d\x3dlegend||!legend.encoding))}def\x3dlegendCmpt;legendComponent[$jscomp$key$channel]\x3ddef}}JSCompiler_temp\x3dlegendComponent}else{legendComponent\x3dmodel$jscomp$0.component;JSCompiler_temp\x3dlegendComponent.legends;legendComponent\x3dlegendComponent.resolve;$jscomp$inline_1276\x3d$jscomp.makeIterator(model$jscomp$0.children);for($jscomp$key$channel\x3d$jscomp$inline_1276.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d\n$jscomp$inline_1276.next())for($jscomp$key$channel\x3d$jscomp$key$channel.value,parseLegend($jscomp$key$channel),def\x3d$jscomp.makeIterator(keys($jscomp$key$channel.component.legends)),model\x3ddef.next();!model.done;model\x3ddef.next())model\x3dmodel.value,legendComponent.legend[model]\x3dparseGuideResolve(model$jscomp$0.component.resolve,model),\x22shared\x22\x3d\x3d\x3dlegendComponent.legend[model]\x26\x26(JSCompiler_temp[model]\x3dmergeLegendComponent(JSCompiler_temp[model],$jscomp$key$channel.component.legends[model]),JSCompiler_temp[model]||\n(legendComponent.legend[model]\x3d\x22independent\x22,delete JSCompiler_temp[model]));$jscomp$inline_1276\x3d$jscomp.makeIterator(keys(JSCompiler_temp));for(model\x3d$jscomp$inline_1276.next();!model.done;model\x3d$jscomp$inline_1276.next())for(def\x3dmodel.value,model\x3d$jscomp.makeIterator(model$jscomp$0.children),$jscomp$key$channel\x3dmodel.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3dmodel.next())$jscomp$key$channel\x3d$jscomp$key$channel.value,$jscomp$key$channel.component.legends[def]\x26\x26\x22shared\x22\x3d\x3d\x3dlegendComponent.legend[def]\x26\x26\ndelete $jscomp$key$channel.component.legends[def]}return model$jscomp$0.component.legends\x3dJSCompiler_temp}function getLegendDefWithScale(model,channel){var scale\x3dmodel.scaleName(channel);if(\x22trail\x22\x3d\x3d\x3dmodel.mark){if(\x22color\x22\x3d\x3d\x3dchannel)return{stroke:scale};if(\x22size\x22\x3d\x3d\x3dchannel)return{strokeWidth:scale}}if(\x22color\x22\x3d\x3d\x3dchannel)return model.markDef.filled?{fill:scale}:{stroke:scale};model\x3d{};return model[channel]\x3dscale,model}function mergeLegendComponent(mergedLegend,childLegend){var _a,_b,_c,_d;if(!mergedLegend)return childLegend.clone();\nvar mergedOrient\x3dmergedLegend.getWithExplicit(\x22orient\x22),childOrient\x3dchildLegend.getWithExplicit(\x22orient\x22);if(!mergedOrient.explicit||!childOrient.explicit||mergedOrient.value\x3d\x3d\x3dchildOrient.value){var typeMerged\x3d!1;mergedOrient\x3d{};childOrient\x3d$jscomp.makeIterator(LEGEND_COMPONENT_PROPERTIES);for(var $jscomp$key$prop\x3dchildOrient.next();!$jscomp$key$prop.done;mergedOrient\x3d{$jscomp$loop$prop$prop$622:mergedOrient.$jscomp$loop$prop$prop$622},$jscomp$key$prop\x3dchildOrient.next())mergedOrient.$jscomp$loop$prop$prop$622\x3d\n$jscomp$key$prop.value,$jscomp$key$prop\x3dmergeValuesWithExplicit(mergedLegend.getWithExplicit(mergedOrient.$jscomp$loop$prop$prop$622),childLegend.getWithExplicit(mergedOrient.$jscomp$loop$prop$prop$622),mergedOrient.$jscomp$loop$prop$prop$622,\x22legend\x22,function($jscomp$loop$621){return function(v1,v2){switch($jscomp$loop$621.$jscomp$loop$prop$prop$622){case \x22symbolType\x22:return v1\x3d\x22circle\x22\x3d\x3d\x3dv2.value?v2:v1,v1;case \x22title\x22:return mergeTitleComponent(v1,v2);case \x22type\x22:return typeMerged\x3d!0,makeImplicit(\x22symbol\x22)}return defaultTieBreaker(v1,\nv2,$jscomp$loop$621.$jscomp$loop$prop$prop$622,\x22legend\x22)}}(mergedOrient)),mergedLegend.setWithExplicit(mergedOrient.$jscomp$loop$prop$prop$622,$jscomp$key$prop);typeMerged\x26\x26((null\x3d\x3d\x3d(_b\x3dnull\x3d\x3d\x3d(_a\x3dmergedLegend.implicit)||void 0\x3d\x3d\x3d_a?void 0:_a.encode)||void 0\x3d\x3d\x3d_b?0:_b.gradient)\x26\x26deleteNestedProperty(mergedLegend.implicit,[\x22encode\x22,\x22gradient\x22]),(null\x3d\x3d\x3d(_d\x3dnull\x3d\x3d\x3d(_c\x3dmergedLegend.explicit)||void 0\x3d\x3d\x3d_c?void 0:_c.encode)||void 0\x3d\x3d\x3d_d?0:_d.gradient)\x26\x26deleteNestedProperty(mergedLegend.explicit,[\x22encode\x22,\n\x22gradient\x22]));return mergedLegend}}function assembleLegends(model){for(var legendComponentIndex\x3dmodel.component.legends,legendByDomain\x3d{},$jscomp$iter$151\x3d$jscomp.makeIterator(keys(legendComponentIndex)),$jscomp$key$channel\x3d$jscomp$iter$151.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$151.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var scaleComponent\x3dmodel.getScaleComponent($jscomp$key$channel);scaleComponent\x3dstringify(scaleComponent.get(\x22domains\x22));if(legendByDomain[scaleComponent])for(var $jscomp$iter$150\x3d\n$jscomp.makeIterator(legendByDomain[scaleComponent]),$jscomp$key$mergedLegendComponent\x3d$jscomp$iter$150.next();!$jscomp$key$mergedLegendComponent.done;$jscomp$key$mergedLegendComponent\x3d$jscomp$iter$150.next())mergeLegendComponent($jscomp$key$mergedLegendComponent.value,legendComponentIndex[$jscomp$key$channel])||legendByDomain[scaleComponent].push(legendComponentIndex[$jscomp$key$channel]);else legendByDomain[scaleComponent]\x3d[legendComponentIndex[$jscomp$key$channel].clone()]}return vals(legendByDomain).flat().map(function(l){var config\x3d\nmodel.config,_a,_b,_c,_d\x3dl.combine(),disable\x3d_d.disable;l\x3d_d.labelExpr;_d\x3d__rest(_d,[\x22disable\x22,\x22labelExpr\x22,\x22selections\x22]);if(disable)var JSCompiler_inline_result\x3dvoid 0;else{!1\x3d\x3d\x3dconfig.aria\x26\x26void 0\x3d\x3d_d.aria\x26\x26(_d.aria\x3d!1);if(null\x3d\x3d\x3d(_a\x3d_d.encode)||void 0\x3d\x3d\x3d_a?0:_a.symbols)for(config\x3d_d.encode.symbols.update,!config.fill||\x22transparent\x22\x3d\x3d\x3dconfig.fill.value||config.stroke||_d.stroke||(config.stroke\x3d{value:\x22transparent\x22}),_a\x3d$jscomp.makeIterator(LEGEND_SCALE_CHANNELS),disable\x3d_a.next();!disable.done;disable\x3d\n_a.next())disable\x3ddisable.value,_d[disable]\x26\x26delete config[disable];_d.title||delete _d.title;if(void 0!\x3d\x3dl){config\x3dl;(null\x3d\x3d\x3d(_c\x3dnull\x3d\x3d\x3d(_b\x3d_d.encode)||void 0\x3d\x3d\x3d_b?void 0:_b.labels)||void 0\x3d\x3d\x3d_c?0:_c.update)\x26\x26isSignalRef(_d.encode.labels.update.text)\x26\x26(config\x3dreplaceAll(l,\x22datum.label\x22,_d.encode.labels.update.text.signal));_b\x3d{signal:config};var _b$jscomp$0,_c$jscomp$0;_d.encode\x3dnull!\x3d\x3d(JSCompiler_inline_result\x3d_d.encode)\x26\x26void 0!\x3d\x3dJSCompiler_inline_result?JSCompiler_inline_result:{};_d.encode.labels\x3d\nnull!\x3d\x3d(_b$jscomp$0\x3d_d.encode.labels)\x26\x26void 0!\x3d\x3d_b$jscomp$0?_b$jscomp$0:{};_d.encode.labels.update\x3dnull!\x3d\x3d(_c$jscomp$0\x3d_d.encode.labels.update)\x26\x26void 0!\x3d\x3d_c$jscomp$0?_c$jscomp$0:{};_d.encode.labels.update.text\x3d_b}JSCompiler_inline_result\x3d_d}return JSCompiler_inline_result}).filter(function(l){return void 0!\x3d\x3dl})}function assembleProjectionsForModelAndChildren(model){return model.children.reduce(function(projections,child){return projections.concat(child.assembleProjections())},assembleProjectionForModel(model))}\nfunction assembleProjectionForModel(model){var component\x3dmodel.component.projection;if(!component||component.merged)return[];var projection\x3dcomponent.combine(),name\x3dprojection.name;if(component.data){var size\x3d{signal:\x22[\x22+component.size.map(function(ref){return ref.signal}).join(\x22, \x22)+\x22]\x22};component\x3dcomponent.data.reduce(function(sources,data){data\x3disSignalRef(data)?data.signal:\x22data(\x27\x22+model.lookupDataSource(data)+\x22\x27)\x22;contains(sources,data)||sources.push(data);return sources},[]);if(0\x3e\x3dcomponent.length)throw Error(\x22Projection\x27s fit didn\x27t find any data sources\x22);\nreturn[Object.assign({name:name,size:size,fit:{signal:1\x3ccomponent.length?\x22[\x22+component.join(\x22, \x22)+\x22]\x22:component[0]}},projection)]}return[Object.assign(Object.assign({name:name},{translate:{signal:\x22[width / 2, height / 2]\x22}}),projection)]}function parseUnitProjection(model){var _a;if(model.hasProjection){var proj\x3dmodel.specifiedProjection,fit\x3d!(proj\x26\x26(null!\x3dproj.scale||null!\x3dproj.translate)),size\x3dfit?[model.getSizeSignalRef(\x22width\x22),model.getSizeSignalRef(\x22height\x22)]:void 0;if(fit){fit\x3d[];for(var encoding\x3d\nmodel.encoding,$jscomp$inline_1338\x3d$jscomp.makeIterator([[\x22longitude\x22,\x22latitude\x22],[\x22longitude2\x22,\x22latitude2\x22]]),$jscomp$inline_1339\x3d$jscomp$inline_1338.next();!$jscomp$inline_1339.done;$jscomp$inline_1339\x3d$jscomp$inline_1338.next())$jscomp$inline_1339\x3d$jscomp$inline_1339.value,(getFieldOrDatumDef(encoding[$jscomp$inline_1339[0]])||getFieldOrDatumDef(encoding[$jscomp$inline_1339[1]]))\x26\x26fit.push({signal:model.getName(\x22geojson_\x22+fit.length)});model.channelHasField(\x22shape\x22)\x26\x26\x22geojson\x22\x3d\x3d\x3dmodel.typedFieldDef(\x22shape\x22).type\x26\x26\nfit.push({signal:model.getName(\x22geojson_\x22+fit.length)});0\x3d\x3d\x3dfit.length\x26\x26fit.push(model.requestDataName(DataSourceType.Main))}else fit\x3dvoid 0;return new ProjectionComponent(model.projectionName(!0),Object.assign(Object.assign({},null!\x3d\x3d(_a\x3dmodel.config.projection)\x26\x26void 0!\x3d\x3d_a?_a:{}),null!\x3d\x3dproj\x26\x26void 0!\x3d\x3dproj?proj:{}),size,fit)}}function mergeIfNoConflict(first,second){var allPropertiesShared\x3devery(PROJECTION_PROPERTIES,function(prop){return!hop.call(first.explicit,prop)\x26\x26!hop.call(second.explicit,\nprop)||hop.call(first.explicit,prop)\x26\x26hop.call(second.explicit,prop)\x26\x26stringify(first.get(prop))\x3d\x3d\x3dstringify(second.get(prop))?!0:!1});if(stringify(first.size)\x3d\x3d\x3dstringify(second.size)){if(allPropertiesShared)return first;if(stringify(first.explicit)\x3d\x3d\x3dstringify({}))return second;if(stringify(second.explicit)\x3d\x3d\x3dstringify({}))return first}return null}function parseNonUnitProjections(model){if(0!\x3d\x3dmodel.children.length){for(var nonUnitProjection,$jscomp$iter$154\x3d$jscomp.makeIterator(model.children),\n$jscomp$key$child\x3d$jscomp$iter$154.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$154.next()){var child$jscomp$0\x3d$jscomp$key$child.value;child$jscomp$0.component.projection\x3disUnitModel(child$jscomp$0)?parseUnitProjection(child$jscomp$0):parseNonUnitProjections(child$jscomp$0)}$jscomp$iter$154\x3devery(model.children,function(child){if(child\x3dchild.component.projection){if(nonUnitProjection)return(child\x3dmergeIfNoConflict(nonUnitProjection,child))\x26\x26(nonUnitProjection\x3dchild),!!child;nonUnitProjection\x3d\nchild}return!0});if(nonUnitProjection\x26\x26$jscomp$iter$154){$jscomp$iter$154\x3dmodel.projectionName(!0);child$jscomp$0\x3dnew ProjectionComponent($jscomp$iter$154,nonUnitProjection.specifiedProjection,nonUnitProjection.size,duplicate(nonUnitProjection.data));model\x3d$jscomp.makeIterator(model.children);for($jscomp$key$child\x3dmodel.next();!$jscomp$key$child.done;$jscomp$key$child\x3dmodel.next()){$jscomp$key$child\x3d$jscomp$key$child.value;var projection\x3d$jscomp$key$child.component.projection;projection\x26\x26(projection.isFit\x26\x26\nchild$jscomp$0.data.push.apply(child$jscomp$0.data,$jscomp.arrayFromIterable($jscomp$key$child.component.projection.data)),$jscomp$key$child.renameProjection(projection.get(\x22name\x22),$jscomp$iter$154),projection.merged\x3d!0)}return child$jscomp$0}}}function rangeFormula(model,fieldDef,channel,config){var _a,_b;return binRequiresRange(fieldDef,channel)?(model\x3disUnitModel(model)?null!\x3d\x3d(_b\x3dnull!\x3d\x3d(_a\x3dmodel.axis(channel))\x26\x26void 0!\x3d\x3d_a?_a:model.legend(channel))\x26\x26void 0!\x3d\x3d_b?_b:{}:{},_a\x3dvgField(fieldDef,{expr:\x22datum\x22}),\n_b\x3dvgField(fieldDef,{expr:\x22datum\x22,binSuffix:\x22end\x22}),{formulaAs:vgField(fieldDef,{binSuffix:\x22range\x22,forAs:!0}),formula:binFormatExpression(_a,_b,model.format,model.formatType,config)}):{}}function getBinSignalName(model,field,bin){var _a;bin\x3dnull!\x3d\x3d(_a\x3dnormalizeBin(bin,void 0))\x26\x26void 0!\x3d\x3d_a?_a:{};field\x3dbinToString(bin)+\x22_\x22+field;return model.getName(field+\x22_bins\x22)}function createBinComponent(t,bin,model){var as\x3d\x22as\x22in t?isString(t.as)?[t.as,t.as+\x22_end\x22]:[t.as[0],t.as[1]]:[vgField(t,{forAs:!0}),vgField(t,\n{binSuffix:\x22end\x22,forAs:!0})];bin\x3dObject.assign({},normalizeBin(bin,void 0));var JSCompiler_inline_result\x3dt.field;JSCompiler_inline_result\x3dbinToString(bin)+\x22_\x22+JSCompiler_inline_result;var JSCompiler_object_inline_signal_2779\x3dmodel.getName(JSCompiler_inline_result+\x22_bins\x22);var extentSignal\x3dmodel.getName(JSCompiler_inline_result+\x22_extent\x22);if(isSelectionExtent(bin.extent)){var span\x3dbin.extent;var selName\x3dspan.selection;span\x3dparseSelectionBinExtent(model.getSelectionComponent(varName(selName),selName),\nspan);delete bin.extent}t\x3dObject.assign(Object.assign(Object.assign({bin:bin,field:t.field,as:[as]},JSCompiler_object_inline_signal_2779?{signal:JSCompiler_object_inline_signal_2779}:{}),extentSignal?{extentSignal:extentSignal}:{}),span?{span:span}:{});return{key:JSCompiler_inline_result,binComponent:t}}function unquote(pattern){return\x22\x27\x22\x3d\x3d\x3dpattern[0]\x26\x26\x22\x27\x22\x3d\x3d\x3dpattern[pattern.length-1]||\x27\x22\x27\x3d\x3d\x3dpattern[0]\x26\x26\x27\x22\x27\x3d\x3d\x3dpattern[pattern.length-1]?pattern.slice(1,-1):pattern}function parseExpression$1(field,parse){field\x3d\naccessPathWithDatum(field);if(\x22number\x22\x3d\x3d\x3dparse)return\x22toNumber(\x22+field+\x22)\x22;if(\x22boolean\x22\x3d\x3d\x3dparse)return\x22toBoolean(\x22+field+\x22)\x22;if(\x22string\x22\x3d\x3d\x3dparse)return\x22toString(\x22+field+\x22)\x22;if(\x22date\x22\x3d\x3d\x3dparse)return\x22toDate(\x22+field+\x22)\x22;if(\x22flatten\x22\x3d\x3d\x3dparse)return field;if(0\x3d\x3d\x3dparse.indexOf(\x22date:\x22))return parse\x3dunquote(parse.slice(5,parse.length)),\x22timeParse(\x22+field+\x22,\x27\x22+parse+\x22\x27)\x22;if(0\x3d\x3d\x3dparse.indexOf(\x22utc:\x22))return parse\x3dunquote(parse.slice(4,parse.length)),\x22utcParse(\x22+field+\x22,\x27\x22+parse+\x22\x27)\x22;warn(\x27Unrecognized parse \x22\x27+\nparse+\x27\x22.\x27);return null}function getImplicitFromFilterTransform(transform){var implicit\x3d{};forEachLeaf(transform.filter,function(filter){var _a;if(isFieldPredicate(filter)){var val\x3dnull;isFieldEqualPredicate(filter)?val\x3dfilter.equal:isFieldLTEPredicate(filter)?val\x3dfilter.lte:isFieldLTPredicate(filter)?val\x3dfilter.lt:isFieldGTPredicate(filter)?val\x3dfilter.gt:isFieldGTEPredicate(filter)?val\x3dfilter.gte:isFieldRangePredicate(filter)?val\x3dfilter.range[0]:isFieldOneOfPredicate(filter)\x26\x26(val\x3d(null!\x3d\x3d(_a\x3dfilter.oneOf)\x26\x26\nvoid 0!\x3d\x3d_a?_a:filter[\x22in\x22])[0]);val\x26\x26(isDateTime(val)?implicit[filter.field]\x3d\x22date\x22:isNumber(val)?implicit[filter.field]\x3d\x22number\x22:isString(val)\x26\x26(implicit[filter.field]\x3d\x22string\x22));filter.timeUnit\x26\x26(implicit[filter.field]\x3d\x22date\x22)}});return implicit}function getImplicitFromEncoding(model){function add(fieldDef){if(isFieldOrDatumDefForTimeFormat(fieldDef))implicit[fieldDef.field]\x3d\x22date\x22;else{var JSCompiler_temp;if(JSCompiler_temp\x3d\x22quantitative\x22\x3d\x3d\x3dfieldDef.type)JSCompiler_temp\x3dfieldDef.aggregate,JSCompiler_temp\x3d\nisString(JSCompiler_temp)\x26\x26contains([\x22min\x22,\x22max\x22],JSCompiler_temp);JSCompiler_temp?implicit[fieldDef.field]\x3d\x22number\x22:1\x3caccessPathDepth(fieldDef.field)?fieldDef.field in implicit||(implicit[fieldDef.field]\x3d\x22flatten\x22):isScaleFieldDef(fieldDef)\x26\x26isSortField(fieldDef.sort)\x26\x261\x3caccessPathDepth(fieldDef.sort.field)\x26\x26(fieldDef.sort.field in implicit||(implicit[fieldDef.sort.field]\x3d\x22flatten\x22))}}var implicit\x3d{};(isUnitModel(model)||isFacetModel(model))\x26\x26model.forEachFieldDef(function(fieldDef,channel){isTypedFieldDef(fieldDef)?\nadd(fieldDef):(channel\x3dgetMainRangeChannel(channel),channel\x3dmodel.fieldDef(channel),add(Object.assign(Object.assign({},fieldDef),{type:channel.type})))});if(isUnitModel(model)){var markDef\x3dmodel.markDef,encoding\x3dmodel.encoding;isPathMark(model.mark)\x26\x26!model.encoding.order\x26\x26(markDef\x3dencoding[\x22horizontal\x22\x3d\x3d\x3dmarkDef.orient?\x22y\x22:\x22x\x22],!isFieldDef(markDef)||\x22quantitative\x22!\x3d\x3dmarkDef.type||markDef.field in implicit||(implicit[markDef.field]\x3d\x22number\x22))}return implicit}function isDataSourceNode(node){return node instanceof\nSourceNode||node instanceof GraticuleNode||node instanceof SequenceNode}function getStackByFields(model){return model.stack.stackBy.reduce(function(fields,by){(by\x3dvgField(by.fieldDef))\x26\x26fields.push(by);return fields},[])}function isValidAsArray(as){return isArray(as)\x26\x26as.every(function(s){return isString(s)})\x26\x261\x3cas.length}function cloneSubtree(facet){function clone(node){if(!(node instanceof FacetNode)){var copy\x3dnode.clone();if(copy instanceof OutputNode){var newName\x3d\x22scale_\x22+copy.getSource();copy.setSource(newName);\nfacet.model.component.data.outputNodes[newName]\x3dcopy}else(copy instanceof AggregateNode||copy instanceof StackNode||copy instanceof WindowTransformNode||copy instanceof JoinAggregateTransformNode)\x26\x26copy.addDimensions(facet.fields);node\x3d$jscomp.makeIterator(node.children.flatMap(clone));for(newName\x3dnode.next();!newName.done;newName\x3dnode.next())newName.value.parent\x3dcopy;return[copy]}return node.children.flatMap(clone)}return clone}function moveFacetDown(node){if(node instanceof FacetNode)if(1!\x3d\x3dnode.numChildren()||\nnode.children[0]instanceof OutputNode){var facetMain\x3dnode.model.component.data.main;moveMainDownToFacet(facetMain);var cloner\x3dcloneSubtree(node);node\x3dnode.children.map(cloner).flat();node\x3d$jscomp.makeIterator(node);for(cloner\x3dnode.next();!cloner.done;cloner\x3dnode.next())cloner.value.parent\x3dfacetMain}else facetMain\x3dnode.children[0],(facetMain instanceof AggregateNode||facetMain instanceof StackNode||facetMain instanceof WindowTransformNode||facetMain instanceof JoinAggregateTransformNode)\x26\x26facetMain.addDimensions(node.fields),\nfacetMain.swapWithParent(),moveFacetDown(node);else node.children.map(moveFacetDown)}function moveMainDownToFacet(node){if(node instanceof OutputNode\x26\x26node.type\x3d\x3d\x3dDataSourceType.Main\x26\x261\x3d\x3d\x3dnode.numChildren()){var child\x3dnode.children[0];child instanceof FacetNode||(child.swapWithParent(),moveMainDownToFacet(node))}}function checkLinks(nodes){nodes\x3d$jscomp.makeIterator(nodes);for(var $jscomp$key$node\x3dnodes.next();!$jscomp$key$node.done;$jscomp$key$node\x3dnodes.next()){$jscomp$key$node\x3d$jscomp$key$node.value;\nfor(var $jscomp$iter$210\x3d$jscomp.makeIterator($jscomp$key$node.children),$jscomp$key$child\x3d$jscomp$iter$210.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$210.next())if($jscomp$key$child.value.parent!\x3d\x3d$jscomp$key$node)return!1;if(!checkLinks($jscomp$key$node.children))return!1}return!0}function runOptimizer(optimizer,nodes){var modified\x3d!1;nodes\x3d$jscomp.makeIterator(nodes);for(var $jscomp$key$node\x3dnodes.next();!$jscomp$key$node.done;$jscomp$key$node\x3dnodes.next())modified\x3doptimizer.optimize($jscomp$key$node.value)||\nmodified;return modified}function optimizationDataflowHelper(dataComponent,model,firstPass){var roots\x3ddataComponent.sources,modified\x3d!1;modified\x3drunOptimizer(new RemoveUnnecessaryOutputNodes,roots)||modified;modified\x3drunOptimizer(new RemoveUnnecessaryIdentifierNodes(model),roots)||modified;roots\x3droots.filter(function(r){return 0\x3cr.numChildren()});modified\x3drunOptimizer(new RemoveUnusedSubtrees,roots)||modified;roots\x3droots.filter(function(r){return 0\x3cr.numChildren()});firstPass||(modified\x3drunOptimizer(new MoveParseUp,\nroots)||modified,modified\x3drunOptimizer(new MergeBins(model),roots)||modified,modified\x3drunOptimizer(new RemoveDuplicateTimeUnits,roots)||modified,modified\x3drunOptimizer(new MergeParse,roots)||modified,modified\x3drunOptimizer(new MergeAggregates,roots)||modified,modified\x3drunOptimizer(new MergeTimeUnits,roots)||modified,modified\x3drunOptimizer(new MergeIdenticalNodes,roots)||modified,modified\x3drunOptimizer(new MergeOutputs,roots)||modified);dataComponent.sources\x3droots;return modified}function parseUnitScaleDomain(model$jscomp$0){for(var localScaleComponents\x3d\nmodel$jscomp$0.component.scales,$jscomp$iter$214\x3d$jscomp.makeIterator(keys(localScaleComponents)),$jscomp$key$channel\x3d$jscomp$iter$214.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$214.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var model\x3dmodel$jscomp$0,scaleType\x3dmodel.getScaleComponent($jscomp$key$channel).get(\x22type\x22),encoding\x3dmodel.encoding;var JSCompiler_inline_result\x3dmodel.scaleDomain($jscomp$key$channel);var fieldDef\x3dmodel.typedFieldDef($jscomp$key$channel),scaleConfig\x3d\nmodel.config.scale;\x22unaggregated\x22\x3d\x3d\x3dJSCompiler_inline_result?(fieldDef\x3dcanUseUnaggregatedDomain(fieldDef,scaleType),scaleConfig\x3dfieldDef.reason,fieldDef.valid||(warn(scaleConfig),JSCompiler_inline_result\x3dvoid 0)):void 0\x3d\x3d\x3dJSCompiler_inline_result\x26\x26scaleConfig.useUnaggregatedDomain\x26\x26canUseUnaggregatedDomain(fieldDef,scaleType).valid\x26\x26(JSCompiler_inline_result\x3d\x22unaggregated\x22);JSCompiler_inline_result!\x3d\x3dmodel.scaleDomain($jscomp$key$channel)\x26\x26(model.specifiedScales[$jscomp$key$channel]\x3dObject.assign(Object.assign({},\nmodel.specifiedScales[$jscomp$key$channel]),{domain:JSCompiler_inline_result}));model\x3d\x22x\x22\x3d\x3d\x3d$jscomp$key$channel\x26\x26getFieldOrDatumDef(encoding.x2)?getFieldOrDatumDef(encoding.x)?mergeValuesWithExplicit(parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,\x22x\x22),parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,\x22x2\x22),\x22domain\x22,\x22scale\x22,domainsTieBreaker):parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,\x22x2\x22):\x22y\x22\x3d\x3d\x3d$jscomp$key$channel\x26\x26getFieldOrDatumDef(encoding.y2)?\ngetFieldOrDatumDef(encoding.y)?mergeValuesWithExplicit(parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,\x22y\x22),parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,\x22y2\x22),\x22domain\x22,\x22scale\x22,domainsTieBreaker):parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,\x22y2\x22):parseSingleChannelDomain(scaleType,JSCompiler_inline_result,model,$jscomp$key$channel);localScaleComponents[$jscomp$key$channel].setWithExplicit(\x22domains\x22,model);JSCompiler_inline_result\x3dvoid 0;scaleType\x3d\nmodel$jscomp$0.component.scales[$jscomp$key$channel];fieldDef\x3dmodel$jscomp$0.specifiedScales[$jscomp$key$channel].domain;encoding\x3dnull\x3d\x3d\x3d(JSCompiler_inline_result\x3dmodel$jscomp$0.fieldDef($jscomp$key$channel))||void 0\x3d\x3d\x3dJSCompiler_inline_result?void 0:JSCompiler_inline_result.bin;JSCompiler_inline_result\x3disSelectionDomain(fieldDef)\x26\x26fieldDef;encoding\x3disObject(encoding)\x26\x26isSelectionExtent(encoding.extent)\x26\x26encoding.extent;(JSCompiler_inline_result||encoding)\x26\x26scaleType.set(\x22selectionExtent\x22,null!\x3d\x3d\nJSCompiler_inline_result\x26\x26void 0!\x3d\x3dJSCompiler_inline_result?JSCompiler_inline_result:encoding,!0);if(model$jscomp$0.component.data.isFaceted){for(scaleType\x3dmodel$jscomp$0;!isFacetModel(scaleType)\x26\x26scaleType.parent;)scaleType\x3dscaleType.parent;if(\x22shared\x22\x3d\x3d\x3dscaleType.component.resolve.scale[$jscomp$key$channel])for($jscomp$key$channel\x3d$jscomp.makeIterator(model.value),model\x3d$jscomp$key$channel.next();!model.done;model\x3d$jscomp$key$channel.next())model\x3dmodel.value,isDataRefDomain(model)\x26\x26(model.data\x3d\n\x22scale_\x22+model.data.replace(\x22scale_\x22,\x22\x22))}}}function parseNonUnitScaleDomain(model$jscomp$0){for(var $jscomp$iter$215\x3d$jscomp.makeIterator(model$jscomp$0.children),$jscomp$key$child\x3d$jscomp$iter$215.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$215.next()){var model\x3d$jscomp$key$child.value;isUnitModel(model)?parseUnitScaleDomain(model):parseNonUnitScaleDomain(model)}$jscomp$iter$215\x3dmodel$jscomp$0.component.scales;model\x3d$jscomp.makeIterator(keys($jscomp$iter$215));for(var $jscomp$key$channel\x3d\nmodel.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3dmodel.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var domains\x3dvoid 0,selectionExtent\x3dnull,$jscomp$iter$216\x3d$jscomp.makeIterator(model$jscomp$0.children);for($jscomp$key$child\x3d$jscomp$iter$216.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$216.next())if($jscomp$key$child\x3d$jscomp$key$child.value.component.scales[$jscomp$key$channel])domains\x3dvoid 0\x3d\x3d\x3ddomains?$jscomp$key$child.getWithExplicit(\x22domains\x22):mergeValuesWithExplicit(domains,\n$jscomp$key$child.getWithExplicit(\x22domains\x22),\x22domains\x22,\x22scale\x22,domainsTieBreaker),$jscomp$key$child\x3d$jscomp$key$child.get(\x22selectionExtent\x22),selectionExtent\x26\x26$jscomp$key$child\x26\x26selectionExtent.selection!\x3d\x3d$jscomp$key$child.selection\x26\x26warn(\x22The same selection must be used to override scale domains in a layered view.\x22),selectionExtent\x3d$jscomp$key$child;$jscomp$iter$215[$jscomp$key$channel].setWithExplicit(\x22domains\x22,domains);selectionExtent\x26\x26$jscomp$iter$215[$jscomp$key$channel].set(\x22selectionExtent\x22,\nselectionExtent,!0)}}function mapDomainToDataSignal(domain,type,timeUnit){return domain.map(function(v){return{signal:\x22{data: \x22+valueExpr(v,{timeUnit:timeUnit,type:type})+\x22}\x22}})}function convertDomainIfItIsDateTime(domain,type,timeUnit){var _a;timeUnit\x3dnull\x3d\x3d\x3d(_a\x3dnormalizeTimeUnit(timeUnit))||void 0\x3d\x3d\x3d_a?void 0:_a.unit;return\x22temporal\x22\x3d\x3d\x3dtype||timeUnit?mapDomainToDataSignal(domain,type,timeUnit):[domain]}function parseSingleChannelDomain(scaleType,domain,model,channel){var fieldOrDatumDef\x3dgetFieldOrDatumDef(model.encoding[channel]),\ntype\x3dfieldOrDatumDef.type,timeUnit\x3dfieldOrDatumDef.timeUnit;if(domain\x26\x26domain.unionWith)return channel\x3dparseSingleChannelDomain(scaleType,void 0,model,channel),fieldOrDatumDef\x3dconvertDomainIfItIsDateTime(domain.unionWith,type,timeUnit),makeExplicit([].concat($jscomp.arrayFromIterable(channel.value),$jscomp.arrayFromIterable(fieldOrDatumDef)));if(isSignalRef(domain))return makeExplicit([domain]);if(domain\x26\x26\x22unaggregated\x22!\x3d\x3ddomain\x26\x26!isSelectionDomain(domain))return makeExplicit(convertDomainIfItIsDateTime(domain,\ntype,timeUnit));var stack\x3dmodel.stack;if(stack\x26\x26channel\x3d\x3d\x3dstack.fieldChannel){if(\x22normalize\x22\x3d\x3d\x3dstack.offset)return makeImplicit([[0,1]]);fieldOrDatumDef\x3dmodel.requestDataName(DataSourceType.Main);return makeImplicit([{data:fieldOrDatumDef,field:model.vgField(channel,{suffix:\x22start\x22})},{data:fieldOrDatumDef,field:model.vgField(channel,{suffix:\x22end\x22})}])}stack\x3dSCALE_CHANNEL_INDEX[channel]\x26\x26isFieldDef(fieldOrDatumDef)?domainSort(model,channel,scaleType):void 0;if(isDatumDef(fieldOrDatumDef))return channel\x3d\nconvertDomainIfItIsDateTime([fieldOrDatumDef.datum],type,timeUnit),makeImplicit(channel);if(\x22unaggregated\x22\x3d\x3d\x3ddomain)return channel\x3dmodel.requestDataName(DataSourceType.Main),fieldOrDatumDef\x3dfieldOrDatumDef.field,makeImplicit([{data:channel,field:vgField({field:fieldOrDatumDef,aggregate:\x22min\x22})},{data:channel,field:vgField({field:fieldOrDatumDef,aggregate:\x22max\x22})}]);if(isBinning(fieldOrDatumDef.bin)){if(scaleType in DISCRETE_DOMAIN_INDEX)return\x22bin-ordinal\x22\x3d\x3d\x3dscaleType?makeImplicit([]):makeImplicit([{data:!0\x3d\x3d\x3d\nstack||!1\x3d\x3d\x3dstack?model.requestDataName(DataSourceType.Main):model.requestDataName(DataSourceType.Raw),field:model.vgField(channel,binRequiresRange(fieldOrDatumDef,channel)?{binSuffix:\x22range\x22}:{}),sort:!0!\x3d\x3dstack\x26\x26isObject(stack)?stack:{field:model.vgField(channel,{}),op:\x22min\x22}}]);domain\x3dfieldOrDatumDef.bin;if(isBinning(domain)){var binSignal\x3dgetBinSignalName(model,fieldOrDatumDef.field,domain);return makeImplicit([new SignalRefWrapper(function(){var signal\x3dmodel.getSignalName(binSignal);return\x22[\x22+\nsignal+\x22.start, \x22+signal+\x22.stop]\x22})])}return makeImplicit([{data:model.requestDataName(DataSourceType.Main),field:model.vgField(channel,{})}])}return fieldOrDatumDef.timeUnit\x26\x26contains([\x22time\x22,\x22utc\x22],scaleType)\x26\x26hasBand(channel,fieldOrDatumDef,isUnitModel(model)?model.encoding[getSecondaryRangeChannel(channel)]:void 0,model.stack,model.markDef,model.config)?(fieldOrDatumDef\x3dmodel.requestDataName(DataSourceType.Main),makeImplicit([{data:fieldOrDatumDef,field:model.vgField(channel)},{data:fieldOrDatumDef,\nfield:model.vgField(channel,{suffix:\x22end\x22})}])):stack?makeImplicit([{data:!0\x3d\x3d\x3dstack||!1\x3d\x3d\x3dstack?model.requestDataName(DataSourceType.Main):model.requestDataName(DataSourceType.Raw),field:model.vgField(channel),sort:stack}]):makeImplicit([{data:model.requestDataName(DataSourceType.Main),field:model.vgField(channel)}])}function normalizeSortField(sort,isStackedMeasure){var op\x3dsort.op,field\x3dsort.field;sort\x3dsort.order;return Object.assign(Object.assign({op:null!\x3d\x3dop\x26\x26void 0!\x3d\x3dop?op:isStackedMeasure?\n\x22sum\x22:\x22min\x22},field?{field:replacePathInField(field)}:{}),sort?{order:sort}:{})}function domainSort(model,channel,scaleType){if(scaleType in DISCRETE_DOMAIN_INDEX){scaleType\x3dmodel.fieldDef(channel);var sort\x3dscaleType.sort;if(isSortArray(sort))return{op:\x22min\x22,field:sortArrayIndexField(scaleType,channel),order:\x22ascending\x22};var stackDimensions\x3d(scaleType\x3dmodel.stack)?[].concat($jscomp.arrayFromIterable(scaleType.groupbyField?[scaleType.groupbyField]:[]),$jscomp.arrayFromIterable(scaleType.stackBy.map(function(s){return s.fieldDef.field}))):\nvoid 0;if(isSortField(sort))return scaleType\x3dscaleType\x26\x26!contains(stackDimensions,sort.field),normalizeSortField(sort,scaleType);if(sort\x26\x26sort.encoding){channel\x3dsort.order;model\x3dmodel.fieldDef(sort.encoding);sort\x3dmodel.aggregate;var field$427\x3dmodel.field;scaleType\x3dscaleType\x26\x26!contains(stackDimensions,field$427);if(isArgminDef(sort)||isArgmaxDef(sort))return normalizeSortField({field:vgField(model),order:channel},scaleType);if(isAggregateOp(sort)||!sort)return normalizeSortField({op:sort,field:field$427,\norder:channel},scaleType)}else{if(\x22descending\x22\x3d\x3d\x3dsort)return{op:\x22min\x22,field:model.vgField(channel),order:\x22descending\x22};if(contains([\x22ascending\x22,void 0],sort))return!0}}}function canUseUnaggregatedDomain(fieldDef,scaleType){var aggregate\x3dfieldDef.aggregate,type\x3dfieldDef.type;return aggregate?isString(aggregate)\x26\x26!SHARED_DOMAIN_OP_INDEX[aggregate]?{valid:!1,reason:\x27Unaggregated domain not applicable for \x22\x27+aggregate+\x27\x22 since it produces values outside the origin domain of the source data.\x27}:\x22quantitative\x22\x3d\x3d\x3d\ntype\x26\x26\x22log\x22\x3d\x3d\x3dscaleType?{valid:!1,reason:\x22Unaggregated domain is currently unsupported for log scale (\x22+stringify(fieldDef)+\x22).\x22}:{valid:!0}:{valid:!1,reason:\x22Using unaggregated domain with raw field has no effect (\x22+stringify(fieldDef)+\x22).\x22}}function domainsTieBreaker(v1,v2$jscomp$0,property,propertyOf){if(v1.explicit\x26\x26v2$jscomp$0.explicit){var v2\x3dv2$jscomp$0.value;property\x3d\x22Conflicting \x22+propertyOf.toString()+\x27 property \x22\x27+property.toString()+\x27\x22 (\x27+stringify(v1.value)+\x22 and \x22+stringify(v2)+\x22). Using the union of the two domains.\x22;\nwarn(property)}return{explicit:v1.explicit,value:[].concat($jscomp.arrayFromIterable(v1.value),$jscomp.arrayFromIterable(v2$jscomp$0.value))}}function mergeDomains(domains){var uniqueDomains\x3dunique(domains.map(function(domain){return isDataRefDomain(domain)?__rest(domain,[\x22sort\x22]):domain}),hash),sorts\x3dunique(domains.map(function(d){if(isDataRefDomain(d))return d\x3dd.sort,void 0!\x3d\x3dd\x26\x26!0!\x3d\x3dd\x26\x26!1!\x3d\x3dd\x26\x26(\x22op\x22in d\x26\x26\x22count\x22\x3d\x3d\x3dd.op\x26\x26delete d.field,\x22ascending\x22\x3d\x3d\x3dd.order\x26\x26delete d.order),d}).filter(function(s){return void 0!\x3d\x3d\ns}),hash);if(0!\x3d\x3duniqueDomains.length){if(1\x3d\x3d\x3duniqueDomains.length){uniqueDomains\x3ddomains[0];if(isDataRefDomain(uniqueDomains)\x26\x260\x3csorts.length){var sort$430\x3dsorts[0];1\x3csorts.length?(warn(\x22Domains that should be unioned has conflicting sort properties. Sort will be set to true.\x22),sort$430\x3d!0):isObject(sort$430)\x26\x26\x22field\x22in sort$430\x26\x26uniqueDomains.field\x3d\x3d\x3dsort$430.field\x26\x26(sort$430\x3dsort$430.order?{order:sort$430.order}:!0);return Object.assign(Object.assign({},uniqueDomains),{sort:sort$430})}return uniqueDomains}sorts\x3d\nunique(sorts.map(function(s){if(!0\x3d\x3d\x3ds||!1\x3d\x3d\x3ds||!(\x22op\x22in s)||isString(s.op)\x26\x26s.op in MULTIDOMAIN_SORT_OP_INDEX)return s;warn(\x22Dropping sort property \x22+stringify(s)+\x27 as unioned domains only support boolean or op \x22count\x22, \x22min\x22, and \x22max\x22.\x27);return!0}),hash);1\x3d\x3d\x3dsorts.length?sort$430\x3dsorts[0]:1\x3csorts.length\x26\x26(warn(\x22Domains that should be unioned has conflicting sort properties. Sort will be set to true.\x22),sort$430\x3d!0);sorts\x3dunique(domains.map(function(d){return isDataRefDomain(d)?d.data:null}),function(x){return x});\nreturn 1\x3d\x3d\x3dsorts.length\x26\x26null!\x3d\x3dsorts[0]?Object.assign({data:sorts[0],fields:uniqueDomains.map(function(d){return d.field})},sort$430?{sort:sort$430}:{}):Object.assign({fields:uniqueDomains},sort$430?{sort:sort$430}:{})}}function getFieldFromDomain(domain){if(isDataRefDomain(domain)\x26\x26isString(domain.field))return domain.field;var JSCompiler_inline_result\x3disArray(domain)?!1:\x22fields\x22in domain\x26\x26!(\x22data\x22in domain);if(JSCompiler_inline_result){domain\x3d$jscomp.makeIterator(domain.fields);for(JSCompiler_inline_result\x3d\ndomain.next();!JSCompiler_inline_result.done;JSCompiler_inline_result\x3ddomain.next())if(JSCompiler_inline_result\x3dJSCompiler_inline_result.value,isDataRefDomain(JSCompiler_inline_result)\x26\x26isString(JSCompiler_inline_result.field))if(!field$432)var field$432\x3dJSCompiler_inline_result.field;else if(field$432!\x3d\x3dJSCompiler_inline_result.field)return warn(\x22Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.\x22),\nfield$432;warn(\x22Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.\x22);return field$432}field$432\x3disArray(domain)?!1:\x22fields\x22in domain\x26\x26\x22data\x22in domain;if(field$432)return warn(\x22Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.\x22),\nfield$432\x3ddomain.fields[0],isString(field$432)?field$432:void 0}function assembleDomain(model,channel){channel\x3dmodel.component.scales[channel].get(\x22domains\x22).map(function(domain){isDataRefDomain(domain)\x26\x26(domain.data\x3dmodel.lookupDataSource(domain.data));return domain});return mergeDomains(channel)}function assembleScales(model){return isLayerModel(model)||isConcatModel(model)?model.children.reduce(function(scales,child){return scales.concat(assembleScales(child))},assembleScalesForModel(model)):assembleScalesForModel(model)}\nfunction assembleScalesForModel(model){return keys(model.component.scales).reduce(function(scales,channel){var scaleComponent\x3dmodel.component.scales[channel];if(scaleComponent.merged)return scales;var scale\x3dscaleComponent.combine();scaleComponent\x3dscale.name;var type\x3dscale.type,selectionExtent\x3dscale.selectionExtent,reverse\x3dscale.reverse,otherScaleProps\x3d__rest(scale,\x22name type selectionExtent domains range reverse\x22.split(\x22 \x22));scale\x3dscale.range;channel in POSITION_SCALE_CHANNEL_INDEX?isVgRangeStep(scale)\x26\x26\n(scale\x3d{step:{signal:scaleComponent+\x22_step\x22}}):isObject(scale)\x26\x26isDataRefDomain(scale)\x26\x26(scale\x3dObject.assign(Object.assign({},scale),{data:model.lookupDataSource(scale.data)}));if(selectionExtent){var domainRaw\x3dselectionExtent.selection;domainRaw\x3dmodel.getSelectionComponent(domainRaw,varName(domainRaw));domainRaw\x3d{signal:parseSelectionBinExtent(domainRaw,selectionExtent)}}channel\x3dassembleDomain(model,channel);scales.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:scaleComponent,\ntype:type},channel?{domain:channel}:{}),domainRaw?{domainRaw:domainRaw}:{}),{range:scale}),void 0!\x3d\x3dreverse?{reverse:reverse}:{}),otherScaleProps));return scales},[])}function getSizeChannel$1(channel){return\x22x\x22\x3d\x3d\x3dchannel?\x22width\x22:\x22y\x22\x3d\x3d\x3dchannel?\x22height\x22:void 0}function getBinStepSignal(model,channel){var fieldDef\x3dmodel.fieldDef(channel);if(fieldDef\x26\x26fieldDef.bin\x26\x26isBinning(fieldDef.bin)){var binSignal\x3dgetBinSignalName(model,fieldDef.field,fieldDef.bin);channel\x3dgetSizeChannel$1(channel);var sizeSignal\x3d\nmodel.getName(channel);return new SignalRefWrapper(function(){var updatedName\x3dmodel.getSignalName(binSignal);updatedName\x3d\x22(\x22+updatedName+\x22.stop - \x22+updatedName+\x22.start) / \x22+updatedName+\x22.step\x22;return model.getSignalName(sizeSignal)+\x22 / (\x22+updatedName+\x22)\x22})}}function parseRangeForChannel(channel,model){for(var specifiedScale\x3dmodel.specifiedScales[channel],size\x3dmodel.size,scaleType\x3dmodel.getScaleComponent(channel).get(\x22type\x22),$jscomp$iter$220\x3d$jscomp.makeIterator(RANGE_PROPERTIES),$jscomp$key$property\x3d\n$jscomp$iter$220.next();!$jscomp$key$property.done;$jscomp$key$property\x3d$jscomp$iter$220.next())if($jscomp$key$property\x3d$jscomp$key$property.value,void 0!\x3d\x3dspecifiedScale[$jscomp$key$property]){var supportedByScaleType\x3dscaleTypeSupportProperty(scaleType,$jscomp$key$property),channelIncompatability\x3dchannelScalePropertyIncompatability(channel,$jscomp$key$property);if(supportedByScaleType)if(channelIncompatability)warn(channelIncompatability);else switch($jscomp$key$property){case \x22range\x22:scaleType\x3d\nspecifiedScale.range;if(isArray(scaleType)){if(channel in POSITION_SCALE_CHANNEL_INDEX)return makeExplicit(scaleType.map(function(v){if(\x22width\x22\x3d\x3d\x3dv||\x22height\x22\x3d\x3d\x3dv){v\x3dmodel.getName(v);var getSignalName\x3dmodel.getSignalName.bind(model);return SignalRefWrapper.fromName(getSignalName,v)}return v}))}else if(isObject(scaleType))return makeExplicit({data:model.requestDataName(DataSourceType.Main),field:scaleType.field,sort:{op:\x22min\x22,field:model.vgField(channel)}});return makeExplicit(scaleType);case \x22scheme\x22:return makeExplicit(parseScheme(specifiedScale[$jscomp$key$property]))}else warn(scalePropertyNotWorkWithScaleType(scaleType,\n$jscomp$key$property,channel))}if(\x22x\x22\x3d\x3d\x3dchannel||\x22y\x22\x3d\x3d\x3dchannel)if($jscomp$iter$220\x3d\x22x\x22\x3d\x3d\x3dchannel?\x22width\x22:\x22height\x22,size\x3dsize[$jscomp$iter$220],isStep(size)){if(scaleType in DISCRETE_DOMAIN_INDEX)return makeExplicit({step:size.step});warn(stepDropped($jscomp$iter$220))}size\x3dspecifiedScale.rangeMin;specifiedScale\x3dspecifiedScale.rangeMax;channel\x3ddefaultRange(channel,model);return(void 0!\x3d\x3dsize||void 0!\x3d\x3dspecifiedScale)\x26\x26scaleTypeSupportProperty(scaleType,\x22rangeMin\x22)\x26\x26isArray(channel)\x26\x262\x3d\x3d\x3dchannel.length?\nmakeExplicit([null!\x3d\x3dsize\x26\x26void 0!\x3d\x3dsize?size:channel[0],null!\x3d\x3dspecifiedScale\x26\x26void 0!\x3d\x3dspecifiedScale?specifiedScale:channel[1]]):makeImplicit(channel)}function parseScheme(scheme){return!isString(scheme)\x26\x26scheme.name?Object.assign({scheme:scheme.name},omit(scheme,[\x22name\x22])):{scheme:scheme}}function defaultRange(channel,model){var size\x3dmodel.size,config\x3dmodel.config,mark\x3dmodel.mark,encoding\x3dmodel.encoding,getSignalName\x3dmodel.getSignalName.bind(model),type\x3dgetFieldOrDatumDef(encoding[channel]).type;\nencoding\x3dmodel.getScaleComponent(channel).get(\x22type\x22);var $jscomp$destructuring$var322\x3dmodel.specifiedScales[channel],domain\x3d$jscomp$destructuring$var322.domain;$jscomp$destructuring$var322\x3d$jscomp$destructuring$var322.domainMid;switch(channel){case \x22x\x22:case \x22y\x22:if(contains([\x22point\x22,\x22band\x22],encoding))if(\x22x\x22\x3d\x3d\x3dchannel\x26\x26!size.width){if(config\x3dgetViewConfigDiscreteSize(config.view,\x22width\x22),isStep(config))return config}else if(\x22y\x22\x3d\x3d\x3dchannel\x26\x26!size.height\x26\x26(config\x3dgetViewConfigDiscreteSize(config.view,\n\x22height\x22),isStep(config)))return config;config\x3dgetSizeChannel$1(channel);config\x3dmodel.getName(config);return\x22y\x22\x3d\x3d\x3dchannel\x26\x26encoding in CONTINUOUS_DOMAIN_INDEX?[SignalRefWrapper.fromName(getSignalName,config),0]:[0,SignalRefWrapper.fromName(getSignalName,config)];case \x22size\x22:return getSignalName\x3dmodel.component.scales[channel].get(\x22zero\x22),getSignalName\x3dsizeRangeMin(mark,getSignalName,config),size\x3dsizeRangeMax(mark,size,model,config),encoding in CONTINUOUS_TO_DISCRETE_INDEX?interpolateRange(getSignalName,\nsize,defaultContinuousToDiscreteCount(encoding,config,domain,channel)):[getSignalName,size];case \x22theta\x22:return[0,2*Math.PI];case \x22angle\x22:return[0,360];case \x22radius\x22:return[0,new SignalRefWrapper(function(){var w\x3dmodel.getSignalName(\x22width\x22),h\x3dmodel.getSignalName(\x22height\x22);return\x22min(\x22+w+\x22,\x22+h+\x22)/2\x22})];case \x22strokeWidth\x22:return[config.scale.minStrokeWidth,config.scale.maxStrokeWidth];case \x22strokeDash\x22:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case \x22shape\x22:return\x22symbol\x22;case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:return\x22ordinal\x22\x3d\x3d\x3d\nencoding?\x22nominal\x22\x3d\x3d\x3dtype?\x22category\x22:\x22ordinal\x22:void 0!\x3d\x3d$jscomp$destructuring$var322?\x22diverging\x22:\x22rect\x22\x3d\x3d\x3dmark||\x22geoshape\x22\x3d\x3d\x3dmark?\x22heatmap\x22:\x22ramp\x22;case \x22opacity\x22:case \x22fillOpacity\x22:case \x22strokeOpacity\x22:return[config.scale.minOpacity,config.scale.maxOpacity]}throw Error(\x22Scale range undefined for channel \x22+channel);}function defaultContinuousToDiscreteCount(scaleType,config,domain,channel){switch(scaleType){case \x22quantile\x22:return config.scale.quantileCount;case \x22quantize\x22:return config.scale.quantizeCount;\ncase \x22threshold\x22:if(void 0!\x3d\x3ddomain\x26\x26isArray(domain))return domain.length+1;warn(\x22Domain for \x22+channel+\x22 is required for threshold scale.\x22);return 3}}function interpolateRange(rangeMin,rangeMax,cardinality){var f\x3dfunction(){var rMax\x3dsignalOrStringValue(rangeMax),rMin\x3dsignalOrStringValue(rangeMin),step\x3d\x22(\x22+rMax+\x22 - \x22+rMin+\x22) / (\x22+cardinality+\x22 - 1)\x22;return\x22sequence(\x22+rMin+\x22, \x22+rMax+\x22 + \x22+step+\x22, \x22+step+\x22)\x22};return isSignalRef(rangeMax)?new SignalRefWrapper(f):{signal:f()}}function sizeRangeMin(mark,\nzero,config){if(zero)return isSignalRef(zero)?{signal:zero.signal+\x22 ? 0 : \x22+sizeRangeMin(mark,!1,config)}:0;switch(mark){case \x22bar\x22:case \x22tick\x22:return config.scale.minBandSize;case \x22line\x22:case \x22trail\x22:case \x22rule\x22:return config.scale.minStrokeWidth;case \x22text\x22:return config.scale.minFontSize;case \x22point\x22:case \x22square\x22:case \x22circle\x22:return config.scale.minSize}throw Error(incompatibleChannel(\x22size\x22,mark));}function sizeRangeMax(mark,size,model,config){model\x3d{x:getBinStepSignal(model,\x22x\x22),y:getBinStepSignal(model,\n\x22y\x22)};switch(mark){case \x22bar\x22:case \x22tick\x22:if(void 0!\x3d\x3dconfig.scale.maxBandSize)return config.scale.maxBandSize;var min\x3dminXYStep(size,model,config.view);return isNumber(min)?min-1:new SignalRefWrapper(function(){return min.signal+\x22 - 1\x22});case \x22line\x22:case \x22trail\x22:case \x22rule\x22:return config.scale.maxStrokeWidth;case \x22text\x22:return config.scale.maxFontSize;case \x22point\x22:case \x22square\x22:case \x22circle\x22:if(config.scale.maxSize)return config.scale.maxSize;var pointStep\x3dminXYStep(size,model,config.view);return isNumber(pointStep)?\nMath.pow(.95*pointStep,2):new SignalRefWrapper(function(){return\x22pow(0.95 * \x22+pointStep.signal+\x22, 2)\x22})}throw Error(incompatibleChannel(\x22size\x22,mark));}function minXYStep(size,xyStepSignals,viewConfig){var widthStep\x3disStep(size.width)?size.width.step:getViewConfigDiscreteStep(viewConfig,\x22width\x22),heightStep\x3disStep(size.height)?size.height.step:getViewConfigDiscreteStep(viewConfig,\x22height\x22);return xyStepSignals.x||xyStepSignals.y?new SignalRefWrapper(function(){return\x22min(\x22+[xyStepSignals.x?xyStepSignals.x.signal:\nwidthStep,xyStepSignals.y?xyStepSignals.y.signal:heightStep].join(\x22, \x22)+\x22)\x22}):Math.min(widthStep,heightStep)}function parseScaleProperty(model,property){if(isUnitModel(model))for(var localScaleComponents\x3dmodel.component.scales,config\x3dmodel.config,encoding\x3dmodel.encoding,markDef\x3dmodel.markDef,specifiedScales\x3dmodel.specifiedScales,$jscomp$inline_1403\x3d$jscomp.makeIterator(keys(localScaleComponents)),$jscomp$key$channel\x3d$jscomp$inline_1403.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1403.next()){var channel\x3d\n$jscomp$key$channel.value,specifiedScale\x3dspecifiedScales[channel];$jscomp$key$channel\x3dlocalScaleComponents[channel];var mergedScaleCmpt\x3dmodel.getScaleComponent(channel),fieldOrDatumDef\x3dgetFieldOrDatumDef(encoding[channel]),specifiedValue\x3dspecifiedScale[property],scaleType$435\x3dmergedScaleCmpt.get(\x22type\x22),scalePadding\x3dmergedScaleCmpt.get(\x22padding\x22);mergedScaleCmpt\x3dmergedScaleCmpt.get(\x22paddingInner\x22);var supportedByScaleType\x3dscaleTypeSupportProperty(scaleType$435,property),channelIncompatability\x3dchannelScalePropertyIncompatability(channel,\nproperty);void 0!\x3d\x3dspecifiedValue\x26\x26(supportedByScaleType?channelIncompatability\x26\x26warn(channelIncompatability):warn(scalePropertyNotWorkWithScaleType(scaleType$435,property,channel)));if(supportedByScaleType\x26\x26void 0\x3d\x3d\x3dchannelIncompatability)if(void 0!\x3d\x3dspecifiedValue)switch(channel\x3dfieldOrDatumDef.timeUnit,fieldOrDatumDef\x3dfieldOrDatumDef.type,property){case \x22domainMax\x22:case \x22domainMin\x22:isDateTime(specifiedScale[property])||\x22temporal\x22\x3d\x3d\x3dfieldOrDatumDef||channel?$jscomp$key$channel.set(property,{signal:valueExpr(specifiedScale[property],\n{type:fieldOrDatumDef,timeUnit:channel})},!0):$jscomp$key$channel.set(property,specifiedScale[property],!0);break;default:$jscomp$key$channel.copyKeyFromObject(property,specifiedScale)}else specifiedScale\x3dproperty in scaleRules?scaleRules[property]({model:model,channel:channel,fieldOrDatumDef:fieldOrDatumDef,scaleType:scaleType$435,scalePadding:scalePadding,scalePaddingInner:mergedScaleCmpt,domain:specifiedScale.domain,markDef:markDef,config:config}):config.scale[property],void 0!\x3d\x3dspecifiedScale\x26\x26\n$jscomp$key$channel.set(property,specifiedScale,!1)}else parseNonUnitScaleProperty(model,property)}function parseScaleRange(model){if(isUnitModel(model))for(var localScaleComponents\x3dmodel.component.scales,$jscomp$inline_1422\x3d$jscomp.makeIterator(SCALE_CHANNELS),$jscomp$key$channel\x3d$jscomp$inline_1422.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1422.next()){var channel\x3d$jscomp$key$channel.value;if($jscomp$key$channel\x3dlocalScaleComponents[channel])channel\x3dparseRangeForChannel(channel,\nmodel),$jscomp$key$channel.setWithExplicit(\x22range\x22,channel)}else parseNonUnitScaleProperty(model,\x22range\x22)}function parseNonUnitScaleProperty(model,property){for(var localScaleComponents\x3dmodel.component.scales,$jscomp$iter$222\x3d$jscomp.makeIterator(model.children),$jscomp$key$child\x3d$jscomp$iter$222.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$222.next()){var child\x3d$jscomp$key$child.value;\x22range\x22\x3d\x3d\x3dproperty?parseScaleRange(child):parseScaleProperty(child,property)}$jscomp$iter$222\x3d$jscomp.makeIterator(keys(localScaleComponents));\nfor(child\x3d$jscomp$iter$222.next();!child.done;child\x3d$jscomp$iter$222.next()){child\x3dchild.value;var valueWithExplicit\x3dvoid 0,$jscomp$iter$223\x3d$jscomp.makeIterator(model.children);for($jscomp$key$child\x3d$jscomp$iter$223.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$223.next())if($jscomp$key$child\x3d$jscomp$key$child.value.component.scales[child])$jscomp$key$child\x3d$jscomp$key$child.getWithExplicit(property),valueWithExplicit\x3dmergeValuesWithExplicit(valueWithExplicit,$jscomp$key$child,property,\n\x22scale\x22,tieBreakByComparing(function(v1,v2){switch(property){case \x22range\x22:if(v1.step\x26\x26v2.step)return v1.step-v2.step}return 0}));localScaleComponents[child].setWithExplicit(property,valueWithExplicit)}}function bins(model,fieldDef){var bin\x3dfieldDef.bin;if(isBinning(bin)){var binSignal\x3dgetBinSignalName(model,fieldDef.field,bin);return new SignalRefWrapper(function(){return model.getSignalName(binSignal)})}if(isBinned(bin)\x26\x26isObject(bin)\x26\x26void 0!\x3d\x3dbin.step)return{step:bin.step}}function defaultType$2(channel,\nfieldDef,mark){var _a;switch(fieldDef.type){case \x22nominal\x22:case \x22ordinal\x22:if(isColorChannel(channel)||\x22discrete\x22\x3d\x3d\x3drangeType(channel))return\x22shape\x22\x3d\x3d\x3dchannel\x26\x26\x22ordinal\x22\x3d\x3d\x3dfieldDef.type\x26\x26warn(discreteChannelCannotEncode(channel,\x22ordinal\x22)),\x22ordinal\x22;if(channel in POSITION_SCALE_CHANNEL_INDEX){if(contains([\x22rect\x22,\x22bar\x22,\x22image\x22,\x22rule\x22],mark))return\x22band\x22}else if(\x22arc\x22\x3d\x3d\x3dmark\x26\x26channel in POLAR_POSITION_SCALE_CHANNEL_INDEX)return\x22band\x22;return void 0!\x3d\x3dfieldDef.band||isPositionFieldOrDatumDef(fieldDef)\x26\x26\n(null\x3d\x3d\x3d(_a\x3dfieldDef.axis)||void 0\x3d\x3d\x3d_a?0:_a.tickBand)?\x22band\x22:\x22point\x22;case \x22temporal\x22:if(!isColorChannel(channel)){if(\x22discrete\x22\x3d\x3d\x3drangeType(channel))return warn(discreteChannelCannotEncode(channel,\x22temporal\x22)),\x22ordinal\x22;if(isFieldDef(fieldDef)\x26\x26fieldDef.timeUnit\x26\x26normalizeTimeUnit(fieldDef.timeUnit).utc)return\x22utc\x22}return\x22time\x22;case \x22quantitative\x22:if(isColorChannel(channel)){if(isFieldDef(fieldDef)\x26\x26isBinning(fieldDef.bin))return\x22bin-ordinal\x22}else if(\x22discrete\x22\x3d\x3d\x3drangeType(channel))return warn(discreteChannelCannotEncode(channel,\n\x22quantitative\x22)),\x22ordinal\x22;return\x22linear\x22;case \x22geojson\x22:return}throw Error(\x27Invalid field type \x22\x27+fieldDef.type+\x27\x22.\x27);}function parseScaleCore(model){if(isUnitModel(model))model.component.scales\x3dparseUnitScaleCore(model);else{for(var JSCompiler_temp_const\x3dmodel.component,_a,scaleComponents\x3dmodel.component.scales\x3d{},scaleTypeWithExplicitIndex\x3d{},resolve\x3dmodel.component.resolve,$jscomp$inline_1433\x3d$jscomp.makeIterator(model.children),$jscomp$key$child\x3d$jscomp$inline_1433.next();!$jscomp$key$child.done;$jscomp$key$child\x3d\n$jscomp$inline_1433.next()){$jscomp$key$child\x3d$jscomp$key$child.value;parseScaleCore($jscomp$key$child);for(var $jscomp$inline_1436\x3d$jscomp.makeIterator(keys($jscomp$key$child.component.scales)),$jscomp$key$channel\x3d$jscomp$inline_1436.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1436.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var JSCompiler_temp_const$jscomp$0\x3dresolve.scale;if(null!\x3d\x3d(_a\x3dresolve.scale[$jscomp$key$channel])\x26\x26void 0!\x3d\x3d_a)var JSCompiler_temp\x3d_a;else if(JSCompiler_temp\x3d\nmodel,isLayerModel(JSCompiler_temp)||isFacetModel(JSCompiler_temp))JSCompiler_temp\x3d\x22shared\x22;else if(isConcatModel(JSCompiler_temp))JSCompiler_temp\x3d$jscomp$key$channel in POSITION_SCALE_CHANNEL_INDEX?\x22independent\x22:\x22shared\x22;else throw Error(\x22invalid model type for resolve\x22);JSCompiler_temp_const$jscomp$0[$jscomp$key$channel]\x3dJSCompiler_temp;if(\x22shared\x22\x3d\x3d\x3dresolve.scale[$jscomp$key$channel])if(JSCompiler_temp_const$jscomp$0\x3dscaleTypeWithExplicitIndex[$jscomp$key$channel],JSCompiler_temp\x3d$jscomp$key$child.component.scales[$jscomp$key$channel].getWithExplicit(\x22type\x22),\nJSCompiler_temp_const$jscomp$0){var scaleCategory1\x3dSCALE_CATEGORY_INDEX[JSCompiler_temp_const$jscomp$0.value],scaleCategory2\x3dSCALE_CATEGORY_INDEX[JSCompiler_temp.value];scaleCategory1\x3d\x3d\x3dscaleCategory2||\x22ordinal-position\x22\x3d\x3d\x3dscaleCategory1\x26\x26\x22time\x22\x3d\x3d\x3dscaleCategory2||\x22ordinal-position\x22\x3d\x3d\x3dscaleCategory2\x26\x26\x22time\x22\x3d\x3d\x3dscaleCategory1?scaleTypeWithExplicitIndex[$jscomp$key$channel]\x3dmergeValuesWithExplicit(JSCompiler_temp_const$jscomp$0,JSCompiler_temp,\x22type\x22,\x22scale\x22,scaleTypeTieBreaker):(resolve.scale[$jscomp$key$channel]\x3d\n\x22independent\x22,delete scaleTypeWithExplicitIndex[$jscomp$key$channel])}else scaleTypeWithExplicitIndex[$jscomp$key$channel]\x3dJSCompiler_temp}}_a\x3d$jscomp.makeIterator(keys(scaleTypeWithExplicitIndex));for($jscomp$key$channel\x3d_a.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d_a.next())for(resolve\x3d$jscomp$key$channel.value,$jscomp$inline_1433\x3dmodel.scaleName(resolve,!0),scaleComponents[resolve]\x3dnew ScaleComponent($jscomp$inline_1433,scaleTypeWithExplicitIndex[resolve]),$jscomp$inline_1436\x3d$jscomp.makeIterator(model.children),\n$jscomp$key$child\x3d$jscomp$inline_1436.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$inline_1436.next())if($jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$key$channel\x3d$jscomp$key$child.component.scales[resolve])$jscomp$key$child.renameScale($jscomp$key$channel.get(\x22name\x22),$jscomp$inline_1433),$jscomp$key$channel.merged\x3d!0;JSCompiler_temp_const.scales\x3dscaleComponents}}function parseUnitScaleCore(model){var encoding\x3dmodel.encoding,mark\x3dmodel.mark;return SCALE_CHANNELS.reduce(function(scaleComponents,\nchannel){var fieldOrDatumDef\x3dgetFieldOrDatumDef(encoding[channel]);if(fieldOrDatumDef\x26\x26mark\x3d\x3d\x3dGEOSHAPE\x26\x26\x22shape\x22\x3d\x3d\x3dchannel\x26\x26\x22geojson\x22\x3d\x3d\x3dfieldOrDatumDef.type)return scaleComponents;var specifiedScale\x3dfieldOrDatumDef\x26\x26fieldOrDatumDef.scale;if(fieldOrDatumDef\x26\x26null!\x3d\x3dspecifiedScale\x26\x26!1!\x3d\x3dspecifiedScale){specifiedScale\x3dnull!\x3d\x3dspecifiedScale\x26\x26void 0!\x3d\x3dspecifiedScale?specifiedScale:{};var specifiedScale$jscomp$0\x3dspecifiedScale;var JSCompiler_inline_result\x3ddefaultType$2(channel,fieldOrDatumDef,mark);specifiedScale$jscomp$0\x3d\nspecifiedScale$jscomp$0.type;if(SCALE_CHANNEL_INDEX[channel]){if(void 0!\x3d\x3dspecifiedScale$jscomp$0)if(channelSupportScaleType(channel,specifiedScale$jscomp$0)){var JSCompiler_temp;if(JSCompiler_temp\x3disFieldDef(fieldOrDatumDef))fieldOrDatumDef\x3dfieldOrDatumDef.type,JSCompiler_temp\x3d!(contains([\x22ordinal\x22,\x22nominal\x22],fieldOrDatumDef)?void 0\x3d\x3d\x3dspecifiedScale$jscomp$0||specifiedScale$jscomp$0 in DISCRETE_DOMAIN_INDEX:\x22temporal\x22\x3d\x3d\x3dfieldOrDatumDef?contains([ScaleType.TIME,ScaleType.UTC,void 0],specifiedScale$jscomp$0):\n\x22quantitative\x22\x3d\x3d\x3dfieldOrDatumDef?contains([ScaleType.LOG,ScaleType.POW,ScaleType.SQRT,ScaleType.SYMLOG,ScaleType.QUANTILE,ScaleType.QUANTIZE,ScaleType.THRESHOLD,ScaleType.LINEAR,void 0],specifiedScale$jscomp$0):1);JSCompiler_temp?warn(\x27FieldDef does not work with \x22\x27+specifiedScale$jscomp$0+\x27\x22 scale. We are using \x22\x27+JSCompiler_inline_result+\x27\x22 scale instead.\x27):JSCompiler_inline_result\x3dspecifiedScale$jscomp$0}else warn(\x27Channel \x22\x27+channel+\x27\x22 does not work with \x22\x27+specifiedScale$jscomp$0+\x27\x22 scale. We are using \x22\x27+\nJSCompiler_inline_result+\x27\x22 scale instead.\x27)}else JSCompiler_inline_result\x3dnull;scaleComponents[channel]\x3dnew ScaleComponent(model.scaleName(channel+\x22\x22,!0),{value:JSCompiler_inline_result,explicit:specifiedScale.type\x3d\x3d\x3dJSCompiler_inline_result})}return scaleComponents},{})}function isUnitModel(model){return\x22unit\x22\x3d\x3d\x3d(null\x3d\x3d\x3dmodel||void 0\x3d\x3d\x3dmodel?void 0:model.type)}function isFacetModel(model){return\x22facet\x22\x3d\x3d\x3d(null\x3d\x3d\x3dmodel||void 0\x3d\x3d\x3dmodel?void 0:model.type)}function isConcatModel(model){return\x22concat\x22\x3d\x3d\x3d\n(null\x3d\x3d\x3dmodel||void 0\x3d\x3d\x3dmodel?void 0:model.type)}function isLayerModel(model){return\x22layer\x22\x3d\x3d\x3d(null\x3d\x3d\x3dmodel||void 0\x3d\x3d\x3dmodel?void 0:model.type)}function makeWalkTree(data){function walkTree(node,dataSource){var _a;node instanceof SourceNode\x26\x26!(node.isGenerator||\x22url\x22in node.data)\x26\x26(data.push(dataSource),dataSource\x3d{name:null,source:dataSource.name,transform:[]});node instanceof ParseNode\x26\x26(node.parent instanceof SourceNode\x26\x26!dataSource.source?(dataSource.format\x3dObject.assign(Object.assign({},null!\x3d\x3d\n(_a\x3ddataSource.format)\x26\x26void 0!\x3d\x3d_a?_a:{}),{parse:node.assembleFormatParse()}),dataSource.transform.push.apply(dataSource.transform,$jscomp.arrayFromIterable(node.assembleTransforms(!0)))):dataSource.transform.push.apply(dataSource.transform,$jscomp.arrayFromIterable(node.assembleTransforms())));if(node instanceof FacetNode)for(dataSource.name||(dataSource.name\x3d\x22data_\x22+datasetIndex++),!dataSource.source||0\x3cdataSource.transform.length?(data.push(dataSource),node.data\x3ddataSource.name):node.data\x3ddataSource.source,\n_a\x3d$jscomp.makeIterator(node.assemble()),node\x3d_a.next();!node.done;node\x3d_a.next())data.push(node.value);else switch((node instanceof GraticuleNode||node instanceof SequenceNode||node instanceof FilterInvalidNode||node instanceof FilterNode||node instanceof CalculateNode||node instanceof GeoPointNode||node instanceof GeoJSONNode||node instanceof AggregateNode||node instanceof LookupNode||node instanceof WindowTransformNode||node instanceof JoinAggregateTransformNode||node instanceof FoldTransformNode||\nnode instanceof FlattenTransformNode||node instanceof DensityTransformNode||node instanceof LoessTransformNode||node instanceof QuantileTransformNode||node instanceof RegressionTransformNode||node instanceof IdentifierNode||node instanceof SampleTransformNode||node instanceof PivotTransformNode)\x26\x26dataSource.transform.push(node.assemble()),(node instanceof BinNode||node instanceof TimeUnitNode||node instanceof ImputeNode||node instanceof StackNode)\x26\x26dataSource.transform.push.apply(dataSource.transform,\n$jscomp.arrayFromIterable(node.assemble())),node instanceof OutputNode\x26\x26(dataSource.source\x26\x260\x3d\x3d\x3ddataSource.transform.length?node.setSource(dataSource.source):node.parent instanceof OutputNode?node.setSource(dataSource.name):(dataSource.name||(dataSource.name\x3d\x22data_\x22+datasetIndex++),node.setSource(dataSource.name),1\x3d\x3d\x3dnode.numChildren()\x26\x26(data.push(dataSource),dataSource\x3d{name:null,source:dataSource.name,transform:[]}))),node.numChildren()){case 0:node instanceof OutputNode\x26\x26(!dataSource.source||0\x3c\ndataSource.transform.length)\x26\x26data.push(dataSource);break;case 1:walkTree(node.children[0],dataSource);break;default:for(dataSource.name||(dataSource.name\x3d\x22data_\x22+datasetIndex++),_a\x3ddataSource.name,!dataSource.source||0\x3cdataSource.transform.length?data.push(dataSource):_a\x3ddataSource.source,node\x3d$jscomp.makeIterator(node.children),dataSource\x3dnode.next();!dataSource.done;dataSource\x3dnode.next())walkTree(dataSource.value,{name:null,source:_a,transform:[]})}}var datasetIndex\x3d0;return walkTree}function assembleFacetData(root){for(var data\x3d\n[],walkTree\x3dmakeWalkTree(data),$jscomp$iter$237\x3d$jscomp.makeIterator(root.children),$jscomp$key$child\x3d$jscomp$iter$237.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$237.next())walkTree($jscomp$key$child.value,{source:root.name,name:null,transform:[]});return data}function assembleRootData(dataComponent,datasets){for(var _a,_b,data\x3d[],walkTree\x3dmakeWalkTree(data),sourceIndex\x3d0,$jscomp$iter$238\x3d$jscomp.makeIterator(dataComponent.sources),$jscomp$key$root\x3d$jscomp$iter$238.next();!$jscomp$key$root.done;$jscomp$key$root\x3d\n$jscomp$iter$238.next()){$jscomp$key$root\x3d$jscomp$key$root.value;$jscomp$key$root.hasName()||($jscomp$key$root.dataName\x3d\x22source_\x22+sourceIndex++);var newData\x3d$jscomp$key$root.assemble();walkTree($jscomp$key$root,newData)}sourceIndex\x3d$jscomp.makeIterator(data);for(walkTree\x3dsourceIndex.next();!walkTree.done;walkTree\x3dsourceIndex.next())walkTree\x3dwalkTree.value,0\x3d\x3d\x3dwalkTree.transform.length\x26\x26delete walkTree.transform;walkTree\x3d0;sourceIndex\x3d$jscomp.makeIterator(data.entries());for($jscomp$iter$238\x3dsourceIndex.next();!$jscomp$iter$238.done;$jscomp$iter$238\x3d\nsourceIndex.next())$jscomp$key$root\x3d$jscomp.makeIterator($jscomp$iter$238.value),$jscomp$iter$238\x3d$jscomp$key$root.next().value,$jscomp$key$root\x3d$jscomp$key$root.next().value,0!\x3d\x3d(null!\x3d\x3d(_a\x3d$jscomp$key$root.transform)\x26\x26void 0!\x3d\x3d_a?_a:[]).length||$jscomp$key$root.source||data.splice(walkTree++,0,data.splice($jscomp$iter$238,1)[0]);_a\x3d$jscomp.makeIterator(data);for(walkTree\x3d_a.next();!walkTree.done;walkTree\x3d_a.next())for(walkTree\x3d$jscomp.makeIterator(null!\x3d\x3d(_b\x3dwalkTree.value.transform)\x26\x26void 0!\x3d\x3d\n_b?_b:[]),sourceIndex\x3dwalkTree.next();!sourceIndex.done;sourceIndex\x3dwalkTree.next())sourceIndex\x3dsourceIndex.value,\x22lookup\x22\x3d\x3d\x3dsourceIndex.type\x26\x26(sourceIndex.from\x3ddataComponent.outputNodes[sourceIndex.from].getSource());dataComponent\x3d$jscomp.makeIterator(data);for(walkTree\x3ddataComponent.next();!walkTree.done;walkTree\x3ddataComponent.next())_b\x3dwalkTree.value,_b.name in datasets\x26\x26(_b.values\x3ddatasets[_b.name]);return data}function makeHeaderComponent(model,channel,labels){channel\x3d\x22row\x22\x3d\x3d\x3dchannel?\x22height\x22:\n\x22width\x22;return{labels:labels,sizeSignal:model.child.component.layoutSize.get(channel)?model.child.getSizeSignalRef(channel):void 0,axes:[]}}function mergeChildAxis(model,channel){var _a,child\x3dmodel.child;if(child.component.axes[channel]){var $jscomp$destructuring$var369\x3dmodel.component,layoutHeaders\x3d$jscomp$destructuring$var369.layoutHeaders;$jscomp$destructuring$var369\x3d$jscomp$destructuring$var369.resolve;$jscomp$destructuring$var369.axis[channel]\x3dparseGuideResolve($jscomp$destructuring$var369,channel);\nif(\x22shared\x22\x3d\x3d\x3d$jscomp$destructuring$var369.axis[channel])for($jscomp$destructuring$var369\x3d\x22x\x22\x3d\x3d\x3dchannel?\x22column\x22:\x22row\x22,layoutHeaders\x3dlayoutHeaders[$jscomp$destructuring$var369],channel\x3d$jscomp.makeIterator(child.component.axes[channel]),child\x3dchannel.next();!child.done;child\x3dchannel.next()){child\x3dchild.value;var JSCompiler_inline_result\x3dchild.get(\x22orient\x22);JSCompiler_inline_result\x3d\x22top\x22\x3d\x3d\x3dJSCompiler_inline_result||\x22left\x22\x3d\x3d\x3dJSCompiler_inline_result||isSignalRef(JSCompiler_inline_result)?\x22header\x22:\x22footer\x22;\nlayoutHeaders[JSCompiler_inline_result]\x3dnull!\x3d\x3d(_a\x3dlayoutHeaders[JSCompiler_inline_result])\x26\x26void 0!\x3d\x3d_a?_a:[makeHeaderComponent(model,$jscomp$destructuring$var369,!1)];var mainAxis\x3dassembleAxis(child,\x22main\x22,model.config,{header:!0});mainAxis\x26\x26layoutHeaders[JSCompiler_inline_result][0].axes.push(mainAxis);child.mainExtracted\x3d!0}}}function parseChildrenLayoutSize(model){model\x3d$jscomp.makeIterator(model.children);for(var $jscomp$key$child\x3dmodel.next();!$jscomp$key$child.done;$jscomp$key$child\x3dmodel.next())$jscomp$key$child.value.parseLayoutSize()}\nfunction parseNonUnitLayoutSizeForChannel(model,layoutSizeType){for(var sizeType\x3dgetSizeTypeFromLayoutSizeType(layoutSizeType),channel\x3dgetPositionScaleChannel(sizeType),resolve\x3dmodel.component.resolve,layoutSizeCmpt\x3dmodel.component.layoutSize,mergedSize,$jscomp$iter$247\x3d$jscomp.makeIterator(model.children),$jscomp$key$child\x3d$jscomp$iter$247.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$247.next()){$jscomp$key$child\x3d$jscomp$key$child.value.component.layoutSize.getWithExplicit(sizeType);\nvar scaleResolve\x3dresolve.scale[channel];if(\x22independent\x22\x3d\x3d\x3dscaleResolve\x26\x26\x22step\x22\x3d\x3d\x3d$jscomp$key$child.value){mergedSize\x3dvoid 0;break}if(mergedSize){if(\x22independent\x22\x3d\x3d\x3dscaleResolve\x26\x26mergedSize.value!\x3d\x3d$jscomp$key$child.value){mergedSize\x3dvoid 0;break}mergedSize\x3dmergeValuesWithExplicit(mergedSize,$jscomp$key$child,sizeType,\x22\x22)}else mergedSize\x3d$jscomp$key$child}if(mergedSize){channel\x3d$jscomp.makeIterator(model.children);for($jscomp$key$child\x3dchannel.next();!$jscomp$key$child.done;$jscomp$key$child\x3dchannel.next())resolve\x3d\n$jscomp$key$child.value,model.renameSignal(resolve.getName(sizeType),model.getName(layoutSizeType)),resolve.component.layoutSize.set(sizeType,\x22merged\x22,!1);layoutSizeCmpt.setWithExplicit(layoutSizeType,mergedSize)}else layoutSizeCmpt.setWithExplicit(layoutSizeType,{explicit:!1,value:void 0})}function defaultUnitSize(model,sizeType){var config\x3dmodel.config,scaleComponent\x3dmodel.getScaleComponent(\x22width\x22\x3d\x3d\x3dsizeType?\x22x\x22:\x22y\x22);if(scaleComponent)return model\x3dscaleComponent.get(\x22type\x22),scaleComponent\x3dscaleComponent.get(\x22range\x22),\nmodel in DISCRETE_DOMAIN_INDEX?(sizeType\x3dgetViewConfigDiscreteSize(config.view,sizeType),isVgRangeStep(scaleComponent)||isStep(sizeType)?\x22step\x22:sizeType):getViewConfigContinuousSize(config.view,sizeType);if(model.hasProjection||\x22arc\x22\x3d\x3d\x3dmodel.mark)return getViewConfigContinuousSize(config.view,sizeType);sizeType\x3dgetViewConfigDiscreteSize(config.view,sizeType);return isStep(sizeType)?sizeType.step:sizeType}function facetSortFieldName(fieldDef,sort,opt){return vgField(sort,Object.assign({suffix:\x22by_\x22+\nvgField(fieldDef)},null!\x3d\x3dopt\x26\x26void 0!\x3d\x3dopt?opt:{}))}function findSource(data,sources){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;sources\x3d$jscomp.makeIterator(sources);for(var $jscomp$key$other\x3dsources.next();!$jscomp$key$other.done;$jscomp$key$other\x3dsources.next()){$jscomp$key$other\x3d$jscomp$key$other.value;var otherData\x3d$jscomp$key$other.data;if(!(data.name\x26\x26$jscomp$key$other.hasName()\x26\x26data.name!\x3d\x3d$jscomp$key$other.dataName||(null\x3d\x3d\x3d(_a\x3ddata.format)||void 0\x3d\x3d\x3d_a?0:_a.mesh)\x26\x26(null\x3d\x3d\x3d(_b\x3dotherData.format)||\nvoid 0\x3d\x3d\x3d_b?0:_b.feature)||((null\x3d\x3d\x3d(_c\x3ddata.format)||void 0\x3d\x3d\x3d_c?0:_c.feature)||(null\x3d\x3d\x3d(_d\x3dotherData.format)||void 0\x3d\x3d\x3d_d?0:_d.feature))\x26\x26(null\x3d\x3d\x3d(_e\x3ddata.format)||void 0\x3d\x3d\x3d_e?void 0:_e.feature)!\x3d\x3d(null\x3d\x3d\x3d(_f\x3dotherData.format)||void 0\x3d\x3d\x3d_f?void 0:_f.feature)||((null\x3d\x3d\x3d(_g\x3ddata.format)||void 0\x3d\x3d\x3d_g?0:_g.mesh)||(null\x3d\x3d\x3d(_h\x3dotherData.format)||void 0\x3d\x3d\x3d_h?0:_h.mesh))\x26\x26(null\x3d\x3d\x3d(_j\x3ddata.format)||void 0\x3d\x3d\x3d_j?void 0:_j.mesh)!\x3d\x3d(null\x3d\x3d\x3d(_k\x3dotherData.format)||void 0\x3d\x3d\x3d_k?void 0:_k.mesh)))if(\x22values\x22in data\x26\x26\n\x22values\x22in otherData){if(deepEqual(data.values,otherData.values))return $jscomp$key$other}else if(\x22url\x22in data\x26\x26\x22url\x22in otherData){if(data.url\x3d\x3d\x3dotherData.url)return $jscomp$key$other}else if(isNamedData(data)\x26\x26data.name\x3d\x3d\x3d$jscomp$key$other.dataName)return $jscomp$key$other}return null}function parseRoot(model,sources){if(model.data||!model.parent){if(null\x3d\x3d\x3dmodel.data)return model\x3dnew SourceNode({values:[]}),sources.push(model),model;var existingSource\x3dfindSource(model.data,sources);if(existingSource)return isGenerator(model.data)||\n(existingSource.data.format\x3dmergeDeep({},model.data.format,existingSource.data.format)),!existingSource.hasName()\x26\x26model.data.name\x26\x26(existingSource.dataName\x3dmodel.data.name),existingSource;model\x3dnew SourceNode(model.data);sources.push(model);return model}return model.parent.component.data.facetRoot?model.parent.component.data.facetRoot:model.parent.component.data.main}function parseData(model){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,head\x3dparseRoot(model,model.component.data.sources),$jscomp$destructuring$var385\x3d\nmodel.component.data,outputNodes\x3d$jscomp$destructuring$var385.outputNodes;$jscomp$destructuring$var385\x3d$jscomp$destructuring$var385.outputNodeRefCounts;var ancestorParse\x3dmodel.parent?model.parent.component.data.ancestorParse.clone():new AncestorParse,data\x3dmodel.data;isGenerator(data)?(\x22sequence\x22in data?head\x3dnew SequenceNode(head,data.sequence):\x22graticule\x22in data\x26\x26(head\x3dnew GraticuleNode(head,data.graticule)),ancestorParse.parseNothing\x3d!0):null\x3d\x3d\x3d(null\x3d\x3d\x3d(_a\x3dnull\x3d\x3d\x3ddata||void 0\x3d\x3d\x3ddata?void 0:data.format)||\nvoid 0\x3d\x3d\x3d_a?void 0:_a.parse)\x26\x26(ancestorParse.parseNothing\x3d!0);head\x3dnull!\x3d\x3d(_b\x3dParseNode.makeExplicit(head,model,ancestorParse))\x26\x26void 0!\x3d\x3d_b?_b:head;head\x3dnew IdentifierNode(head);_a\x3dmodel.parent\x26\x26isLayerModel(model.parent);(isUnitModel(model)||isFacetModel(model))\x26\x26_a\x26\x26(head\x3dnull!\x3d\x3d(_c\x3dBinNode.makeFromEncoding(head,model))\x26\x26void 0!\x3d\x3d_c?_c:head);if(0\x3cmodel.transforms.length){var _a$jscomp$0,_b$jscomp$0;_c\x3d0;_b\x3d$jscomp.makeIterator(model.transforms);for(data\x3d_b.next();!data.done;data\x3d_b.next()){var t\x3d\ndata.value,transformNode\x3ddata\x3dvoid 0;if(\x22calculate\x22in t)transformNode\x3dhead\x3dnew CalculateNode(head,t),data\x3d\x22derived\x22;else if(\x22filter\x22in t)transformNode\x3dgetImplicitFromFilterTransform(t),transformNode\x3dhead\x3dnull!\x3d\x3d(_a$jscomp$0\x3dParseNode.makeWithAncestors(head,{},transformNode,ancestorParse))\x26\x26void 0!\x3d\x3d_a$jscomp$0?_a$jscomp$0:head,head\x3dnew FilterNode(head,model,t.filter);else if(\x22bin\x22in t)transformNode\x3dhead\x3dBinNode.makeFromTransform(head,t,model),data\x3d\x22number\x22;else if(\x22timeUnit\x22in t)data\x3d\x22date\x22,void 0\x3d\x3d\x3d\nancestorParse.getWithExplicit(t.field).value\x26\x26(transformNode\x3d{},head\x3dnew ParseNode(head,(transformNode[t.field]\x3ddata,transformNode)),ancestorParse.set(t.field,data,!1)),transformNode\x3dhead\x3dTimeUnitNode.makeFromTransform(head,t);else if(\x22aggregate\x22in t)transformNode\x3dhead\x3dAggregateNode.makeFromTransform(head,t),data\x3d\x22number\x22,requiresSelectionId(model)\x26\x26(head\x3dnew IdentifierNode(head));else if(\x22lookup\x22in t)transformNode\x3dhead\x3dLookupNode.make(head,model,t,_c++),data\x3d\x22derived\x22;else if(\x22window\x22in t)transformNode\x3d\nhead\x3dnew WindowTransformNode(head,t),data\x3d\x22number\x22;else if(\x22joinaggregate\x22in t)transformNode\x3dhead\x3dnew JoinAggregateTransformNode(head,t),data\x3d\x22number\x22;else if(\x22stack\x22in t)transformNode\x3dhead\x3dStackNode.makeFromTransform(head,t),data\x3d\x22derived\x22;else if(\x22fold\x22in t)transformNode\x3dhead\x3dnew FoldTransformNode(head,t),data\x3d\x22derived\x22;else if(\x22flatten\x22in t)transformNode\x3dhead\x3dnew FlattenTransformNode(head,t),data\x3d\x22derived\x22;else if(\x22pivot\x22in t)transformNode\x3dhead\x3dnew PivotTransformNode(head,t),data\x3d\x22derived\x22;else if(\x22sample\x22in\nt)head\x3dnew SampleTransformNode(head,t);else if(\x22impute\x22in t)transformNode\x3dhead\x3dImputeNode.makeFromTransform(head,t),data\x3d\x22derived\x22;else if(\x22density\x22in t)transformNode\x3dhead\x3dnew DensityTransformNode(head,t),data\x3d\x22derived\x22;else if(\x22quantile\x22in t)transformNode\x3dhead\x3dnew QuantileTransformNode(head,t),data\x3d\x22derived\x22;else if(\x22regression\x22in t)transformNode\x3dhead\x3dnew RegressionTransformNode(head,t),data\x3d\x22derived\x22;else if(\x22loess\x22in t)transformNode\x3dhead\x3dnew LoessTransformNode(head,t),data\x3d\x22derived\x22;else{warn(\x22Ignoring an invalid transform: \x22+\nstringify(t)+\x22.\x22);continue}if(transformNode\x26\x26void 0!\x3d\x3ddata)for(t\x3d$jscomp.makeIterator(null!\x3d\x3d(_b$jscomp$0\x3dtransformNode.producedFields())\x26\x26void 0!\x3d\x3d_b$jscomp$0?_b$jscomp$0:[]),transformNode\x3dt.next();!transformNode.done;transformNode\x3dt.next())ancestorParse.set(transformNode.value,data,!1)}}_a$jscomp$0\x3d{};if(isUnitModel(model)\x26\x26model.component.selection)for(_b$jscomp$0\x3d$jscomp.makeIterator(keys(model.component.selection)),_c\x3d_b$jscomp$0.next();!_c.done;_c\x3d_b$jscomp$0.next())for(_c\x3d$jscomp.makeIterator(model.component.selection[_c.value].project.items),\n_b\x3d_c.next();!_b.done;_b\x3d_c.next())_b\x3d_b.value,!_b.channel\x26\x261\x3caccessPathDepth(_b.field)\x26\x26(_a$jscomp$0[_b.field]\x3d\x22flatten\x22);_b$jscomp$0\x3dgetImplicitFromEncoding(model);head\x3dnull!\x3d\x3d(_d\x3dParseNode.makeWithAncestors(head,{},Object.assign(Object.assign({},_a$jscomp$0),_b$jscomp$0),ancestorParse))\x26\x26void 0!\x3d\x3d_d?_d:head;isUnitModel(model)\x26\x26(head\x3dGeoJSONNode.parseAll(head,model),head\x3dGeoPointNode.parseAll(head,model));if(isUnitModel(model)||isFacetModel(model))_a||(head\x3dnull!\x3d\x3d(_e\x3dBinNode.makeFromEncoding(head,\nmodel))\x26\x26void 0!\x3d\x3d_e?_e:head),head\x3dnull!\x3d\x3d(_f\x3dTimeUnitNode.makeFromEncoding(head,model))\x26\x26void 0!\x3d\x3d_f?_f:head,head\x3dCalculateNode.parseAllForSortIndex(head,model);_e\x3dmodel.getDataName(DataSourceType.Raw);_d\x3dnew OutputNode(head,_e,DataSourceType.Raw,$jscomp$destructuring$var385);head\x3doutputNodes[_e]\x3d_d;if(isUnitModel(model)){if(_e\x3dAggregateNode.makeFromEncoding(head,model))head\x3d_e,requiresSelectionId(model)\x26\x26(head\x3dnew IdentifierNode(head));head\x3dnull!\x3d\x3d(_g\x3dImputeNode.makeFromEncoding(head,model))\x26\x26void 0!\x3d\x3d\n_g?_g:head;head\x3dnull!\x3d\x3d(_h\x3dStackNode.makeFromEncoding(head,model))\x26\x26void 0!\x3d\x3d_h?_h:head}isUnitModel(model)\x26\x26(head\x3dnull!\x3d\x3d(_j\x3dFilterInvalidNode.make(head,model))\x26\x26void 0!\x3d\x3d_j?_j:head);_h\x3dmodel.getDataName(DataSourceType.Main);_g\x3dnew OutputNode(head,_h,DataSourceType.Main,$jscomp$destructuring$var385);head\x3doutputNodes[_h]\x3d_g;isUnitModel(model)\x26\x26materializeSelections(model,_g);_j\x3dnull;if(isFacetModel(model)){_h\x3dmodel.getName(\x22facet\x22);_j\x3dhead;_e\x3dmodel.facet;_f\x3d_e.row;_a\x3d_e.column;if(_f\x26\x26_a){_e\x3dnull;_f\x3d\n$jscomp.makeIterator([_f,_a]);for(_a\x3d_f.next();!_a.done;_a\x3d_f.next())_a\x3d_a.value,isSortField(_a.sort)\x26\x26(_e\x3d_a.sort,_j\x3d_e\x3dnew JoinAggregateTransformNode(_j,{joinaggregate:[{op:void 0\x3d\x3d\x3d_e.op?\x22min\x22:_e.op,field:_e.field,as:facetSortFieldName(_a,_a.sort,{forAs:!0})}],groupby:[vgField(_a)]}));_j\x3d_e}else _j\x3dnull;head\x3dnull!\x3d\x3d(_k\x3d_j)\x26\x26void 0!\x3d\x3d_k?_k:head;_j\x3dnew FacetNode(head,model,_h,_g.getSource());outputNodes[_h]\x3d_j}return Object.assign(Object.assign({},model.component.data),{outputNodes:outputNodes,outputNodeRefCounts:$jscomp$destructuring$var385,\nraw:_d,main:_g,facetRoot:_j,ancestorParse:ancestorParse})}function parseUnitAxes(model){return POSITION_SCALE_CHANNELS.reduce(function(axis,channel){model.component.scales[channel]\x26\x26(axis[channel]\x3d[parseAxis(channel,model)]);return axis},{})}function mergeAxisComponents(mergedAxisCmpts,childAxisCmpts){if(mergedAxisCmpts){if(mergedAxisCmpts.length!\x3d\x3dchildAxisCmpts.length)return;for(var length$468\x3dmergedAxisCmpts.length,i\x3d0;i\x3clength$468;i++){var merged\x3dmergedAxisCmpts[i],child\x3dchildAxisCmpts[i];if(!!merged!\x3d\x3d\n!!child)return;if(merged\x26\x26child){var mergedOrient\x3dmerged.getWithExplicit(\x22orient\x22),childOrient\x3dchild.getWithExplicit(\x22orient\x22);if(mergedOrient.explicit\x26\x26childOrient.explicit\x26\x26mergedOrient.value!\x3d\x3dchildOrient.value)return;mergedAxisCmpts[i]\x3dmergeAxisComponent(merged,child)}}}else return childAxisCmpts.map(function(axisComponent){return axisComponent.clone()});return mergedAxisCmpts}function mergeAxisComponent(merged,child){for(var $jscomp$loop$623\x3d{},$jscomp$iter$271\x3d$jscomp.makeIterator(AXIS_COMPONENT_PROPERTIES),\n$jscomp$key$prop\x3d$jscomp$iter$271.next();!$jscomp$key$prop.done;$jscomp$loop$623\x3d{$jscomp$loop$prop$prop$624:$jscomp$loop$623.$jscomp$loop$prop$prop$624},$jscomp$key$prop\x3d$jscomp$iter$271.next())$jscomp$loop$623.$jscomp$loop$prop$prop$624\x3d$jscomp$key$prop.value,$jscomp$key$prop\x3dmergeValuesWithExplicit(merged.getWithExplicit($jscomp$loop$623.$jscomp$loop$prop$prop$624),child.getWithExplicit($jscomp$loop$623.$jscomp$loop$prop$prop$624),$jscomp$loop$623.$jscomp$loop$prop$prop$624,\x22axis\x22,function($jscomp$loop$623){return function(v1,\nv2){switch($jscomp$loop$623.$jscomp$loop$prop$prop$624){case \x22title\x22:return mergeTitleComponent(v1,v2);case \x22gridScale\x22:return{explicit:v1.explicit,value:getFirstDefined(v1.value,v2.value)}}return defaultTieBreaker(v1,v2,$jscomp$loop$623.$jscomp$loop$prop$prop$624,\x22axis\x22)}}($jscomp$loop$623)),merged.setWithExplicit($jscomp$loop$623.$jscomp$loop$prop$prop$624,$jscomp$key$prop);return merged}function isExplicit$1(value,property,axis,model,channel){if(\x22disable\x22\x3d\x3d\x3dproperty)return void 0!\x3d\x3daxis;axis\x3daxis||\n{};switch(property){case \x22titleAngle\x22:case \x22labelAngle\x22:return value\x3d\x3d\x3d(isSignalRef(axis.labelAngle)?axis.labelAngle:normalizeAngle(axis.labelAngle));case \x22values\x22:return!!axis.values;case \x22encode\x22:return!!axis.encoding||!!axis.labelAngle;case \x22title\x22:if(value\x3d\x3d\x3dgetFieldDefTitle(model,channel))return!0}return value\x3d\x3d\x3daxis[property]}function parseAxis(channel,model){var _a$jscomp$1,_b,_c,axis\x3dmodel.axis(channel),axisComponent\x3dnew AxisComponent,fieldOrDatumDef\x3dgetFieldOrDatumDef(model.encoding[channel]),\nmark\x3dmodel.mark,config\x3dmodel.config,orient\x3d(null\x3d\x3d\x3daxis||void 0\x3d\x3d\x3daxis?void 0:axis.orient)||(null\x3d\x3d\x3d(_a$jscomp$1\x3dconfig[\x22x\x22\x3d\x3d\x3dchannel?\x22axisX\x22:\x22axisY\x22])||void 0\x3d\x3d\x3d_a$jscomp$1?void 0:_a$jscomp$1.orient)||(null\x3d\x3d\x3d(_b\x3dconfig.axis)||void 0\x3d\x3d\x3d_b?void 0:_b.orient)||(\x22x\x22\x3d\x3d\x3dchannel?\x22bottom\x22:\x22left\x22);_b\x3dmodel.getScaleComponent(channel).get(\x22type\x22);_a$jscomp$1\x3dgetAxisConfigs(channel,_b,orient,model.config);var disable\x3dvoid 0!\x3d\x3daxis?!axis:getAxisConfig(\x22disable\x22,config.style,null\x3d\x3d\x3daxis||void 0\x3d\x3d\x3daxis?void 0:\naxis.style,_a$jscomp$1).configValue;axisComponent.set(\x22disable\x22,disable,void 0!\x3d\x3daxis);if(disable)return axisComponent;axis\x3daxis||{};disable\x3dgetLabelAngle(fieldOrDatumDef,axis,channel,config.style,_a$jscomp$1);fieldOrDatumDef\x3d{fieldOrDatumDef:fieldOrDatumDef,axis:axis,channel:channel,model:model,scaleType:_b,orient:orient,labelAngle:disable,mark:mark,config:config};mark\x3d$jscomp.makeIterator(AXIS_COMPONENT_PROPERTIES);for(orient\x3dmark.next();!orient.done;orient\x3dmark.next()){orient\x3dorient.value;_b\x3dorient in\naxisRules?axisRules[orient](fieldOrDatumDef):AXIS_PROPERTIES_INDEX[orient]?axis[orient]:void 0;disable\x3dvoid 0!\x3d\x3d_b;var explicit\x3disExplicit$1(_b,orient,axis,model,channel);if(disable\x26\x26explicit)axisComponent.set(orient,_b,explicit);else{var $jscomp$destructuring$var391\x3dAXIS_PROPERTIES_INDEX[orient]\x26\x26\x22values\x22!\x3d\x3dorient?getAxisConfig(orient,config.style,axis.style,_a$jscomp$1):{},configValue\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var391.configValue?void 0:$jscomp$destructuring$var391.configValue;$jscomp$destructuring$var391\x3d\nvoid 0\x3d\x3d\x3d$jscomp$destructuring$var391.configFrom?void 0:$jscomp$destructuring$var391.configFrom;var hasConfigValue\x3dvoid 0!\x3d\x3dconfigValue;disable\x26\x26!hasConfigValue?axisComponent.set(orient,_b,explicit):(\x22vgAxisConfig\x22!\x3d\x3d$jscomp$destructuring$var391||propsToAlwaysIncludeConfig.has(orient)\x26\x26hasConfigValue||isConditionalAxisValue(configValue)||isSignalRef(configValue))\x26\x26axisComponent.set(orient,configValue,!1)}}var axisEncoding\x3dnull!\x3d\x3d(_c\x3daxis.encoding)\x26\x26void 0!\x3d\x3d_c?_c:{};_c\x3dAXIS_PARTS.reduce(function(e,\npart){var _a;if(!axisComponent.hasAxisPart(part))return e;var axisEncodingPart\x3dguideEncodeEntry(null!\x3d\x3d(_a\x3daxisEncoding[part])\x26\x26void 0!\x3d\x3d_a?_a:{},model);if(\x22labels\x22\x3d\x3d\x3dpart){var _a$jscomp$0,encoding\x3dmodel.encoding;_a\x3dmodel.config;encoding\x3dnull!\x3d\x3d(_a$jscomp$0\x3dgetFieldOrDatumDef(encoding[channel]))\x26\x26void 0!\x3d\x3d_a$jscomp$0?_a$jscomp$0:getFieldOrDatumDef(encoding[getSecondaryRangeChannel(channel)]);var $jscomp$inline_1509\x3dmodel.axis(channel)||{};_a$jscomp$0\x3d$jscomp$inline_1509.format;$jscomp$inline_1509\x3d\n$jscomp$inline_1509.formatType;axisEncodingPart\x3disCustomFormatType($jscomp$inline_1509)?Object.assign({text:formatCustomType({fieldOrDatumDef:encoding,field:\x22datum.value\x22,format:_a$jscomp$0,formatType:$jscomp$inline_1509,config:_a})},axisEncodingPart):axisEncodingPart}void 0\x3d\x3d\x3daxisEncodingPart||isEmpty(axisEncodingPart)||(e[part]\x3d{update:axisEncodingPart});return e},{});isEmpty(_c)||axisComponent.set(\x22encode\x22,_c,!!axis.encoding||void 0!\x3d\x3daxis.labelAngle);return axisComponent}function orient(mark,\nencoding,specifiedOrient){switch(mark){case POINT:case CIRCLE:case SQUARE:case TEXT:case RECT:case IMAGE:return}var x\x3dencoding.x,y\x3dencoding.y,x2\x3dencoding.x2;encoding\x3dencoding.y2;switch(mark){case BAR:if(isFieldDef(x)\x26\x26(isBinned(x.bin)||isFieldDef(y)\x26\x26y.aggregate\x26\x26!x.aggregate))break;if(isFieldDef(y)\x26\x26(isBinned(y.bin)||isFieldDef(x)\x26\x26x.aggregate\x26\x26!y.aggregate))return\x22horizontal\x22;if(encoding||x2){if(specifiedOrient)return specifiedOrient;if(!x2\x26\x26(isFieldDef(x)\x26\x26\x22quantitative\x22\x3d\x3d\x3dx.type\x26\x26!isBinning(x.bin)||\nisNumericDataDef(x)))return\x22horizontal\x22;if(!encoding\x26\x26(isFieldDef(y)\x26\x26\x22quantitative\x22\x3d\x3d\x3dy.type\x26\x26!isBinning(y.bin)||isNumericDataDef(y)))break}case RULE:if(!(!x2||isFieldDef(x)\x26\x26isBinned(x.bin)||!encoding||isFieldDef(y)\x26\x26isBinned(y.bin)))return;case AREA:if(encoding){if(isFieldDef(y)\x26\x26isBinned(y.bin))return\x22horizontal\x22;break}else if(x2)if(isFieldDef(x)\x26\x26isBinned(x.bin))break;else return\x22horizontal\x22;else if(mark\x3d\x3d\x3dRULE)if(x\x26\x26!y)break;else if(y\x26\x26!x)return\x22horizontal\x22;case LINE:case TICK:x2\x3disContinuousFieldOrDatumDef(x);\nencoding\x3disContinuousFieldOrDatumDef(y);if(x2\x26\x26!encoding)return\x22tick\x22!\x3d\x3dmark?\x22horizontal\x22:\x22vertical\x22;if(!x2\x26\x26encoding)return\x22tick\x22!\x3d\x3dmark?\x22vertical\x22:\x22horizontal\x22;if(x2\x26\x26encoding){x2\x3d\x22temporal\x22\x3d\x3d\x3dx.type;encoding\x3d\x22temporal\x22\x3d\x3d\x3dy.type;if(x2\x26\x26!encoding)return\x22tick\x22!\x3d\x3dmark?\x22vertical\x22:\x22horizontal\x22;if(!x2\x26\x26encoding)return\x22tick\x22!\x3d\x3dmark?\x22horizontal\x22:\x22vertical\x22;if(!x.aggregate\x26\x26y.aggregate)return\x22tick\x22!\x3d\x3dmark?\x22vertical\x22:\x22horizontal\x22;if(x.aggregate\x26\x26!y.aggregate)return\x22tick\x22!\x3d\x3dmark?\x22horizontal\x22:\x22vertical\x22;if(specifiedOrient)return specifiedOrient}else{if(specifiedOrient)return specifiedOrient;\nreturn}}return\x22vertical\x22}function encodeEntry(model,fixedShape){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,size:\x22include\x22,orient:\x22ignore\x22,theta:\x22ignore\x22})),pointPosition(\x22x\x22,model,{defaultPos:\x22mid\x22})),pointPosition(\x22y\x22,model,{defaultPos:\x22mid\x22})),nonPosition(\x22size\x22,model)),nonPosition(\x22angle\x22,model)),fixedShape?{shape:{value:fixedShape}}:nonPosition(\x22shape\x22,model))}function align(markDef,\nencoding,config){if(void 0\x3d\x3d\x3dgetMarkPropOrConfig(\x22align\x22,markDef,config))return\x22center\x22}function baseline(markDef,encoding,config){if(void 0\x3d\x3d\x3dgetMarkPropOrConfig(\x22baseline\x22,markDef,config))return\x22middle\x22}function defaultSize(model){var _a,config\x3dmodel.config,markDef\x3dmodel.markDef,orient\x3dmarkDef.orient,vgSizeChannel\x3d\x22horizontal\x22\x3d\x3d\x3dorient?\x22width\x22:\x22height\x22;model\x3dmodel.getScaleComponent(\x22horizontal\x22\x3d\x3d\x3dorient?\x22x\x22:\x22y\x22);markDef\x3dnull!\x3d\x3d(_a\x3dgetMarkPropOrConfig(\x22size\x22,markDef,config,{vgChannel:vgSizeChannel}))\x26\x26\nvoid 0!\x3d\x3d_a?_a:config.tick.bandSize;return void 0!\x3d\x3dmarkDef?markDef:(_a\x3dmodel?model.get(\x22range\x22):void 0)\x26\x26isVgRangeStep(_a)\x26\x26isNumber(_a.step)?3*_a.step/4:3*getViewConfigDiscreteStep(config.view,vgSizeChannel)/4}function parseMarkGroups(model){if(contains([LINE,AREA,TRAIL],model.mark)){var details\x3dpathGroupingFields(model.mark,model.encoding);if(0\x3cdetails.length)return getPathGroups(model,details)}else if(contains([BAR],model.mark)\x26\x26(details\x3dVG_CORNERRADIUS_CHANNELS.some(function(prop){return getMarkPropOrConfig(prop,\nmodel.markDef,model.config)}),model.stack\x26\x26!model.fieldDef(\x22size\x22)\x26\x26details))return getGroupsForStackedBarWithCornerRadius(model);return getMarkGroup(model)}function getPathGroups(model,details){return[{name:model.getName(\x22pathgroup\x22),type:\x22group\x22,from:{facet:{name:\x22faceted_path_\x22+model.requestDataName(DataSourceType.Main),data:model.requestDataName(DataSourceType.Main),groupby:details}},encode:{update:{width:{field:{group:\x22width\x22}},height:{field:{group:\x22height\x22}}}},marks:getMarkGroup(model,{fromPrefix:\x22faceted_path_\x22})}]}\nfunction getGroupsForStackedBarWithCornerRadius(model){var mark\x3d$jscomp.makeIterator(getMarkGroup(model,{fromPrefix:\x22stack_group_\x22})).next().value,fieldScale\x3dmodel.scaleName(model.stack.fieldChannel),stackField\x3dfunction(opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;return model.vgField(model.stack.fieldChannel,opt)},stackFieldGroup\x3dfunction(func,expr){expr\x3d[stackField({prefix:\x22min\x22,suffix:\x22start\x22,expr:expr}),stackField({prefix:\x22max\x22,suffix:\x22start\x22,expr:expr}),stackField({prefix:\x22min\x22,suffix:\x22end\x22,expr:expr}),stackField({prefix:\x22max\x22,\nsuffix:\x22end\x22,expr:expr})];return func+\x22(\x22+expr.map(function(field){return\x22scale(\x27\x22+fieldScale+\x22\x27,\x22+field+\x22)\x22}).join(\x22,\x22)+\x22)\x22};if(\x22x\x22\x3d\x3d\x3dmodel.stack.fieldChannel){stackFieldGroup\x3dObject.assign(Object.assign({},pick(mark.encode.update,[\x22y\x22,\x22yc\x22,\x22y2\x22,\x22height\x22].concat($jscomp.arrayFromIterable(VG_CORNERRADIUS_CHANNELS)))),{x:{signal:stackFieldGroup(\x22min\x22,\x22datum\x22)},x2:{signal:stackFieldGroup(\x22max\x22,\x22datum\x22)},clip:{value:!0}});var innerGroupUpdate\x3d{x:{field:{group:\x22x\x22},mult:-1},height:{field:{group:\x22height\x22}}};\nmark.encode.update\x3dObject.assign(Object.assign({},omit(mark.encode.update,[\x22y\x22,\x22yc\x22,\x22y2\x22])),{height:{field:{group:\x22height\x22}}})}else stackFieldGroup\x3dObject.assign(Object.assign({},pick(mark.encode.update,[\x22x\x22,\x22xc\x22,\x22x2\x22,\x22width\x22])),{y:{signal:stackFieldGroup(\x22min\x22,\x22datum\x22)},y2:{signal:stackFieldGroup(\x22max\x22,\x22datum\x22)},clip:{value:!0}}),innerGroupUpdate\x3d{y:{field:{group:\x22y\x22},mult:-1},width:{field:{group:\x22width\x22}}},mark.encode.update\x3dObject.assign(Object.assign({},omit(mark.encode.update,[\x22x\x22,\x22xc\x22,\x22x2\x22])),\n{width:{field:{group:\x22width\x22}}});for(var $jscomp$iter$275\x3d$jscomp.makeIterator(VG_CORNERRADIUS_CHANNELS),$jscomp$key$key\x3d$jscomp$iter$275.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$275.next()){$jscomp$key$key\x3d$jscomp$key$key.value;var configValue\x3dgetMarkConfig($jscomp$key$key,model.markDef,model.config);mark.encode.update[$jscomp$key$key]?(stackFieldGroup[$jscomp$key$key]\x3dmark.encode.update[$jscomp$key$key],delete mark.encode.update[$jscomp$key$key]):configValue\x26\x26(stackFieldGroup[$jscomp$key$key]\x3d\nsignalOrValueRef(configValue));configValue\x26\x26(mark.encode.update[$jscomp$key$key]\x3d{value:0})}$jscomp$iter$275\x3dmodel.fieldDef(model.stack.groupbyChannel);$jscomp$key$key\x3dvgField($jscomp$iter$275)?[vgField($jscomp$iter$275)]:[];((null\x3d\x3d\x3d$jscomp$iter$275||void 0\x3d\x3d\x3d$jscomp$iter$275?0:$jscomp$iter$275.bin)||(null\x3d\x3d\x3d$jscomp$iter$275||void 0\x3d\x3d\x3d$jscomp$iter$275?0:$jscomp$iter$275.timeUnit))\x26\x26$jscomp$key$key.push(vgField($jscomp$iter$275,{binSuffix:\x22end\x22}));stackFieldGroup\x3d\x22stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity\x22.split(\x22 \x22).reduce(function(encode,\nprop){if(mark.encode.update[prop]){var $jscomp$compprop37\x3d{};return Object.assign(Object.assign({},encode),($jscomp$compprop37[prop]\x3dmark.encode.update[prop],$jscomp$compprop37))}$jscomp$compprop37\x3dgetMarkConfig(prop,model.markDef,model.config);if(void 0!\x3d\x3d$jscomp$compprop37){var $jscomp$compprop38\x3d{};return Object.assign(Object.assign({},encode),($jscomp$compprop38[prop]\x3dsignalOrValueRef($jscomp$compprop37),$jscomp$compprop38))}return encode},stackFieldGroup);stackFieldGroup.stroke\x26\x26(stackFieldGroup.strokeForeground\x3d\n{value:!0},stackFieldGroup.strokeOffset\x3d{value:0});return[{type:\x22group\x22,from:{facet:{data:model.requestDataName(DataSourceType.Main),name:\x22stack_group_\x22+model.requestDataName(DataSourceType.Main),groupby:$jscomp$key$key,aggregate:{fields:[stackField({suffix:\x22start\x22}),stackField({suffix:\x22start\x22}),stackField({suffix:\x22end\x22}),stackField({suffix:\x22end\x22})],ops:[\x22min\x22,\x22max\x22,\x22min\x22,\x22max\x22]}}},encode:{update:stackFieldGroup},marks:[{type:\x22group\x22,encode:{update:innerGroupUpdate},marks:[mark]}]}]}function getSort$1(model){var encoding\x3d\nmodel.encoding,stack\x3dmodel.stack,mark\x3dmodel.mark,markDef\x3dmodel.markDef,config\x3dmodel.config,order\x3dencoding.order;if(!(!isArray(order)\x26\x26isValueDef(order)\x26\x26isNullOrFalse(order.value)||!order\x26\x26isNullOrFalse(getMarkPropOrConfig(\x22order\x22,markDef,config)))){if((isArray(order)||isFieldDef(order))\x26\x26!stack)return sortParams(order,{expr:\x22datum\x22});if(isPathMark(mark)\x26\x26(stack\x3d\x22horizontal\x22\x3d\x3d\x3dmarkDef.orient?\x22y\x22:\x22x\x22,mark\x3dencoding[stack],isFieldDef(mark))){encoding\x3dmark.sort;if(isArray(encoding))return{field:vgField(mark,\n{prefix:stack,suffix:\x22sort_index\x22,expr:\x22datum\x22})};if(isSortField(encoding))return{field:vgField({aggregate:isAggregate(model.encoding)?encoding.op:void 0,field:encoding.field},{expr:\x22datum\x22})};if(encoding\x26\x26encoding.encoding)return model\x3dmodel.fieldDef(encoding.encoding),{field:vgField(model,{expr:\x22datum\x22}),order:encoding.order};if(null!\x3d\x3dencoding)return{field:vgField(mark,{binSuffix:model.stack\x26\x26model.stack.impute?\x22mid\x22:void 0,expr:\x22datum\x22})}}}}function getMarkGroup(model,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{fromPrefix:\x22\x22}:\nopt;var mark\x3dmodel.mark,markDef\x3dmodel.markDef,encoding\x3dmodel.encoding,config\x3dmodel.config,JSCompiler_temp_const\x3dmarkDef.clip;var JSCompiler_inline_result\x3dmodel.getScaleComponent(\x22x\x22);var yScale\x3dmodel.getScaleComponent(\x22y\x22);JSCompiler_inline_result\x3dJSCompiler_inline_result\x26\x26JSCompiler_inline_result.get(\x22selectionExtent\x22)||yScale\x26\x26yScale.get(\x22selectionExtent\x22)?!0:void 0;yScale\x3dmodel.component.projection;JSCompiler_temp_const\x3dgetFirstDefined(JSCompiler_temp_const,JSCompiler_inline_result,yScale\x26\x26!yScale.isFit?\n!0:void 0);JSCompiler_inline_result\x3dgetStyles(markDef);encoding\x3dencoding.key;yScale\x3dgetSort$1(model);var JSCompiler_inline_result$jscomp$0;if(model.component.selection){for(var parentCount\x3dJSCompiler_inline_result$jscomp$0\x3dkeys(model.component.selection).length,parent\x3dmodel.parent;parent\x26\x260\x3d\x3d\x3dparentCount;)parentCount\x3dkeys(parent.component.selection).length,parent\x3dparent.parent;JSCompiler_inline_result$jscomp$0\x3dparentCount?{interactive:0\x3cJSCompiler_inline_result$jscomp$0||!!model.encoding.tooltip}:\nnull}else JSCompiler_inline_result$jscomp$0\x3dnull;markDef\x3dgetMarkPropOrConfig(\x22aria\x22,markDef,config);config\x3dmarkCompiler[mark].postEncodingTransform?markCompiler[mark].postEncodingTransform(model):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:model.getName(\x22marks\x22),type:markCompiler[mark].vgMark},JSCompiler_temp_const?{clip:!0}:{}),JSCompiler_inline_result?{style:JSCompiler_inline_result}:{}),encoding?{key:encoding.field}:\n{}),yScale?{sort:yScale}:{}),JSCompiler_inline_result$jscomp$0?JSCompiler_inline_result$jscomp$0:{}),!1\x3d\x3d\x3dmarkDef?{aria:markDef}:{}),{from:{data:opt.fromPrefix+model.requestDataName(DataSourceType.Main)},encode:{update:markCompiler[mark].encodeEntry(model)}}),config?{transform:config}:{})]}function buildModel(spec,parent,parentGivenName,unitSize,config){if(\x22facet\x22in spec)return new FacetModel(spec,parent,parentGivenName,config);if(\x22layer\x22in spec)return new LayerModel(spec,parent,parentGivenName,unitSize,\nconfig);if(isUnitSpec(spec))return new UnitModel(spec,parent,parentGivenName,unitSize,config);if(\x22vconcat\x22in spec||\x22hconcat\x22in spec||\x22concat\x22in spec)return new ConcatModel(spec,parent,parentGivenName,config);throw Error(invalidSpec(spec));}function assembleTopLevelModel(model,topLevelProperties,datasets,usermeta){datasets\x3dvoid 0\x3d\x3d\x3ddatasets?{}:datasets;var vgConfig\x3dmodel.config?stripAndRedirectConfig(model.config):void 0;datasets\x3d[].concat(model.assembleSelectionData([]),assembleRootData(model.component.data,\ndatasets));var projections\x3dmodel.assembleProjections(),title\x3dmodel.assembleTitle(),style\x3dmodel.assembleGroupStyle(),encodeEntry\x3dmodel.assembleGroupEncodeEntry(!0),layoutSignals\x3dmodel.assembleLayoutSignals();layoutSignals\x3dlayoutSignals.filter(function(signal){return\x22width\x22!\x3d\x3dsignal.name\x26\x26\x22height\x22!\x3d\x3dsignal.name||void 0\x3d\x3d\x3dsignal.value?!0:(topLevelProperties[signal.name]\x3d+signal.value,!1)});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:\x22https://vega.github.io/schema/vega/v5.json\x22},\nmodel.description?{description:model.description}:{}),topLevelProperties),title?{title:title}:{}),style?{style:style}:{}),encodeEntry?{encode:{update:encodeEntry}}:{}),{data:datasets}),0\x3cprojections.length?{projections:projections}:{}),model.assembleGroup([].concat($jscomp.arrayFromIterable(layoutSignals),$jscomp.arrayFromIterable(model.assembleSelectionTopLevelSignals([]))))),vgConfig?{config:vgConfig}:{}),usermeta?{usermeta:usermeta}:{})}var get1\x3dfunction(field){return function(obj){return obj[field]}},\ngetN\x3dfunction(path){var len\x3dpath.length;return function(obj){for(var i\x3d0;i\x3clen;++i)obj\x3dobj[path[i]];return obj}};(function(field,name,opt){var path\x3dsplitAccessPath(field);field\x3d1\x3d\x3d\x3dpath.length?path[0]:field;return accessor((opt\x26\x26opt.get||getter)(path),[field],name||field)})(\x22id\x22);var identity\x3daccessor(function(_){return _},[],\x22identity\x22);accessor(function(){return 0},[],\x22zero\x22);accessor(function(){return 1},[],\x22one\x22);accessor(function(){return!0},[],\x22true\x22);accessor(function(){return!1},[],\x22false\x22);\nvar isArray\x3dArray.isArray,hop\x3dObject.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,\x22flat\x22,{configurable:!0,value:function r(JSCompiler_OptimizeArgumentsArray_p0){var t\x3disNaN(JSCompiler_OptimizeArgumentsArray_p0)?1:Number(JSCompiler_OptimizeArgumentsArray_p0);return t?Array.prototype.reduce.call(this,function(a,e){return Array.isArray(e)?a.push.apply(a,r.call(e,t-1)):a.push(e),a},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,\n\x22flatMap\x22,{configurable:!0,value:function(r){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var fastJsonStableStringify\x3dfunction(data,opts){opts||(opts\x3d{});\x22function\x22\x3d\x3d\x3dtypeof opts\x26\x26(opts\x3d{cmp:opts});var cycles\x3d\x22boolean\x22\x3d\x3d\x3dtypeof opts.cycles?opts.cycles:!1,cmp\x3dopts.cmp\x26\x26function(f){return function(node){return function(a,b){return f({key:a,value:node[a]},{key:b,value:node[b]})}}}(opts.cmp),seen\x3d[];return function stringify(node){node\x26\x26node.toJSON\x26\x26\x22function\x22\x3d\x3d\x3dtypeof node.toJSON\x26\x26\n(node\x3dnode.toJSON());if(void 0!\x3d\x3dnode){if(\x22number\x22\x3d\x3dtypeof node)return isFinite(node)?\x22\x22+node:\x22null\x22;if(\x22object\x22!\x3d\x3dtypeof node)return JSON.stringify(node);var i;if(Array.isArray(node)){var out\x3d\x22[\x22;for(i\x3d0;i\x3cnode.length;i++)i\x26\x26(out+\x3d\x22,\x22),out+\x3dstringify(node[i])||\x22null\x22;return out+\x22]\x22}if(null\x3d\x3d\x3dnode)return\x22null\x22;if(-1!\x3d\x3dseen.indexOf(node)){if(cycles)return JSON.stringify(\x22__cycle__\x22);throw new TypeError(\x22Converting circular structure to JSON\x22);}var seenIndex\x3dseen.push(node)-1,keys\x3dObject.keys(node).sort(cmp\x26\x26\ncmp(node));out\x3d\x22\x22;for(i\x3d0;i\x3ckeys.length;i++){var key\x3dkeys[i],value\x3dstringify(node[key]);value\x26\x26(out\x26\x26(out+\x3d\x22,\x22),out+\x3dJSON.stringify(key)+\x22:\x22+value)}seen.splice(seenIndex,1);return\x22{\x22+out+\x22}\x22}}(data)},deepEqual\x3dfunction equal(a,b){if(a\x3d\x3d\x3db)return!0;if(a\x26\x26b\x26\x26\x22object\x22\x3d\x3dtypeof a\x26\x26\x22object\x22\x3d\x3dtypeof b){if(a.constructor!\x3d\x3db.constructor)return!1;var i;if(Array.isArray(a)){var length\x3da.length;if(length!\x3db.length)return!1;for(i\x3dlength;0!\x3d\x3di--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor\x3d\x3d\x3dRegExp)return a.source\x3d\x3d\x3d\nb.source\x26\x26a.flags\x3d\x3d\x3db.flags;if(a.valueOf!\x3d\x3dObject.prototype.valueOf)return a.valueOf()\x3d\x3d\x3db.valueOf();if(a.toString!\x3d\x3dObject.prototype.toString)return a.toString()\x3d\x3d\x3db.toString();var keys\x3dObject.keys(a);length\x3dkeys.length;if(length!\x3d\x3dObject.keys(b).length)return!1;for(i\x3dlength;0!\x3d\x3di--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i\x3dlength;0!\x3d\x3di--;)if(length\x3dkeys[i],!equal(a[length],b[length]))return!1;return!0}return a!\x3d\x3da\x26\x26b!\x3d\x3db},duplicate\x3dfunction(fn,basedir,module){return module\x3d\n{path:basedir,exports:{},require:function(path,base){throw Error(\x22Dynamic requires are not currently supported by @rollup/plugin-commonjs\x22);}},fn(module,module.exports),module.exports}(function(module){var clone\x3dfunction(){function _instanceof(obj,type){return null!\x3dtype\x26\x26obj instanceof type}function clone(parent$jscomp$0,circular,depth$jscomp$0,prototype,includeNonEnumerable){function _clone(parent,depth){if(null\x3d\x3d\x3dparent)return null;if(0\x3d\x3d\x3ddepth||\x22object\x22!\x3dtypeof parent)return parent;if(_instanceof(parent,\nnativeMap))var child\x3dnew nativeMap;else if(_instanceof(parent,nativeSet))child\x3dnew nativeSet;else if(_instanceof(parent,nativePromise))child\x3dnew nativePromise(function(resolve,reject){parent.then(function(value){resolve(_clone(value,depth-1))},function(err){reject(_clone(err,depth-1))})});else if(clone.__isArray(parent))child\x3d[];else if(clone.__isRegExp(parent))child\x3dnew RegExp(parent.source,__getRegExpFlags(parent)),parent.lastIndex\x26\x26(child.lastIndex\x3dparent.lastIndex);else if(clone.__isDate(parent))child\x3d\nnew Date(parent.getTime());else{if(useBuffer\x26\x26Buffer.isBuffer(parent))return child\x3dBuffer.allocUnsafe?Buffer.allocUnsafe(parent.length):new Buffer(parent.length),parent.copy(child),child;if(_instanceof(parent,Error))child\x3dObject.create(parent);else if(\x22undefined\x22\x3d\x3dtypeof prototype){var proto\x3dObject.getPrototypeOf(parent);child\x3dObject.create(proto)}else child\x3dObject.create(prototype),proto\x3dprototype}if(circular){var index\x3dallParents.indexOf(parent);if(-1!\x3dindex)return allChildren[index];allParents.push(parent);\nallChildren.push(child)}_instanceof(parent,nativeMap)\x26\x26parent.forEach(function(value,key){key\x3d_clone(key,depth-1);value\x3d_clone(value,depth-1);child.set(key,value)});_instanceof(parent,nativeSet)\x26\x26parent.forEach(function(value){value\x3d_clone(value,depth-1);child.add(value)});for(var i in parent){var attrs;proto\x26\x26(attrs\x3dObject.getOwnPropertyDescriptor(proto,i));attrs\x26\x26null\x3d\x3dattrs.set||(child[i]\x3d_clone(parent[i],depth-1))}if(Object.getOwnPropertySymbols)for(index\x3dObject.getOwnPropertySymbols(parent),\ni\x3d0;i\x3cindex.length;i++)if(attrs\x3dindex[i],proto\x3dObject.getOwnPropertyDescriptor(parent,attrs),!proto||proto.enumerable||includeNonEnumerable)child[attrs]\x3d_clone(parent[attrs],depth-1),proto.enumerable||Object.defineProperty(child,attrs,{enumerable:!1});if(includeNonEnumerable)for(index\x3dObject.getOwnPropertyNames(parent),i\x3d0;i\x3cindex.length;i++)attrs\x3dindex[i],proto\x3dObject.getOwnPropertyDescriptor(parent,attrs),proto\x26\x26proto.enumerable||(child[attrs]\x3d_clone(parent[attrs],depth-1),Object.defineProperty(child,\nattrs,{enumerable:!1}));return child}\x22object\x22\x3d\x3d\x3dtypeof circular\x26\x26(depth$jscomp$0\x3dcircular.depth,prototype\x3dcircular.prototype,includeNonEnumerable\x3dcircular.includeNonEnumerable,circular\x3dcircular.circular);var allParents\x3d[],allChildren\x3d[],useBuffer\x3d\x22undefined\x22!\x3dtypeof Buffer;\x22undefined\x22\x3d\x3dtypeof circular\x26\x26(circular\x3d!0);\x22undefined\x22\x3d\x3dtypeof depth$jscomp$0\x26\x26(depth$jscomp$0\x3dInfinity);return _clone(parent$jscomp$0,depth$jscomp$0)}function __objToStr(o){return Object.prototype.toString.call(o)}function __getRegExpFlags(re){var flags\x3d\n\x22\x22;re.global\x26\x26(flags+\x3d\x22g\x22);re.ignoreCase\x26\x26(flags+\x3d\x22i\x22);re.multiline\x26\x26(flags+\x3d\x22m\x22);return flags}try{var nativeMap\x3dMap}catch(_){nativeMap\x3dfunction(){}}try{var nativeSet\x3dSet}catch(_$342){nativeSet\x3dfunction(){}}try{var nativePromise\x3dPromise}catch(_$343){nativePromise\x3dfunction(){}}clone.clonePrototype\x3dfunction(parent){if(null\x3d\x3d\x3dparent)return null;var c\x3dfunction(){};c.prototype\x3dparent;return new c};clone.__objToStr\x3d__objToStr;clone.__isDate\x3dfunction(o){return\x22object\x22\x3d\x3d\x3dtypeof o\x26\x26\x22[object Date]\x22\x3d\x3d\x3d__objToStr(o)};\nclone.__isArray\x3dfunction(o){return\x22object\x22\x3d\x3d\x3dtypeof o\x26\x26\x22[object Array]\x22\x3d\x3d\x3d__objToStr(o)};clone.__isRegExp\x3dfunction(o){return\x22object\x22\x3d\x3d\x3dtypeof o\x26\x26\x22[object RegExp]\x22\x3d\x3d\x3d__objToStr(o)};clone.__getRegExpFlags\x3d__getRegExpFlags;return clone}();module.exports\x26\x26(module.exports\x3dclone)});Set.prototype.toJSON\x3dfunction(){return\x22Set(\x22+[].concat($jscomp.arrayFromIterable(this)).map(function(x){return fastJsonStableStringify(x)}).join(\x22,\x22)+\x22)\x22};var stringify\x3dfastJsonStableStringify,keys\x3dObject.keys,vals\x3dObject.values,\nentries\x3dObject.entries,idCounter\x3d42,CONDITIONAL_AXIS_PROP_INDEX\x3d{labelAlign:{part:\x22labels\x22,vgProp:\x22align\x22},labelBaseline:{part:\x22labels\x22,vgProp:\x22baseline\x22},labelColor:{part:\x22labels\x22,vgProp:\x22fill\x22},labelFont:{part:\x22labels\x22,vgProp:\x22font\x22},labelFontSize:{part:\x22labels\x22,vgProp:\x22fontSize\x22},labelFontStyle:{part:\x22labels\x22,vgProp:\x22fontStyle\x22},labelFontWeight:{part:\x22labels\x22,vgProp:\x22fontWeight\x22},labelOpacity:{part:\x22labels\x22,vgProp:\x22opacity\x22},labelOffset:null,labelPadding:null,gridColor:{part:\x22grid\x22,vgProp:\x22stroke\x22},\ngridDash:{part:\x22grid\x22,vgProp:\x22strokeDash\x22},gridDashOffset:{part:\x22grid\x22,vgProp:\x22strokeDashOffset\x22},gridOpacity:{part:\x22grid\x22,vgProp:\x22opacity\x22},gridWidth:{part:\x22grid\x22,vgProp:\x22strokeWidth\x22},tickColor:{part:\x22ticks\x22,vgProp:\x22stroke\x22},tickDash:{part:\x22ticks\x22,vgProp:\x22strokeDash\x22},tickDashOffset:{part:\x22ticks\x22,vgProp:\x22strokeDashOffset\x22},tickOpacity:{part:\x22ticks\x22,vgProp:\x22opacity\x22},tickSize:null,tickWidth:{part:\x22ticks\x22,vgProp:\x22strokeWidth\x22}},AXIS_PARTS\x3d[\x22domain\x22,\x22grid\x22,\x22labels\x22,\x22ticks\x22,\x22title\x22],AXIS_PROPERTY_TYPE\x3d\n{grid:\x22grid\x22,gridCap:\x22grid\x22,gridColor:\x22grid\x22,gridDash:\x22grid\x22,gridDashOffset:\x22grid\x22,gridOpacity:\x22grid\x22,gridScale:\x22grid\x22,gridWidth:\x22grid\x22,orient:\x22main\x22,bandPosition:\x22both\x22,aria:\x22main\x22,description:\x22main\x22,domain:\x22main\x22,domainCap:\x22main\x22,domainColor:\x22main\x22,domainDash:\x22main\x22,domainDashOffset:\x22main\x22,domainOpacity:\x22main\x22,domainWidth:\x22main\x22,format:\x22main\x22,formatType:\x22main\x22,labelAlign:\x22main\x22,labelAngle:\x22main\x22,labelBaseline:\x22main\x22,labelBound:\x22main\x22,labelColor:\x22main\x22,labelFlush:\x22main\x22,labelFlushOffset:\x22main\x22,labelFont:\x22main\x22,\nlabelFontSize:\x22main\x22,labelFontStyle:\x22main\x22,labelFontWeight:\x22main\x22,labelLimit:\x22main\x22,labelLineHeight:\x22main\x22,labelOffset:\x22main\x22,labelOpacity:\x22main\x22,labelOverlap:\x22main\x22,labelPadding:\x22main\x22,labels:\x22main\x22,labelSeparation:\x22main\x22,maxExtent:\x22main\x22,minExtent:\x22main\x22,offset:\x22both\x22,position:\x22main\x22,tickCap:\x22main\x22,tickColor:\x22main\x22,tickDash:\x22main\x22,tickDashOffset:\x22main\x22,tickMinStep:\x22main\x22,tickOffset:\x22both\x22,tickOpacity:\x22main\x22,tickRound:\x22both\x22,ticks:\x22main\x22,tickSize:\x22main\x22,tickWidth:\x22both\x22,title:\x22main\x22,titleAlign:\x22main\x22,\ntitleAnchor:\x22main\x22,titleAngle:\x22main\x22,titleBaseline:\x22main\x22,titleColor:\x22main\x22,titleFont:\x22main\x22,titleFontSize:\x22main\x22,titleFontStyle:\x22main\x22,titleFontWeight:\x22main\x22,titleLimit:\x22main\x22,titleLineHeight:\x22main\x22,titleOpacity:\x22main\x22,titlePadding:\x22main\x22,titleX:\x22main\x22,titleY:\x22main\x22,encode:\x22both\x22,scale:\x22both\x22,tickBand:\x22both\x22,tickCount:\x22both\x22,tickExtra:\x22both\x22,translate:\x22both\x22,values:\x22both\x22,zindex:\x22both\x22},COMMON_AXIS_PROPERTIES_INDEX\x3d{orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,\ndomainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,\ntickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},AXIS_PROPERTIES_INDEX\x3dObject.assign(Object.assign({},COMMON_AXIS_PROPERTIES_INDEX),{style:1,labelExpr:1,\nencoding:1}),Mark\x3d{arc:\x22arc\x22,area:\x22area\x22,bar:\x22bar\x22,image:\x22image\x22,line:\x22line\x22,point:\x22point\x22,rect:\x22rect\x22,rule:\x22rule\x22,text:\x22text\x22,tick:\x22tick\x22,trail:\x22trail\x22,circle:\x22circle\x22,square:\x22square\x22,geoshape:\x22geoshape\x22},ARC\x3dMark.arc,AREA\x3dMark.area,BAR\x3dMark.bar,IMAGE\x3dMark.image,LINE\x3dMark.line,POINT\x3dMark.point,RECT\x3dMark.rect,RULE\x3dMark.rule,TEXT\x3dMark.text,TICK\x3dMark.tick,TRAIL\x3dMark.trail,CIRCLE\x3dMark.circle,SQUARE\x3dMark.square,GEOSHAPE\x3dMark.geoshape,PRIMITIVE_MARKS\x3dkeys(Mark);toSet(PRIMITIVE_MARKS);var FILL_STROKE_CONFIG\x3d\n[].concat($jscomp.arrayFromIterable(\x22stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit\x22.split(\x22 \x22)),$jscomp.arrayFromIterable([\x22fill\x22,\x22fillOpacity\x22])),VL_ONLY_MARK_CONFIG_PROPERTIES\x3dkeys({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),BAR_CORNER_RADIUS_INDEX\x3d{horizontal:[\x22cornerRadiusTopRight\x22,\x22cornerRadiusBottomRight\x22],vertical:[\x22cornerRadiusTopLeft\x22,\x22cornerRadiusTopRight\x22]},CompositeMarkNormalizer\x3dfunction(name,\nrun){this.name\x3dname;this.run\x3drun};CompositeMarkNormalizer.prototype.hasMatchingType\x3dfunction(spec){return isUnitSpec(spec)?(spec\x3dspec.mark,(isMarkDef(spec)?spec.type:spec)\x3d\x3d\x3dthis.name):!1};var AGGREGATE_OP_INDEX\x3d{argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},MULTIDOMAIN_SORT_OP_INDEX\x3d{count:1,min:1,max:1},COUNTING_OPS\x3d[\x22count\x22,\x22valid\x22,\x22missing\x22,\x22distinct\x22],\nSUM_OPS\x3d[\x22count\x22,\x22sum\x22,\x22distinct\x22,\x22valid\x22,\x22missing\x22],SHARED_DOMAIN_OP_INDEX\x3dtoSet(\x22mean average median q1 q3 min max\x22.split(\x22 \x22)),POLAR_POSITION_CHANNEL_INDEX\x3d{theta:1,theta2:1,radius:1,radius2:1},GEO_POSIITON_CHANNEL_INDEX\x3d{longitude:1,longitude2:1,latitude:1,latitude2:1},GEOPOSITION_CHANNELS\x3dkeys(GEO_POSIITON_CHANNEL_INDEX),UNIT_CHANNEL_INDEX\x3dObject.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),POLAR_POSITION_CHANNEL_INDEX),GEO_POSIITON_CHANNEL_INDEX),{color:1,fill:1,\nstroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),FACET_CHANNEL_INDEX\x3d{row:1,column:1,facet:1},FACET_CHANNELS\x3dkeys(FACET_CHANNEL_INDEX),CHANNEL_INDEX\x3dObject.assign(Object.assign({},UNIT_CHANNEL_INDEX),FACET_CHANNEL_INDEX),CHANNELS\x3dkeys(CHANNEL_INDEX),SINGLE_DEF_CHANNEL_INDEX\x3d__rest(CHANNEL_INDEX,[\x22order\x22,\x22detail\x22,\x22tooltip\x22]),SINGLE_DEF_UNIT_CHANNEL_INDEX\x3d__rest(SINGLE_DEF_CHANNEL_INDEX,\n[\x22row\x22,\x22column\x22,\x22facet\x22]),SECONDARY_RANGE_CHANNEL\x3d\x22x2 y2 latitude2 longitude2 theta2 radius2\x22.split(\x22 \x22),NONPOSITION_CHANNEL_INDEX\x3d__rest(UNIT_CHANNEL_INDEX,\x22x y x2 y2 latitude longitude latitude2 longitude2 theta theta2 radius radius2\x22.split(\x22 \x22)),NONPOSITION_CHANNELS\x3dkeys(NONPOSITION_CHANNEL_INDEX),POSITION_SCALE_CHANNEL_INDEX\x3d{x:1,y:1},POSITION_SCALE_CHANNELS\x3dkeys(POSITION_SCALE_CHANNEL_INDEX),POLAR_POSITION_SCALE_CHANNEL_INDEX\x3d{theta:1,radius:1},POLAR_POSITION_SCALE_CHANNELS\x3dkeys(POLAR_POSITION_SCALE_CHANNEL_INDEX),\nNONPOSITION_SCALE_CHANNEL_INDEX\x3d__rest(NONPOSITION_CHANNEL_INDEX,\x22text tooltip href url description detail key order\x22.split(\x22 \x22)),NONPOSITION_SCALE_CHANNELS\x3dkeys(NONPOSITION_SCALE_CHANNEL_INDEX),SCALE_CHANNEL_INDEX\x3dObject.assign(Object.assign(Object.assign({},POSITION_SCALE_CHANNEL_INDEX),POLAR_POSITION_SCALE_CHANNEL_INDEX),NONPOSITION_SCALE_CHANNEL_INDEX),SCALE_CHANNELS\x3dkeys(SCALE_CHANNEL_INDEX),ALL_MARKS\x3d{arc:\x22always\x22,area:\x22always\x22,bar:\x22always\x22,circle:\x22always\x22,geoshape:\x22always\x22,image:\x22always\x22,line:\x22always\x22,\nrule:\x22always\x22,point:\x22always\x22,rect:\x22always\x22,square:\x22always\x22,trail:\x22always\x22,text:\x22always\x22,tick:\x22always\x22},ALL_MARKS_EXCEPT_GEOSHAPE\x3d__rest(ALL_MARKS,[\x22geoshape\x22]),main\x3dfunction(_$jscomp$0,method){var level\x3d_$jscomp$0||0;return{level:function(_){return arguments.length?(level\x3d+_,this):level},error:function(){1\x3c\x3dlevel\x26\x26log(method||\x22error\x22,\x22ERROR\x22,arguments);return this},warn:function(){2\x3c\x3dlevel\x26\x26log(method||\x22warn\x22,\x22WARN\x22,arguments);return this},info:function(){3\x3c\x3dlevel\x26\x26log(method||\x22log\x22,\x22INFO\x22,arguments);\nreturn this},debug:function(){4\x3c\x3dlevel\x26\x26log(method||\x22log\x22,\x22DEBUG\x22,arguments);return this}}}(2),current\x3dmain,MONTHS\x3d\x22january february march april may june july august september october november december\x22.split(\x22 \x22),SHORT_MONTHS\x3dMONTHS.map(function(m){return m.substr(0,3)}),DAYS\x3d\x22sunday monday tuesday wednesday thursday friday saturday\x22.split(\x22 \x22),SHORT_DAYS\x3dDAYS.map(function(d){return d.substr(0,3)}),LOCAL_SINGLE_TIMEUNIT_INDEX\x3d{year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,\nseconds:1,milliseconds:1},TIMEUNIT_PARTS\x3dkeys(LOCAL_SINGLE_TIMEUNIT_INDEX),VEGALITE_TIMEFORMAT\x3d{\x22year-month\x22:\x22%b %Y \x22,\x22year-month-date\x22:\x22%b %d, %Y \x22},VG_MARK_CONFIGS\x3dkeys({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,\nalign:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),VG_MARK_INDEX\x3d{arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},VG_CORNERRADIUS_CHANNELS\x3d[\x22cornerRadius\x22,\x22cornerRadiusTopLeft\x22,\x22cornerRadiusTopRight\x22,\n\x22cornerRadiusBottomLeft\x22,\x22cornerRadiusBottomRight\x22],ScaleType\x3d{LINEAR:\x22linear\x22,LOG:\x22log\x22,POW:\x22pow\x22,SQRT:\x22sqrt\x22,SYMLOG:\x22symlog\x22,IDENTITY:\x22identity\x22,SEQUENTIAL:\x22sequential\x22,TIME:\x22time\x22,UTC:\x22utc\x22,QUANTILE:\x22quantile\x22,QUANTIZE:\x22quantize\x22,THRESHOLD:\x22threshold\x22,BIN_ORDINAL:\x22bin-ordinal\x22,ORDINAL:\x22ordinal\x22,POINT:\x22point\x22,BAND:\x22band\x22},SCALE_CATEGORY_INDEX\x3d{linear:\x22numeric\x22,log:\x22numeric\x22,pow:\x22numeric\x22,sqrt:\x22numeric\x22,symlog:\x22numeric\x22,identity:\x22numeric\x22,sequential:\x22numeric\x22,time:\x22time\x22,utc:\x22time\x22,ordinal:\x22ordinal\x22,\n\x22bin-ordinal\x22:\x22bin-ordinal\x22,point:\x22ordinal-position\x22,band:\x22ordinal-position\x22,quantile:\x22discretizing\x22,quantize:\x22discretizing\x22,threshold:\x22discretizing\x22},SCALE_PRECEDENCE_INDEX\x3d{linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,\x22bin-ordinal\x22:0,quantile:0,quantize:0,threshold:0},CONTINUOUS_TO_CONTINUOUS_SCALES\x3d\x22linear log pow sqrt symlog time utc\x22.split(\x22 \x22),CONTINUOUS_TO_CONTINUOUS_INDEX\x3dtoSet(CONTINUOUS_TO_CONTINUOUS_SCALES),QUANTITATIVE_SCALES_INDEX\x3d\ntoSet([\x22linear\x22,\x22log\x22,\x22pow\x22,\x22sqrt\x22,\x22symlog\x22]),CONTINUOUS_TO_DISCRETE_INDEX\x3dtoSet([\x22quantile\x22,\x22quantize\x22,\x22threshold\x22]),CONTINUOUS_DOMAIN_SCALES\x3dCONTINUOUS_TO_CONTINUOUS_SCALES.concat([\x22quantile\x22,\x22quantize\x22,\x22threshold\x22,\x22sequential\x22,\x22identity\x22]),CONTINUOUS_DOMAIN_INDEX\x3dtoSet(CONTINUOUS_DOMAIN_SCALES),DISCRETE_DOMAIN_INDEX\x3dtoSet([\x22ordinal\x22,\x22bin-ordinal\x22,\x22point\x22,\x22band\x22]),NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX\x3d__rest({type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,\nrangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},\x22type domain range rangeMax rangeMin scheme\x22.split(\x22 \x22)),NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES\x3dkeys(NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTY_INDEX),SORT_BY_CHANNEL_INDEX\x3d{x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},defaultTitleFormatter\x3dfunction(fieldDef,config){switch(config.fieldTitle){case \x22plain\x22:return fieldDef.field;\ncase \x22functional\x22:config\x3dfieldDef.aggregate;var bin\x3dfieldDef.bin,timeUnit\x3dfieldDef.timeUnit;fieldDef\x3dfieldDef.field;isArgmaxDef(config)?config\x3dfieldDef+\x22 for argmax(\x22+config.argmax+\x22)\x22:isArgminDef(config)?config\x3dfieldDef+\x22 for argmin(\x22+config.argmin+\x22)\x22:(timeUnit\x3dnormalizeTimeUnit(timeUnit),config\x3d(config\x3dconfig||(null\x3d\x3d\x3dtimeUnit||void 0\x3d\x3d\x3dtimeUnit?void 0:timeUnit.unit)||(null\x3d\x3d\x3dtimeUnit||void 0\x3d\x3d\x3dtimeUnit?void 0:timeUnit.maxbins)\x26\x26\x22timeunit\x22||isBinning(bin)\x26\x26\x22bin\x22)?config.toUpperCase()+\x22(\x22+fieldDef+\n\x22)\x22:fieldDef);return config;default:return verbalTitleFormatter(fieldDef,config)}},titleFormatter\x3ddefaultTitleFormatter,COMPATIBLE\x3d{compatible:!0},boxPlotNormalizer\x3dnew CompositeMarkNormalizer(\x22boxplot\x22,normalizeBoxPlot),errorBarNormalizer\x3dnew CompositeMarkNormalizer(\x22errorbar\x22,normalizeErrorBar),errorBandNormalizer\x3dnew CompositeMarkNormalizer(\x22errorband\x22,normalizeErrorBand),compositeMarkRegistry\x3d{};add(\x22boxplot\x22,normalizeBoxPlot,[\x22box\x22,\x22median\x22,\x22outliers\x22,\x22rule\x22,\x22ticks\x22]);add(\x22errorbar\x22,normalizeErrorBar,\n[\x22ticks\x22,\x22rule\x22]);add(\x22errorband\x22,normalizeErrorBand,[\x22band\x22,\x22borders\x22]);var VL_ONLY_LEGEND_CONFIG\x3d[\x22gradientHorizontalMaxLength\x22,\x22gradientHorizontalMinLength\x22,\x22gradientVerticalMaxLength\x22,\x22gradientVerticalMinLength\x22,\x22unselectedOpacity\x22],LEGEND_SCALE_CHANNELS\x3d\x22size shape fill stroke strokeDash strokeWidth opacity\x22.split(\x22 \x22),COMPOSITION_LAYOUT_PROPERTIES\x3dkeys({align:1,bounds:1,center:1,columns:1,spacing:1}),defaultConfig$1\x3d{background:\x22white\x22,padding:5,timeFormat:\x22%b %d, %Y\x22,countTitle:\x22Count of Records\x22,\nview:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:\x22#4c78a8\x22,invalid:\x22filter\x22,timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:\x22black\x22},square:{},text:{color:\x22black\x22},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:\x22white\x22},outliers:{},rule:{},ticks:null},errorbar:{center:\x22mean\x22,rule:!0,\nticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},\nheaderFacet:{},selection:{single:{on:\x22click\x22,fields:[\x22_vgsid_\x22],resolve:\x22global\x22,empty:\x22all\x22,clear:\x22dblclick\x22},multi:{on:\x22click\x22,fields:[\x22_vgsid_\x22],toggle:\x22event.shiftKey\x22,resolve:\x22global\x22,empty:\x22all\x22,clear:\x22dblclick\x22},interval:{on:\x22[mousedown, window:mouseup] \\x3e window:mousemove!\x22,encodings:[\x22x\x22,\x22y\x22],translate:\x22[mousedown, window:mouseup] \\x3e window:mousemove!\x22,zoom:\x22wheel!\x22,mark:{fill:\x22#333\x22,fillOpacity:.125,stroke:\x22white\x22},resolve:\x22global\x22,clear:\x22dblclick\x22}},style:{},title:{},facet:{spacing:20},\nconcat:{spacing:20}},tab10\x3d\x22#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac\x22.split(\x22 \x22),DEFAULT_FONT_SIZE\x3d{text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},DEFAULT_COLOR\x3d{blue:tab10[0],orange:tab10[1],red:tab10[2],teal:tab10[3],green:tab10[4],yellow:tab10[5],purple:tab10[6],pink:tab10[7],brown:tab10[8],gray0:\x22#000\x22,gray1:\x22#111\x22,gray2:\x22#222\x22,gray3:\x22#333\x22,gray4:\x22#444\x22,gray5:\x22#555\x22,gray6:\x22#666\x22,gray7:\x22#777\x22,gray8:\x22#888\x22,gray9:\x22#999\x22,gray10:\x22#aaa\x22,gray11:\x22#bbb\x22,\ngray12:\x22#ccc\x22,gray13:\x22#ddd\x22,gray14:\x22#eee\x22,gray15:\x22#fff\x22},MARK_STYLES\x3d[\x22view\x22].concat($jscomp.arrayFromIterable(PRIMITIVE_MARKS)),VL_ONLY_CONFIG_PROPERTIES\x3d\x22color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay\x22.split(\x22 \x22),VL_ONLY_ALL_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX\x3d\nObject.assign({view:[\x22continuousWidth\x22,\x22continuousHeight\x22,\x22discreteWidth\x22,\x22discreteHeight\x22,\x22step\x22]},{area:[\x22line\x22,\x22point\x22],bar:[\x22binSpacing\x22,\x22continuousBandSize\x22,\x22discreteBandSize\x22],rect:[\x22binSpacing\x22,\x22continuousBandSize\x22,\x22discreteBandSize\x22],line:[\x22point\x22],tick:[\x22bandSize\x22,\x22thickness\x22]}),SpecMapper\x3dfunction(){};SpecMapper.prototype.map\x3dfunction(spec,params){return\x22facet\x22in spec?this.mapFacet(spec,params):\x22repeat\x22in spec?this.mapRepeat(spec,params):\x22hconcat\x22in spec?this.mapHConcat(spec,params):\x22vconcat\x22in\nspec?this.mapVConcat(spec,params):\x22concat\x22in spec?this.mapConcat(spec,params):this.mapLayerOrUnit(spec,params)};SpecMapper.prototype.mapLayerOrUnit\x3dfunction(spec,params){if(\x22layer\x22in spec)return this.mapLayer(spec,params);if(isUnitSpec(spec))return this.mapUnit(spec,params);throw Error(invalidSpec(spec));};SpecMapper.prototype.mapLayer\x3dfunction(spec,params){var $jscomp$this\x3dthis;return Object.assign(Object.assign({},spec),{layer:spec.layer.map(function(subspec){return $jscomp$this.mapLayerOrUnit(subspec,\nparams)})})};SpecMapper.prototype.mapHConcat\x3dfunction(spec,params){var $jscomp$this\x3dthis;return Object.assign(Object.assign({},spec),{hconcat:spec.hconcat.map(function(subspec){return $jscomp$this.map(subspec,params)})})};SpecMapper.prototype.mapVConcat\x3dfunction(spec,params){var $jscomp$this\x3dthis;return Object.assign(Object.assign({},spec),{vconcat:spec.vconcat.map(function(subspec){return $jscomp$this.map(subspec,params)})})};SpecMapper.prototype.mapConcat\x3dfunction(spec,params){var $jscomp$this\x3d\nthis,concat\x3dspec.concat;spec\x3d__rest(spec,[\x22concat\x22]);return Object.assign(Object.assign({},spec),{concat:concat.map(function(subspec){return $jscomp$this.map(subspec,params)})})};SpecMapper.prototype.mapFacet\x3dfunction(spec,params){return Object.assign(Object.assign({},spec),{spec:this.map(spec.spec,params)})};SpecMapper.prototype.mapRepeat\x3dfunction(spec,params){return Object.assign(Object.assign({},spec),{spec:this.map(spec.spec,params)})};var STACK_OFFSET_INDEX\x3d{zero:1,center:1,normalize:1},STACKABLE_MARKS\x3d\nnew Set([ARC,BAR,AREA,RULE,POINT,CIRCLE,SQUARE,LINE,TEXT,TICK]),STACK_BY_DEFAULT_MARKS\x3dnew Set([BAR,AREA,ARC]),PathOverlayNormalizer\x3dfunction(){this.name\x3d\x22path-overlay\x22};PathOverlayNormalizer.prototype.hasMatchingType\x3dfunction(spec,config){if(isUnitSpec(spec)){var mark\x3dspec.mark;spec\x3dspec.encoding;mark\x3disMarkDef(mark)?mark:{type:mark};switch(mark.type){case \x22line\x22:case \x22rule\x22:case \x22trail\x22:return!!getPointOverlay(mark,config[mark.type],spec);case \x22area\x22:return!!getPointOverlay(mark,config[mark.type],\nspec)||!!getLineOverlay(mark,config[mark.type])}}return!1};PathOverlayNormalizer.prototype.run\x3dfunction(spec,params,normalize){var config\x3dparams.config,selection\x3dspec.selection,projection\x3dspec.projection,mark\x3dspec.mark,e\x3dspec.encoding;spec\x3d__rest(spec,[\x22selection\x22,\x22projection\x22,\x22mark\x22,\x22encoding\x22]);e\x3dnormalizeEncoding(e,config);mark\x3disMarkDef(mark)?mark:{type:mark};var pointOverlay\x3dgetPointOverlay(mark,config[mark.type],e),lineOverlay\x3d\x22area\x22\x3d\x3d\x3dmark.type\x26\x26getLineOverlay(mark,config[mark.type]);selection\x3d\n[Object.assign(Object.assign({},selection?{selection:selection}:{}),{mark:dropLineAndPoint(Object.assign(Object.assign({},\x22area\x22\x3d\x3d\x3dmark.type\x26\x26void 0\x3d\x3d\x3dmark.opacity\x26\x26void 0\x3d\x3d\x3dmark.fillOpacity?{opacity:.7}:{}),mark)),encoding:omit(e,[\x22shape\x22])})];var stackProps\x3dstack(mark,e),overlayEncoding\x3de;if(stackProps){overlayEncoding\x3dstackProps.fieldChannel;stackProps\x3dstackProps.offset;var $jscomp$compprop6\x3d{};overlayEncoding\x3dObject.assign(Object.assign({},e),($jscomp$compprop6[overlayEncoding]\x3dObject.assign(Object.assign({},\ne[overlayEncoding]),stackProps?{stack:stackProps}:{}),$jscomp$compprop6))}lineOverlay\x26\x26selection.push(Object.assign(Object.assign({},projection?{projection:projection}:{}),{mark:Object.assign(Object.assign({type:\x22line\x22},pick(mark,[\x22clip\x22,\x22interpolate\x22,\x22tension\x22,\x22tooltip\x22])),lineOverlay),encoding:overlayEncoding}));pointOverlay\x26\x26selection.push(Object.assign(Object.assign({},projection?{projection:projection}:{}),{mark:Object.assign(Object.assign({type:\x22point\x22,opacity:1,filled:!0},pick(mark,[\x22clip\x22,\n\x22tooltip\x22])),pointOverlay),encoding:overlayEncoding}));return normalize(Object.assign(Object.assign({},spec),{layer:selection}),Object.assign(Object.assign({},params),{config:dropLineAndPointFromConfig(config)}))};var RangeStepNormalizer\x3dfunction(){this.name\x3d\x22RangeStep\x22};RangeStepNormalizer.prototype.hasMatchingType\x3dfunction(spec){var _a;if(isUnitSpec(spec)\x26\x26spec.encoding)for(var $jscomp$iter$95\x3d$jscomp.makeIterator(POSITION_SCALE_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$95.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d\n$jscomp$iter$95.next())if(($jscomp$key$channel\x3dspec.encoding[$jscomp$key$channel.value])\x26\x26isFieldOrDatumDef($jscomp$key$channel)\x26\x26(null\x3d\x3d\x3d(_a\x3dnull\x3d\x3d\x3d$jscomp$key$channel||void 0\x3d\x3d\x3d$jscomp$key$channel?void 0:$jscomp$key$channel.scale)||void 0\x3d\x3d\x3d_a?0:_a.rangeStep))return!0;return!1};RangeStepNormalizer.prototype.run\x3dfunction(spec){for(var _a,sizeMixins\x3d{},encoding\x3dObject.assign({},spec.encoding),$jscomp$iter$96\x3d$jscomp.makeIterator(POSITION_SCALE_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$96.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d\n$jscomp$iter$96.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var sizeType\x3dgetSizeChannel($jscomp$key$channel),def\x3dencoding[$jscomp$key$channel];if(def\x26\x26isFieldOrDatumDef(def)\x26\x26(null\x3d\x3d\x3d(_a\x3dnull\x3d\x3d\x3ddef||void 0\x3d\x3d\x3ddef?void 0:def.scale)||void 0\x3d\x3d\x3d_a?0:_a.rangeStep)){var scale\x3ddef.scale;def\x3d__rest(def,[\x22scale\x22]);var scaleWithoutRangeStep\x3d__rest(scale,[\x22rangeStep\x22]);sizeMixins[sizeType]\x3d{step:scale.rangeStep};warn(\x27Scale\\\x27s \x22rangeStep\x22 is deprecated and will be removed in Vega-Lite 5.0. Please use \x22width\x22/\x22height\x22: {\x22step\x22: ...} instead. See https://vega.github.io/vega-lite/docs/size.html.\x27);\nsizeType\x3d{};encoding\x3dObject.assign(Object.assign({},encoding),(sizeType[$jscomp$key$channel]\x3dObject.assign(Object.assign({},def),isEmpty(scaleWithoutRangeStep)?{}:{scale:scaleWithoutRangeStep}),sizeType))}}return Object.assign(Object.assign(Object.assign({},sizeMixins),spec),{encoding:encoding})};var RuleForRangedLineNormalizer\x3dfunction(){this.name\x3d\x22RuleForRangedLine\x22};RuleForRangedLineNormalizer.prototype.hasMatchingType\x3dfunction(spec){if(isUnitSpec(spec)){var encoding\x3dspec.encoding;if(\x22line\x22\x3d\x3d\x3d\nspec.mark){spec\x3d$jscomp.makeIterator(SECONDARY_RANGE_CHANNEL);for(var $jscomp$key$channel\x3dspec.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3dspec.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var mainChannel\x3dgetMainRangeChannel($jscomp$key$channel);mainChannel\x3dencoding[mainChannel];if(encoding[$jscomp$key$channel]\x26\x26(isFieldDef(mainChannel)\x26\x26!isBinned(mainChannel.bin)||isDatumDef(mainChannel)))return!0}}}return!1};RuleForRangedLineNormalizer.prototype.run\x3dfunction(spec,params,normalize){var encoding\x3d\nspec.encoding,hasX2\x3d!!encoding.x2;warn(\x22Line mark is for continuous lines and thus cannot be used with \x22+(hasX2\x26\x26encoding.y2?\x22x2 and y2\x22:hasX2?\x22x2\x22:\x22y2\x22)+\x22. We will use the rule mark (line segments) instead.\x22);return normalize(Object.assign(Object.assign({},spec),{mark:\x22rule\x22}),params)};var CoreNormalizer\x3dfunction(){var $jscomp$super$this\x3dSpecMapper.apply(this,arguments)||this;$jscomp$super$this.nonFacetUnitNormalizers\x3d[boxPlotNormalizer,errorBarNormalizer,errorBandNormalizer,new PathOverlayNormalizer,\nnew RuleForRangedLineNormalizer,new RangeStepNormalizer];return $jscomp$super$this};$jscomp.inherits(CoreNormalizer,SpecMapper);CoreNormalizer.prototype.map\x3dfunction(spec,params){if(isUnitSpec(spec)){var hasRow\x3dchannelHasField(spec.encoding,\x22row\x22),hasColumn\x3dchannelHasField(spec.encoding,\x22column\x22),hasFacet\x3dchannelHasField(spec.encoding,\x22facet\x22);if(hasRow||hasColumn||hasFacet)return this.mapFacetedUnit(spec,params)}return SpecMapper.prototype.map.call(this,spec,params)};CoreNormalizer.prototype.mapUnit\x3d\nfunction(spec,params){var parentEncoding\x3dparams.parentEncoding,parentProjection\x3dparams.parentProjection,encoding\x3dreplaceRepeaterInEncoding(spec.encoding,params.repeater);spec\x3dObject.assign(Object.assign({},spec),encoding?{encoding:encoding}:{});if(parentEncoding||parentProjection)return this.mapUnitWithParentEncodingOrProjection(spec,params);parentEncoding\x3dthis.mapLayerOrUnit.bind(this);parentProjection\x3d$jscomp.makeIterator(this.nonFacetUnitNormalizers);for(encoding\x3dparentProjection.next();!encoding.done;encoding\x3d\nparentProjection.next())if(encoding\x3dencoding.value,encoding.hasMatchingType(spec,params.config))return encoding.run(spec,params,parentEncoding);return spec};CoreNormalizer.prototype.mapRepeat\x3dfunction(spec,params){return!isArray(spec.repeat)\x26\x26spec.repeat.layer?this.mapLayerRepeat(spec,params):this.mapNonLayerRepeat(spec,params)};CoreNormalizer.prototype.mapLayerRepeat\x3dfunction(spec,params){var $jscomp$this\x3dthis,repeat\x3dspec.repeat,childSpec\x3dspec.spec,rest\x3d__rest(spec,[\x22repeat\x22,\x22spec\x22]),row\x3drepeat.row,\ncolumn\x3drepeat.column;repeat\x3drepeat.layer;var repeater\x3dvoid 0\x3d\x3d\x3dparams.repeater?{}:params.repeater,repeaterPrefix\x3dvoid 0\x3d\x3d\x3dparams.repeaterPrefix?\x22\x22:params.repeaterPrefix;return row||column?this.mapRepeat(Object.assign(Object.assign({},spec),{repeat:Object.assign(Object.assign({},row?{row:row}:{}),column?{column:column}:{}),spec:{repeat:{layer:repeat},spec:childSpec}}),params):Object.assign(Object.assign({},rest),{layer:repeat.map(function(layerValue){var childRepeater\x3dObject.assign(Object.assign({},\nrepeater),{layer:layerValue});layerValue\x3d(childSpec.name||\x22\x22)+repeaterPrefix+(\x22child__layer_\x22+varName(layerValue));childRepeater\x3d$jscomp$this.mapLayerOrUnit(childSpec,Object.assign(Object.assign({},params),{repeater:childRepeater,repeaterPrefix:layerValue}));childRepeater.name\x3dlayerValue;return childRepeater})})};CoreNormalizer.prototype.mapNonLayerRepeat\x3dfunction(spec,params){var _a,$jscomp$destructuring$var106\x3dspec,repeat\x3d$jscomp$destructuring$var106.repeat,childSpec\x3d$jscomp$destructuring$var106.spec;\n$jscomp$destructuring$var106\x3d$jscomp$destructuring$var106.data;var remainingProperties\x3d__rest(spec,[\x22repeat\x22,\x22spec\x22,\x22data\x22]);!isArray(repeat)\x26\x26spec.columns\x26\x26(spec\x3domit(spec,[\x22columns\x22]),warn(columnsNotSupportByRowCol(\x22repeat\x22)));var concat\x3d[],repeater\x3dvoid 0\x3d\x3d\x3dparams.repeater?{}:params.repeater,repeaterPrefix\x3dvoid 0\x3d\x3d\x3dparams.repeaterPrefix?\x22\x22:params.repeaterPrefix,row\x3d!isArray(repeat)\x26\x26repeat.row||[repeater?repeater.row:null],column\x3d!isArray(repeat)\x26\x26repeat.column||[repeater?repeater.column:null],\nrepeatValues\x3disArray(repeat)\x26\x26repeat||[repeater?repeater.repeat:null];repeatValues\x3d$jscomp.makeIterator(repeatValues);for(var $jscomp$key$repeatValue\x3drepeatValues.next();!$jscomp$key$repeatValue.done;$jscomp$key$repeatValue\x3drepeatValues.next()){$jscomp$key$repeatValue\x3d$jscomp$key$repeatValue.value;for(var $jscomp$iter$100\x3d$jscomp.makeIterator(row),$jscomp$key$rowValue\x3d$jscomp$iter$100.next();!$jscomp$key$rowValue.done;$jscomp$key$rowValue\x3d$jscomp$iter$100.next()){$jscomp$key$rowValue\x3d$jscomp$key$rowValue.value;\nfor(var $jscomp$iter$99\x3d$jscomp.makeIterator(column),$jscomp$key$columnValue\x3d$jscomp$iter$99.next();!$jscomp$key$columnValue.done;$jscomp$key$columnValue\x3d$jscomp$iter$99.next()){var columnValue\x3d$jscomp$key$columnValue.value;$jscomp$key$columnValue\x3d{repeat:$jscomp$key$repeatValue,row:$jscomp$key$rowValue,column:columnValue,layer:repeater.layer};columnValue\x3d(childSpec.name||\x22\x22)+repeaterPrefix+\x22child__\x22+(isArray(repeat)?\x22\x22+varName($jscomp$key$repeatValue):(repeat.row?\x22row_\x22+varName($jscomp$key$rowValue):\n\x22\x22)+(repeat.column?\x22column_\x22+varName(columnValue):\x22\x22));$jscomp$key$columnValue\x3dthis.map(childSpec,Object.assign(Object.assign({},params),{repeater:$jscomp$key$columnValue,repeaterPrefix:columnValue}));$jscomp$key$columnValue.name\x3dcolumnValue;concat.push(omit($jscomp$key$columnValue,[\x22data\x22]))}}}spec\x3disArray(repeat)?spec.columns:repeat.column?repeat.column.length:1;return Object.assign(Object.assign({data:null!\x3d\x3d(_a\x3dchildSpec.data)\x26\x26void 0!\x3d\x3d_a?_a:$jscomp$destructuring$var106,align:\x22all\x22},remainingProperties),\n{columns:spec,concat:concat})};CoreNormalizer.prototype.mapFacet\x3dfunction(spec,params){isFacetMapping(spec.facet)\x26\x26spec.columns\x26\x26(spec\x3domit(spec,[\x22columns\x22]),warn(columnsNotSupportByRowCol(\x22facet\x22)));return SpecMapper.prototype.mapFacet.call(this,spec,params)};CoreNormalizer.prototype.mapUnitWithParentEncodingOrProjection\x3dfunction(spec,params){var encoding\x3dspec.encoding,parentEncoding\x3dparams.parentEncoding,config\x3dparams.config,mergedProjection\x3dmergeProjection({parentProjection:params.parentProjection,\nprojection:spec.projection});params\x3dmergeEncoding({parentEncoding:parentEncoding,encoding:replaceRepeaterInEncoding(encoding,params.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},spec),mergedProjection?{projection:mergedProjection}:{}),params?{encoding:params}:{}),{config:config})};CoreNormalizer.prototype.mapFacetedUnit\x3dfunction(spec,params){var _a\x3dspec.encoding,row\x3d_a.row,column\x3d_a.column,facet\x3d_a.facet,encoding\x3d__rest(_a,[\x22row\x22,\x22column\x22,\x22facet\x22]);_a\x3dspec.mark;var width\x3d\nspec.width,projection\x3dspec.projection,height\x3dspec.height,view\x3dspec.view,selection\x3dspec.selection;spec\x3d__rest(spec,\x22mark width projection height view selection encoding\x22.split(\x22 \x22));column\x3dthis.getFacetMappingAndLayout({row:row,column:column,facet:facet},params);row\x3dcolumn.facetMapping;column\x3dcolumn.layout;encoding\x3dreplaceRepeaterInEncoding(encoding,params.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},spec),column),{facet:row,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},\nwidth?{width:width}:{}),height?{height:height}:{}),view?{view:view}:{}),projection?{projection:projection}:{}),{mark:_a,encoding:encoding}),selection?{selection:selection}:{})}),params)};CoreNormalizer.prototype.getFacetMappingAndLayout\x3dfunction(facets,params){var _a,row\x3dfacets.row,column\x3dfacets.column,facet\x3dfacets.facet;if(row||column){facet\x26\x26(params\x3d[].concat($jscomp.arrayFromIterable(row?[\x22row\x22]:[]),$jscomp.arrayFromIterable(column?[\x22column\x22]:[])),params\x3d\x22Facet encoding dropped as \x22+params.join(\x22 and \x22)+\n\x22 \x22+(1\x3cparams.length?\x22are\x22:\x22is\x22)+\x22 also specified.\x22,warn(params));params\x3d{};facet\x3d{};row\x3d$jscomp.makeIterator([\x22row\x22,\x22column\x22]);for(column\x3drow.next();!column.done;column\x3drow.next()){column\x3dcolumn.value;var def\x3dfacets[column];if(def){var defWithoutLayout\x3d__rest(def,[\x22align\x22,\x22center\x22,\x22spacing\x22,\x22columns\x22]);params[column]\x3ddefWithoutLayout;defWithoutLayout\x3d$jscomp.makeIterator([\x22align\x22,\x22center\x22,\x22spacing\x22]);for(var $jscomp$key$prop\x3ddefWithoutLayout.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3ddefWithoutLayout.next())$jscomp$key$prop\x3d\n$jscomp$key$prop.value,void 0!\x3d\x3ddef[$jscomp$key$prop]\x26\x26(facet[$jscomp$key$prop]\x3dnull!\x3d\x3d(_a\x3dfacet[$jscomp$key$prop])\x26\x26void 0!\x3d\x3d_a?_a:{},facet[$jscomp$key$prop][column]\x3ddef[$jscomp$key$prop])}}return{facetMapping:params,layout:facet}}facets\x3dfacet.align;_a\x3dfacet.center;row\x3dfacet.spacing;column\x3dfacet.columns;facet\x3d__rest(facet,[\x22align\x22,\x22center\x22,\x22spacing\x22,\x22columns\x22]);params\x3d(params\x3dparams.repeater)?isFacetMapping(facet)?replaceRepeaterInMapping(facet,params):replaceRepeaterInFieldDef(facet,params):facet;\nreturn{facetMapping:params,layout:Object.assign(Object.assign(Object.assign(Object.assign({},facets?{align:facets}:{}),_a?{center:_a}:{}),row?{spacing:row}:{}),column?{columns:column}:{})}};CoreNormalizer.prototype.mapLayer\x3dfunction(spec,_a){var parentEncoding\x3d_a.parentEncoding,parentProjection\x3d_a.parentProjection;_a\x3d__rest(_a,[\x22parentEncoding\x22,\x22parentProjection\x22]);var encoding\x3dspec.encoding,projection\x3dspec.projection;spec\x3d__rest(spec,[\x22encoding\x22,\x22projection\x22]);parentEncoding\x3dObject.assign(Object.assign({},\n_a),{parentEncoding:mergeEncoding({parentEncoding:parentEncoding,encoding:encoding,layer:!0}),parentProjection:mergeProjection({parentProjection:parentProjection,projection:projection})});return SpecMapper.prototype.mapLayer.call(this,spec,parentEncoding)};var normalizer\x3dnew CoreNormalizer,TOP_LEVEL_PROPERTIES\x3d[\x22background\x22,\x22padding\x22],Split\x3dfunction(explicit,implicit){explicit\x3dvoid 0\x3d\x3d\x3dexplicit?{}:explicit;implicit\x3dvoid 0\x3d\x3d\x3dimplicit?{}:implicit;this.explicit\x3dexplicit;this.implicit\x3dimplicit};Split.prototype.clone\x3d\nfunction(){return new Split(duplicate(this.explicit),duplicate(this.implicit))};Split.prototype.combine\x3dfunction(){return Object.assign(Object.assign({},this.explicit),this.implicit)};Split.prototype.get\x3dfunction(key){return getFirstDefined(this.explicit[key],this.implicit[key])};Split.prototype.getWithExplicit\x3dfunction(key){return void 0!\x3d\x3dthis.explicit[key]?{explicit:!0,value:this.explicit[key]}:void 0!\x3d\x3dthis.implicit[key]?{explicit:!1,value:this.implicit[key]}:{explicit:!1,value:void 0}};Split.prototype.setWithExplicit\x3d\nfunction(key,value){void 0!\x3d\x3dvalue.value\x26\x26this.set(key,value.value,value.explicit)};Split.prototype.set\x3dfunction(key,value,explicit){delete this[explicit?\x22implicit\x22:\x22explicit\x22][key];this[explicit?\x22explicit\x22:\x22implicit\x22][key]\x3dvalue;return this};Split.prototype.copyKeyFromSplit\x3dfunction(key,s){void 0!\x3d\x3ds.explicit[key]?this.set(key,s.explicit[key],!0):void 0!\x3d\x3ds.implicit[key]\x26\x26this.set(key,s.implicit[key],!1)};Split.prototype.copyKeyFromObject\x3dfunction(key,s){void 0!\x3d\x3ds[key]\x26\x26this.set(key,s[key],!0)};\nSplit.prototype.copyAll\x3dfunction(other){for(var $jscomp$iter$105\x3d$jscomp.makeIterator(keys(other.combine())),$jscomp$key$key\x3d$jscomp$iter$105.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$105.next()){$jscomp$key$key\x3d$jscomp$key$key.value;var val\x3dother.getWithExplicit($jscomp$key$key);this.setWithExplicit($jscomp$key$key,val)}};var AncestorParse\x3dfunction(explicit,implicit,parseNothing){explicit\x3dvoid 0\x3d\x3d\x3dexplicit?{}:explicit;implicit\x3dvoid 0\x3d\x3d\x3dimplicit?{}:implicit;parseNothing\x3dvoid 0\x3d\x3d\x3dparseNothing?\n!1:parseNothing;var $jscomp$super$this\x3dSplit.call(this,explicit,implicit)||this;$jscomp$super$this.explicit\x3dexplicit;$jscomp$super$this.implicit\x3dimplicit;$jscomp$super$this.parseNothing\x3dparseNothing;return $jscomp$super$this};$jscomp.inherits(AncestorParse,Split);AncestorParse.prototype.clone\x3dfunction(){var clone\x3dSplit.prototype.clone.call(this);clone.parseNothing\x3dthis.parseNothing;return clone};var DataSourceType;(function(DataSourceType){DataSourceType[DataSourceType.Raw\x3d0]\x3d\x22Raw\x22;DataSourceType[DataSourceType.Main\x3d\n1]\x3d\x22Main\x22;DataSourceType[DataSourceType.Row\x3d2]\x3d\x22Row\x22;DataSourceType[DataSourceType.Column\x3d3]\x3d\x22Column\x22;DataSourceType[DataSourceType.Lookup\x3d4]\x3d\x22Lookup\x22})(DataSourceType||(DataSourceType\x3d{}));var ILLEGAL\x3d/[[\\]{}]/,DEFAULT_MARKS\x3d{\x22*\x22:1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},DEFAULT_SOURCE,MARKS,ALIGNED_X_CHANNEL\x3d{left:\x22x\x22,center:\x22xc\x22,right:\x22x2\x22},BASELINED_Y_CHANNEL\x3d{top:\x22y\x22,middle:\x22yc\x22,bottom:\x22y2\x22},ALWAYS_IGNORE\x3dnew Set([\x22aria\x22]),nearest\x3d{has:function(selCmpt){return\x22interval\x22!\x3d\x3d\nselCmpt.type\x26\x26selCmpt.nearest},parse:function(model,selCmpt){if(selCmpt.events){selCmpt\x3d$jscomp.makeIterator(selCmpt.events);for(var $jscomp$key$s\x3dselCmpt.next();!$jscomp$key$s.done;$jscomp$key$s\x3dselCmpt.next())$jscomp$key$s.value.markname\x3dmodel.getName(\x22voronoi\x22)}},marks:function(model,selCmpt,marks){var $jscomp$destructuring$var174\x3dselCmpt.project.hasChannel;selCmpt\x3d$jscomp$destructuring$var174.x;$jscomp$destructuring$var174\x3d$jscomp$destructuring$var174.y;var markType\x3dmodel.mark;if(isPathMark(markType))return warn(\x27The \x22nearest\x22 transform is not supported for \x27+\nmarkType+\x22 marks.\x22),marks;selCmpt\x3d{name:model.getName(\x22voronoi\x22),type:\x22path\x22,interactive:!0,from:{data:model.getName(\x22marks\x22)},encode:{update:Object.assign({fill:{value:\x22transparent\x22},strokeWidth:{value:.35},stroke:{value:\x22transparent\x22},isVoronoi:{value:!0}},tooltip(model,{reactiveGeom:!0}))},transform:[{type:\x22voronoi\x22,x:{expr:selCmpt||!$jscomp$destructuring$var174?\x22datum.datum.x || 0\x22:\x220\x22},y:{expr:$jscomp$destructuring$var174||!selCmpt?\x22datum.datum.y || 0\x22:\x220\x22},size:[model.getSizeSignalRef(\x22width\x22),\nmodel.getSizeSignalRef(\x22height\x22)]}]};var index\x3d0,exists\x3d!1;marks.forEach(function(mark,i){var _a;mark\x3dnull!\x3d\x3d(_a\x3dmark.name)\x26\x26void 0!\x3d\x3d_a?_a:\x22\x22;mark\x3d\x3d\x3dmodel.component.mark[0].name?index\x3di:0\x3c\x3dmark.indexOf(\x22voronoi\x22)\x26\x26(exists\x3d!0)});exists||marks.splice(index+1,0,selCmpt);return marks}},DataFlowNode\x3dfunction(parent,debugName){this.debugName\x3ddebugName;this._children\x3d[];this._parent\x3dnull;parent\x26\x26(this.parent\x3dparent)};DataFlowNode.prototype.clone\x3dfunction(){throw Error(\x22Cannot clone node\x22);};DataFlowNode.prototype.numChildren\x3d\nfunction(){return this._children.length};DataFlowNode.prototype.addChild\x3dfunction(child,loc){-1\x3cthis._children.indexOf(child)?warn(\x22Attempt to add the same child twice.\x22):void 0!\x3d\x3dloc?this._children.splice(loc,0,child):this._children.push(child)};DataFlowNode.prototype.removeChild\x3dfunction(oldChild){oldChild\x3dthis._children.indexOf(oldChild);this._children.splice(oldChild,1);return oldChild};DataFlowNode.prototype.remove\x3dfunction(){for(var loc\x3dthis._parent.removeChild(this),$jscomp$iter$108\x3d$jscomp.makeIterator(this._children),\n$jscomp$key$child\x3d$jscomp$iter$108.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$108.next())$jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$key$child._parent\x3dthis._parent,this._parent.addChild($jscomp$key$child,loc++)};DataFlowNode.prototype.insertAsParentOf\x3dfunction(other){var parent\x3dother.parent;parent.removeChild(this);this.parent\x3dparent;other.parent\x3dthis};DataFlowNode.prototype.swapWithParent\x3dfunction(){for(var parent\x3dthis._parent,newParent\x3dparent.parent,$jscomp$iter$109\x3d$jscomp.makeIterator(this._children),\n$jscomp$key$child\x3d$jscomp$iter$109.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$109.next())$jscomp$key$child.value.parent\x3dparent;this._children\x3d[];parent.removeChild(this);parent.parent.removeChild(parent);this.parent\x3dnewParent;parent.parent\x3dthis};$jscomp.global.Object.defineProperties(DataFlowNode.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return this._parent},set:function(parent){(this._parent\x3dparent)\x26\x26parent.addChild(this)}},children:{configurable:!0,enumerable:!0,\nget:function(){return this._children}}});var OutputNode\x3dfunction(parent,source,type,refCounts){parent\x3dDataFlowNode.call(this,parent,source)||this;parent.type\x3dtype;parent.refCounts\x3drefCounts;parent._source\x3dparent._name\x3dsource;!parent.refCounts||parent._name in parent.refCounts||(parent.refCounts[parent._name]\x3d0);return parent};$jscomp.inherits(OutputNode,DataFlowNode);OutputNode.prototype.clone\x3dfunction(){var cloneObj\x3dnew this.constructor;cloneObj.debugName\x3d\x22clone_\x22+this.debugName;cloneObj._source\x3d\nthis._source;cloneObj._name\x3d\x22clone_\x22+this._name;cloneObj.type\x3dthis.type;cloneObj.refCounts\x3dthis.refCounts;cloneObj.refCounts[cloneObj._name]\x3d0;return cloneObj};OutputNode.prototype.dependentFields\x3dfunction(){return new Set};OutputNode.prototype.producedFields\x3dfunction(){return new Set};OutputNode.prototype.hash\x3dfunction(){void 0\x3d\x3d\x3dthis._hash\x26\x26(this._hash\x3d\x22Output \x22+ ++idCounter);return this._hash};OutputNode.prototype.getSource\x3dfunction(){this.refCounts[this._name]++;return this._source};OutputNode.prototype.isRequired\x3d\nfunction(){return!!this.refCounts[this._name]};OutputNode.prototype.setSource\x3dfunction(source){this._source\x3dsource};var TimeUnitNode\x3dfunction(parent,formula){parent\x3dDataFlowNode.call(this,parent)||this;parent.formula\x3dformula;return parent};$jscomp.inherits(TimeUnitNode,DataFlowNode);TimeUnitNode.prototype.clone\x3dfunction(){return new TimeUnitNode(null,duplicate(this.formula))};TimeUnitNode.makeFromEncoding\x3dfunction(parent,model){var formula\x3dmodel.reduceFieldDef(function(timeUnitComponent,fieldDef,\nchannel){var field\x3dfieldDef.field,timeUnit\x3dfieldDef.timeUnit,channelDef2\x3disUnitModel(model)?model.encoding[getSecondaryRangeChannel(channel)]:void 0;channel\x3disUnitModel(model)\x26\x26hasBand(channel,fieldDef,channelDef2,model.stack,model.markDef,model.config);timeUnit\x26\x26(fieldDef\x3dvgField(fieldDef,{forAs:!0}),timeUnitComponent[hash({as:fieldDef,field:field,timeUnit:timeUnit})]\x3dObject.assign({as:fieldDef,field:field,timeUnit:timeUnit},channel?{band:!0}:{}));return timeUnitComponent},{});return isEmpty(formula)?\nnull:new TimeUnitNode(parent,formula)};TimeUnitNode.makeFromTransform\x3dfunction(parent,t){var _a\x3dObject.assign({},t);t\x3d_a.timeUnit;_a\x3d__rest(_a,[\x22timeUnit\x22]);t\x3dnormalizeTimeUnit(t);t\x3dObject.assign(Object.assign({},_a),{timeUnit:t});_a\x3d{};return new TimeUnitNode(parent,(_a[hash(t)]\x3dt,_a))};TimeUnitNode.prototype.merge\x3dfunction(other){this.formula\x3dObject.assign({},this.formula);for(var key in other.formula)if(!this.formula[key]||other.formula[key].band)this.formula[key]\x3dother.formula[key];key\x3d$jscomp.makeIterator(other.children);\nfor(var $jscomp$key$child\x3dkey.next();!$jscomp$key$child.done;$jscomp$key$child\x3dkey.next())$jscomp$key$child\x3d$jscomp$key$child.value,other.removeChild($jscomp$key$child),$jscomp$key$child.parent\x3dthis;other.remove()};TimeUnitNode.prototype.removeFormulas\x3dfunction(fields){for(var newFormula\x3d{},$jscomp$iter$111\x3d$jscomp.makeIterator(entries(this.formula)),$jscomp$key$\x3d$jscomp$iter$111.next();!$jscomp$key$.done;$jscomp$key$\x3d$jscomp$iter$111.next()){var $jscomp$destructuring$var178\x3d$jscomp.makeIterator($jscomp$key$.value);\n$jscomp$key$\x3d$jscomp$destructuring$var178.next().value;$jscomp$destructuring$var178\x3d$jscomp$destructuring$var178.next().value;fields.has($jscomp$destructuring$var178.as)||(newFormula[$jscomp$key$]\x3d$jscomp$destructuring$var178)}this.formula\x3dnewFormula};TimeUnitNode.prototype.producedFields\x3dfunction(){return new Set(vals(this.formula).map(function(f){return f.as}))};TimeUnitNode.prototype.dependentFields\x3dfunction(){return new Set(vals(this.formula).map(function(f){return f.field}))};TimeUnitNode.prototype.hash\x3d\nfunction(){return\x22TimeUnit \x22+hash(this.formula)};TimeUnitNode.prototype.assemble\x3dfunction(){for(var transforms\x3d[],$jscomp$iter$112\x3d$jscomp.makeIterator(vals(this.formula)),$jscomp$key$f\x3d$jscomp$iter$112.next();!$jscomp$key$f.done;$jscomp$key$f\x3d$jscomp$iter$112.next()){var $jscomp$destructuring$var179\x3d$jscomp$key$f.value;$jscomp$key$f\x3d$jscomp$destructuring$var179.field;var as\x3d$jscomp$destructuring$var179.as,_a\x3dnormalizeTimeUnit($jscomp$destructuring$var179.timeUnit),$jscomp$destructuring$var180\x3d_a;\n$jscomp$destructuring$var179\x3d$jscomp$destructuring$var180.unit;$jscomp$destructuring$var180\x3d$jscomp$destructuring$var180.utc;_a\x3d__rest(_a,[\x22unit\x22,\x22utc\x22]);transforms.push(Object.assign(Object.assign(Object.assign(Object.assign({field:replacePathInField($jscomp$key$f),type:\x22timeunit\x22},$jscomp$destructuring$var179?{units:getTimeUnitParts($jscomp$destructuring$var179)}:{}),$jscomp$destructuring$var180?{timezone:\x22utc\x22}:{}),_a),{as:[as,as+\x22_end\x22]}))}return transforms};var SelectionProjectionComponent\x3dfunction(items){for(var $jscomp$restParams\x3d\n[],$jscomp$restIndex\x3d0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];this.items\x3d$jscomp$restParams;this.hasChannel\x3d{};this.hasField\x3d{}},inputBindings\x3d{has:function(selCmpt){return\x22single\x22\x3d\x3d\x3dselCmpt.type\x26\x26\x22global\x22\x3d\x3d\x3dselCmpt.resolve\x26\x26selCmpt.bind\x26\x26\x22scales\x22!\x3d\x3dselCmpt.bind\x26\x26!isLegendBinding(selCmpt.bind)},parse:function(model,selCmpt,selDef,origDef){origDef.on||delete selCmpt.events;origDef.clear||delete selCmpt.clear},topLevelSignals:function(model,\nselCmpt,signals){var name\x3dselCmpt.name;model\x3dselCmpt.project;var bind\x3dselCmpt.bind,init\x3dselCmpt.init\x26\x26selCmpt.init[0],datum\x3dnearest.has(selCmpt)?\x22(item().isVoronoi ? datum.datum : datum)\x22:\x22datum\x22;model.items.forEach(function(p,i){var _a,_b,sgname\x3dvarName(name+\x22_\x22+p.field);signals.filter(function(s){return s.name\x3d\x3d\x3dsgname}).length||signals.unshift(Object.assign(Object.assign({name:sgname},init?{init:assembleInit(init[i])}:{value:null}),{on:selCmpt.events?[{events:selCmpt.events,update:\x22datum \\x26\\x26 item().mark.marktype !\\x3d\\x3d \x27group\x27 ? \x22+\ndatum+\x22[\x22+$(p.field)+\x22] : null\x22}]:[],bind:null!\x3d\x3d(_b\x3dnull!\x3d\x3d(_a\x3dbind[p.field])\x26\x26void 0!\x3d\x3d_a?_a:bind[p.channel])\x26\x26void 0!\x3d\x3d_b?_b:bind}))});return signals},signals:function(model,selCmpt,signals){var name\x3dselCmpt.name,proj\x3dselCmpt.project;model\x3dsignals.filter(function(s){return s.name\x3d\x3d\x3dname+\x22_tuple\x22})[0];selCmpt\x3dname+\x22_tuple_fields\x22;proj\x3dproj.items.map(function(p){return varName(name+\x22_\x22+p.field)});var valid\x3dproj.map(function(v){return v+\x22 !\\x3d\\x3d null\x22}).join(\x22 \\x26\\x26 \x22);proj.length\x26\x26(model.update\x3d\nvalid+\x22 ? {fields: \x22+selCmpt+\x22, values: [\x22+proj.join(\x22, \x22)+\x22]} : null\x22);delete model.value;delete model.on;return signals}},toggle\x3d{has:function(selCmpt){return\x22multi\x22\x3d\x3d\x3dselCmpt.type\x26\x26!!selCmpt.toggle},signals:function(model,selCmpt,signals){return signals.concat({name:selCmpt.name+\x22_toggle\x22,value:!1,on:[{events:selCmpt.events,update:selCmpt.toggle}]})},modifyExpr:function(model,selCmpt){var tpl\x3dselCmpt.name+\x22_tuple\x22,signal\x3dselCmpt.name+\x22_toggle\x22;return signal+\x22 ? null : \x22+tpl+\x22, \x22+(\x22global\x22\x3d\x3d\x3dselCmpt.resolve?\nsignal+\x22 ? null : true, \x22:signal+\x22 ? null : {unit: \x22+unitName(model)+\x22}, \x22)+(signal+\x22 ? \x22+tpl+\x22 : null\x22)}},scaleBindings\x3d{has:function(selCmpt){return\x22interval\x22\x3d\x3d\x3dselCmpt.type\x26\x26\x22global\x22\x3d\x3d\x3dselCmpt.resolve\x26\x26selCmpt.bind\x26\x26\x22scales\x22\x3d\x3d\x3dselCmpt.bind},parse:function(model,selCmpt){for(var bound\x3dselCmpt.scales\x3d[],$jscomp$iter$119\x3d$jscomp.makeIterator(selCmpt.project.items),$jscomp$key$proj\x3d$jscomp$iter$119.next();!$jscomp$key$proj.done;$jscomp$key$proj\x3d$jscomp$iter$119.next()){$jscomp$key$proj\x3d$jscomp$key$proj.value;\nvar channel\x3d$jscomp$key$proj.channel;if(SCALE_CHANNEL_INDEX[channel]){var scaleType$385\x3d(channel\x3dmodel.getScaleComponent(channel))?channel.get(\x22type\x22):void 0;channel\x26\x26scaleType$385 in CONTINUOUS_DOMAIN_INDEX?(channel.set(\x22selectionExtent\x22,{selection:selCmpt.name,field:$jscomp$key$proj.field},!0),bound.push($jscomp$key$proj)):warn(\x22Scale bindings are currently only supported for scales with unbinned, continuous domains.\x22)}}},topLevelSignals:function(model,selCmpt,signals){var bound\x3dselCmpt.scales.filter(function(proj){return 0\x3d\x3d\x3d\nsignals.filter(function(s){return s.name\x3d\x3d\x3dproj.signals.data}).length});if(!model.parent||isTopLevelLayer(model)||0\x3d\x3d\x3dbound.length)return signals;model\x3dsignals.filter(function(s){return s.name\x3d\x3d\x3dselCmpt.name})[0];var update\x3dmodel.update;if(0\x3c\x3dupdate.indexOf(\x22vlSelectionResolve\x22))model.update\x3d\x22{\x22+bound.map(function(proj){return $(proj.field)+\x22: \x22+proj.signals.data}).join(\x22, \x22)+\x22}\x22;else{for(var $jscomp$iter$120\x3d$jscomp.makeIterator(bound),$jscomp$key$proj\x3d$jscomp$iter$120.next();!$jscomp$key$proj.done;$jscomp$key$proj\x3d\n$jscomp$iter$120.next())$jscomp$key$proj\x3d$jscomp$key$proj.value,$jscomp$key$proj\x3d$($jscomp$key$proj.field)+\x22: \x22+$jscomp$key$proj.signals.data,0\x3eupdate.indexOf($jscomp$key$proj)\x26\x26(update\x3dupdate.substring(0,update.length-1)+\x22, \x22+$jscomp$key$proj+\x22}\x22);model.update\x3dupdate}return signals.concat(bound.map(function(proj){return{name:proj.signals.data}}))},signals:function(model,selCmpt,signals){if(model.parent\x26\x26!isTopLevelLayer(model)){model\x3d{};selCmpt\x3d$jscomp.makeIterator(selCmpt.scales);for(var $jscomp$key$proj\x3d\nselCmpt.next();!$jscomp$key$proj.done;model\x3d{$jscomp$loop$prop$proj$614:model.$jscomp$loop$prop$proj$614},$jscomp$key$proj\x3dselCmpt.next())model.$jscomp$loop$prop$proj$614\x3d$jscomp$key$proj.value,$jscomp$key$proj\x3dsignals.filter(function($jscomp$loop$613){return function(s){return s.name\x3d\x3d\x3d$jscomp$loop$613.$jscomp$loop$prop$proj$614.signals.data}}(model))[0],$jscomp$key$proj.push\x3d\x22outer\x22,delete $jscomp$key$proj.value,delete $jscomp$key$proj.update}return signals}},legendBindings\x3d{has:function(selCmpt){var spec\x3d\n\x22global\x22\x3d\x3d\x3dselCmpt.resolve\x26\x26selCmpt.bind\x26\x26isLegendBinding(selCmpt.bind);selCmpt\x3d1\x3d\x3d\x3dselCmpt.project.items.length\x26\x26\x22_vgsid_\x22!\x3d\x3dselCmpt.project.items[0].field;spec\x26\x26!selCmpt\x26\x26warn(\x22Legend bindings are only supported for selections over an individual field or encoding channel.\x22);return spec\x26\x26selCmpt},parse:function(model,selCmpt,selDef,origDef){var _a;origDef.on||delete selCmpt.events;origDef.clear||delete selCmpt.clear;if(origDef.on||origDef.clear)for(model\x3d$jscomp.makeIterator(selCmpt.events),selDef\x3d\nmodel.next();!selDef.done;selDef\x3dmodel.next())selDef\x3dselDef.value,selDef.filter\x3darray$jscomp$0(null!\x3d\x3d(_a\x3dselDef.filter)\x26\x26void 0!\x3d\x3d_a?_a:[]),0\x3eselDef.filter.indexOf(\x27event.item \\x26\\x26 indexof(event.item.mark.role, \x22legend\x22) \\x3c 0\x27)\x26\x26selDef.filter.push(\x27event.item \\x26\\x26 indexof(event.item.mark.role, \x22legend\x22) \\x3c 0\x27);_a\x3disLegendStreamBinding(selCmpt.bind)?selCmpt.bind.legend:\x22click\x22;_a\x3disString(_a)?parseSelector(_a,\x22view\x22):array$jscomp$0(_a);selCmpt.bind\x3d{legend:{merge:_a}}},topLevelSignals:function(model,\nselCmpt,signals){model\x3dselCmpt.name;for(var stream\x3disLegendStreamBinding(selCmpt.bind)\x26\x26selCmpt.bind.legend,markName\x3dfunction(name){return function(s){s\x3dduplicate(s);s.markname\x3dname;return s}},$jscomp$loop$615\x3d{},$jscomp$iter$123\x3d$jscomp.makeIterator(selCmpt.project.items),$jscomp$key$proj\x3d$jscomp$iter$123.next();!$jscomp$key$proj.done;$jscomp$loop$615\x3d{$jscomp$loop$prop$sgName$616:$jscomp$loop$615.$jscomp$loop$prop$sgName$616},$jscomp$key$proj\x3d$jscomp$iter$123.next())$jscomp$key$proj\x3d$jscomp$key$proj.value,\n$jscomp$key$proj.hasLegend\x26\x26($jscomp$key$proj\x3dvarName($jscomp$key$proj.field)+\x22_legend\x22,$jscomp$loop$615.$jscomp$loop$prop$sgName$616\x3dmodel+\x22_\x22+$jscomp$key$proj,0\x3d\x3d\x3dsignals.filter(function($jscomp$loop$615){return function(s){return s.name\x3d\x3d\x3d$jscomp$loop$615.$jscomp$loop$prop$sgName$616}}($jscomp$loop$615)).length\x26\x26($jscomp$key$proj\x3dstream.merge.map(markName($jscomp$key$proj+\x22_symbols\x22)).concat(stream.merge.map(markName($jscomp$key$proj+\x22_labels\x22))).concat(stream.merge.map(markName($jscomp$key$proj+\n\x22_entries\x22))),signals.unshift(Object.assign(Object.assign({name:$jscomp$loop$615.$jscomp$loop$prop$sgName$616},selCmpt.init?{}:{value:null}),{on:[{events:$jscomp$key$proj,update:\x22datum.value || item().items[0].items[0].datum.value\x22,force:!0},{events:stream.merge,update:\x22!event.item || !datum ? null : \x22+$jscomp$loop$615.$jscomp$loop$prop$sgName$616,force:!0}]}))));return signals},signals:function(model,selCmpt,signals){var name\x3dselCmpt.name,proj\x3dselCmpt.project;model\x3dsignals.find(function(s){return s.name\x3d\x3d\x3d\nname+\x22_tuple\x22});var fields\x3dname+\x22_tuple_fields\x22;proj\x3dproj.items.filter(function(p){return p.hasLegend}).map(function(p){return varName(name+\x22_\x22+varName(p.field)+\x22_legend\x22)});fields\x3dproj.map(function(v){return v+\x22 !\\x3d\\x3d null\x22}).join(\x22 \\x26\\x26 \x22)+\x22 ? {fields: \x22+fields+\x22, values: [\x22+proj.join(\x22, \x22)+\x22]} : null\x22;selCmpt.events\x26\x260\x3cproj.length?model.on.push({events:proj.map(function(signal){return{signal:signal}}),update:fields}):0\x3cproj.length\x26\x26(model.update\x3dfields,delete model.value,delete model.on);\nmodel\x3dsignals.find(function(s){return s.name\x3d\x3d\x3dname+\x22_toggle\x22});fields\x3disLegendStreamBinding(selCmpt.bind)\x26\x26selCmpt.bind.legend;model\x26\x26(selCmpt.events?model.on.push(Object.assign(Object.assign({},model.on[0]),{events:fields})):model.on[0].events\x3dfields);return signals}},compilers\x3d[{has:function(){return!0},parse:function(model,selCmpt,selDef){var _a,_b,_c,name\x3dselCmpt.name,proj\x3dnull!\x3d\x3d(_a\x3dselCmpt.project)\x26\x26void 0!\x3d\x3d_a?_a:selCmpt.project\x3dnew SelectionProjectionComponent,parsed\x3d{};_a\x3d{};var signals\x3d\nnew Set,signalName\x3dfunction(p,range){var suffix\x3d\x22visual\x22\x3d\x3d\x3drange?p.channel:p.field;p\x3dvarName(name+\x22_\x22+suffix);for(var counter\x3d1;signals.has(p);counter++)p\x3dvarName(name+\x22_\x22+suffix+\x22_\x22+counter);signals.add(p);suffix\x3d{};return suffix[range]\x3dp,suffix};if(!selDef.fields\x26\x26!selDef.encodings){var cfg\x3dmodel.config.selection[selDef.type];if(selDef.init)for(var $jscomp$iter$114\x3d$jscomp.makeIterator(array$jscomp$0(selDef.init)),$jscomp$key$init\x3d$jscomp$iter$114.next();!$jscomp$key$init.done;$jscomp$key$init\x3d\n$jscomp$iter$114.next()){$jscomp$key$init\x3d$jscomp.makeIterator(keys($jscomp$key$init.value));for(var $jscomp$key$key\x3d$jscomp$key$init.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$key$init.next())$jscomp$key$key\x3d$jscomp$key$key.value,SINGLE_DEF_UNIT_CHANNEL_INDEX[$jscomp$key$key]?(selDef.encodings||(selDef.encodings\x3d[])).push($jscomp$key$key):\x22interval\x22\x3d\x3d\x3dselDef.type?(warn(\x27Interval selections should be initialized using \x22x\x22 and/or \x22y\x22 keys.\x27),selDef.encodings\x3dcfg.encodings):(selDef.fields||\n(selDef.fields\x3d[])).push($jscomp$key$key)}else selDef.encodings\x3dcfg.encodings,selDef.fields\x3dcfg.fields}cfg\x3d$jscomp.makeIterator(null!\x3d\x3d(_b\x3dselDef.fields)\x26\x26void 0!\x3d\x3d_b?_b:[]);for(_b\x3dcfg.next();!_b.done;_b\x3dcfg.next())_b\x3d_b.value,$jscomp$iter$114\x3d{type:\x22E\x22,field:_b},$jscomp$iter$114.signals\x3dObject.assign({},signalName($jscomp$iter$114,\x22data\x22)),proj.items.push($jscomp$iter$114),proj.hasField[_b]\x3d$jscomp$iter$114;_b\x3d$jscomp.makeIterator(null!\x3d\x3d(_c\x3dselDef.encodings)\x26\x26void 0!\x3d\x3d_c?_c:[]);for(_c\x3d_b.next();!_c.done;_c\x3d\n_b.next())_c\x3d_c.value,($jscomp$iter$114\x3dmodel.fieldDef(_c))?(cfg\x3d$jscomp$iter$114.field,$jscomp$iter$114.aggregate?warn(\x27Cannot project a selection on encoding channel \x22\x27+_c+\x27\x22 as it uses an aggregate function (\x22\x27+$jscomp$iter$114.aggregate+\x27\x22).\x27):cfg?($jscomp$iter$114.timeUnit\x26\x26(cfg\x3dmodel.vgField(_c),$jscomp$key$init\x3d{timeUnit:$jscomp$iter$114.timeUnit,as:cfg,field:$jscomp$iter$114.field},_a[hash($jscomp$key$init)]\x3d$jscomp$key$init),parsed[cfg]||($jscomp$key$init\x3d\x22E\x22,\x22interval\x22\x3d\x3d\x3dselCmpt.type?model.getScaleComponent(_c).get(\x22type\x22)in\nCONTINUOUS_DOMAIN_INDEX\x26\x26($jscomp$key$init\x3d\x22R\x22):$jscomp$iter$114.bin\x26\x26($jscomp$key$init\x3d\x22R-RE\x22),$jscomp$iter$114\x3d{field:cfg,channel:_c,type:$jscomp$key$init},$jscomp$iter$114.signals\x3dObject.assign(Object.assign({},signalName($jscomp$iter$114,\x22data\x22)),signalName($jscomp$iter$114,\x22visual\x22)),proj.items.push(parsed[cfg]\x3d$jscomp$iter$114),proj.hasField[cfg]\x3dproj.hasChannel[_c]\x3dparsed[cfg])):warn(cannotProjectOnChannelWithoutField(_c))):warn(cannotProjectOnChannelWithoutField(_c));selDef.init\x26\x26(model\x3dfunction(i){return proj.items.map(function(p){return void 0!\x3d\x3d\ni[p.channel]?i[p.channel]:i[p.field]})},\x22interval\x22\x3d\x3d\x3dselDef.type?selCmpt.init\x3dmodel(selDef.init):(selDef\x3darray$jscomp$0(selDef.init),selCmpt.init\x3dselDef.map(model)));isEmpty(_a)||(proj.timeUnit\x3dnew TimeUnitNode(null,_a))},signals:function(model,selCmpt,allSignals){var name\x3dselCmpt.name+\x22_tuple_fields\x22;return 0\x3callSignals.filter(function(s){return s.name\x3d\x3d\x3dname}).length?allSignals:allSignals.concat({name:name,value:selCmpt.project.items.map(function(proj){proj\x3d__rest(proj,[\x22signals\x22,\x22hasLegend\x22]);\nproj.field\x3dreplacePathInField(proj.field);return proj})})}},toggle,scaleBindings,legendBindings,{has:function(selCmpt){return\x22interval\x22\x3d\x3d\x3dselCmpt.type\x26\x26selCmpt.translate},signals:function(model,selCmpt,signals){var name\x3dselCmpt.name,hasScales\x3dscaleBindings.has(selCmpt),anchor\x3dname+\x22_translate_anchor\x22,$jscomp$destructuring$var181\x3dselCmpt.project.hasChannel,x\x3d$jscomp$destructuring$var181.x;$jscomp$destructuring$var181\x3d$jscomp$destructuring$var181.y;var events\x3dparseSelector(selCmpt.translate,\x22scope\x22);\nhasScales||(events\x3devents.map(function(e){return e.between[0].markname\x3dname+\x22_brush\x22,e}));signals.push({name:anchor,value:{},on:[{events:events.map(function(e){return e.between[0]}),update:\x22{x: x(unit), y: y(unit)\x22+(void 0!\x3d\x3dx?\x22, extent_x: \x22+(hasScales?\x22domain(\x22+$(model.scaleName(\x22x\x22))+\x22)\x22:\x22slice(\x22+x.signals.visual+\x22)\x22):\x22\x22)+(void 0!\x3d\x3d$jscomp$destructuring$var181?\x22, extent_y: \x22+(hasScales?\x22domain(\x22+$(model.scaleName(\x22y\x22))+\x22)\x22:\x22slice(\x22+$jscomp$destructuring$var181.signals.visual+\x22)\x22):\x22\x22)+\x22}\x22}]},{name:name+\n\x22_translate_delta\x22,value:{},on:[{events:events,update:\x22{x: \x22+anchor+\x22.x - x(unit), y: \x22+anchor+\x22.y - y(unit)}\x22}]});void 0!\x3d\x3dx\x26\x26onDelta(model,selCmpt,x,\x22width\x22,signals);void 0!\x3d\x3d$jscomp$destructuring$var181\x26\x26onDelta(model,selCmpt,$jscomp$destructuring$var181,\x22height\x22,signals);return signals}},{has:function(selCmpt){return\x22interval\x22\x3d\x3d\x3dselCmpt.type\x26\x26selCmpt.zoom},signals:function(model,selCmpt,signals){var name\x3dselCmpt.name,hasScales\x3dscaleBindings.has(selCmpt),delta\x3dname+\x22_zoom_delta\x22,$jscomp$destructuring$var182\x3d\nselCmpt.project.hasChannel,x\x3d$jscomp$destructuring$var182.x;$jscomp$destructuring$var182\x3d$jscomp$destructuring$var182.y;var sx\x3d$(model.scaleName(\x22x\x22)),sy\x3d$(model.scaleName(\x22y\x22)),events\x3dparseSelector(selCmpt.zoom,\x22scope\x22);hasScales||(events\x3devents.map(function(e){return e.markname\x3dname+\x22_brush\x22,e}));signals.push({name:name+\x22_zoom_anchor\x22,on:[{events:events,update:hasScales?\x22{\x22+[sx?\x22x: invert(\x22+sx+\x22, x(unit))\x22:\x22\x22,sy?\x22y: invert(\x22+sy+\x22, y(unit))\x22:\x22\x22].filter(function(expr){return!!expr}).join(\x22, \x22)+\x22}\x22:\n\x22{x: x(unit), y: y(unit)}\x22}]},{name:delta,on:[{events:events,force:!0,update:\x22pow(1.001, event.deltaY * pow(16, event.deltaMode))\x22}]});void 0!\x3d\x3dx\x26\x26onDelta$1(model,selCmpt,x,\x22width\x22,signals);void 0!\x3d\x3d$jscomp$destructuring$var182\x26\x26onDelta$1(model,selCmpt,$jscomp$destructuring$var182,\x22height\x22,signals);return signals}},inputBindings,nearest,{has:function(selCmpt){return void 0!\x3d\x3dselCmpt.clear\x26\x26!1!\x3d\x3dselCmpt.clear},parse:function(model,selCmpt,selDef){selDef.clear\x26\x26(selCmpt.clear\x3disString(selDef.clear)?\nparseSelector(selDef.clear,\x22scope\x22):selDef.clear)},topLevelSignals:function(model,selCmpt,signals){if(inputBindings.has(selCmpt)){model\x3d{};for(var $jscomp$iter$117\x3d$jscomp.makeIterator(selCmpt.project.items),$jscomp$key$proj\x3d$jscomp$iter$117.next();!$jscomp$key$proj.done;model\x3d{$jscomp$loop$prop$proj$609:model.$jscomp$loop$prop$proj$609},$jscomp$key$proj\x3d$jscomp$iter$117.next())model.$jscomp$loop$prop$proj$609\x3d$jscomp$key$proj.value,$jscomp$key$proj\x3dsignals.findIndex(function($jscomp$loop$608){return function(n){return n.name\x3d\x3d\x3d\nvarName(selCmpt.name+\x22_\x22+$jscomp$loop$608.$jscomp$loop$prop$proj$609.field)}}(model)),-1!\x3d\x3d$jscomp$key$proj\x26\x26signals[$jscomp$key$proj].on.push({events:selCmpt.clear,update:\x22null\x22})}return signals},signals:function(model,selCmpt,signals){function addClear(idx,update){-1!\x3d\x3didx\x26\x26signals[idx].on\x26\x26signals[idx].on.push({events:selCmpt.clear,update:update})}if(\x22interval\x22\x3d\x3d\x3dselCmpt.type){model\x3d{};for(var $jscomp$iter$118\x3d$jscomp.makeIterator(selCmpt.project.items),$jscomp$key$proj\x3d$jscomp$iter$118.next();!$jscomp$key$proj.done;model\x3d\n{$jscomp$loop$prop$proj$612:model.$jscomp$loop$prop$proj$612},$jscomp$key$proj\x3d$jscomp$iter$118.next())model.$jscomp$loop$prop$proj$612\x3d$jscomp$key$proj.value,$jscomp$key$proj\x3dsignals.findIndex(function($jscomp$loop$610){return function(n){return n.name\x3d\x3d\x3d$jscomp$loop$610.$jscomp$loop$prop$proj$612.signals.visual}}(model)),addClear($jscomp$key$proj,\x22[0, 0]\x22),-1\x3d\x3d\x3d$jscomp$key$proj\x26\x26($jscomp$key$proj\x3dsignals.findIndex(function($jscomp$loop$610){return function(n){return n.name\x3d\x3d\x3d$jscomp$loop$610.$jscomp$loop$prop$proj$612.signals.data}}(model)),\naddClear($jscomp$key$proj,\x22null\x22))}else model\x3dsignals.findIndex(function(n){return n.name\x3d\x3d\x3dselCmpt.name+\x22_tuple\x22}),addClear(model,\x22null\x22),toggle.has(selCmpt)\x26\x26(model\x3dsignals.findIndex(function(n){return n.name\x3d\x3d\x3dselCmpt.name+\x22_toggle\x22}),addClear(model,\x22false\x22));return signals}}],compilers$1\x3d{single:{signals:singleOrMultiSignals,modifyExpr:function(model,selCmpt){return selCmpt.name+\x22_tuple, \x22+(\x22global\x22\x3d\x3d\x3dselCmpt.resolve?\x22true\x22:\x22{unit: \x22+unitName(model)+\x22}\x22)}},multi:{signals:singleOrMultiSignals,\nmodifyExpr:function(model,selCmpt){return selCmpt.name+\x22_tuple, \x22+(\x22global\x22\x3d\x3d\x3dselCmpt.resolve?\x22null\x22:\x22{unit: \x22+unitName(model)+\x22}\x22)}},interval:{signals:function(model,selCmpt){var name\x3dselCmpt.name,fieldsSg\x3dname+\x22_tuple_fields\x22,hasScales\x3dscaleBindings.has(selCmpt),signals\x3d[],dataSignals\x3d[],scaleTriggers\x3d[];if(selCmpt.translate\x26\x26!hasScales){var filterExpr\x3d\x22!event.item || event.item.mark.name !\\x3d\\x3d \x22+$(name+\x22_brush\x22);events(selCmpt,function(on,evt){var _a;evt\x3darray$jscomp$0(null!\x3d\x3d(_a\x3devt.between[0].filter)\x26\x26\nvoid 0!\x3d\x3d_a?_a:evt.between[0].filter\x3d[]);0\x3eevt.indexOf(filterExpr)\x26\x26evt.push(filterExpr);return on})}selCmpt.project.items.forEach(function(proj,i){var channel\x3dproj.channel;if(\x22x\x22!\x3d\x3dchannel\x26\x26\x22y\x22!\x3d\x3dchannel)warn(\x22Interval selections only support x and y encoding channels.\x22);else{i\x3dchannelSignals(model,selCmpt,proj,selCmpt.init?selCmpt.init[i]:null);var dname\x3dproj.signals.data;proj\x3dproj.signals.visual;var scaleName\x3d$(model.scaleName(channel)),toNum\x3dmodel.getScaleComponent(channel).get(\x22type\x22)in CONTINUOUS_DOMAIN_INDEX?\n\x22+\x22:\x22\x22;signals.push.apply(signals,$jscomp.arrayFromIterable(i));dataSignals.push(dname);scaleTriggers.push({scaleName:model.scaleName(channel),expr:\x22(!isArray(\x22+dname+\x22) || (\x22+(toNum+\x22invert(\x22+scaleName+\x22, \x22+proj+\x22)[0] \\x3d\\x3d\\x3d \x22+toNum+dname+\x22[0] \\x26\\x26 \x22)+(toNum+\x22invert(\x22+scaleName+\x22, \x22+proj+\x22)[1] \\x3d\\x3d\\x3d \x22+toNum+dname+\x22[1]))\x22)})}});hasScales||signals.push({name:name+\x22_scale_trigger\x22,value:{},on:[{events:scaleTriggers.map(function(t){return{scale:t.scaleName}}),update:scaleTriggers.map(function(t){return t.expr}).join(\x22 \\x26\\x26 \x22)+\n(\x22 ? \x22+(name+\x22_scale_trigger : {}\x22))}]});hasScales\x3dselCmpt.init;fieldsSg\x3d\x22unit: \x22+unitName(model)+\x22, fields: \x22+fieldsSg+\x22, values\x22;return signals.concat(Object.assign(Object.assign({name:name+\x22_tuple\x22},hasScales?{init:\x22{\x22+fieldsSg+\x22: \x22+assembleInit(hasScales)+\x22}\x22}:{}),{on:[{events:[{signal:dataSignals.join(\x22 || \x22)}],update:dataSignals.join(\x22 \\x26\\x26 \x22)+(\x22 ? {\x22+fieldsSg+\x22: [\x22+dataSignals+\x22]} : null\x22)}]}))},modifyExpr:function(model,selCmpt){return selCmpt.name+\x22_tuple, \x22+(\x22global\x22\x3d\x3d\x3dselCmpt.resolve?\n\x22true\x22:\x22{unit: \x22+unitName(model)+\x22}\x22)},marks:function(model,selCmpt,marks){var name\x3dselCmpt.name,$jscomp$destructuring$var183\x3dselCmpt.project.hasChannel,x\x3d$jscomp$destructuring$var183.x,y\x3d$jscomp$destructuring$var183.y,xvname\x3dx\x26\x26x.signals.visual,yvname\x3dy\x26\x26y.signals.visual,store\x3d\x22data(\x22+$(selCmpt.name+\x22_store\x22)+\x22)\x22;if(scaleBindings.has(selCmpt))return marks;$jscomp$destructuring$var183\x3d{x:void 0!\x3d\x3dx?{signal:xvname+\x22[0]\x22}:{value:0},y:void 0!\x3d\x3dy?{signal:yvname+\x22[0]\x22}:{value:0},x2:void 0!\x3d\x3dx?{signal:xvname+\n\x22[1]\x22}:{field:{group:\x22width\x22}},y2:void 0!\x3d\x3dy?{signal:yvname+\x22[1]\x22}:{field:{group:\x22height\x22}}};if(\x22global\x22\x3d\x3d\x3dselCmpt.resolve)for(var $jscomp$iter$126\x3d$jscomp.makeIterator(keys($jscomp$destructuring$var183)),$jscomp$key$key\x3d$jscomp$iter$126.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$126.next())$jscomp$key$key\x3d$jscomp$key$key.value,$jscomp$destructuring$var183[$jscomp$key$key]\x3d[Object.assign({test:store+\x22.length \\x26\\x26 \x22+store+\x22[0].unit \\x3d\\x3d\\x3d \x22+unitName(model)},$jscomp$destructuring$var183[$jscomp$key$key]),\n{value:0}];$jscomp$iter$126\x3dselCmpt.mark;model\x3d$jscomp$iter$126.fill;selCmpt\x3d$jscomp$iter$126.fillOpacity;store\x3d$jscomp$iter$126.cursor;var stroke\x3d__rest($jscomp$iter$126,[\x22fill\x22,\x22fillOpacity\x22,\x22cursor\x22]);$jscomp$iter$126\x3dkeys(stroke).reduce(function(def,k){def[k]\x3d[{test:[void 0!\x3d\x3dx\x26\x26xvname+\x22[0] !\\x3d\\x3d \x22+xvname+\x22[1]\x22,void 0!\x3d\x3dy\x26\x26yvname+\x22[0] !\\x3d\\x3d \x22+yvname+\x22[1]\x22].filter(function(t){return t}).join(\x22 \\x26\\x26 \x22),value:stroke[k]},{value:null}];return def},{});return[{name:name+\x22_brush_bg\x22,type:\x22rect\x22,\nclip:!0,encode:{enter:{fill:{value:model},fillOpacity:{value:selCmpt}},update:$jscomp$destructuring$var183}}].concat($jscomp.arrayFromIterable(marks),[{name:name+\x22_brush\x22,type:\x22rect\x22,clip:!0,encode:{enter:Object.assign(Object.assign({},store?{cursor:{value:store}}:{}),{fill:{value:\x22transparent\x22}}),update:Object.assign(Object.assign({},$jscomp$destructuring$var183),$jscomp$iter$126)}}])}}};ASTNode.prototype.visit\x3dfunction(visitor){var n;if(visitor(this))return 1;var c\x3dchildren$jscomp$0(this);var i\x3d\n0;for(n\x3dc.length;i\x3cn;++i)if(c[i].visit(visitor))return 1};var source$jscomp$0,index$jscomp$0,length$jscomp$0,lookahead,RegexNonAsciiIdentifierStart\x3d/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\nRegexNonAsciiIdentifierPart\x3d/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\nkeywords\x3d{\x22if\x22:1,\x22in\x22:1,\x22do\x22:1,\x22var\x22:1,\x22for\x22:1,\x22new\x22:1,\x22try\x22:1,let:1,\x22this\x22:1,\x22else\x22:1,\x22case\x22:1,\x22void\x22:1,\x22with\x22:1,\x22enum\x22:1,\x22while\x22:1,\x22break\x22:1,\x22catch\x22:1,\x22throw\x22:1,\x22const\x22:1,yield:1,\x22class\x22:1,\x22super\x22:1,\x22return\x22:1,\x22typeof\x22:1,\x22delete\x22:1,\x22switch\x22:1,\x22export\x22:1,\x22import\x22:1,\x22public\x22:1,\x22static\x22:1,\x22default\x22:1,\x22finally\x22:1,\x22extends\x22:1,\x22package\x22:1,\x22private\x22:1,\x22function\x22:1,\x22continue\x22:1,\x22debugger\x22:1,\x22interface\x22:1,\x22protected\x22:1,\x22instanceof\x22:1,\x22implements\x22:1},legalKeywords\x3d{\x22if\x22:1},FilterNode\x3dfunction(parent,model,\nfilter){parent\x3dDataFlowNode.call(this,parent)||this;parent.model\x3dmodel;parent.filter\x3dfilter;parent.expr\x3dexpression$jscomp$0(parent.model,parent.filter,parent);parent._dependentFields\x3dgetDependentFields(parent.expr);return parent};$jscomp.inherits(FilterNode,DataFlowNode);FilterNode.prototype.clone\x3dfunction(){return new FilterNode(null,this.model,duplicate(this.filter))};FilterNode.prototype.dependentFields\x3dfunction(){return this._dependentFields};FilterNode.prototype.producedFields\x3dfunction(){return new Set};\nFilterNode.prototype.assemble\x3dfunction(){return{type:\x22filter\x22,expr:this.expr}};FilterNode.prototype.hash\x3dfunction(){return\x22Filter \x22+this.expr};var HEADER_TITLE_PROPERTIES_MAP\x3d{titleAlign:\x22align\x22,titleAnchor:\x22anchor\x22,titleAngle:\x22angle\x22,titleBaseline:\x22baseline\x22,titleColor:\x22color\x22,titleFont:\x22font\x22,titleFontSize:\x22fontSize\x22,titleFontStyle:\x22fontStyle\x22,titleFontWeight:\x22fontWeight\x22,titleLimit:\x22limit\x22,titleLineHeight:\x22lineHeight\x22,titleOrient:\x22orient\x22,titlePadding:\x22offset\x22},HEADER_LABEL_PROPERTIES_MAP\x3d{labelAlign:\x22align\x22,\nlabelAnchor:\x22anchor\x22,labelAngle:\x22angle\x22,labelBaseline:\x22baseline\x22,labelColor:\x22color\x22,labelFont:\x22font\x22,labelFontSize:\x22fontSize\x22,labelFontStyle:\x22fontStyle\x22,labelFontWeight:\x22fontWeight\x22,labelLimit:\x22limit\x22,labelLineHeight:\x22lineHeight\x22,labelOrient:\x22orient\x22,labelPadding:\x22offset\x22},HEADER_TITLE_PROPERTIES\x3dkeys(HEADER_TITLE_PROPERTIES_MAP),HEADER_LABEL_PROPERTIES\x3dkeys(HEADER_LABEL_PROPERTIES_MAP),axisRules\x3d{scale:function($jscomp$destructuring$var197){return $jscomp$destructuring$var197.model.scaleName($jscomp$destructuring$var197.channel)},\nformat:function($jscomp$destructuring$var199){var fieldOrDatumDef\x3d$jscomp$destructuring$var199.fieldOrDatumDef,$jscomp$destructuring$var201\x3d$jscomp$destructuring$var199.axis;return guideFormat(fieldOrDatumDef,fieldOrDatumDef.type,$jscomp$destructuring$var201.format,$jscomp$destructuring$var201.formatType,$jscomp$destructuring$var199.config,!0)},formatType:function($jscomp$destructuring$var202){return guideFormatType($jscomp$destructuring$var202.axis.formatType,$jscomp$destructuring$var202.fieldOrDatumDef,\n$jscomp$destructuring$var202.scaleType)},grid:function($jscomp$destructuring$var205){var fieldOrDatumDef\x3d$jscomp$destructuring$var205.fieldOrDatumDef,axis\x3d$jscomp$destructuring$var205.axis;$jscomp$destructuring$var205\x3d$jscomp$destructuring$var205.scaleType;var _a;return isFieldDef(fieldOrDatumDef)\x26\x26isBinned(fieldOrDatumDef.bin)?!1:null!\x3d\x3d(_a\x3daxis.grid)\x26\x26void 0!\x3d\x3d_a?_a:!($jscomp$destructuring$var205 in DISCRETE_DOMAIN_INDEX)\x26\x26isFieldDef(fieldOrDatumDef)\x26\x26!isBinning(null\x3d\x3d\x3dfieldOrDatumDef||void 0\x3d\x3d\x3d\nfieldOrDatumDef?void 0:fieldOrDatumDef.bin)},gridScale:function($jscomp$destructuring$var207){var JSCompiler_inline_result\x3d$jscomp$destructuring$var207.model;$jscomp$destructuring$var207\x3d\x22x\x22\x3d\x3d\x3d$jscomp$destructuring$var207.channel?\x22y\x22:\x22x\x22;JSCompiler_inline_result\x3dJSCompiler_inline_result.getScaleComponent($jscomp$destructuring$var207)?JSCompiler_inline_result.scaleName($jscomp$destructuring$var207):void 0;return JSCompiler_inline_result},labelAlign:function($jscomp$destructuring$var209){var labelAngle\x3d\n$jscomp$destructuring$var209.labelAngle,orient\x3d$jscomp$destructuring$var209.orient,channel\x3d$jscomp$destructuring$var209.channel;return $jscomp$destructuring$var209.axis.labelAlign||defaultLabelAlign(labelAngle,orient,channel)},labelAngle:function($jscomp$destructuring$var211){return $jscomp$destructuring$var211.labelAngle},labelBaseline:function($jscomp$destructuring$var213){var labelAngle\x3d$jscomp$destructuring$var213.labelAngle,orient\x3d$jscomp$destructuring$var213.orient,channel\x3d$jscomp$destructuring$var213.channel;\nreturn $jscomp$destructuring$var213.axis.labelBaseline||defaultLabelBaseline(labelAngle,orient,channel)},labelFlush:function($jscomp$destructuring$var215){var fieldOrDatumDef\x3d$jscomp$destructuring$var215.fieldOrDatumDef,channel\x3d$jscomp$destructuring$var215.channel,_a;$jscomp$destructuring$var215\x3dnull!\x3d\x3d(_a\x3d$jscomp$destructuring$var215.axis.labelFlush)\x26\x26void 0!\x3d\x3d_a?_a:\x22x\x22\x3d\x3d\x3dchannel\x26\x26contains([\x22quantitative\x22,\x22temporal\x22],fieldOrDatumDef.type)?!0:void 0;return $jscomp$destructuring$var215},labelOverlap:function($jscomp$destructuring$var217){var fieldOrDatumDef\x3d\n$jscomp$destructuring$var217.fieldOrDatumDef,scaleType\x3d$jscomp$destructuring$var217.scaleType,_a;null!\x3d\x3d(_a\x3d$jscomp$destructuring$var217.axis.labelOverlap)\x26\x26void 0!\x3d\x3d_a?scaleType\x3d_a:($jscomp$destructuring$var217\x3dfieldOrDatumDef.type,_a\x3disFieldDef(fieldOrDatumDef)\x26\x26!!fieldOrDatumDef.timeUnit,fieldOrDatumDef\x3disFieldDef(fieldOrDatumDef)?fieldOrDatumDef.sort:void 0,scaleType\x3d_a\x26\x26!isObject(fieldOrDatumDef)||\x22nominal\x22!\x3d\x3d$jscomp$destructuring$var217\x26\x26\x22ordinal\x22!\x3d\x3d$jscomp$destructuring$var217?\x22log\x22\x3d\x3d\x3dscaleType?\n\x22greedy\x22:!0:void 0);return scaleType},orient:function($jscomp$destructuring$var219){return $jscomp$destructuring$var219.orient},tickCount:function($jscomp$destructuring$var221){var channel\x3d$jscomp$destructuring$var221.channel,model\x3d$jscomp$destructuring$var221.model,axis\x3d$jscomp$destructuring$var221.axis,fieldOrDatumDef\x3d$jscomp$destructuring$var221.fieldOrDatumDef;$jscomp$destructuring$var221\x3d$jscomp$destructuring$var221.scaleType;var _a;model\x3d(channel\x3d\x22x\x22\x3d\x3d\x3dchannel?\x22width\x22:\x22y\x22\x3d\x3d\x3dchannel?\x22height\x22:\nvoid 0)?model.getSizeSignalRef(channel):void 0;if(null!\x3d\x3d(_a\x3daxis.tickCount)\x26\x26void 0!\x3d\x3d_a)axis\x3d_a;else a:{var _a$jscomp$0;if(axis.values||$jscomp$destructuring$var221 in DISCRETE_DOMAIN_INDEX||\x22log\x22\x3d\x3d\x3d$jscomp$destructuring$var221)axis\x3dvoid 0;else{if(isFieldDef(fieldOrDatumDef)){if(isBinning(fieldOrDatumDef.bin)){axis\x3d{signal:\x22ceil(\x22+model.signal+\x22/10)\x22};break a}if(fieldOrDatumDef.timeUnit\x26\x26contains([\x22month\x22,\x22hours\x22,\x22day\x22,\x22quarter\x22],null\x3d\x3d\x3d(_a$jscomp$0\x3dnormalizeTimeUnit(fieldOrDatumDef.timeUnit))||\nvoid 0\x3d\x3d\x3d_a$jscomp$0?void 0:_a$jscomp$0.unit)){axis\x3dvoid 0;break a}}axis\x3d{signal:\x22ceil(\x22+model.signal+\x22/40)\x22}}}return axis},title:function($jscomp$destructuring$var223){var axis\x3d$jscomp$destructuring$var223.axis,model\x3d$jscomp$destructuring$var223.model;$jscomp$destructuring$var223\x3d$jscomp$destructuring$var223.channel;if(void 0!\x3d\x3daxis.title)return axis.title;axis\x3dgetFieldDefTitle(model,$jscomp$destructuring$var223);if(void 0!\x3d\x3daxis)return axis;axis\x3dmodel.typedFieldDef($jscomp$destructuring$var223);\nmodel\x3dmodel.fieldDef(\x22x\x22\x3d\x3d\x3d$jscomp$destructuring$var223?\x22x2\x22:\x22y2\x22);return mergeTitleFieldDefs(axis?[toFieldDefBase(axis)]:[],isFieldDef(model)?[toFieldDefBase(model)]:[])},values:function($jscomp$destructuring$var225){var JSCompiler_inline_result\x3d$jscomp$destructuring$var225.fieldOrDatumDef;$jscomp$destructuring$var225\x3d$jscomp$destructuring$var225.axis.values;JSCompiler_inline_result\x3disArray($jscomp$destructuring$var225)?valueArray(JSCompiler_inline_result,$jscomp$destructuring$var225):isSignalRef($jscomp$destructuring$var225)?\n$jscomp$destructuring$var225:void 0;return JSCompiler_inline_result},zindex:function($jscomp$destructuring$var227){var fieldOrDatumDef\x3d$jscomp$destructuring$var227.fieldOrDatumDef,mark\x3d$jscomp$destructuring$var227.mark,_a;$jscomp$destructuring$var227\x3dnull!\x3d\x3d(_a\x3d$jscomp$destructuring$var227.axis.zindex)\x26\x26void 0!\x3d\x3d_a?_a:\x22rect\x22\x3d\x3d\x3dmark\x26\x26isDiscrete(fieldOrDatumDef)?1:0;return $jscomp$destructuring$var227}},CalculateNode\x3dfunction(parent,transform){parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3d\ntransform;parent._dependentFields\x3dgetDependentFields(parent.transform.calculate);return parent};$jscomp.inherits(CalculateNode,DataFlowNode);CalculateNode.prototype.clone\x3dfunction(){return new CalculateNode(null,duplicate(this.transform))};CalculateNode.parseAllForSortIndex\x3dfunction(parent,model){model.forEachFieldDef(function(fieldDef,channel){if(isScaleFieldDef(fieldDef)\x26\x26isSortArray(fieldDef.sort)){var field$395\x3dfieldDef.field,timeUnit\x3dfieldDef.timeUnit,sort\x3dfieldDef.sort;sort\x3dsort.map(function(sortValue,\ni){return fieldFilterExpression({field:field$395,timeUnit:timeUnit,equal:sortValue})+\x22 ? \x22+i+\x22 : \x22}).join(\x22\x22)+sort.length;parent\x3dnew CalculateNode(parent,{calculate:sort,as:sortArrayIndexField(fieldDef,channel,{forAs:!0})})}});return parent};CalculateNode.prototype.producedFields\x3dfunction(){return new Set([this.transform.as])};CalculateNode.prototype.dependentFields\x3dfunction(){return this._dependentFields};CalculateNode.prototype.assemble\x3dfunction(){return{type:\x22formula\x22,expr:this.transform.calculate,\nas:this.transform.as}};CalculateNode.prototype.hash\x3dfunction(){return\x22Calculate \x22+hash(this.transform)};var HEADER_CHANNELS\x3d[\x22row\x22,\x22column\x22],HEADER_TYPES\x3d[\x22header\x22,\x22footer\x22],LAYOUT_TITLE_BAND\x3d{column:{start:0,end:1},row:{start:1,end:0}},LEGEND_COMPONENT_PROPERTY_INDEX\x3dObject.assign(Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,\ngradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,\ntitleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1}),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),LEGEND_COMPONENT_PROPERTIES\x3dkeys(LEGEND_COMPONENT_PROPERTY_INDEX),LegendComponent\x3dfunction(){return Split.apply(this,arguments)||this};$jscomp.inherits(LegendComponent,Split);var legendEncodeRules\x3d\n{symbols:function(symbolsSpec,$jscomp$destructuring$var239){var fieldOrDatumDef\x3d$jscomp$destructuring$var239.fieldOrDatumDef,model\x3d$jscomp$destructuring$var239.model,channel\x3d$jscomp$destructuring$var239.channel,legendCmpt\x3d$jscomp$destructuring$var239.legendCmpt,_a,_b,_c,_d,_e,_f,_g,_h;if(\x22symbol\x22\x3d\x3d\x3d$jscomp$destructuring$var239.legendType){var markDef\x3dmodel.markDef,encoding\x3dmodel.encoding;$jscomp$destructuring$var239\x3dmodel.config;var mark\x3dmodel.mark,filled\x3dmarkDef.filled\x26\x26\x22trail\x22!\x3d\x3dmark;mark\x3dObject.assign(Object.assign({},\napplyMarkConfig({},model,FILL_STROKE_CONFIG)),color$jscomp$0(model,{filled:filled}));var symbolOpacity\x3dnull!\x3d\x3d(_a\x3dlegendCmpt.get(\x22symbolOpacity\x22))\x26\x26void 0!\x3d\x3d_a?_a:$jscomp$destructuring$var239.legend.symbolOpacity;_a\x3dnull!\x3d\x3d(_b\x3dlegendCmpt.get(\x22symbolFillColor\x22))\x26\x26void 0!\x3d\x3d_b?_b:$jscomp$destructuring$var239.legend.symbolFillColor;_b\x3dnull!\x3d\x3d(_c\x3dlegendCmpt.get(\x22symbolStrokeColor\x22))\x26\x26void 0!\x3d\x3d_c?_c:$jscomp$destructuring$var239.legend.symbolStrokeColor;_c\x3dvoid 0\x3d\x3d\x3dsymbolOpacity?null!\x3d\x3d(_d\x3dgetMaxValue(encoding.opacity))\x26\x26\nvoid 0!\x3d\x3d_d?_d:markDef.opacity:void 0;mark.fill\x26\x26(\x22fill\x22\x3d\x3d\x3dchannel||filled\x26\x26\x22color\x22\x3d\x3d\x3dchannel?delete mark.fill:mark.fill.field?_a?delete mark.fill:(mark.fill\x3dsignalOrValueRef(null!\x3d\x3d(_e\x3d$jscomp$destructuring$var239.legend.symbolBaseFillColor)\x26\x26void 0!\x3d\x3d_e?_e:\x22black\x22),mark.fillOpacity\x3dsignalOrValueRef(null!\x3d\x3d_c\x26\x26void 0!\x3d\x3d_c?_c:1)):isArray(mark.fill)\x26\x26(_d\x3dnull!\x3d\x3d(_h\x3dnull!\x3d\x3d(_g\x3dgetFirstConditionValue(null!\x3d\x3d(_f\x3dencoding.fill)\x26\x26void 0!\x3d\x3d_f?_f:encoding.color))\x26\x26void 0!\x3d\x3d_g?_g:markDef.fill)\x26\x26void 0!\x3d\x3d_h?\n_h:filled\x26\x26markDef.color)\x26\x26(mark.fill\x3dsignalOrValueRef(_d)));mark.stroke\x26\x26(\x22stroke\x22\x3d\x3d\x3dchannel||!filled\x26\x26\x22color\x22\x3d\x3d\x3dchannel?delete mark.stroke:mark.stroke.field||_b?delete mark.stroke:isArray(mark.stroke)\x26\x26(_f\x3dgetFirstDefined(getFirstConditionValue(encoding.stroke||encoding.color),markDef.stroke,filled?markDef.color:void 0))\x26\x26(mark.stroke\x3d{value:_f}));\x22opacity\x22!\x3d\x3dchannel\x26\x26((fieldOrDatumDef\x3disFieldDef(fieldOrDatumDef)\x26\x26selectedCondition(model,legendCmpt,fieldOrDatumDef))?mark.opacity\x3d[Object.assign({test:fieldOrDatumDef},\nsignalOrValueRef(null!\x3d\x3d_c\x26\x26void 0!\x3d\x3d_c?_c:1)),signalOrValueRef($jscomp$destructuring$var239.legend.unselectedOpacity)]:_c\x26\x26(mark.opacity\x3dsignalOrValueRef(_c)));mark\x3dObject.assign(Object.assign({},mark),symbolsSpec);return isEmpty(mark)?void 0:mark}},gradient:function(gradientSpec,$jscomp$destructuring$var242){var _a;if(\x22gradient\x22\x3d\x3d\x3d$jscomp$destructuring$var242.legendType){var $jscomp$destructuring$var244\x3d$jscomp$destructuring$var242.model,config\x3d$jscomp$destructuring$var244.config,markDef\x3d$jscomp$destructuring$var244.markDef,\nencoding\x3d$jscomp$destructuring$var244.encoding;$jscomp$destructuring$var244\x3d{};if($jscomp$destructuring$var242\x3dvoid 0\x3d\x3d\x3d(null!\x3d\x3d(_a\x3d$jscomp$destructuring$var242.legendCmpt.get(\x22gradientOpacity\x22))\x26\x26void 0!\x3d\x3d_a?_a:config.legend.gradientOpacity)?getMaxValue(encoding.opacity)||markDef.opacity:void 0)$jscomp$destructuring$var244.opacity\x3dsignalOrValueRef($jscomp$destructuring$var242);$jscomp$destructuring$var244\x3dObject.assign(Object.assign({},$jscomp$destructuring$var244),gradientSpec);return isEmpty($jscomp$destructuring$var244)?\nvoid 0:$jscomp$destructuring$var244}},labels:function(specifiedlabelsSpec,$jscomp$destructuring$var245){var fieldOrDatumDef\x3d$jscomp$destructuring$var245.fieldOrDatumDef,model\x3d$jscomp$destructuring$var245.model,legendCmpt\x3d$jscomp$destructuring$var245.legendCmpt,legend\x3dmodel.legend($jscomp$destructuring$var245.channel)||{};$jscomp$destructuring$var245\x3dmodel.config;model\x3d(model\x3disFieldDef(fieldOrDatumDef)?selectedCondition(model,legendCmpt,fieldOrDatumDef):void 0)?[{test:model,value:1},{value:$jscomp$destructuring$var245.legend.unselectedOpacity}]:\nvoid 0;legendCmpt\x3dlegend.format;legend\x3dlegend.formatType;fieldOrDatumDef\x3disCustomFormatType(legend)?formatCustomType({fieldOrDatumDef:fieldOrDatumDef,field:\x22datum.value\x22,format:legendCmpt,formatType:legend,config:$jscomp$destructuring$var245}):void 0;specifiedlabelsSpec\x3dObject.assign(Object.assign(Object.assign({},model?{opacity:model}:{}),fieldOrDatumDef?{text:fieldOrDatumDef}:{}),specifiedlabelsSpec);return isEmpty(specifiedlabelsSpec)?void 0:specifiedlabelsSpec},entries:function(entriesSpec,$jscomp$destructuring$var248){$jscomp$destructuring$var248\x3d\n$jscomp$destructuring$var248.legendCmpt.get(\x22selections\x22);return(null\x3d\x3d\x3d$jscomp$destructuring$var248||void 0\x3d\x3d\x3d$jscomp$destructuring$var248?0:$jscomp$destructuring$var248.length)?Object.assign(Object.assign({},entriesSpec),{fill:{value:\x22transparent\x22}}):entriesSpec}},legendRules\x3d{direction:function($jscomp$destructuring$var250){return $jscomp$destructuring$var250.direction},format:function($jscomp$destructuring$var252){var fieldOrDatumDef\x3d$jscomp$destructuring$var252.fieldOrDatumDef,$jscomp$destructuring$var254\x3d\n$jscomp$destructuring$var252.legend;return guideFormat(fieldOrDatumDef,fieldOrDatumDef.type,$jscomp$destructuring$var254.format,$jscomp$destructuring$var254.formatType,$jscomp$destructuring$var252.config,!1)},formatType:function($jscomp$destructuring$var255){return guideFormatType($jscomp$destructuring$var255.legend.formatType,$jscomp$destructuring$var255.fieldOrDatumDef,$jscomp$destructuring$var255.scaleType)},gradientLength:function(params){var _a,_b,legendConfig\x3dparams.legendConfig;if(null!\x3d\x3d(_b\x3d\nnull!\x3d\x3d(_a\x3dparams.legend.gradientLength)\x26\x26void 0!\x3d\x3d_a?_a:legendConfig.gradientLength)\x26\x26void 0!\x3d\x3d_b)params\x3d_b;else{_a\x3dparams.model;_b\x3dparams.direction;legendConfig\x3dparams.orient;var $jscomp$inline_3107\x3dparams.legendConfig,gradientHorizontalMaxLength\x3d$jscomp$inline_3107.gradientHorizontalMaxLength,gradientHorizontalMinLength\x3d$jscomp$inline_3107.gradientHorizontalMinLength,gradientVerticalMaxLength\x3d$jscomp$inline_3107.gradientVerticalMaxLength;$jscomp$inline_3107\x3d$jscomp$inline_3107.gradientVerticalMinLength;\nparams\x3dparams.scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX?\x22horizontal\x22\x3d\x3d\x3d_b?\x22top\x22\x3d\x3d\x3dlegendConfig||\x22bottom\x22\x3d\x3d\x3dlegendConfig?{signal:\x22clamp(\x22+_a.getSizeSignalRef(\x22width\x22).signal+\x22, \x22+gradientHorizontalMinLength+\x22, \x22+gradientHorizontalMaxLength+\x22)\x22}:gradientHorizontalMinLength:{signal:\x22clamp(\x22+_a.getSizeSignalRef(\x22height\x22).signal+\x22, \x22+$jscomp$inline_3107+\x22, \x22+gradientVerticalMaxLength+\x22)\x22}:void 0}return params},labelOverlap:function($jscomp$destructuring$var259){var legendConfig\x3d$jscomp$destructuring$var259.legendConfig,\nscaleType\x3d$jscomp$destructuring$var259.scaleType,_a,_b;$jscomp$destructuring$var259\x3dnull!\x3d\x3d(_b\x3dnull!\x3d\x3d(_a\x3d$jscomp$destructuring$var259.legend.labelOverlap)\x26\x26void 0!\x3d\x3d_a?_a:legendConfig.labelOverlap)\x26\x26void 0!\x3d\x3d_b?_b:contains([\x22quantile\x22,\x22threshold\x22,\x22log\x22],scaleType)?\x22greedy\x22:void 0;return $jscomp$destructuring$var259},symbolType:function($jscomp$destructuring$var261){var markDef\x3d$jscomp$destructuring$var261.markDef,channel\x3d$jscomp$destructuring$var261.channel,encoding\x3d$jscomp$destructuring$var261.encoding,\n_a;if(null!\x3d\x3d(_a\x3d$jscomp$destructuring$var261.legend.symbolType)\x26\x26void 0!\x3d\x3d_a)var JSCompiler_temp\x3d_a;else a:{$jscomp$destructuring$var261\x3dmarkDef.type;markDef\x3dmarkDef.shape;if(\x22shape\x22!\x3d\x3dchannel\x26\x26(channel\x3dnull!\x3d\x3d(JSCompiler_temp\x3dgetFirstConditionValue(encoding.shape))\x26\x26void 0!\x3d\x3dJSCompiler_temp?JSCompiler_temp:markDef)){JSCompiler_temp\x3dchannel;break a}switch($jscomp$destructuring$var261){case \x22bar\x22:case \x22rect\x22:case \x22image\x22:case \x22square\x22:JSCompiler_temp\x3d\x22square\x22;break a;case \x22line\x22:case \x22trail\x22:case \x22rule\x22:JSCompiler_temp\x3d\n\x22stroke\x22;break a;case \x22arc\x22:case \x22point\x22:case \x22circle\x22:case \x22tick\x22:case \x22geoshape\x22:case \x22area\x22:case \x22text\x22:JSCompiler_temp\x3d\x22circle\x22;break a}JSCompiler_temp\x3dvoid 0}return JSCompiler_temp},title:function($jscomp$destructuring$var263){return title$jscomp$0($jscomp$destructuring$var263.fieldOrDatumDef,$jscomp$destructuring$var263.config,{allowDisabling:!0})},type:function($jscomp$destructuring$var265){var legendType\x3d$jscomp$destructuring$var265.legendType,scaleType\x3d$jscomp$destructuring$var265.scaleType;\nif(isColorChannel($jscomp$destructuring$var265.channel)\x26\x26scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX){if(\x22gradient\x22\x3d\x3d\x3dlegendType)return}else if(\x22symbol\x22\x3d\x3d\x3dlegendType)return;return legendType},values:function($jscomp$destructuring$var267){var JSCompiler_inline_result\x3d$jscomp$destructuring$var267.fieldOrDatumDef;$jscomp$destructuring$var267\x3d$jscomp$destructuring$var267.legend.values;JSCompiler_inline_result\x3disArray($jscomp$destructuring$var267)?valueArray(JSCompiler_inline_result,$jscomp$destructuring$var267):\nisSignalRef($jscomp$destructuring$var267)?$jscomp$destructuring$var267:void 0;return JSCompiler_inline_result}},PROJECTION_PROPERTIES\x3d\x22type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt\x22.split(\x22 \x22),ProjectionComponent\x3dfunction(name,specifiedProjection,size,data){name\x3dSplit.call(this,Object.assign({},specifiedProjection),{name:name})||this;name.specifiedProjection\x3dspecifiedProjection;name.size\x3dsize;name.data\x3ddata;\nname.merged\x3d!1;return name};$jscomp.inherits(ProjectionComponent,Split);$jscomp.global.Object.defineProperties(ProjectionComponent.prototype,{isFit:{configurable:!0,enumerable:!0,get:function(){return!!this.data}}});var BinNode\x3dfunction(parent,bins){parent\x3dDataFlowNode.call(this,parent)||this;parent.bins\x3dbins;return parent};$jscomp.inherits(BinNode,DataFlowNode);BinNode.prototype.clone\x3dfunction(){return new BinNode(null,duplicate(this.bins))};BinNode.makeFromEncoding\x3dfunction(parent,model){var bins\x3d\nmodel.reduceFieldDef(function(binComponentIndex,fieldDef,channel){if(isTypedFieldDef(fieldDef)\x26\x26isBinning(fieldDef.bin)){var $jscomp$destructuring$var284\x3dcreateBinComponent(fieldDef,fieldDef.bin,model),key\x3d$jscomp$destructuring$var284.key;binComponentIndex[key]\x3dObject.assign(Object.assign(Object.assign({},$jscomp$destructuring$var284.binComponent),binComponentIndex[key]),rangeFormula(model,fieldDef,channel,model.config))}return binComponentIndex},{});return isEmpty(bins)?null:new BinNode(parent,bins)};\nBinNode.makeFromTransform\x3dfunction(parent,t,model){t\x3dcreateBinComponent(t,t.bin,model);model\x3d{};return new BinNode(parent,(model[t.key]\x3dt.binComponent,model))};BinNode.prototype.merge\x3dfunction(other,renameSignal){for(var $jscomp$iter$156\x3d$jscomp.makeIterator(keys(other.bins)),$jscomp$key$key\x3d$jscomp$iter$156.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$156.next())$jscomp$key$key\x3d$jscomp$key$key.value,$jscomp$key$key in this.bins?(renameSignal(other.bins[$jscomp$key$key].signal,this.bins[$jscomp$key$key].signal),\nthis.bins[$jscomp$key$key].as\x3dunique([].concat($jscomp.arrayFromIterable(this.bins[$jscomp$key$key].as),$jscomp.arrayFromIterable(other.bins[$jscomp$key$key].as)),hash)):this.bins[$jscomp$key$key]\x3dother.bins[$jscomp$key$key];renameSignal\x3d$jscomp.makeIterator(other.children);for($jscomp$iter$156\x3drenameSignal.next();!$jscomp$iter$156.done;$jscomp$iter$156\x3drenameSignal.next())$jscomp$iter$156\x3d$jscomp$iter$156.value,other.removeChild($jscomp$iter$156),$jscomp$iter$156.parent\x3dthis;other.remove()};BinNode.prototype.producedFields\x3d\nfunction(){return new Set(vals(this.bins).map(function(c){return c.as}).flat(2))};BinNode.prototype.dependentFields\x3dfunction(){return new Set(vals(this.bins).map(function(c){return c.field}))};BinNode.prototype.hash\x3dfunction(){return\x22Bin \x22+hash(this.bins)};BinNode.prototype.assemble\x3dfunction(){return vals(this.bins).flatMap(function(bin){var transform\x3d[],$jscomp$destructuring$var286\x3d$jscomp.makeIterator(bin.as),binAs\x3d$jscomp$destructuring$var286.next().value;$jscomp$destructuring$var286\x3d$jscomp.arrayFromIterator($jscomp$destructuring$var286);\nvar _a\x3dbin.bin,extent\x3d_a.extent;_a\x3d__rest(_a,[\x22extent\x22]);_a\x3dObject.assign(Object.assign(Object.assign({type:\x22bin\x22,field:replacePathInField(bin.field),as:binAs,signal:bin.signal},isSelectionExtent(extent)?{extent:null}:{extent:extent}),bin.span?{span:{signal:\x22span(\x22+bin.span+\x22)\x22}}:{}),_a);!extent\x26\x26bin.extentSignal\x26\x26(transform.push({type:\x22extent\x22,field:replacePathInField(bin.field),signal:bin.extentSignal}),_a.extent\x3d{signal:bin.extentSignal});transform.push(_a);$jscomp$destructuring$var286\x3d$jscomp.makeIterator($jscomp$destructuring$var286);\nfor(extent\x3d$jscomp$destructuring$var286.next();!extent.done;extent\x3d$jscomp$destructuring$var286.next())for(extent\x3dextent.value,_a\x3d0;2\x3e_a;_a++)transform.push({type:\x22formula\x22,expr:vgField({field:binAs[_a]},{expr:\x22datum\x22}),as:extent[_a]});bin.formula\x26\x26transform.push({type:\x22formula\x22,expr:bin.formula,as:bin.formulaAs});return transform})};var AggregateNode\x3dfunction(parent,dimensions,measures){parent\x3dDataFlowNode.call(this,parent)||this;parent.dimensions\x3ddimensions;parent.measures\x3dmeasures;return parent};\n$jscomp.inherits(AggregateNode,DataFlowNode);AggregateNode.prototype.clone\x3dfunction(){return new AggregateNode(null,new Set(this.dimensions),duplicate(this.measures))};AggregateNode.makeFromEncoding\x3dfunction(parent,model){var isAggregate\x3d!1;model.forEachFieldDef(function(fd){fd.aggregate\x26\x26(isAggregate\x3d!0)});var meas\x3d{},dims\x3dnew Set;if(!isAggregate)return null;model.forEachFieldDef(function(fieldDef,channel){var _a,_b,_c,_d,aggregate\x3dfieldDef.aggregate,field\x3dfieldDef.field;aggregate?\x22count\x22\x3d\x3d\x3daggregate?\n(meas[\x22*\x22]\x3dnull!\x3d\x3d(_a\x3dmeas[\x22*\x22])\x26\x26void 0!\x3d\x3d_a?_a:{},meas[\x22*\x22].count\x3dnew Set([vgField(fieldDef,{forAs:!0})])):(isArgminDef(aggregate)||isArgmaxDef(aggregate)?(fieldDef\x3disArgminDef(aggregate)?\x22argmin\x22:\x22argmax\x22,aggregate\x3daggregate[fieldDef],meas[aggregate]\x3dnull!\x3d\x3d(_b\x3dmeas[aggregate])\x26\x26void 0!\x3d\x3d_b?_b:{},meas[aggregate][fieldDef]\x3dnew Set([vgField({op:fieldDef,field:aggregate},{forAs:!0})])):(meas[field]\x3dnull!\x3d\x3d(_c\x3dmeas[field])\x26\x26void 0!\x3d\x3d_c?_c:{},meas[field][aggregate]\x3dnew Set([vgField(fieldDef,{forAs:!0})])),\nSCALE_CHANNEL_INDEX[channel]\x26\x26\x22unaggregated\x22\x3d\x3d\x3dmodel.scaleDomain(channel)\x26\x26(meas[field]\x3dnull!\x3d\x3d(_d\x3dmeas[field])\x26\x26void 0!\x3d\x3d_d?_d:{},meas[field].min\x3dnew Set([vgField({field:field,aggregate:\x22min\x22},{forAs:!0})]),meas[field].max\x3dnew Set([vgField({field:field,aggregate:\x22max\x22},{forAs:!0})]))):(_b\x3disUnitModel(model)?model.encoding[getSecondaryRangeChannel(channel)]:void 0,isTypedFieldDef(fieldDef)\x26\x26isUnitModel(model)\x26\x26hasBand(channel,fieldDef,_b,model.stack,model.markDef,model.config)?(dims.add(vgField(fieldDef,\n{})),dims.add(vgField(fieldDef,{suffix:\x22end\x22})),fieldDef.bin\x26\x26binRequiresRange(fieldDef,channel)\x26\x26dims.add(vgField(fieldDef,{binSuffix:\x22range\x22}))):channel in GEO_POSIITON_CHANNEL_INDEX?(channel\x3dgetPositionChannelFromLatLong(channel),dims.add(model.getName(channel))):dims.add(vgField(fieldDef)))});return 0\x3d\x3d\x3ddims.size+keys(meas).length?null:new AggregateNode(parent,dims,meas)};AggregateNode.makeFromTransform\x3dfunction(parent,t){for(var _a,_b,_c,dims\x3dnew Set,meas\x3d{},$jscomp$iter$161\x3d$jscomp.makeIterator(t.aggregate),\n$jscomp$key$s\x3d$jscomp$iter$161.next();!$jscomp$key$s.done;$jscomp$key$s\x3d$jscomp$iter$161.next()){var $jscomp$destructuring$var289\x3d$jscomp$key$s\x3d$jscomp$key$s.value,op\x3d$jscomp$destructuring$var289.op,field$402\x3d$jscomp$destructuring$var289.field;$jscomp$destructuring$var289\x3d$jscomp$destructuring$var289.as;op\x26\x26(\x22count\x22\x3d\x3d\x3dop?(meas[\x22*\x22]\x3dnull!\x3d\x3d(_a\x3dmeas[\x22*\x22])\x26\x26void 0!\x3d\x3d_a?_a:{},meas[\x22*\x22].count\x3dnew Set([$jscomp$destructuring$var289?$jscomp$destructuring$var289:vgField($jscomp$key$s,{forAs:!0})])):(meas[field$402]\x3d\nnull!\x3d\x3d(_b\x3dmeas[field$402])\x26\x26void 0!\x3d\x3d_b?_b:{},meas[field$402][op]\x3dnew Set([$jscomp$destructuring$var289?$jscomp$destructuring$var289:vgField($jscomp$key$s,{forAs:!0})])))}t\x3d$jscomp.makeIterator(null!\x3d\x3d(_c\x3dt.groupby)\x26\x26void 0!\x3d\x3d_c?_c:[]);for($jscomp$key$s\x3dt.next();!$jscomp$key$s.done;$jscomp$key$s\x3dt.next())dims.add($jscomp$key$s.value);return 0\x3d\x3d\x3ddims.size+keys(meas).length?null:new AggregateNode(parent,dims,meas)};AggregateNode.prototype.merge\x3dfunction(other){a:{var a\x3dthis.dimensions;var JSCompiler_inline_result\x3d\nother.dimensions;if(a.size!\x3d\x3dJSCompiler_inline_result.size)JSCompiler_inline_result\x3d!1;else{a\x3d$jscomp.makeIterator(a);for(var $jscomp$inline_1610\x3da.next();!$jscomp$inline_1610.done;$jscomp$inline_1610\x3da.next())if(!JSCompiler_inline_result.has($jscomp$inline_1610.value)){JSCompiler_inline_result\x3d!1;break a}JSCompiler_inline_result\x3d!0}}if(JSCompiler_inline_result){JSCompiler_inline_result\x3dthis.measures;other\x3dother.measures;var _a;a\x3d$jscomp.makeIterator(keys(other));for($jscomp$inline_1610\x3da.next();!$jscomp$inline_1610.done;$jscomp$inline_1610\x3d\na.next()){$jscomp$inline_1610\x3d$jscomp$inline_1610.value;for(var ops\x3dother[$jscomp$inline_1610],$jscomp$inline_1620\x3d$jscomp.makeIterator(keys(ops)),$jscomp$inline_1621\x3d$jscomp$inline_1620.next();!$jscomp$inline_1621.done;$jscomp$inline_1621\x3d$jscomp$inline_1620.next())if($jscomp$inline_1621\x3d$jscomp$inline_1621.value,$jscomp$inline_1610 in JSCompiler_inline_result)JSCompiler_inline_result[$jscomp$inline_1610][$jscomp$inline_1621]\x3dnew Set([].concat($jscomp.arrayFromIterable(null!\x3d\x3d(_a\x3dJSCompiler_inline_result[$jscomp$inline_1610][$jscomp$inline_1621])\x26\x26\nvoid 0!\x3d\x3d_a?_a:[]),$jscomp.arrayFromIterable(ops[$jscomp$inline_1621])));else{var $jscomp$inline_1623\x3d{};JSCompiler_inline_result[$jscomp$inline_1610]\x3d($jscomp$inline_1623[$jscomp$inline_1621]\x3dops[$jscomp$inline_1621],$jscomp$inline_1623)}}return!0}debug(\x22different dimensions, cannot merge\x22);return!1};AggregateNode.prototype.addDimensions\x3dfunction(fields){fields.forEach(this.dimensions.add,this.dimensions)};AggregateNode.prototype.dependentFields\x3dfunction(){return new Set([].concat($jscomp.arrayFromIterable(this.dimensions),\n$jscomp.arrayFromIterable(keys(this.measures))))};AggregateNode.prototype.producedFields\x3dfunction(){for(var out\x3dnew Set,$jscomp$iter$164\x3d$jscomp.makeIterator(keys(this.measures)),$jscomp$key$field\x3d$jscomp$iter$164.next();!$jscomp$key$field.done;$jscomp$key$field\x3d$jscomp$iter$164.next()){$jscomp$key$field\x3d$jscomp$key$field.value;for(var $jscomp$iter$163\x3d$jscomp.makeIterator(keys(this.measures[$jscomp$key$field])),$jscomp$key$op\x3d$jscomp$iter$163.next();!$jscomp$key$op.done;$jscomp$key$op\x3d$jscomp$iter$163.next()){$jscomp$key$op\x3d\n$jscomp$key$op.value;var m\x3dthis.measures[$jscomp$key$field][$jscomp$key$op];0\x3d\x3d\x3dm.size?out.add($jscomp$key$op+\x22_\x22+$jscomp$key$field):m.forEach(out.add,out)}}return out};AggregateNode.prototype.hash\x3dfunction(){return\x22Aggregate \x22+hash({dimensions:this.dimensions,measures:this.measures})};AggregateNode.prototype.assemble\x3dfunction(){for(var ops\x3d[],fields\x3d[],as\x3d[],$jscomp$iter$167\x3d$jscomp.makeIterator(keys(this.measures)),$jscomp$key$field\x3d$jscomp$iter$167.next();!$jscomp$key$field.done;$jscomp$key$field\x3d\n$jscomp$iter$167.next()){$jscomp$key$field\x3d$jscomp$key$field.value;for(var $jscomp$iter$166\x3d$jscomp.makeIterator(keys(this.measures[$jscomp$key$field])),$jscomp$key$op\x3d$jscomp$iter$166.next();!$jscomp$key$op.done;$jscomp$key$op\x3d$jscomp$iter$166.next()){$jscomp$key$op\x3d$jscomp$key$op.value;for(var $jscomp$iter$165\x3d$jscomp.makeIterator(this.measures[$jscomp$key$field][$jscomp$key$op]),$jscomp$key$alias\x3d$jscomp$iter$165.next();!$jscomp$key$alias.done;$jscomp$key$alias\x3d$jscomp$iter$165.next())as.push($jscomp$key$alias.value),\nops.push($jscomp$key$op),fields.push(\x22*\x22\x3d\x3d\x3d$jscomp$key$field?null:replacePathInField($jscomp$key$field))}}return{type:\x22aggregate\x22,groupby:[].concat($jscomp.arrayFromIterable(this.dimensions)).map(replacePathInField),ops:ops,fields:fields,as:as}};$jscomp.global.Object.defineProperties(AggregateNode.prototype,{groupBy:{configurable:!0,enumerable:!0,get:function(){return this.dimensions}}});var FacetNode\x3dfunction(parent,model,name,data){parent\x3dDataFlowNode.call(this,parent)||this;parent.model\x3dmodel;\nparent.name\x3dname;parent.data\x3ddata;name\x3d$jscomp.makeIterator(FACET_CHANNELS);for(data\x3dname.next();!data.done;data\x3dname.next()){data\x3ddata.value;var fieldDef\x3dmodel.facet[data];if(fieldDef){var $jscomp$destructuring$var290\x3dfieldDef,bin\x3d$jscomp$destructuring$var290.bin;$jscomp$destructuring$var290\x3d$jscomp$destructuring$var290.sort;parent[data]\x3dObject.assign({name:model.getName(data+\x22_domain\x22),fields:[vgField(fieldDef)].concat($jscomp.arrayFromIterable(isBinning(bin)?[vgField(fieldDef,{binSuffix:\x22end\x22})]:\n[]))},isSortField($jscomp$destructuring$var290)?{sortField:$jscomp$destructuring$var290}:isArray($jscomp$destructuring$var290)?{sortIndexField:sortArrayIndexField(fieldDef,data)}:{})}}parent.childModel\x3dmodel.child;return parent};$jscomp.inherits(FacetNode,DataFlowNode);FacetNode.prototype.hash\x3dfunction(){for(var out\x3d\x22Facet\x22,$jscomp$iter$169\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$169.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$169.next())$jscomp$key$channel\x3d\n$jscomp$key$channel.value,this[$jscomp$key$channel]\x26\x26(out+\x3d\x22 \x22+$jscomp$key$channel.charAt(0)+\x22:\x22+hash(this[$jscomp$key$channel]));return out};FacetNode.prototype.dependentFields\x3dfunction(){for(var depFields\x3dnew Set(this.fields),$jscomp$iter$170\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$170.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$170.next())$jscomp$key$channel\x3d$jscomp$key$channel.value,this[$jscomp$key$channel]\x26\x26(this[$jscomp$key$channel].sortField\x26\x26\ndepFields.add(this[$jscomp$key$channel].sortField.field),this[$jscomp$key$channel].sortIndexField\x26\x26depFields.add(this[$jscomp$key$channel].sortIndexField));return depFields};FacetNode.prototype.producedFields\x3dfunction(){return new Set};FacetNode.prototype.getSource\x3dfunction(){return this.name};FacetNode.prototype.getChildIndependentFieldsWithStep\x3dfunction(){for(var childIndependentFieldsWithStep\x3d{},$jscomp$iter$171\x3d$jscomp.makeIterator(POSITION_SCALE_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$171.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d\n$jscomp$iter$171.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var childScaleComponent\x3dthis.childModel.component.scales[$jscomp$key$channel];if(childScaleComponent\x26\x26!childScaleComponent.merged){var type\x3dchildScaleComponent.get(\x22type\x22);childScaleComponent\x3dchildScaleComponent.get(\x22range\x22);type in DISCRETE_DOMAIN_INDEX\x26\x26isVgRangeStep(childScaleComponent)\x26\x26(type\x3dassembleDomain(this.childModel,$jscomp$key$channel),(type\x3dgetFieldFromDomain(type))?childIndependentFieldsWithStep[$jscomp$key$channel]\x3d\ntype:warn(unknownField($jscomp$key$channel)))}}return childIndependentFieldsWithStep};FacetNode.prototype.assembleRowColumnHeaderData\x3dfunction(channel,crossedDataName,childIndependentFieldsWithStep){var childChannel\x3d{row:\x22y\x22,column:\x22x\x22}[channel],fields\x3d[],ops\x3d[],as\x3d[];childIndependentFieldsWithStep\x26\x26childIndependentFieldsWithStep[childChannel]\x26\x26(crossedDataName?(fields.push(\x22distinct_\x22+childIndependentFieldsWithStep[childChannel]),ops.push(\x22max\x22)):(fields.push(childIndependentFieldsWithStep[childChannel]),\nops.push(\x22distinct\x22)),as.push(\x22distinct_\x22+childIndependentFieldsWithStep[childChannel]));childChannel\x3dthis[channel];childIndependentFieldsWithStep\x3dchildChannel.sortField;childChannel\x3dchildChannel.sortIndexField;childIndependentFieldsWithStep?(childChannel\x3dvoid 0\x3d\x3d\x3dchildIndependentFieldsWithStep.op?\x22min\x22:childIndependentFieldsWithStep.op,fields.push(childIndependentFieldsWithStep.field),ops.push(childChannel),as.push(vgField(childIndependentFieldsWithStep,{forAs:!0}))):childChannel\x26\x26(fields.push(childChannel),\nops.push(\x22max\x22),as.push(childChannel));return{name:this[channel].name,source:null!\x3d\x3dcrossedDataName\x26\x26void 0!\x3d\x3dcrossedDataName?crossedDataName:this.data,transform:[Object.assign({type:\x22aggregate\x22,groupby:this[channel].fields},fields.length?{fields:fields,ops:ops,as:as}:{})]}};FacetNode.prototype.assembleFacetHeaderData\x3dfunction(childIndependentFieldsWithStep){for(var _a,_b,columns\x3dthis.model.layout.columns,layoutHeaders\x3dthis.model.component.layoutHeaders,data\x3d[],hasSharedAxis\x3d{},$jscomp$iter$174\x3d$jscomp.makeIterator(HEADER_CHANNELS),\n$jscomp$key$headerChannel\x3d$jscomp$iter$174.next();!$jscomp$key$headerChannel.done;$jscomp$key$headerChannel\x3d$jscomp$iter$174.next()){$jscomp$key$headerChannel\x3d$jscomp$key$headerChannel.value;for(var $jscomp$iter$173\x3d$jscomp.makeIterator(HEADER_TYPES),$jscomp$key$headerType\x3d$jscomp$iter$173.next();!$jscomp$key$headerType.done;$jscomp$key$headerType\x3d$jscomp$iter$173.next()){$jscomp$key$headerType\x3d$jscomp$key$headerType.value;$jscomp$key$headerType\x3dnull!\x3d\x3d(_a\x3dlayoutHeaders[$jscomp$key$headerChannel]\x26\x26\nlayoutHeaders[$jscomp$key$headerChannel][$jscomp$key$headerType])\x26\x26void 0!\x3d\x3d_a?_a:[];$jscomp$key$headerType\x3d$jscomp.makeIterator($jscomp$key$headerType);for(var $jscomp$key$header\x3d$jscomp$key$headerType.next();!$jscomp$key$header.done;$jscomp$key$header\x3d$jscomp$key$headerType.next())if(0\x3c(null\x3d\x3d\x3d(_b\x3d$jscomp$key$header.value.axes)||void 0\x3d\x3d\x3d_b?void 0:_b.length)){hasSharedAxis[$jscomp$key$headerChannel]\x3d!0;break}}hasSharedAxis[$jscomp$key$headerChannel]\x26\x26($jscomp$iter$173\x3d\x27length(data(\x22\x27+this.facet.name+\n\x27\x22))\x27,data.push({name:this.facet.name+\x22_\x22+$jscomp$key$headerChannel,transform:[{type:\x22sequence\x22,start:0,stop:\x22row\x22\x3d\x3d\x3d$jscomp$key$headerChannel?columns?{signal:\x22ceil(\x22+$jscomp$iter$173+\x22 / \x22+columns+\x22)\x22}:1:columns?{signal:\x22min(\x22+$jscomp$iter$173+\x22, \x22+columns+\x22)\x22}:{signal:$jscomp$iter$173}}]}))}_a\x3dhasSharedAxis.column;(hasSharedAxis.row||_a)\x26\x26data.unshift(this.assembleRowColumnHeaderData(\x22facet\x22,null,childIndependentFieldsWithStep));return data};FacetNode.prototype.assemble\x3dfunction(){var _a,_b,data\x3d\n[],crossedDataName\x3dnull,childIndependentFieldsWithStep\x3dthis.getChildIndependentFieldsWithStep(),row\x3dthis.row,facet\x3dthis.facet;this.column\x26\x26row\x26\x26(childIndependentFieldsWithStep.x||childIndependentFieldsWithStep.y)\x26\x26(crossedDataName\x3d\x22cross_\x22+this.column.name+\x22_\x22+this.row.name,row\x3d[].concat(null!\x3d\x3d(_a\x3dchildIndependentFieldsWithStep.x)\x26\x26void 0!\x3d\x3d_a?_a:[],null!\x3d\x3d(_b\x3dchildIndependentFieldsWithStep.y)\x26\x26void 0!\x3d\x3d_b?_b:[]),_a\x3drow.map(function(){return\x22distinct\x22}),data.push({name:crossedDataName,source:this.data,\ntransform:[{type:\x22aggregate\x22,groupby:this.fields,fields:row,ops:_a}]}));_a\x3d$jscomp.makeIterator([\x22column\x22,\x22row\x22]);for(_b\x3d_a.next();!_b.done;_b\x3d_a.next())_b\x3d_b.value,this[_b]\x26\x26data.push(this.assembleRowColumnHeaderData(_b,crossedDataName,childIndependentFieldsWithStep));facet\x26\x26(crossedDataName\x3dthis.assembleFacetHeaderData(childIndependentFieldsWithStep))\x26\x26data.push.apply(data,$jscomp.arrayFromIterable(crossedDataName));return data};$jscomp.global.Object.defineProperties(FacetNode.prototype,{fields:{configurable:!0,\nenumerable:!0,get:function(){for(var _a,f\x3d[],$jscomp$iter$176\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$176.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$176.next())$jscomp$key$channel\x3d$jscomp$key$channel.value,(null\x3d\x3d\x3d(_a\x3dthis[$jscomp$key$channel])||void 0\x3d\x3d\x3d_a?0:_a.fields)\x26\x26f.push.apply(f,$jscomp.arrayFromIterable(this[$jscomp$key$channel].fields));return f}}});var ParseNode\x3dfunction(parent,parse){parent\x3dDataFlowNode.call(this,parent)||this;parent._parse\x3d\nparse;return parent};$jscomp.inherits(ParseNode,DataFlowNode);ParseNode.prototype.clone\x3dfunction(){return new ParseNode(null,duplicate(this._parse))};ParseNode.prototype.hash\x3dfunction(){return\x22Parse \x22+hash(this._parse)};ParseNode.makeExplicit\x3dfunction(parent,model,ancestorParse){var explicit\x3d{};model\x3dmodel.data;!isGenerator(model)\x26\x26model\x26\x26model.format\x26\x26model.format.parse\x26\x26(explicit\x3dmodel.format.parse);return this.makeWithAncestors(parent,explicit,{},ancestorParse)};ParseNode.makeWithAncestors\x3dfunction(parent,\nexplicit,implicit,ancestorParse){for(var $jscomp$iter$179\x3d$jscomp.makeIterator(keys(implicit)),$jscomp$key$field\x3d$jscomp$iter$179.next();!$jscomp$key$field.done;$jscomp$key$field\x3d$jscomp$iter$179.next()){$jscomp$key$field\x3d$jscomp$key$field.value;var parsedAs\x3dancestorParse.getWithExplicit($jscomp$key$field);void 0!\x3d\x3dparsedAs.value\x26\x26(parsedAs.explicit||parsedAs.value\x3d\x3d\x3dimplicit[$jscomp$key$field]||\x22derived\x22\x3d\x3d\x3dparsedAs.value||\x22flatten\x22\x3d\x3d\x3dimplicit[$jscomp$key$field]?delete implicit[$jscomp$key$field]:\nwarn(differentParse($jscomp$key$field,implicit[$jscomp$key$field],parsedAs.value)))}$jscomp$iter$179\x3d$jscomp.makeIterator(keys(explicit));for($jscomp$key$field\x3d$jscomp$iter$179.next();!$jscomp$key$field.done;$jscomp$key$field\x3d$jscomp$iter$179.next())$jscomp$key$field\x3d$jscomp$key$field.value,parsedAs\x3dancestorParse.get($jscomp$key$field),void 0!\x3d\x3dparsedAs\x26\x26(parsedAs\x3d\x3d\x3dexplicit[$jscomp$key$field]?delete explicit[$jscomp$key$field]:warn(differentParse($jscomp$key$field,explicit[$jscomp$key$field],parsedAs)));\nexplicit\x3dnew Split(explicit,implicit);ancestorParse.copyAll(explicit);implicit\x3d{};$jscomp$iter$179\x3d$jscomp.makeIterator(keys(explicit.combine()));for($jscomp$key$field\x3d$jscomp$iter$179.next();!$jscomp$key$field.done;$jscomp$key$field\x3d$jscomp$iter$179.next())$jscomp$key$field\x3d$jscomp$key$field.value,parsedAs\x3dexplicit.get($jscomp$key$field),null!\x3d\x3dparsedAs\x26\x26(implicit[$jscomp$key$field]\x3dparsedAs);return 0\x3d\x3d\x3dkeys(implicit).length||ancestorParse.parseNothing?null:new ParseNode(parent,implicit)};ParseNode.prototype.merge\x3d\nfunction(other){this._parse\x3dObject.assign(Object.assign({},this._parse),other.parse);other.remove()};ParseNode.prototype.assembleFormatParse\x3dfunction(){for(var formatParse\x3d{},$jscomp$iter$182\x3d$jscomp.makeIterator(keys(this._parse)),$jscomp$key$field\x3d$jscomp$iter$182.next();!$jscomp$key$field.done;$jscomp$key$field\x3d$jscomp$iter$182.next()){$jscomp$key$field\x3d$jscomp$key$field.value;var p\x3dthis._parse[$jscomp$key$field];1\x3d\x3d\x3daccessPathDepth($jscomp$key$field)\x26\x26(formatParse[$jscomp$key$field]\x3dp)}return formatParse};\nParseNode.prototype.producedFields\x3dfunction(){return new Set(keys(this._parse))};ParseNode.prototype.dependentFields\x3dfunction(){return new Set(keys(this._parse))};ParseNode.prototype.assembleTransforms\x3dfunction(onlyNested){var $jscomp$this\x3dthis;onlyNested\x3dvoid 0\x3d\x3d\x3donlyNested?!1:onlyNested;return keys(this._parse).filter(function(field){return onlyNested?1\x3caccessPathDepth(field):!0}).map(function(field){var expr\x3dparseExpression$1(field,$jscomp$this._parse[field]);return expr?{type:\x22formula\x22,expr:expr,\nas:\x22\x22+splitAccessPath(field).join(\x22.\x22)}:null}).filter(function(t){return null!\x3d\x3dt})};$jscomp.global.Object.defineProperties(ParseNode.prototype,{parse:{configurable:!0,enumerable:!0,get:function(){return this._parse}}});var IdentifierNode\x3dfunction(parent){return DataFlowNode.call(this,parent)||this};$jscomp.inherits(IdentifierNode,DataFlowNode);IdentifierNode.prototype.clone\x3dfunction(){return new IdentifierNode(null)};IdentifierNode.prototype.dependentFields\x3dfunction(){return new Set};IdentifierNode.prototype.producedFields\x3d\nfunction(){return new Set([\x22_vgsid_\x22])};IdentifierNode.prototype.hash\x3dfunction(){return\x22Identifier\x22};IdentifierNode.prototype.assemble\x3dfunction(){return{type:\x22identifier\x22,as:\x22_vgsid_\x22}};var GraticuleNode\x3dfunction(parent,params){parent\x3dDataFlowNode.call(this,parent)||this;parent.params\x3dparams;return parent};$jscomp.inherits(GraticuleNode,DataFlowNode);GraticuleNode.prototype.clone\x3dfunction(){return new GraticuleNode(null,this.params)};GraticuleNode.prototype.dependentFields\x3dfunction(){return new Set};\nGraticuleNode.prototype.producedFields\x3dfunction(){};GraticuleNode.prototype.hash\x3dfunction(){return\x22Graticule \x22+hash(this.params)};GraticuleNode.prototype.assemble\x3dfunction(){return Object.assign({type:\x22graticule\x22},!0\x3d\x3d\x3dthis.params?{}:this.params)};var SequenceNode\x3dfunction(parent,params){parent\x3dDataFlowNode.call(this,parent)||this;parent.params\x3dparams;return parent};$jscomp.inherits(SequenceNode,DataFlowNode);SequenceNode.prototype.clone\x3dfunction(){return new SequenceNode(null,this.params)};SequenceNode.prototype.dependentFields\x3d\nfunction(){return new Set};SequenceNode.prototype.producedFields\x3dfunction(){var _a;return new Set([null!\x3d\x3d(_a\x3dthis.params.as)\x26\x26void 0!\x3d\x3d_a?_a:\x22data\x22])};SequenceNode.prototype.hash\x3dfunction(){return\x22Hash \x22+hash(this.params)};SequenceNode.prototype.assemble\x3dfunction(){return Object.assign({type:\x22sequence\x22},this.params)};var SourceNode\x3dfunction(data){var $jscomp$super$this\x3dDataFlowNode.call(this,null)||this;data\x3dnull!\x3d\x3ddata\x26\x26void 0!\x3d\x3ddata?data:{name:\x22source\x22};var format;isGenerator(data)||(format\x3ddata.format?\nObject.assign({},omit(data.format,[\x22parse\x22])):{});if(\x22values\x22in data)$jscomp$super$this._data\x3d{values:data.values};else if(\x22url\x22in data){if($jscomp$super$this._data\x3d{url:data.url},!format.type){var defaultExtension\x3d/(?:\\.([^.]+))?$/.exec(data.url)[1];contains([\x22json\x22,\x22csv\x22,\x22tsv\x22,\x22dsv\x22,\x22topojson\x22],defaultExtension)||(defaultExtension\x3d\x22json\x22);format.type\x3ddefaultExtension}}else if(\x22sphere\x22in data)$jscomp$super$this._data\x3d{values:[{type:\x22Sphere\x22}]};else if(isNamedData(data)||isGenerator(data))$jscomp$super$this._data\x3d\n{};$jscomp$super$this._generator\x3disGenerator(data);data.name\x26\x26($jscomp$super$this._name\x3ddata.name);format\x26\x26!isEmpty(format)\x26\x26($jscomp$super$this._data.format\x3dformat);return $jscomp$super$this};$jscomp.inherits(SourceNode,DataFlowNode);SourceNode.prototype.dependentFields\x3dfunction(){return new Set};SourceNode.prototype.producedFields\x3dfunction(){};SourceNode.prototype.hasName\x3dfunction(){return!!this._name};SourceNode.prototype.remove\x3dfunction(){throw Error(\x22Source nodes are roots and cannot be removed.\x22);\n};SourceNode.prototype.hash\x3dfunction(){throw Error(\x22Cannot hash sources\x22);};SourceNode.prototype.assemble\x3dfunction(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})};$jscomp.global.Object.defineProperties(SourceNode.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this._data}},isGenerator:{configurable:!0,enumerable:!0,get:function(){return this._generator}},dataName:{configurable:!0,enumerable:!0,get:function(){return this._name},set:function(name){this._name\x3d\nname}},parent:{configurable:!0,enumerable:!0,set:function(parent){throw Error(\x22Source nodes have to be roots.\x22);}}});var Optimizer\x3dfunction(){_modified.set(this,void 0);__classPrivateFieldSet(this,_modified,!1)};Optimizer.prototype.setModified\x3dfunction(){__classPrivateFieldSet(this,_modified,!0)};$jscomp.global.Object.defineProperties(Optimizer.prototype,{modifiedFlag:{configurable:!0,enumerable:!0,get:function(){var privateMap\x3d_modified;if(!privateMap.has(this))throw new TypeError(\x22attempted to get private field on non-instance\x22);\nreturn privateMap.get(this)}}});var _modified\x3dnew WeakMap;var BottomUpOptimizer\x3dfunction(){return Optimizer.apply(this,arguments)||this};$jscomp.inherits(BottomUpOptimizer,Optimizer);BottomUpOptimizer.prototype.getNodeDepths\x3dfunction(node,depth,depths){depths.set(node,depth);node\x3d$jscomp.makeIterator(node.children);for(var $jscomp$key$child\x3dnode.next();!$jscomp$key$child.done;$jscomp$key$child\x3dnode.next())this.getNodeDepths($jscomp$key$child.value,depth+1,depths);return depths};BottomUpOptimizer.prototype.optimize\x3d\nfunction(node){node\x3dthis.getNodeDepths(node,0,new Map);node\x3d[].concat($jscomp.arrayFromIterable(node.entries())).sort(function(a,b){return b[1]-a[1]});node\x3d$jscomp.makeIterator(node);for(var $jscomp$key$tuple\x3dnode.next();!$jscomp$key$tuple.done;$jscomp$key$tuple\x3dnode.next())this.run($jscomp$key$tuple.value[0]);return this.modifiedFlag};var TopDownOptimizer\x3dfunction(){return Optimizer.apply(this,arguments)||this};$jscomp.inherits(TopDownOptimizer,Optimizer);TopDownOptimizer.prototype.optimize\x3dfunction(node){this.run(node);\nnode\x3d$jscomp.makeIterator(node.children);for(var $jscomp$key$child\x3dnode.next();!$jscomp$key$child.done;$jscomp$key$child\x3dnode.next())this.optimize($jscomp$key$child.value);return this.modifiedFlag};var MergeIdenticalNodes\x3dfunction(){return TopDownOptimizer.apply(this,arguments)||this};$jscomp.inherits(MergeIdenticalNodes,TopDownOptimizer);MergeIdenticalNodes.prototype.mergeNodes\x3dfunction(parent,nodes){var mergedNode\x3dnodes.shift();nodes\x3d$jscomp.makeIterator(nodes);for(var $jscomp$key$node\x3dnodes.next();!$jscomp$key$node.done;$jscomp$key$node\x3d\nnodes.next())$jscomp$key$node\x3d$jscomp$key$node.value,parent.removeChild($jscomp$key$node),$jscomp$key$node.parent\x3dmergedNode,$jscomp$key$node.remove()};MergeIdenticalNodes.prototype.run\x3dfunction(node){for(var hashes\x3dnode.children.map(function(x){return x.hash()}),buckets\x3d{},i\x3d0;i\x3chashes.length;i++)void 0\x3d\x3d\x3dbuckets[hashes[i]]?buckets[hashes[i]]\x3d[node.children[i]]:buckets[hashes[i]].push(node.children[i]);hashes\x3d$jscomp.makeIterator(keys(buckets));for(i\x3dhashes.next();!i.done;i\x3dhashes.next())i\x3di.value,\n1\x3cbuckets[i].length\x26\x26(this.setModified(),this.mergeNodes(node,buckets[i]))};var RemoveUnnecessaryIdentifierNodes\x3dfunction(model){var $jscomp$super$this\x3dTopDownOptimizer.call(this)||this;$jscomp$super$this.requiresSelectionId\x3dmodel\x26\x26requiresSelectionId(model);return $jscomp$super$this};$jscomp.inherits(RemoveUnnecessaryIdentifierNodes,TopDownOptimizer);RemoveUnnecessaryIdentifierNodes.prototype.run\x3dfunction(node){!(node instanceof IdentifierNode)||this.requiresSelectionId\x26\x26(isDataSourceNode(node.parent)||\nnode.parent instanceof AggregateNode||node.parent instanceof ParseNode)||(this.setModified(),node.remove())};var RemoveDuplicateTimeUnits\x3dfunction(){return Optimizer.apply(this,arguments)||this};$jscomp.inherits(RemoveDuplicateTimeUnits,Optimizer);RemoveDuplicateTimeUnits.prototype.optimize\x3dfunction(node){this.run(node,new Set);return this.modifiedFlag};RemoveDuplicateTimeUnits.prototype.run\x3dfunction(node,timeUnitFields){var producedFields\x3dnew Set;node instanceof TimeUnitNode\x26\x26(producedFields\x3dnode.producedFields(),\nhasIntersection(producedFields,timeUnitFields)\x26\x26(this.setModified(),node.removeFormulas(timeUnitFields),0\x3d\x3d\x3dnode.producedFields.length\x26\x26node.remove()));node\x3d$jscomp.makeIterator(node.children);for(var $jscomp$key$child\x3dnode.next();!$jscomp$key$child.done;$jscomp$key$child\x3dnode.next())this.run($jscomp$key$child.value,new Set([].concat($jscomp.arrayFromIterable(timeUnitFields),$jscomp.arrayFromIterable(producedFields))))};var RemoveUnnecessaryOutputNodes\x3dfunction(){return TopDownOptimizer.call(this)||\nthis};$jscomp.inherits(RemoveUnnecessaryOutputNodes,TopDownOptimizer);RemoveUnnecessaryOutputNodes.prototype.run\x3dfunction(node){node instanceof OutputNode\x26\x26!node.isRequired()\x26\x26(this.setModified(),node.remove())};var MoveParseUp\x3dfunction(){return BottomUpOptimizer.apply(this,arguments)||this};$jscomp.inherits(MoveParseUp,BottomUpOptimizer);MoveParseUp.prototype.run\x3dfunction(node){if(!(isDataSourceNode(node)||1\x3cnode.numChildren()))for(var $jscomp$iter$189\x3d$jscomp.makeIterator(node.children),$jscomp$key$child\x3d\n$jscomp$iter$189.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$189.next())$jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$key$child instanceof ParseNode\x26\x26(node instanceof ParseNode?(this.setModified(),node.merge($jscomp$key$child)):fieldIntersection(node.producedFields(),$jscomp$key$child.dependentFields())||(this.setModified(),$jscomp$key$child.swapWithParent()))};var MergeParse\x3dfunction(){return BottomUpOptimizer.apply(this,arguments)||this};$jscomp.inherits(MergeParse,BottomUpOptimizer);\nMergeParse.prototype.run\x3dfunction(node){var originalChildren\x3d[].concat($jscomp.arrayFromIterable(node.children)),parseChildren\x3dnode.children.filter(function(child){return child instanceof ParseNode});if(1\x3cnode.numChildren()\x26\x261\x3c\x3dparseChildren.length){var commonParse\x3d{},conflictingParse\x3dnew Set;parseChildren\x3d$jscomp.makeIterator(parseChildren);for(var $jscomp$key$parseNode\x3dparseChildren.next();!$jscomp$key$parseNode.done;$jscomp$key$parseNode\x3dparseChildren.next()){$jscomp$key$parseNode\x3d$jscomp$key$parseNode.value.parse;\nfor(var $jscomp$iter$190\x3d$jscomp.makeIterator(keys($jscomp$key$parseNode)),$jscomp$key$k\x3d$jscomp$iter$190.next();!$jscomp$key$k.done;$jscomp$key$k\x3d$jscomp$iter$190.next())$jscomp$key$k\x3d$jscomp$key$k.value,$jscomp$key$k in commonParse?commonParse[$jscomp$key$k]!\x3d\x3d$jscomp$key$parseNode[$jscomp$key$k]\x26\x26conflictingParse.add($jscomp$key$k):commonParse[$jscomp$key$k]\x3d$jscomp$key$parseNode[$jscomp$key$k]}conflictingParse\x3d$jscomp.makeIterator(conflictingParse);for(parseChildren\x3dconflictingParse.next();!parseChildren.done;parseChildren\x3d\nconflictingParse.next())delete commonParse[parseChildren.value];if(!isEmpty(commonParse))for(this.setModified(),conflictingParse\x3dnew ParseNode(node,commonParse),originalChildren\x3d$jscomp.makeIterator(originalChildren),parseChildren\x3doriginalChildren.next();!parseChildren.done;parseChildren\x3doriginalChildren.next()){parseChildren\x3dparseChildren.value;if(parseChildren instanceof ParseNode)for($jscomp$key$parseNode\x3d$jscomp.makeIterator(keys(commonParse)),$jscomp$iter$190\x3d$jscomp$key$parseNode.next();!$jscomp$iter$190.done;$jscomp$iter$190\x3d\n$jscomp$key$parseNode.next())delete parseChildren.parse[$jscomp$iter$190.value];node.removeChild(parseChildren);parseChildren.parent\x3dconflictingParse;parseChildren instanceof ParseNode\x26\x260\x3d\x3d\x3dkeys(parseChildren.parse).length\x26\x26parseChildren.remove()}}};var RemoveUnusedSubtrees\x3dfunction(){return BottomUpOptimizer.apply(this,arguments)||this};$jscomp.inherits(RemoveUnusedSubtrees,BottomUpOptimizer);RemoveUnusedSubtrees.prototype.run\x3dfunction(node){node instanceof OutputNode||0\x3cnode.numChildren()||node instanceof\nFacetNode||(this.setModified(),node.remove())};var MergeTimeUnits\x3dfunction(){return BottomUpOptimizer.apply(this,arguments)||this};$jscomp.inherits(MergeTimeUnits,BottomUpOptimizer);MergeTimeUnits.prototype.run\x3dfunction(node){var timeUnitChildren\x3dnode.children.filter(function(x){return x instanceof TimeUnitNode});node\x3dtimeUnitChildren.pop();timeUnitChildren\x3d$jscomp.makeIterator(timeUnitChildren);for(var $jscomp$key$timeUnit\x3dtimeUnitChildren.next();!$jscomp$key$timeUnit.done;$jscomp$key$timeUnit\x3dtimeUnitChildren.next())$jscomp$key$timeUnit\x3d\n$jscomp$key$timeUnit.value,this.setModified(),node.merge($jscomp$key$timeUnit)};var MergeAggregates\x3dfunction(){return BottomUpOptimizer.apply(this,arguments)||this};$jscomp.inherits(MergeAggregates,BottomUpOptimizer);MergeAggregates.prototype.run\x3dfunction(node){var aggChildren\x3dnode.children.filter(function(child){return child instanceof AggregateNode}),groupedAggregates\x3d{};aggChildren\x3d$jscomp.makeIterator(aggChildren);for(var $jscomp$key$agg\x3daggChildren.next();!$jscomp$key$agg.done;$jscomp$key$agg\x3d\naggChildren.next()){var agg\x3d$jscomp$key$agg.value;$jscomp$key$agg\x3dhash(agg.groupBy);$jscomp$key$agg in groupedAggregates||(groupedAggregates[$jscomp$key$agg]\x3d[]);groupedAggregates[$jscomp$key$agg].push(agg)}aggChildren\x3d$jscomp.makeIterator(keys(groupedAggregates));for(agg\x3daggChildren.next();!agg.done;agg\x3daggChildren.next())if($jscomp$key$agg\x3dgroupedAggregates[agg.value],1\x3c$jscomp$key$agg.length){agg\x3d$jscomp$key$agg.pop();var $jscomp$iter$197\x3d$jscomp.makeIterator($jscomp$key$agg);for($jscomp$key$agg\x3d\n$jscomp$iter$197.next();!$jscomp$key$agg.done;$jscomp$key$agg\x3d$jscomp$iter$197.next())$jscomp$key$agg\x3d$jscomp$key$agg.value,agg.merge($jscomp$key$agg)\x26\x26(node.removeChild($jscomp$key$agg),$jscomp$key$agg.parent\x3dagg,$jscomp$key$agg.remove(),this.setModified())}};var MergeBins\x3dfunction(model){var $jscomp$super$this\x3dBottomUpOptimizer.call(this)||this;$jscomp$super$this.model\x3dmodel;return $jscomp$super$this};$jscomp.inherits(MergeBins,BottomUpOptimizer);MergeBins.prototype.run\x3dfunction(node){for(var moveBinsUp\x3d\n!(isDataSourceNode(node)||node instanceof FilterNode||node instanceof ParseNode||node instanceof IdentifierNode),promotableBins\x3d[],remainingBins\x3d[],$jscomp$iter$199\x3d$jscomp.makeIterator(node.children),$jscomp$key$child\x3d$jscomp$iter$199.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$199.next())$jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$key$child instanceof BinNode\x26\x26(moveBinsUp\x26\x26!fieldIntersection(node.producedFields(),$jscomp$key$child.dependentFields())?promotableBins.push($jscomp$key$child):\nremainingBins.push($jscomp$key$child));if(0\x3cpromotableBins.length){moveBinsUp\x3dpromotableBins.pop();$jscomp$iter$199\x3d$jscomp.makeIterator(promotableBins);for(promotableBins\x3d$jscomp$iter$199.next();!promotableBins.done;promotableBins\x3d$jscomp$iter$199.next())moveBinsUp.merge(promotableBins.value,this.model.renameSignal.bind(this.model));this.setModified();node instanceof BinNode?node.merge(moveBinsUp,this.model.renameSignal.bind(this.model)):moveBinsUp.swapWithParent()}if(1\x3cremainingBins.length){node\x3d\nremainingBins.pop();remainingBins\x3d$jscomp.makeIterator(remainingBins);for(promotableBins\x3dremainingBins.next();!promotableBins.done;promotableBins\x3dremainingBins.next())node.merge(promotableBins.value,this.model.renameSignal.bind(this.model));this.setModified()}};var MergeOutputs\x3dfunction(){return BottomUpOptimizer.apply(this,arguments)||this};$jscomp.inherits(MergeOutputs,BottomUpOptimizer);MergeOutputs.prototype.run\x3dfunction(node){var children\x3d[].concat($jscomp.arrayFromIterable(node.children));if(some(children,\nfunction(child){return child instanceof OutputNode})\x26\x26!(1\x3e\x3dnode.numChildren())){var otherChildren\x3d[];children\x3d$jscomp.makeIterator(children);for(var $jscomp$key$child\x3dchildren.next();!$jscomp$key$child.done;$jscomp$key$child\x3dchildren.next())if($jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$key$child instanceof OutputNode){for(var lastOutput\x3d$jscomp$key$child;1\x3d\x3d\x3dlastOutput.numChildren();){var theChild\x3d$jscomp.makeIterator(lastOutput.children).next().value;if(theChild instanceof OutputNode)lastOutput\x3d\ntheChild;else break}otherChildren.push.apply(otherChildren,$jscomp.arrayFromIterable(lastOutput.children));if(mainOutput)node.removeChild($jscomp$key$child),$jscomp$key$child.parent\x3dmainOutput.parent,mainOutput.parent.removeChild(mainOutput),mainOutput.parent\x3dlastOutput,this.setModified();else var mainOutput\x3dlastOutput}else otherChildren.push($jscomp$key$child);if(otherChildren.length)for(this.setModified(),node\x3d$jscomp.makeIterator(otherChildren),$jscomp$key$child\x3dnode.next();!$jscomp$key$child.done;$jscomp$key$child\x3d\nnode.next())otherChildren\x3d$jscomp$key$child.value,otherChildren.parent.removeChild(otherChildren),otherChildren.parent\x3dmainOutput}};var JoinAggregateTransformNode\x3dfunction(parent,transform){parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;return parent};$jscomp.inherits(JoinAggregateTransformNode,DataFlowNode);JoinAggregateTransformNode.prototype.clone\x3dfunction(){return new JoinAggregateTransformNode(null,duplicate(this.transform))};JoinAggregateTransformNode.prototype.addDimensions\x3d\nfunction(fields){this.transform.groupby\x3dunique(this.transform.groupby.concat(fields),function(d){return d})};JoinAggregateTransformNode.prototype.dependentFields\x3dfunction(){var out\x3dnew Set;this.transform.groupby\x26\x26this.transform.groupby.forEach(out.add,out);this.transform.joinaggregate.map(function(w){return w.field}).filter(function(f){return void 0!\x3d\x3df}).forEach(out.add,out);return out};JoinAggregateTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))};\nJoinAggregateTransformNode.prototype.getDefaultName\x3dfunction(joinAggregateFieldDef){var _a;return null!\x3d\x3d(_a\x3djoinAggregateFieldDef.as)\x26\x26void 0!\x3d\x3d_a?_a:vgField(joinAggregateFieldDef)};JoinAggregateTransformNode.prototype.hash\x3dfunction(){return\x22JoinAggregateTransform \x22+hash(this.transform)};JoinAggregateTransformNode.prototype.assemble\x3dfunction(){for(var fields\x3d[],ops\x3d[],as\x3d[],$jscomp$iter$204\x3d$jscomp.makeIterator(this.transform.joinaggregate),$jscomp$key$joinaggregate\x3d$jscomp$iter$204.next();!$jscomp$key$joinaggregate.done;$jscomp$key$joinaggregate\x3d\n$jscomp$iter$204.next())$jscomp$key$joinaggregate\x3d$jscomp$key$joinaggregate.value,ops.push($jscomp$key$joinaggregate.op),as.push(this.getDefaultName($jscomp$key$joinaggregate)),fields.push(void 0\x3d\x3d\x3d$jscomp$key$joinaggregate.field?null:$jscomp$key$joinaggregate.field);$jscomp$iter$204\x3dthis.transform.groupby;return Object.assign({type:\x22joinaggregate\x22,as:as,ops:ops,fields:fields},void 0!\x3d\x3d$jscomp$iter$204?{groupby:$jscomp$iter$204}:{})};var StackNode\x3dfunction(parent,stack){parent\x3dDataFlowNode.call(this,\nparent)||this;parent._stack\x3dstack;return parent};$jscomp.inherits(StackNode,DataFlowNode);StackNode.prototype.clone\x3dfunction(){return new StackNode(null,duplicate(this._stack))};StackNode.makeFromTransform\x3dfunction(parent,stackTransform){var stack\x3dstackTransform.stack,groupby\x3dstackTransform.groupby,as\x3dstackTransform.as,offset\x3dvoid 0\x3d\x3d\x3dstackTransform.offset?\x22zero\x22:stackTransform.offset,sortFields\x3d[],sortOrder\x3d[];if(void 0!\x3d\x3dstackTransform.sort)for(var $jscomp$iter$205\x3d$jscomp.makeIterator(stackTransform.sort),\n$jscomp$key$sortField\x3d$jscomp$iter$205.next();!$jscomp$key$sortField.done;$jscomp$key$sortField\x3d$jscomp$iter$205.next())$jscomp$key$sortField\x3d$jscomp$key$sortField.value,sortFields.push($jscomp$key$sortField.field),sortOrder.push(getFirstDefined($jscomp$key$sortField.order,\x22ascending\x22));sortFields\x3d{field:sortFields,order:sortOrder};stackTransform\x3disValidAsArray(as)?as:isString(as)?[as,as+\x22_end\x22]:[stackTransform.stack+\x22_start\x22,stackTransform.stack+\x22_end\x22];return new StackNode(parent,{stackField:stack,\ngroupby:groupby,offset:offset,sort:sortFields,facetby:[],as:stackTransform})};StackNode.makeFromEncoding\x3dfunction(parent,model){var stackProperties\x3dmodel.stack,encoding\x3dmodel.encoding;if(!stackProperties)return null;var groupbyChannel\x3dstackProperties.groupbyChannel,fieldChannel\x3dstackProperties.fieldChannel,offset\x3dstackProperties.offset;stackProperties\x3dstackProperties.impute;var dimensionFieldDef;groupbyChannel\x26\x26(dimensionFieldDef\x3dgetFieldDef(encoding[groupbyChannel]));encoding\x3dgetStackByFields(model);\ngroupbyChannel\x3dmodel.encoding.order;groupbyChannel\x3disArray(groupbyChannel)||isFieldDef(groupbyChannel)?sortParams(groupbyChannel):encoding.reduce(function(s,field){s.field.push(field);s.order.push(\x22y\x22\x3d\x3d\x3dfieldChannel?\x22descending\x22:\x22ascending\x22);return s},{field:[],order:[]});return new StackNode(parent,{dimensionFieldDef:dimensionFieldDef,stackField:model.vgField(fieldChannel),facetby:[],stackby:encoding,sort:groupbyChannel,offset:offset,impute:stackProperties,as:[model.vgField(fieldChannel,{suffix:\x22start\x22,\nforAs:!0}),model.vgField(fieldChannel,{suffix:\x22end\x22,forAs:!0})]})};StackNode.prototype.addDimensions\x3dfunction(fields){this._stack.facetby.push.apply(this._stack.facetby,$jscomp.arrayFromIterable(fields))};StackNode.prototype.dependentFields\x3dfunction(){var out\x3dnew Set;out.add(this._stack.stackField);this.getGroupbyFields().forEach(out.add,out);this._stack.facetby.forEach(out.add,out);this._stack.sort.field.forEach(out.add,out);return out};StackNode.prototype.producedFields\x3dfunction(){return new Set(this._stack.as)};\nStackNode.prototype.hash\x3dfunction(){return\x22Stack \x22+hash(this._stack)};StackNode.prototype.getGroupbyFields\x3dfunction(){var $jscomp$destructuring$var302\x3dthis._stack,dimensionFieldDef\x3d$jscomp$destructuring$var302.dimensionFieldDef,impute\x3d$jscomp$destructuring$var302.impute;$jscomp$destructuring$var302\x3d$jscomp$destructuring$var302.groupby;return dimensionFieldDef?dimensionFieldDef.bin?impute?[vgField(dimensionFieldDef,{binSuffix:\x22mid\x22})]:[vgField(dimensionFieldDef,{}),vgField(dimensionFieldDef,{binSuffix:\x22end\x22})]:\n[vgField(dimensionFieldDef)]:null!\x3d\x3d$jscomp$destructuring$var302\x26\x26void 0!\x3d\x3d$jscomp$destructuring$var302?$jscomp$destructuring$var302:[]};StackNode.prototype.assemble\x3dfunction(){var transform\x3d[],$jscomp$destructuring$var303\x3dthis._stack,facetby\x3d$jscomp$destructuring$var303.facetby,dimensionFieldDef\x3d$jscomp$destructuring$var303.dimensionFieldDef,field\x3d$jscomp$destructuring$var303.stackField,stackby\x3d$jscomp$destructuring$var303.stackby,sort\x3d$jscomp$destructuring$var303.sort,offset\x3d$jscomp$destructuring$var303.offset,\nas\x3d$jscomp$destructuring$var303.as;$jscomp$destructuring$var303.impute\x26\x26dimensionFieldDef\x26\x26($jscomp$destructuring$var303\x3dvoid 0\x3d\x3d\x3ddimensionFieldDef.band?.5:dimensionFieldDef.band,dimensionFieldDef.bin\x26\x26transform.push({type:\x22formula\x22,expr:$jscomp$destructuring$var303+\x22*\x22+vgField(dimensionFieldDef,{expr:\x22datum\x22})+(\x22+\x22+(1-$jscomp$destructuring$var303)+\x22*\x22)+vgField(dimensionFieldDef,{expr:\x22datum\x22,binSuffix:\x22end\x22}),as:vgField(dimensionFieldDef,{binSuffix:\x22mid\x22,forAs:!0})}),transform.push({type:\x22impute\x22,\nfield:field,groupby:[].concat($jscomp.arrayFromIterable(stackby),$jscomp.arrayFromIterable(facetby)),key:vgField(dimensionFieldDef,{binSuffix:\x22mid\x22}),method:\x22value\x22,value:0}));transform.push({type:\x22stack\x22,groupby:[].concat($jscomp.arrayFromIterable(this.getGroupbyFields()),$jscomp.arrayFromIterable(facetby)),field:field,sort:sort,as:as,offset:offset});return transform};$jscomp.global.Object.defineProperties(StackNode.prototype,{stack:{configurable:!0,enumerable:!0,get:function(){return this._stack}}});\nvar WindowTransformNode\x3dfunction(parent,transform){parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;return parent};$jscomp.inherits(WindowTransformNode,DataFlowNode);WindowTransformNode.prototype.clone\x3dfunction(){return new WindowTransformNode(null,duplicate(this.transform))};WindowTransformNode.prototype.addDimensions\x3dfunction(fields){this.transform.groupby\x3dunique(this.transform.groupby.concat(fields),function(d){return d})};WindowTransformNode.prototype.dependentFields\x3dfunction(){var _a,\n_b,out\x3dnew Set;(null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[]).forEach(out.add,out);(null!\x3d\x3d(_b\x3dthis.transform.sort)\x26\x26void 0!\x3d\x3d_b?_b:[]).forEach(function(m){return out.add(m.field)});this.transform.window.map(function(w){return w.field}).filter(function(f){return void 0!\x3d\x3df}).forEach(out.add,out);return out};WindowTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.window.map(this.getDefaultName))};WindowTransformNode.prototype.getDefaultName\x3dfunction(windowFieldDef){var _a;\nreturn null!\x3d\x3d(_a\x3dwindowFieldDef.as)\x26\x26void 0!\x3d\x3d_a?_a:vgField(windowFieldDef)};WindowTransformNode.prototype.hash\x3dfunction(){return\x22WindowTransform \x22+hash(this.transform)};WindowTransformNode.prototype.assemble\x3dfunction(){for(var _a,fields\x3d[],ops\x3d[],as\x3d[],params\x3d[],$jscomp$iter$206\x3d$jscomp.makeIterator(this.transform.window),$jscomp$key$window\x3d$jscomp$iter$206.next();!$jscomp$key$window.done;$jscomp$key$window\x3d$jscomp$iter$206.next())$jscomp$key$window\x3d$jscomp$key$window.value,ops.push($jscomp$key$window.op),\nas.push(this.getDefaultName($jscomp$key$window)),params.push(void 0\x3d\x3d\x3d$jscomp$key$window.param?null:$jscomp$key$window.param),fields.push(void 0\x3d\x3d\x3d$jscomp$key$window.field?null:$jscomp$key$window.field);$jscomp$iter$206\x3dthis.transform.frame;$jscomp$key$window\x3dthis.transform.groupby;if($jscomp$iter$206\x26\x26null\x3d\x3d\x3d$jscomp$iter$206[0]\x26\x26null\x3d\x3d\x3d$jscomp$iter$206[1]\x26\x26ops.every(function(o){return isAggregateOp(o)}))return Object.assign({type:\x22joinaggregate\x22,as:as,ops:ops,fields:fields},void 0!\x3d\x3d$jscomp$key$window?\n{groupby:$jscomp$key$window}:{});var sortFields\x3d[],sortOrder\x3d[];if(void 0!\x3d\x3dthis.transform.sort)for(var $jscomp$iter$207\x3d$jscomp.makeIterator(this.transform.sort),$jscomp$key$sortField\x3d$jscomp$iter$207.next();!$jscomp$key$sortField.done;$jscomp$key$sortField\x3d$jscomp$iter$207.next())$jscomp$key$sortField\x3d$jscomp$key$sortField.value,sortFields.push($jscomp$key$sortField.field),sortOrder.push(null!\x3d\x3d(_a\x3d$jscomp$key$sortField.order)\x26\x26void 0!\x3d\x3d_a?_a:\x22ascending\x22);_a\x3dthis.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:\x22window\x22,\nparams:params,as:as,ops:ops,fields:fields,sort:{field:sortFields,order:sortOrder}},void 0!\x3d\x3d_a?{ignorePeers:_a}:{}),void 0!\x3d\x3d$jscomp$key$window?{groupby:$jscomp$key$window}:{}),void 0!\x3d\x3d$jscomp$iter$206?{frame:$jscomp$iter$206}:{})};var SignalRefWrapper\x3dfunction(exprGenerator){Object.defineProperty(this,\x22signal\x22,{enumerable:!0,get:exprGenerator})};SignalRefWrapper.fromName\x3dfunction(rename,signalName){return new SignalRefWrapper(function(){return rename(signalName)})};var ScaleComponent\x3dfunction(name,\ntypeWithExplicit){name\x3dSplit.call(this,{},{name:name})||this;name.merged\x3d!1;name.setWithExplicit(\x22type\x22,typeWithExplicit);return name};$jscomp.inherits(ScaleComponent,Split);ScaleComponent.prototype.domainDefinitelyIncludesZero\x3dfunction(){return!1!\x3d\x3dthis.get(\x22zero\x22)?!0:some(this.get(\x22domains\x22),function(d){return isArray(d)\x26\x262\x3d\x3d\x3dd.length\x26\x260\x3e\x3dd[0]\x26\x260\x3c\x3dd[1]})};var RANGE_PROPERTIES\x3d[\x22range\x22,\x22scheme\x22],scaleRules\x3d{bins:function($jscomp$destructuring$var324){var model\x3d$jscomp$destructuring$var324.model;\n$jscomp$destructuring$var324\x3d$jscomp$destructuring$var324.fieldOrDatumDef;return isFieldDef($jscomp$destructuring$var324)?bins(model,$jscomp$destructuring$var324):void 0},interpolate:function($jscomp$destructuring$var326){var type\x3d$jscomp$destructuring$var326.fieldOrDatumDef.type;$jscomp$destructuring$var326\x3dcontains([\x22color\x22,\x22fill\x22,\x22stroke\x22],$jscomp$destructuring$var326.channel)\x26\x26\x22nominal\x22!\x3d\x3dtype?\x22hcl\x22:void 0;return $jscomp$destructuring$var326},nice:function($jscomp$destructuring$var328){var scaleType\x3d\n$jscomp$destructuring$var328.scaleType,channel\x3d$jscomp$destructuring$var328.channel,_a;$jscomp$destructuring$var328\x3d(null\x3d\x3d\x3d(_a\x3dgetFieldDef($jscomp$destructuring$var328.fieldOrDatumDef))||void 0\x3d\x3d\x3d_a?0:_a.bin)||contains([ScaleType.TIME,ScaleType.UTC],scaleType)?void 0:channel in POSITION_SCALE_CHANNEL_INDEX?!0:void 0;return $jscomp$destructuring$var328},padding:function($jscomp$destructuring$var330){var config\x3d$jscomp$destructuring$var330.config;a:{var JSCompiler_inline_result\x3d$jscomp$destructuring$var330.channel;\nvar scaleType\x3d$jscomp$destructuring$var330.scaleType,scaleConfig\x3dconfig.scale,fieldOrDatumDef\x3d$jscomp$destructuring$var330.fieldOrDatumDef;$jscomp$destructuring$var330\x3d$jscomp$destructuring$var330.markDef;config\x3dconfig.bar;if(JSCompiler_inline_result in POSITION_SCALE_CHANNEL_INDEX){if(scaleType in CONTINUOUS_TO_CONTINUOUS_INDEX){if(void 0!\x3d\x3dscaleConfig.continuousPadding){JSCompiler_inline_result\x3dscaleConfig.continuousPadding;break a}var orient$437\x3d$jscomp$destructuring$var330.orient;if(\x22bar\x22\x3d\x3d\x3d$jscomp$destructuring$var330.type\x26\x26\n(!isFieldDef(fieldOrDatumDef)||!fieldOrDatumDef.bin\x26\x26!fieldOrDatumDef.timeUnit)\x26\x26(\x22vertical\x22\x3d\x3d\x3dorient$437\x26\x26\x22x\x22\x3d\x3d\x3dJSCompiler_inline_result||\x22horizontal\x22\x3d\x3d\x3dorient$437\x26\x26\x22y\x22\x3d\x3d\x3dJSCompiler_inline_result)){JSCompiler_inline_result\x3dconfig.continuousBandSize;break a}}if(scaleType\x3d\x3d\x3dScaleType.POINT){JSCompiler_inline_result\x3dscaleConfig.pointPadding;break a}}JSCompiler_inline_result\x3dvoid 0}return JSCompiler_inline_result},paddingInner:function($jscomp$destructuring$var332){var channel\x3d$jscomp$destructuring$var332.channel,\nmarkDef\x3d$jscomp$destructuring$var332.markDef,config\x3d$jscomp$destructuring$var332.config;void 0!\x3d\x3d$jscomp$destructuring$var332.scalePadding?markDef\x3dvoid 0:channel in POSITION_SCALE_CHANNEL_INDEX?($jscomp$destructuring$var332\x3dconfig.scale,channel\x3d$jscomp$destructuring$var332.barBandPaddingInner,config\x3d$jscomp$destructuring$var332.rectBandPaddingInner,markDef\x3dgetFirstDefined($jscomp$destructuring$var332.bandPaddingInner,\x22bar\x22\x3d\x3d\x3dmarkDef.type?channel:config)):markDef\x3dvoid 0;return markDef},paddingOuter:function($jscomp$destructuring$var334){var channel\x3d\n$jscomp$destructuring$var334.channel,scaleType\x3d$jscomp$destructuring$var334.scaleType,config\x3d$jscomp$destructuring$var334.config;var paddingInnerValue\x3d$jscomp$destructuring$var334.scalePaddingInner;$jscomp$destructuring$var334\x3dvoid 0!\x3d\x3d$jscomp$destructuring$var334.scalePadding?void 0:channel in POSITION_SCALE_CHANNEL_INDEX\x26\x26scaleType\x3d\x3d\x3dScaleType.BAND?getFirstDefined(config.scale.bandPaddingOuter,isSignalRef(paddingInnerValue)?{signal:paddingInnerValue.signal+\x22/2\x22}:paddingInnerValue/2):void 0;return $jscomp$destructuring$var334},\nreverse:function($jscomp$destructuring$var336){var fieldOrDatumDef\x3d$jscomp$destructuring$var336.fieldOrDatumDef,scaleType\x3d$jscomp$destructuring$var336.scaleType,channel\x3d$jscomp$destructuring$var336.channel;$jscomp$destructuring$var336\x3d$jscomp$destructuring$var336.config;fieldOrDatumDef\x3disFieldDef(fieldOrDatumDef)?fieldOrDatumDef.sort:void 0;$jscomp$destructuring$var336\x3d$jscomp$destructuring$var336.scale;scaleType\x3d\x22x\x22\x3d\x3d\x3dchannel\x26\x26void 0!\x3d\x3d$jscomp$destructuring$var336.xReverse?scaleType in CONTINUOUS_DOMAIN_INDEX\x26\x26\n\x22descending\x22\x3d\x3d\x3dfieldOrDatumDef?isSignalRef($jscomp$destructuring$var336.xReverse)?{signal:\x22!\x22+$jscomp$destructuring$var336.xReverse.signal}:!$jscomp$destructuring$var336.xReverse:$jscomp$destructuring$var336.xReverse:scaleType in CONTINUOUS_DOMAIN_INDEX\x26\x26\x22descending\x22\x3d\x3d\x3dfieldOrDatumDef?!0:void 0;return scaleType},zero:function($jscomp$destructuring$var338){a:{var JSCompiler_inline_result\x3d$jscomp$destructuring$var338.channel;var fieldDef\x3d$jscomp$destructuring$var338.fieldOrDatumDef,specifiedDomain\x3d\n$jscomp$destructuring$var338.domain,markDef\x3d$jscomp$destructuring$var338.markDef;$jscomp$destructuring$var338\x3d$jscomp$destructuring$var338.scaleType;if(specifiedDomain\x26\x26\x22unaggregated\x22!\x3d\x3dspecifiedDomain\x26\x26$jscomp$destructuring$var338 in CONTINUOUS_DOMAIN_INDEX){if(isArray(specifiedDomain)\x26\x26(JSCompiler_inline_result\x3dspecifiedDomain[specifiedDomain.length-1],0\x3e\x3dspecifiedDomain[0]\x26\x260\x3c\x3dJSCompiler_inline_result)){JSCompiler_inline_result\x3d!0;break a}JSCompiler_inline_result\x3d!1}else\x22size\x22!\x3d\x3dJSCompiler_inline_result||\n\x22quantitative\x22!\x3d\x3dfieldDef.type||$jscomp$destructuring$var338 in CONTINUOUS_TO_DISCRETE_INDEX?isFieldDef(fieldDef)\x26\x26fieldDef.bin||!contains([].concat($jscomp.arrayFromIterable(POSITION_SCALE_CHANNELS),$jscomp.arrayFromIterable(POLAR_POSITION_SCALE_CHANNELS)),JSCompiler_inline_result)?JSCompiler_inline_result\x3d!1:(specifiedDomain\x3dmarkDef.orient,JSCompiler_inline_result\x3dcontains([\x22bar\x22,\x22area\x22,\x22line\x22,\x22trail\x22],markDef.type)\x26\x26(\x22horizontal\x22\x3d\x3d\x3dspecifiedDomain\x26\x26\x22y\x22\x3d\x3d\x3dJSCompiler_inline_result||\x22vertical\x22\x3d\x3d\x3d\nspecifiedDomain\x26\x26\x22x\x22\x3d\x3d\x3dJSCompiler_inline_result)?!1:!0):JSCompiler_inline_result\x3d!0}return JSCompiler_inline_result}},scaleTypeTieBreaker\x3dtieBreakByComparing(function(st1,st2){return SCALE_PRECEDENCE_INDEX[st1]-SCALE_PRECEDENCE_INDEX[st2]}),NameMap\x3dfunction(){this.nameMap\x3d{}};NameMap.prototype.rename\x3dfunction(oldName,newName){this.nameMap[oldName]\x3dnewName};NameMap.prototype.has\x3dfunction(name){return void 0!\x3d\x3dthis.nameMap[name]};NameMap.prototype.get\x3dfunction(name){for(;this.nameMap[name]\x26\x26name!\x3d\x3d\nthis.nameMap[name];)name\x3dthis.nameMap[name];return name};var Model\x3dfunction(spec,type,parent,parentGivenName,config,resolve,view){var $jscomp$this\x3dthis,_a,_b;this.type\x3dtype;this.parent\x3dparent;this.config\x3dconfig;this.view\x3dview;this.children\x3d[];this.correctDataNames\x3dfunction(mark){mark.from\x26\x26mark.from.data\x26\x26(mark.from.data\x3d$jscomp$this.lookupDataSource(mark.from.data));mark.from\x26\x26mark.from.facet\x26\x26mark.from.facet.data\x26\x26(mark.from.facet.data\x3d$jscomp$this.lookupDataSource(mark.from.facet.data));return mark};\nthis.parent\x3dparent;this.config\x3dconfig;this.name\x3dnull!\x3d\x3d(_a\x3dspec.name)\x26\x26void 0!\x3d\x3d_a?_a:parentGivenName;this.title\x3disText(spec.title)?{text:spec.title}:spec.title;this.scaleNameMap\x3dparent?parent.scaleNameMap:new NameMap;this.projectionNameMap\x3dparent?parent.projectionNameMap:new NameMap;this.signalNameMap\x3dparent?parent.signalNameMap:new NameMap;this.data\x3dspec.data;this.description\x3dspec.description;this.transforms\x3dnormalizeTransform(null!\x3d\x3d(_b\x3dspec.transform)\x26\x26void 0!\x3d\x3d_b?_b:[]);this.layout\x3d\x22layer\x22\x3d\x3d\x3d\ntype||\x22unit\x22\x3d\x3d\x3dtype?{}:extractCompositionLayout(spec,type,config);this.component\x3d{data:{sources:parent?parent.component.data.sources:[],outputNodes:parent?parent.component.data.outputNodes:{},outputNodeRefCounts:parent?parent.component.data.outputNodeRefCounts:{},isFaceted:\x22facet\x22in spec||parent\x26\x26parent.component.data.isFaceted\x26\x26void 0\x3d\x3d\x3dspec.data},layoutSize:new Split,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},resolve?duplicate(resolve):\n{}),selection:null,scales:null,projection:null,axes:{},legends:{}}};Model.prototype.parse\x3dfunction(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()};Model.prototype.parseScale\x3dfunction(){var ignoreRange\x3d{}.ignoreRange;parseScaleCore(this);isUnitModel(this)?parseUnitScaleDomain(this):parseNonUnitScaleDomain(this);for(var $jscomp$inline_1673\x3d\n$jscomp.makeIterator(NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES),$jscomp$key$prop\x3d$jscomp$inline_1673.next();!$jscomp$key$prop.done;$jscomp$key$prop\x3d$jscomp$inline_1673.next())parseScaleProperty(this,$jscomp$key$prop.value);ignoreRange||parseScaleRange(this)};Model.prototype.parseProjection\x3dfunction(){this.component.projection\x3disUnitModel(this)?parseUnitProjection(this):parseNonUnitProjections(this)};Model.prototype.renameTopLevelLayoutSizeSignal\x3dfunction(){\x22width\x22!\x3d\x3dthis.getName(\x22width\x22)\x26\x26this.renameSignal(this.getName(\x22width\x22),\n\x22width\x22);\x22height\x22!\x3d\x3dthis.getName(\x22height\x22)\x26\x26this.renameSignal(this.getName(\x22height\x22),\x22height\x22)};Model.prototype.parseLegends\x3dfunction(){parseLegend(this)};Model.prototype.assembleGroupStyle\x3dfunction(){var _a,_b;if(\x22unit\x22\x3d\x3d\x3dthis.type||\x22layer\x22\x3d\x3d\x3dthis.type)return null!\x3d\x3d(_b\x3dnull\x3d\x3d\x3d(_a\x3dthis.view)||void 0\x3d\x3d\x3d_a?void 0:_a.style)\x26\x26void 0!\x3d\x3d_b?_b:\x22cell\x22};Model.prototype.assembleEncodeFromView\x3dfunction(view){view\x3d__rest(view,[\x22style\x22]);for(var e\x3d{},$jscomp$iter$230\x3d$jscomp.makeIterator(keys(view)),$jscomp$key$property\x3d\n$jscomp$iter$230.next();!$jscomp$key$property.done;$jscomp$key$property\x3d$jscomp$iter$230.next()){$jscomp$key$property\x3d$jscomp$key$property.value;var value\x3dview[$jscomp$key$property];void 0!\x3d\x3dvalue\x26\x26(e[$jscomp$key$property]\x3dsignalOrValueRef(value))}return e};Model.prototype.assembleGroupEncodeEntry\x3dfunction(isTopLevel){var encodeEntry\x3d{};this.view\x26\x26(encodeEntry\x3dthis.assembleEncodeFromView(this.view));return isTopLevel||(this.description\x26\x26(encodeEntry.description\x3dsignalOrValueRef(this.description)),\n\x22unit\x22!\x3d\x3dthis.type\x26\x26\x22layer\x22!\x3d\x3dthis.type)?isEmpty(encodeEntry)?void 0:encodeEntry:Object.assign({width:this.getSizeSignalRef(\x22width\x22),height:this.getSizeSignalRef(\x22height\x22)},null!\x3d\x3dencodeEntry\x26\x26void 0!\x3d\x3dencodeEntry?encodeEntry:{})};Model.prototype.assembleLayout\x3dfunction(){if(this.layout){var _a\x3dthis.layout,spacing\x3d_a.spacing;_a\x3d__rest(_a,[\x22spacing\x22]);for(var config\x3dthis.config,headerComponentIndex\x3dthis.component.layoutHeaders,titleBand\x3d{},$jscomp$inline_1682\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d\n$jscomp$inline_1682.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1682.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var headerComponent\x3dheaderComponentIndex[$jscomp$key$channel];if(null\x3d\x3d\x3dheaderComponent||void 0\x3d\x3d\x3dheaderComponent?0:headerComponent.facetFieldDef){var $jscomp$inline_1686\x3dgetHeaderProperties([\x22titleAnchor\x22,\x22titleOrient\x22],headerComponent.facetFieldDef,config,$jscomp$key$channel);headerComponent\x3d$jscomp$inline_1686.titleAnchor;$jscomp$key$channel\x3dgetHeaderChannel($jscomp$key$channel,\n$jscomp$inline_1686.titleOrient);headerComponent\x3dLAYOUT_TITLE_BAND[$jscomp$key$channel][headerComponent];void 0!\x3d\x3dheaderComponent\x26\x26(titleBand[$jscomp$key$channel]\x3dheaderComponent)}}config\x3disEmpty(titleBand)?void 0:titleBand;return Object.assign(Object.assign(Object.assign({padding:spacing},this.assembleDefaultLayout()),_a),config?{titleBand:config}:{})}};Model.prototype.assembleDefaultLayout\x3dfunction(){return{}};Model.prototype.assembleHeaderMarks\x3dfunction(){for(var layoutHeaders\x3dthis.component.layoutHeaders,\nheaderMarks\x3d[],$jscomp$iter$231\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$231.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$231.next())$jscomp$key$channel\x3d$jscomp$key$channel.value,layoutHeaders[$jscomp$key$channel].title\x26\x26headerMarks.push(assembleTitleGroup(this,$jscomp$key$channel));layoutHeaders\x3d$jscomp.makeIterator(HEADER_CHANNELS);for($jscomp$key$channel\x3dlayoutHeaders.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3dlayoutHeaders.next())headerMarks\x3d\nheaderMarks.concat(assembleHeaderGroups(this,$jscomp$key$channel.value));return headerMarks};Model.prototype.assembleAxes\x3dfunction(){return assembleAxes(this.component.axes,this.config)};Model.prototype.assembleLegends\x3dfunction(){return assembleLegends(this)};Model.prototype.assembleProjections\x3dfunction(){var JSCompiler_inline_result\x3disLayerModel(this)||isConcatModel(this)?assembleProjectionsForModelAndChildren(this):assembleProjectionForModel(this);return JSCompiler_inline_result};Model.prototype.assembleTitle\x3d\nfunction(){var _a,_b,_c,_d\x3dnull!\x3d\x3d(_a\x3dthis.title)\x26\x26void 0!\x3d\x3d_a?_a:{};_a\x3d_d.encoding;_d\x3d__rest(_d,[\x22encoding\x22]);_d\x3dObject.assign(Object.assign(Object.assign({},extractTitleConfig(this.config.title).nonMark),_d),_a?{encode:{update:_a}}:{});if(_d.text)return contains([\x22unit\x22,\x22layer\x22],this.type)?contains([\x22middle\x22,void 0],_d.anchor)\x26\x26(_d.frame\x3dnull!\x3d\x3d(_b\x3d_d.frame)\x26\x26void 0!\x3d\x3d_b?_b:\x22group\x22):_d.anchor\x3dnull!\x3d\x3d(_c\x3d_d.anchor)\x26\x26void 0!\x3d\x3d_c?_c:\x22start\x22,isEmpty(_d)?void 0:_d};Model.prototype.assembleGroup\x3dfunction(signals){signals\x3d\nvoid 0\x3d\x3d\x3dsignals?[]:signals;var group\x3d{};signals\x3dsignals.concat(this.assembleSignals());0\x3csignals.length\x26\x26(group.signals\x3dsignals);if(signals\x3dthis.assembleLayout())group.layout\x3dsignals;group.marks\x3d[].concat(this.assembleHeaderMarks(),this.assembleMarks());signals\x3d!this.parent||isFacetModel(this.parent)?assembleScales(this):[];0\x3csignals.length\x26\x26(group.scales\x3dsignals);signals\x3dthis.assembleAxes();0\x3csignals.length\x26\x26(group.axes\x3dsignals);signals\x3dthis.assembleLegends();0\x3csignals.length\x26\x26(group.legends\x3dsignals);\nreturn group};Model.prototype.getName\x3dfunction(text){return varName((this.name?this.name+\x22_\x22:\x22\x22)+text)};Model.prototype.getDataName\x3dfunction(type){return this.getName(DataSourceType[type].toLowerCase())};Model.prototype.requestDataName\x3dfunction(name){name\x3dthis.getDataName(name);var refCounts\x3dthis.component.data.outputNodeRefCounts;refCounts[name]\x3d(refCounts[name]||0)+1;return name};Model.prototype.getSizeSignalRef\x3dfunction(layoutSizeType){if(isFacetModel(this.parent)){var sizeType\x3dgetSizeTypeFromLayoutSizeType(layoutSizeType),\nchannel\x3dgetPositionScaleChannel(sizeType);if((sizeType\x3dthis.component.scales[channel])\x26\x26!sizeType.merged){var type\x3dsizeType.get(\x22type\x22),range\x3dsizeType.get(\x22range\x22);if(type in DISCRETE_DOMAIN_INDEX\x26\x26isVgRangeStep(range)){layoutSizeType\x3dsizeType.get(\x22name\x22);type\x3dassembleDomain(this,channel);if(type\x3dgetFieldFromDomain(type))return channel\x3dvgField({aggregate:\x22distinct\x22,field:type},{expr:\x22datum\x22}),{signal:sizeExpr(layoutSizeType,sizeType,channel)};warn(unknownField(channel));return null}}}return{signal:this.signalNameMap.get(this.getName(layoutSizeType))}};\nModel.prototype.lookupDataSource\x3dfunction(name){var node\x3dthis.component.data.outputNodes[name];return node?node.getSource():name};Model.prototype.getSignalName\x3dfunction(oldSignalName){return this.signalNameMap.get(oldSignalName)};Model.prototype.renameSignal\x3dfunction(oldName,newName){this.signalNameMap.rename(oldName,newName)};Model.prototype.renameScale\x3dfunction(oldName,newName){this.scaleNameMap.rename(oldName,newName)};Model.prototype.renameProjection\x3dfunction(oldName,newName){this.projectionNameMap.rename(oldName,\nnewName)};Model.prototype.scaleName\x3dfunction(originalScaleName,parse){if(parse)return this.getName(originalScaleName);if(CHANNEL_INDEX[originalScaleName]\x26\x26SCALE_CHANNEL_INDEX[originalScaleName]\x26\x26this.component.scales[originalScaleName]||this.scaleNameMap.has(this.getName(originalScaleName)))return this.scaleNameMap.get(this.getName(originalScaleName))};Model.prototype.projectionName\x3dfunction(parse){if(parse)return this.getName(\x22projection\x22);if(this.component.projection\x26\x26!this.component.projection.merged||\nthis.projectionNameMap.has(this.getName(\x22projection\x22)))return this.projectionNameMap.get(this.getName(\x22projection\x22))};Model.prototype.getScaleComponent\x3dfunction(channel){if(!this.component.scales)throw Error(\x22getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().\x22);var localScaleComponent\x3dthis.component.scales[channel];return localScaleComponent\x26\x26!localScaleComponent.merged?localScaleComponent:this.parent?this.parent.getScaleComponent(channel):\nvoid 0};Model.prototype.getSelectionComponent\x3dfunction(variableName,origName){var sel\x3dthis.component.selection[variableName];!sel\x26\x26this.parent\x26\x26(sel\x3dthis.parent.getSelectionComponent(variableName,origName));if(!sel)throw Error(\x27Cannot find a selection named \x22\x27+origName+\x27\x22.\x27);return sel};Model.prototype.hasAxisOrientSignalRef\x3dfunction(){var _a,_b;return(null\x3d\x3d\x3d(_a\x3dthis.component.axes.x)||void 0\x3d\x3d\x3d_a?void 0:_a.some(function(a){return a.hasOrientSignalRef()}))||(null\x3d\x3d\x3d(_b\x3dthis.component.axes.y)||void 0\x3d\x3d\x3d\n_b?void 0:_b.some(function(a){return a.hasOrientSignalRef()}))};$jscomp.global.Object.defineProperties(Model.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef(\x22width\x22)}},height:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef(\x22height\x22)}}});var ModelWithField\x3dfunction(){return Model.apply(this,arguments)||this};$jscomp.inherits(ModelWithField,Model);ModelWithField.prototype.vgField\x3dfunction(channel,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;if(channel\x3d\nthis.fieldDef(channel))return vgField(channel,opt)};ModelWithField.prototype.reduceFieldDef\x3dfunction(f,init){return reduce(this.getMapping(),function(acc,cd,c){return(cd\x3dgetFieldDef(cd))?f(acc,cd,c):acc},init)};ModelWithField.prototype.forEachFieldDef\x3dfunction(f,t){forEach(this.getMapping(),function(cd,c){(cd\x3dgetFieldDef(cd))\x26\x26f(cd,c)},t)};var DensityTransformNode\x3dfunction(parent,transform){var _a,_b,_c;parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;parent.transform\x3dduplicate(transform);\ntransform\x3dnull!\x3d\x3d(_a\x3dparent.transform.as)\x26\x26void 0!\x3d\x3d_a?_a:[void 0,void 0];parent.transform.as\x3d[null!\x3d\x3d(_b\x3dtransform[0])\x26\x26void 0!\x3d\x3d_b?_b:\x22value\x22,null!\x3d\x3d(_c\x3dtransform[1])\x26\x26void 0!\x3d\x3d_c?_c:\x22density\x22];return parent};$jscomp.inherits(DensityTransformNode,DataFlowNode);DensityTransformNode.prototype.clone\x3dfunction(){return new DensityTransformNode(null,duplicate(this.transform))};DensityTransformNode.prototype.dependentFields\x3dfunction(){var _a;return new Set([this.transform.density].concat($jscomp.arrayFromIterable(null!\x3d\x3d\n(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[])))};DensityTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as)};DensityTransformNode.prototype.hash\x3dfunction(){return\x22DensityTransform \x22+hash(this.transform)};DensityTransformNode.prototype.assemble\x3dfunction(){var _a\x3dthis.transform,density\x3d_a.density;_a\x3d__rest(_a,[\x22density\x22]);return Object.assign({type:\x22kde\x22,field:density},_a)};var FilterInvalidNode\x3dfunction(parent,filter){parent\x3dDataFlowNode.call(this,parent)||this;parent.filter\x3d\nfilter;return parent};$jscomp.inherits(FilterInvalidNode,DataFlowNode);FilterInvalidNode.prototype.clone\x3dfunction(){return new FilterInvalidNode(null,Object.assign({},this.filter))};FilterInvalidNode.make\x3dfunction(parent,model){var mark\x3dmodel.mark;if(\x22filter\x22!\x3d\x3dgetMarkPropOrConfig(\x22invalid\x22,model.markDef,model.config))return null;var filter\x3dmodel.reduceFieldDef(function(aggregator,fieldDef,channel){(channel\x3d!!SCALE_CHANNEL_INDEX[channel]\x26\x26model.getScaleComponent(channel))\x26\x26channel.get(\x22type\x22)in CONTINUOUS_DOMAIN_INDEX\x26\x26\n\x22count\x22!\x3d\x3dfieldDef.aggregate\x26\x26!isPathMark(mark)\x26\x26(aggregator[fieldDef.field]\x3dfieldDef);return aggregator},{});return keys(filter).length?new FilterInvalidNode(parent,filter):null};FilterInvalidNode.prototype.dependentFields\x3dfunction(){return new Set(keys(this.filter))};FilterInvalidNode.prototype.producedFields\x3dfunction(){return new Set};FilterInvalidNode.prototype.hash\x3dfunction(){return\x22FilterInvalid \x22+hash(this.filter)};FilterInvalidNode.prototype.assemble\x3dfunction(){var $jscomp$this\x3dthis,filters\x3d\nkeys(this.filter).reduce(function(vegaFilters,field){field\x3d$jscomp$this.filter[field];var ref\x3dvgField(field,{expr:\x22datum\x22});null!\x3d\x3dfield\x26\x26(\x22temporal\x22\x3d\x3d\x3dfield.type?vegaFilters.push(\x22(isDate(\x22+ref+\x22) || (isValid(\x22+ref+\x22) \\x26\\x26 isFinite(+\x22+ref+\x22)))\x22):\x22quantitative\x22\x3d\x3d\x3dfield.type\x26\x26(vegaFilters.push(\x22isValid(\x22+ref+\x22)\x22),vegaFilters.push(\x22isFinite(+\x22+ref+\x22)\x22)));return vegaFilters},[]);return 0\x3cfilters.length?{type:\x22filter\x22,expr:filters.join(\x22 \\x26\\x26 \x22)}:null};var FlattenTransformNode\x3dfunction(parent,\ntransform){parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;parent.transform\x3dduplicate(transform);transform\x3dparent.transform;var as\x3dvoid 0\x3d\x3d\x3dtransform.as?[]:transform.as;parent.transform.as\x3dtransform.flatten.map(function(f,i){var _a;return null!\x3d\x3d(_a\x3das[i])\x26\x26void 0!\x3d\x3d_a?_a:f});return parent};$jscomp.inherits(FlattenTransformNode,DataFlowNode);FlattenTransformNode.prototype.clone\x3dfunction(){return new FlattenTransformNode(this.parent,duplicate(this.transform))};FlattenTransformNode.prototype.dependentFields\x3d\nfunction(){return new Set(this.transform.flatten)};FlattenTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as)};FlattenTransformNode.prototype.hash\x3dfunction(){return\x22FlattenTransform \x22+hash(this.transform)};FlattenTransformNode.prototype.assemble\x3dfunction(){var $jscomp$destructuring$var355\x3dthis.transform;return{type:\x22flatten\x22,fields:$jscomp$destructuring$var355.flatten,as:$jscomp$destructuring$var355.as}};var FoldTransformNode\x3dfunction(parent,transform){var _a,_b,_c;\nparent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;parent.transform\x3dduplicate(transform);transform\x3dnull!\x3d\x3d(_a\x3dparent.transform.as)\x26\x26void 0!\x3d\x3d_a?_a:[void 0,void 0];parent.transform.as\x3d[null!\x3d\x3d(_b\x3dtransform[0])\x26\x26void 0!\x3d\x3d_b?_b:\x22key\x22,null!\x3d\x3d(_c\x3dtransform[1])\x26\x26void 0!\x3d\x3d_c?_c:\x22value\x22];return parent};$jscomp.inherits(FoldTransformNode,DataFlowNode);FoldTransformNode.prototype.clone\x3dfunction(){return new FoldTransformNode(null,duplicate(this.transform))};FoldTransformNode.prototype.dependentFields\x3d\nfunction(){return new Set(this.transform.fold)};FoldTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as)};FoldTransformNode.prototype.hash\x3dfunction(){return\x22FoldTransform \x22+hash(this.transform)};FoldTransformNode.prototype.assemble\x3dfunction(){var $jscomp$destructuring$var356\x3dthis.transform;return{type:\x22fold\x22,fields:$jscomp$destructuring$var356.fold,as:$jscomp$destructuring$var356.as}};var GeoJSONNode\x3dfunction(parent,fields,geojson,signal){parent\x3dDataFlowNode.call(this,\nparent)||this;parent.fields\x3dfields;parent.geojson\x3dgeojson;parent.signal\x3dsignal;return parent};$jscomp.inherits(GeoJSONNode,DataFlowNode);GeoJSONNode.prototype.clone\x3dfunction(){return new GeoJSONNode(null,duplicate(this.fields),this.geojson,this.signal)};GeoJSONNode.parseAll\x3dfunction(parent,model){if(model.component.projection\x26\x26!model.component.projection.isFit)return parent;for(var geoJsonCounter\x3d0,$jscomp$iter$233\x3d$jscomp.makeIterator([[\x22longitude\x22,\x22latitude\x22],[\x22longitude2\x22,\x22latitude2\x22]]),$jscomp$key$coordinates\x3d\n$jscomp$iter$233.next();!$jscomp$key$coordinates.done;$jscomp$key$coordinates\x3d$jscomp$iter$233.next())if($jscomp$key$coordinates\x3d$jscomp$key$coordinates.value.map(function(channel){channel\x3dgetFieldOrDatumDef(model.encoding[channel]);return isFieldDef(channel)?channel.field:isDatumDef(channel)?{expr:\x22\x22+channel.datum}:isValueDef(channel)?{expr:\x22\x22+channel.value}:void 0}),$jscomp$key$coordinates[0]||$jscomp$key$coordinates[1])parent\x3dnew GeoJSONNode(parent,$jscomp$key$coordinates,null,model.getName(\x22geojson_\x22+\ngeoJsonCounter++));model.channelHasField(\x22shape\x22)\x26\x26($jscomp$iter$233\x3dmodel.typedFieldDef(\x22shape\x22),\x22geojson\x22\x3d\x3d\x3d$jscomp$iter$233.type\x26\x26(parent\x3dnew GeoJSONNode(parent,null,$jscomp$iter$233.field,model.getName(\x22geojson_\x22+geoJsonCounter++))));return parent};GeoJSONNode.prototype.dependentFields\x3dfunction(){var _a,fields\x3d(null!\x3d\x3d(_a\x3dthis.fields)\x26\x26void 0!\x3d\x3d_a?_a:[]).filter(isString);return new Set([].concat($jscomp.arrayFromIterable(this.geojson?[this.geojson]:[]),$jscomp.arrayFromIterable(fields)))};GeoJSONNode.prototype.producedFields\x3d\nfunction(){return new Set};GeoJSONNode.prototype.hash\x3dfunction(){return\x22GeoJSON \x22+this.geojson+\x22 \x22+this.signal+\x22 \x22+hash(this.fields)};GeoJSONNode.prototype.assemble\x3dfunction(){return Object.assign(Object.assign(Object.assign({type:\x22geojson\x22},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})};var GeoPointNode\x3dfunction(parent,projection,fields,as){parent\x3dDataFlowNode.call(this,parent)||this;parent.projection\x3dprojection;parent.fields\x3dfields;parent.as\x3d\nas;return parent};$jscomp.inherits(GeoPointNode,DataFlowNode);GeoPointNode.prototype.clone\x3dfunction(){return new GeoPointNode(null,this.projection,duplicate(this.fields),duplicate(this.as))};GeoPointNode.parseAll\x3dfunction(parent,model){if(!model.projectionName())return parent;for(var $jscomp$iter$234\x3d$jscomp.makeIterator([[\x22longitude\x22,\x22latitude\x22],[\x22longitude2\x22,\x22latitude2\x22]]),$jscomp$key$coordinates\x3d$jscomp$iter$234.next();!$jscomp$key$coordinates.done;$jscomp$key$coordinates\x3d$jscomp$iter$234.next()){var coordinates\x3d\n$jscomp$key$coordinates.value;$jscomp$key$coordinates\x3dcoordinates.map(function(channel){channel\x3dgetFieldOrDatumDef(model.encoding[channel]);return isFieldDef(channel)?channel.field:isDatumDef(channel)?{expr:\x22\x22+channel.datum}:isValueDef(channel)?{expr:\x22\x22+channel.value}:void 0});coordinates\x3d\x22longitude2\x22\x3d\x3d\x3dcoordinates[0]?\x222\x22:\x22\x22;if($jscomp$key$coordinates[0]||$jscomp$key$coordinates[1])parent\x3dnew GeoPointNode(parent,model.projectionName(),$jscomp$key$coordinates,[model.getName(\x22x\x22+coordinates),model.getName(\x22y\x22+\ncoordinates)])}return parent};GeoPointNode.prototype.dependentFields\x3dfunction(){return new Set(this.fields.filter(isString))};GeoPointNode.prototype.producedFields\x3dfunction(){return new Set(this.as)};GeoPointNode.prototype.hash\x3dfunction(){return\x22Geopoint \x22+this.projection+\x22 \x22+hash(this.fields)+\x22 \x22+hash(this.as)};GeoPointNode.prototype.assemble\x3dfunction(){return{type:\x22geopoint\x22,projection:this.projection,fields:this.fields,as:this.as}};var ImputeNode\x3dfunction(parent,transform){parent\x3dDataFlowNode.call(this,\nparent)||this;parent.transform\x3dtransform;return parent};$jscomp.inherits(ImputeNode,DataFlowNode);ImputeNode.prototype.clone\x3dfunction(){return new ImputeNode(null,duplicate(this.transform))};ImputeNode.prototype.dependentFields\x3dfunction(){var _a;return new Set([this.transform.impute,this.transform.key].concat($jscomp.arrayFromIterable(null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[])))};ImputeNode.prototype.producedFields\x3dfunction(){return new Set([this.transform.impute])};ImputeNode.prototype.processSequence\x3d\nfunction(keyvals){var step\x3dkeyvals.step;return{signal:\x22sequence(\x22+[void 0\x3d\x3d\x3dkeyvals.start?0:keyvals.start,keyvals.stop].concat($jscomp.arrayFromIterable(step?[step]:[])).join(\x22,\x22)+\x22)\x22}};ImputeNode.makeFromTransform\x3dfunction(parent,imputeTransform){return new ImputeNode(parent,imputeTransform)};ImputeNode.makeFromEncoding\x3dfunction(parent,model){var encoding\x3dmodel.encoding,xDef\x3dencoding.x,yDef\x3dencoding.y;if(isFieldDef(xDef)\x26\x26isFieldDef(yDef)){var imputedChannel\x3dxDef.impute?xDef:yDef.impute?yDef:void 0;\nif(void 0\x3d\x3d\x3dimputedChannel)return;xDef\x3dxDef.impute?yDef:yDef.impute?xDef:void 0;var $jscomp$destructuring$var358\x3dimputedChannel.impute;yDef\x3d$jscomp$destructuring$var358.method;var value\x3d$jscomp$destructuring$var358.value,frame\x3d$jscomp$destructuring$var358.frame;$jscomp$destructuring$var358\x3d$jscomp$destructuring$var358.keyvals;model\x3dpathGroupingFields(model.mark,encoding);return new ImputeNode(parent,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:imputedChannel.field,\nkey:xDef.field},yDef?{method:yDef}:{}),void 0!\x3d\x3dvalue?{value:value}:{}),frame?{frame:frame}:{}),void 0!\x3d\x3d$jscomp$destructuring$var358?{keyvals:$jscomp$destructuring$var358}:{}),model.length?{groupby:model}:{}))}return null};ImputeNode.prototype.hash\x3dfunction(){return\x22Impute \x22+hash(this.transform)};ImputeNode.prototype.assemble\x3dfunction(){var $jscomp$destructuring$var359\x3dthis.transform,impute\x3d$jscomp$destructuring$var359.impute,keyvals\x3d$jscomp$destructuring$var359.keyvals,method\x3d$jscomp$destructuring$var359.method,\ngroupby\x3d$jscomp$destructuring$var359.groupby,value\x3d$jscomp$destructuring$var359.value,frame\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var359.frame?[null,null]:$jscomp$destructuring$var359.frame;$jscomp$destructuring$var359\x3dObject.assign(Object.assign(Object.assign(Object.assign({type:\x22impute\x22,field:impute,key:$jscomp$destructuring$var359.key},keyvals?{keyvals:void 0!\x3d\x3d(null\x3d\x3d\x3dkeyvals||void 0\x3d\x3d\x3dkeyvals?void 0:keyvals.stop)?this.processSequence(keyvals):keyvals}:{}),{method:\x22value\x22}),groupby?{groupby:groupby}:\n{}),{value:method\x26\x26\x22value\x22!\x3d\x3dmethod?null:value});return method\x26\x26\x22value\x22!\x3d\x3dmethod?(method\x3dObject.assign({type:\x22window\x22,as:[\x22imputed_\x22+impute+\x22_value\x22],ops:[method],fields:[impute],frame:frame,ignorePeers:!1},groupby?{groupby:groupby}:{}),[$jscomp$destructuring$var359,method,{type:\x22formula\x22,expr:\x22datum.\x22+impute+\x22 \\x3d\\x3d\\x3d null ? datum.imputed_\x22+impute+\x22_value : datum.\x22+impute,as:impute}]):[$jscomp$destructuring$var359]};var LoessTransformNode\x3dfunction(parent,transform){var _a,_b,_c;parent\x3dDataFlowNode.call(this,\nparent)||this;parent.transform\x3dtransform;parent.transform\x3dduplicate(transform);var specifiedAs\x3dnull!\x3d\x3d(_a\x3dparent.transform.as)\x26\x26void 0!\x3d\x3d_a?_a:[void 0,void 0];parent.transform.as\x3d[null!\x3d\x3d(_b\x3dspecifiedAs[0])\x26\x26void 0!\x3d\x3d_b?_b:transform.on,null!\x3d\x3d(_c\x3dspecifiedAs[1])\x26\x26void 0!\x3d\x3d_c?_c:transform.loess];return parent};$jscomp.inherits(LoessTransformNode,DataFlowNode);LoessTransformNode.prototype.clone\x3dfunction(){return new LoessTransformNode(null,duplicate(this.transform))};LoessTransformNode.prototype.dependentFields\x3d\nfunction(){var _a;return new Set([this.transform.loess,this.transform.on].concat($jscomp.arrayFromIterable(null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[])))};LoessTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as)};LoessTransformNode.prototype.hash\x3dfunction(){return\x22LoessTransform \x22+hash(this.transform)};LoessTransformNode.prototype.assemble\x3dfunction(){var _a\x3dthis.transform,loess\x3d_a.loess,on\x3d_a.on;_a\x3d__rest(_a,[\x22loess\x22,\x22on\x22]);return Object.assign({type:\x22loess\x22,\nx:on,y:loess},_a)};var LookupNode\x3dfunction(parent,transform,secondary){parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;parent.secondary\x3dsecondary;return parent};$jscomp.inherits(LookupNode,DataFlowNode);LookupNode.prototype.clone\x3dfunction(){return new LookupNode(null,duplicate(this.transform),this.secondary)};LookupNode.make\x3dfunction(parent,model,transform,counter){var sources\x3dmodel.component.data.sources,from\x3dtransform.from,fromOutputNode\x3dnull;if(\x22data\x22in from)fromOutputNode\x3d\nfindSource(from.data,sources),fromOutputNode||(fromOutputNode\x3dnew SourceNode(from.data),sources.push(fromOutputNode)),counter\x3dmodel.getName(\x22lookup_\x22+counter),fromOutputNode\x3dnew OutputNode(fromOutputNode,counter,DataSourceType.Lookup,model.component.data.outputNodeRefCounts),model.component.data.outputNodes[counter]\x3dfromOutputNode;else if(\x22selection\x22in from\x26\x26(counter\x3dfrom.selection,transform\x3dObject.assign({as:counter},transform),fromOutputNode\x3dmodel.getSelectionComponent(varName(counter),counter).materialized,\n!fromOutputNode))throw Error(\x27Cannot define and lookup the \x22\x27+counter+\x27\x22 selection in the same view. Try moving the lookup into a second, layered view?\x27);return new LookupNode(parent,transform,fromOutputNode.getSource())};LookupNode.prototype.dependentFields\x3dfunction(){return new Set([this.transform.lookup])};LookupNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as?array$jscomp$0(this.transform.as):this.transform.from.fields)};LookupNode.prototype.hash\x3dfunction(){return\x22Lookup \x22+\nhash({transform:this.transform,secondary:this.secondary})};LookupNode.prototype.assemble\x3dfunction(){if(this.transform.from.fields)var foreign\x3dObject.assign({values:this.transform.from.fields},this.transform.as?{as:array$jscomp$0(this.transform.as)}:{});else foreign\x3dthis.transform.as,isString(foreign)||(warn(\x27If \x22from.fields\x22 is not specified, \x22as\x22 has to be a string that specifies the key to be used for the data from the secondary source.\x27),foreign\x3d\x22_lookup\x22),foreign\x3d{as:[foreign]};return Object.assign(Object.assign({type:\x22lookup\x22,\nfrom:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},foreign),this.transform.default?{default:this.transform.default}:{})};var QuantileTransformNode\x3dfunction(parent,transform){var _a,_b,_c;parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;parent.transform\x3dduplicate(transform);transform\x3dnull!\x3d\x3d(_a\x3dparent.transform.as)\x26\x26void 0!\x3d\x3d_a?_a:[void 0,void 0];parent.transform.as\x3d[null!\x3d\x3d(_b\x3dtransform[0])\x26\x26void 0!\x3d\x3d_b?_b:\x22prob\x22,null!\x3d\x3d(_c\x3dtransform[1])\x26\x26void 0!\x3d\x3d\n_c?_c:\x22value\x22];return parent};$jscomp.inherits(QuantileTransformNode,DataFlowNode);QuantileTransformNode.prototype.clone\x3dfunction(){return new QuantileTransformNode(null,duplicate(this.transform))};QuantileTransformNode.prototype.dependentFields\x3dfunction(){var _a;return new Set([this.transform.quantile].concat($jscomp.arrayFromIterable(null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[])))};QuantileTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as)};QuantileTransformNode.prototype.hash\x3d\nfunction(){return\x22QuantileTransform \x22+hash(this.transform)};QuantileTransformNode.prototype.assemble\x3dfunction(){var _a\x3dthis.transform,quantile\x3d_a.quantile;_a\x3d__rest(_a,[\x22quantile\x22]);return Object.assign({type:\x22quantile\x22,field:quantile},_a)};var RegressionTransformNode\x3dfunction(parent,transform){var _a,_b,_c;parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;parent.transform\x3dduplicate(transform);var specifiedAs\x3dnull!\x3d\x3d(_a\x3dparent.transform.as)\x26\x26void 0!\x3d\x3d_a?_a:[void 0,void 0];parent.transform.as\x3d\n[null!\x3d\x3d(_b\x3dspecifiedAs[0])\x26\x26void 0!\x3d\x3d_b?_b:transform.on,null!\x3d\x3d(_c\x3dspecifiedAs[1])\x26\x26void 0!\x3d\x3d_c?_c:transform.regression];return parent};$jscomp.inherits(RegressionTransformNode,DataFlowNode);RegressionTransformNode.prototype.clone\x3dfunction(){return new RegressionTransformNode(null,duplicate(this.transform))};RegressionTransformNode.prototype.dependentFields\x3dfunction(){var _a;return new Set([this.transform.regression,this.transform.on].concat($jscomp.arrayFromIterable(null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26\nvoid 0!\x3d\x3d_a?_a:[])))};RegressionTransformNode.prototype.producedFields\x3dfunction(){return new Set(this.transform.as)};RegressionTransformNode.prototype.hash\x3dfunction(){return\x22RegressionTransform \x22+hash(this.transform)};RegressionTransformNode.prototype.assemble\x3dfunction(){var _a\x3dthis.transform,regression\x3d_a.regression,on\x3d_a.on;_a\x3d__rest(_a,[\x22regression\x22,\x22on\x22]);return Object.assign({type:\x22regression\x22,x:on,y:regression},_a)};var PivotTransformNode\x3dfunction(parent,transform){parent\x3dDataFlowNode.call(this,\nparent)||this;parent.transform\x3dtransform;return parent};$jscomp.inherits(PivotTransformNode,DataFlowNode);PivotTransformNode.prototype.clone\x3dfunction(){return new PivotTransformNode(null,duplicate(this.transform))};PivotTransformNode.prototype.addDimensions\x3dfunction(fields){var _a;this.transform.groupby\x3dunique((null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[]).concat(fields),function(d){return d})};PivotTransformNode.prototype.producedFields\x3dfunction(){};PivotTransformNode.prototype.dependentFields\x3d\nfunction(){var _a;return new Set([this.transform.pivot,this.transform.value].concat($jscomp.arrayFromIterable(null!\x3d\x3d(_a\x3dthis.transform.groupby)\x26\x26void 0!\x3d\x3d_a?_a:[])))};PivotTransformNode.prototype.hash\x3dfunction(){return\x22PivotTransform \x22+hash(this.transform)};PivotTransformNode.prototype.assemble\x3dfunction(){var $jscomp$destructuring$var364\x3dthis.transform,groupby\x3d$jscomp$destructuring$var364.groupby,limit\x3d$jscomp$destructuring$var364.limit,op\x3d$jscomp$destructuring$var364.op;return Object.assign(Object.assign(Object.assign({type:\x22pivot\x22,\nfield:$jscomp$destructuring$var364.pivot,value:$jscomp$destructuring$var364.value},void 0!\x3d\x3dlimit?{limit:limit}:{}),void 0!\x3d\x3dop?{op:op}:{}),void 0!\x3d\x3dgroupby?{groupby:groupby}:{})};var SampleTransformNode\x3dfunction(parent,transform){parent\x3dDataFlowNode.call(this,parent)||this;parent.transform\x3dtransform;return parent};$jscomp.inherits(SampleTransformNode,DataFlowNode);SampleTransformNode.prototype.clone\x3dfunction(){return new SampleTransformNode(null,duplicate(this.transform))};SampleTransformNode.prototype.dependentFields\x3d\nfunction(){return new Set};SampleTransformNode.prototype.producedFields\x3dfunction(){return new Set};SampleTransformNode.prototype.hash\x3dfunction(){return\x22SampleTransform \x22+hash(this.transform)};SampleTransformNode.prototype.assemble\x3dfunction(){return{type:\x22sample\x22,size:this.transform.sample}};var FacetModel\x3dfunction(spec,parent,parentGivenName,config){parent\x3dModelWithField.call(this,spec,\x22facet\x22,parent,parentGivenName,config,spec.resolve)||this;parent.child\x3dbuildModel(spec.spec,parent,parent.getName(\x22child\x22),\nvoid 0,config);parent.children\x3d[parent.child];parent.facet\x3dparent.initFacet(spec.facet,config);return parent};$jscomp.inherits(FacetModel,ModelWithField);FacetModel.prototype.initFacet\x3dfunction(facet,config){return isFacetMapping(facet)?reduce(facet,function(normalizedFacet,fieldDef,channel){if(!contains([\x22row\x22,\x22column\x22],channel))return warn(incompatibleChannel(channel,\x22facet\x22)),normalizedFacet;if(void 0\x3d\x3d\x3dfieldDef.field)return warn(emptyFieldDef(fieldDef,channel)),normalizedFacet;normalizedFacet[channel]\x3d\ninitChannelDef(fieldDef,channel,config);return normalizedFacet},{}):{facet:initChannelDef(facet,\x22facet\x22,config)}};FacetModel.prototype.channelHasField\x3dfunction(channel){return!!this.facet[channel]};FacetModel.prototype.fieldDef\x3dfunction(channel){return this.facet[channel]};FacetModel.prototype.parseData\x3dfunction(){this.component.data\x3dparseData(this);this.child.parseData()};FacetModel.prototype.parseLayoutSize\x3dfunction(){parseChildrenLayoutSize(this)};FacetModel.prototype.parseSelections\x3dfunction(){this.child.parseSelections();\nthis.component.selection\x3dthis.child.component.selection};FacetModel.prototype.parseMarkGroup\x3dfunction(){this.child.parseMarkGroup()};FacetModel.prototype.parseAxesAndHeaders\x3dfunction(){this.child.parseAxesAndHeaders();for(var $jscomp$inline_1695\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d$jscomp$inline_1695.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1695.next()){var _a\x3dvoid 0;$jscomp$key$channel\x3d$jscomp$key$channel.value;var facet\x3dthis.facet,config\x3dthis.config,\nchild\x3dthis.child,component\x3dthis.component;if(this.channelHasField($jscomp$key$channel)){facet\x3dfacet[$jscomp$key$channel];var titleConfig\x3dgetHeaderProperty(\x22title\x22,null,config,$jscomp$key$channel);titleConfig\x3dtitle$jscomp$0(facet,config,{allowDisabling:!0,includeDefault:void 0\x3d\x3d\x3dtitleConfig||!!titleConfig});child.component.layoutHeaders[$jscomp$key$channel].title\x26\x26(titleConfig\x3disArray(titleConfig)?titleConfig.join(\x22, \x22):titleConfig,titleConfig+\x3d\x22 / \x22+child.component.layoutHeaders[$jscomp$key$channel].title,\nchild.component.layoutHeaders[$jscomp$key$channel].title\x3dnull);child\x3dgetHeaderProperty(\x22labelOrient\x22,facet,config,$jscomp$key$channel);var header\x3dnull!\x3d\x3d(_a\x3dfacet.header)\x26\x26void 0!\x3d\x3d_a?_a:{};_a\x3dgetFirstDefined(header.labels,config.header.labels,!0);config\x3dcontains([\x22bottom\x22,\x22right\x22],child)?\x22footer\x22:\x22header\x22;child\x3d{};component.layoutHeaders[$jscomp$key$channel]\x3d(child.title\x3dtitleConfig,child.facetFieldDef\x3dfacet,child[config]\x3d\x22facet\x22\x3d\x3d\x3d$jscomp$key$channel?[]:[makeHeaderComponent(this,$jscomp$key$channel,\n_a)],child)}}mergeChildAxis(this,\x22x\x22);mergeChildAxis(this,\x22y\x22)};FacetModel.prototype.assembleSelectionTopLevelSignals\x3dfunction(signals){return this.child.assembleSelectionTopLevelSignals(signals)};FacetModel.prototype.assembleSignals\x3dfunction(){this.child.assembleSignals();return[]};FacetModel.prototype.assembleSelectionData\x3dfunction(data){return this.child.assembleSelectionData(data)};FacetModel.prototype.getHeaderLayoutMixins\x3dfunction(){for(var _a,_b,_c,layoutMixins\x3d{},$jscomp$iter$251\x3d$jscomp.makeIterator(FACET_CHANNELS),\n$jscomp$key$channel\x3d$jscomp$iter$251.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$251.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;for(var $jscomp$iter$250\x3d$jscomp.makeIterator(HEADER_TYPES),$jscomp$key$headerType\x3d$jscomp$iter$250.next();!$jscomp$key$headerType.done;$jscomp$key$headerType\x3d$jscomp$iter$250.next()){var headerType\x3d$jscomp$key$headerType.value;$jscomp$key$headerType\x3dthis.component.layoutHeaders[$jscomp$key$channel];var headerComponent\x3d$jscomp$key$headerType[headerType],\nfacetFieldDef\x3d$jscomp$key$headerType.facetFieldDef;facetFieldDef\x26\x26(facetFieldDef\x3dgetHeaderProperty(\x22titleOrient\x22,facetFieldDef,this.config,$jscomp$key$channel),contains([\x22right\x22,\x22bottom\x22],facetFieldDef)\x26\x26(facetFieldDef\x3dgetHeaderChannel($jscomp$key$channel,facetFieldDef),layoutMixins.titleAnchor\x3dnull!\x3d\x3d(_a\x3dlayoutMixins.titleAnchor)\x26\x26void 0!\x3d\x3d_a?_a:{},layoutMixins.titleAnchor[facetFieldDef]\x3d\x22end\x22));if(null\x3d\x3d\x3dheaderComponent||void 0\x3d\x3d\x3dheaderComponent?0:headerComponent[0])headerComponent\x3d\x22row\x22\x3d\x3d\x3d$jscomp$key$channel?\n\x22height\x22:\x22width\x22,headerType\x3d\x22header\x22\x3d\x3d\x3dheaderType?\x22headerBand\x22:\x22footerBand\x22,\x22facet\x22\x3d\x3d\x3d$jscomp$key$channel||this.child.component.layoutSize.get(headerComponent)||(layoutMixins[headerType]\x3dnull!\x3d\x3d(_b\x3dlayoutMixins[headerType])\x26\x26void 0!\x3d\x3d_b?_b:{},layoutMixins[headerType][$jscomp$key$channel]\x3d.5),$jscomp$key$headerType.title\x26\x26(layoutMixins.offset\x3dnull!\x3d\x3d(_c\x3dlayoutMixins.offset)\x26\x26void 0!\x3d\x3d_c?_c:{},layoutMixins.offset[\x22row\x22\x3d\x3d\x3d$jscomp$key$channel?\x22rowTitle\x22:\x22columnTitle\x22]\x3d10)}}return layoutMixins};FacetModel.prototype.assembleDefaultLayout\x3d\nfunction(){var $jscomp$destructuring$var372\x3dthis.facet,column\x3d$jscomp$destructuring$var372.column;$jscomp$destructuring$var372\x3d$jscomp$destructuring$var372.row;var columns\x3dcolumn?this.columnDistinctSignal():$jscomp$destructuring$var372?1:void 0,align\x3d\x22all\x22;$jscomp$destructuring$var372||\x22independent\x22!\x3d\x3dthis.component.resolve.scale.x?column||\x22independent\x22!\x3d\x3dthis.component.resolve.scale.y||(align\x3d\x22none\x22):align\x3d\x22none\x22;return Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),columns?\n{columns:columns}:{}),{bounds:\x22full\x22,align:align})};FacetModel.prototype.assembleLayoutSignals\x3dfunction(){return this.child.assembleLayoutSignals()};FacetModel.prototype.columnDistinctSignal\x3dfunction(){if(!(this.parent\x26\x26this.parent instanceof FacetModel))return{signal:\x22length(data(\x27\x22+this.getName(\x22column_domain\x22)+\x22\x27))\x22}};FacetModel.prototype.assembleGroup\x3dfunction(signals){return this.parent\x26\x26this.parent instanceof FacetModel?Object.assign(Object.assign({},this.channelHasField(\x22column\x22)?{encode:{update:{columns:{field:vgField(this.facet.column,\n{prefix:\x22distinct\x22})}}}}:{}),ModelWithField.prototype.assembleGroup.call(this,signals)):ModelWithField.prototype.assembleGroup.call(this,signals)};FacetModel.prototype.getCardinalityAggregateForChild\x3dfunction(){var fields\x3d[],ops\x3d[],as\x3d[];if(this.child instanceof FacetModel){if(this.child.channelHasField(\x22column\x22)){var field$456\x3dvgField(this.child.facet.column);fields.push(field$456);ops.push(\x22distinct\x22);as.push(\x22distinct_\x22+field$456)}}else{field$456\x3d$jscomp.makeIterator(POSITION_SCALE_CHANNELS);for(var $jscomp$key$channel\x3d\nfield$456.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3dfield$456.next()){$jscomp$key$channel\x3d$jscomp$key$channel.value;var childScaleComponent\x3dthis.child.component.scales[$jscomp$key$channel];if(childScaleComponent\x26\x26!childScaleComponent.merged){var type\x3dchildScaleComponent.get(\x22type\x22);childScaleComponent\x3dchildScaleComponent.get(\x22range\x22);type in DISCRETE_DOMAIN_INDEX\x26\x26isVgRangeStep(childScaleComponent)\x26\x26(type\x3dassembleDomain(this.child,$jscomp$key$channel),(type\x3dgetFieldFromDomain(type))?(fields.push(type),\nops.push(\x22distinct\x22),as.push(\x22distinct_\x22+type)):warn(unknownField($jscomp$key$channel)))}}}return{fields:fields,ops:ops,as:as}};FacetModel.prototype.assembleFacet\x3dfunction(){var $jscomp$destructuring$var373\x3dthis.component.data.facetRoot,name\x3d$jscomp$destructuring$var373.name;$jscomp$destructuring$var373\x3d$jscomp$destructuring$var373.data;var $jscomp$destructuring$var374\x3dthis.facet,row\x3d$jscomp$destructuring$var374.row,column\x3d$jscomp$destructuring$var374.column,$jscomp$destructuring$var375\x3dthis.getCardinalityAggregateForChild();\n$jscomp$destructuring$var374\x3d$jscomp$destructuring$var375.fields;var ops\x3d$jscomp$destructuring$var375.ops;$jscomp$destructuring$var375\x3d$jscomp$destructuring$var375.as;for(var groupby\x3d[],$jscomp$iter$253\x3d$jscomp.makeIterator(FACET_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$253.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$iter$253.next()){var channel\x3d$jscomp$key$channel.value;if($jscomp$key$channel\x3dthis.facet[channel]){groupby.push(vgField($jscomp$key$channel));var $jscomp$destructuring$var376\x3d\n$jscomp$key$channel,sort\x3d$jscomp$destructuring$var376.sort;isBinning($jscomp$destructuring$var376.bin)\x26\x26groupby.push(vgField($jscomp$key$channel,{binSuffix:\x22end\x22}));isSortField(sort)?($jscomp$destructuring$var376\x3dsort,channel\x3d$jscomp$destructuring$var376.field,$jscomp$destructuring$var376\x3dvoid 0\x3d\x3d\x3d$jscomp$destructuring$var376.op?\x22min\x22:$jscomp$destructuring$var376.op,$jscomp$key$channel\x3dfacetSortFieldName($jscomp$key$channel,sort),row\x26\x26column?($jscomp$destructuring$var374.push($jscomp$key$channel),\nops.push(\x22max\x22)):($jscomp$destructuring$var374.push(channel),ops.push($jscomp$destructuring$var376)),$jscomp$destructuring$var375.push($jscomp$key$channel)):isArray(sort)\x26\x26($jscomp$key$channel\x3dsortArrayIndexField($jscomp$key$channel,channel),$jscomp$destructuring$var374.push($jscomp$key$channel),ops.push(\x22max\x22),$jscomp$destructuring$var375.push($jscomp$key$channel))}}row\x3d!!row\x26\x26!!column;return Object.assign({name:name,data:$jscomp$destructuring$var373,groupby:groupby},row||0\x3c$jscomp$destructuring$var374.length?\n{aggregate:Object.assign(Object.assign({},row?{cross:row}:{}),$jscomp$destructuring$var374.length?{fields:$jscomp$destructuring$var374,ops:ops,as:$jscomp$destructuring$var375}:{})}:{})};FacetModel.prototype.facetSortFields\x3dfunction(channel){var fieldDef\x3dthis.facet[channel];return fieldDef?isSortField(fieldDef.sort)?[facetSortFieldName(fieldDef,fieldDef.sort,{expr:\x22datum\x22})]:isArray(fieldDef.sort)?[sortArrayIndexField(fieldDef,channel,{expr:\x22datum\x22})]:[vgField(fieldDef,{expr:\x22datum\x22})]:[]};FacetModel.prototype.facetSortOrder\x3d\nfunction(channel){return(channel\x3dthis.facet[channel])?(channel\x3dchannel.sort,[(isSortField(channel)?channel.order:!isArray(channel)\x26\x26channel)||\x22ascending\x22]):[]};FacetModel.prototype.assembleLabelTitle\x3dfunction(){var facet\x3dthis.facet,config\x3dthis.config;if(facet.facet)return assembleLabelTitle(facet.facet,\x22facet\x22,config);for(var ORTHOGONAL_ORIENT\x3d{row:[\x22top\x22,\x22bottom\x22],column:[\x22left\x22,\x22right\x22]},$jscomp$iter$254\x3d$jscomp.makeIterator(HEADER_CHANNELS),$jscomp$key$channel\x3d$jscomp$iter$254.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d\n$jscomp$iter$254.next())if($jscomp$key$channel\x3d$jscomp$key$channel.value,facet[$jscomp$key$channel]){var labelOrient\x3dgetHeaderProperty(\x22labelOrient\x22,facet[$jscomp$key$channel],config,$jscomp$key$channel);if(contains(ORTHOGONAL_ORIENT[$jscomp$key$channel],labelOrient))return assembleLabelTitle(facet[$jscomp$key$channel],$jscomp$key$channel,config)}};FacetModel.prototype.assembleMarks\x3dfunction(){var $jscomp$this\x3dthis,child\x3dthis.child,data\x3dassembleFacetData(this.component.data.facetRoot),encodeEntry\x3d\nchild.assembleGroupEncodeEntry(!1),title\x3dthis.assembleLabelTitle()||child.assembleTitle(),style\x3dchild.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName(\x22cell\x22),type:\x22group\x22},title?{title:title}:{}),style?{style:style}:{}),{from:{facet:this.assembleFacet()},sort:{field:FACET_CHANNELS.map(function(c){return $jscomp$this.facetSortFields(c)}).flat(),order:FACET_CHANNELS.map(function(c){return $jscomp$this.facetSortOrder(c)}).flat()}}),\n0\x3cdata.length?{data:data}:{}),encodeEntry?{encode:{update:encodeEntry}}:{}),child.assembleGroup(assembleFacetSignals(this,[])))]};FacetModel.prototype.getMapping\x3dfunction(){return this.facet};var ConcatModel\x3dfunction(spec,parent,parentGivenName,config){var _a,_b,_c,_d;var $jscomp$super$this\x3dModel.call(this,spec,\x22concat\x22,parent,parentGivenName,config,spec.resolve)||this;\x22shared\x22!\x3d\x3d(null\x3d\x3d\x3d(_b\x3dnull\x3d\x3d\x3d(_a\x3dspec.resolve)||void 0\x3d\x3d\x3d_a?void 0:_a.axis)||void 0\x3d\x3d\x3d_b?void 0:_b.x)\x26\x26\x22shared\x22!\x3d\x3d(null\x3d\x3d\x3d(_d\x3dnull\x3d\x3d\x3d\n(_c\x3dspec.resolve)||void 0\x3d\x3d\x3d_c?void 0:_c.axis)||void 0\x3d\x3d\x3d_d?void 0:_d.y)||warn(\x22Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).\x22);$jscomp$super$this.children\x3d$jscomp$super$this.getChildren(spec).map(function(child,i){return buildModel(child,$jscomp$super$this,$jscomp$super$this.getName(\x22concat_\x22+i),void 0,config)});return $jscomp$super$this};$jscomp.inherits(ConcatModel,Model);ConcatModel.prototype.parseData\x3dfunction(){this.component.data\x3d\nparseData(this);for(var $jscomp$iter$259\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$259.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$259.next())$jscomp$key$child.value.parseData()};ConcatModel.prototype.parseSelections\x3dfunction(){this.component.selection\x3d{};for(var $jscomp$iter$261\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$261.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$261.next()){$jscomp$key$child\x3d$jscomp$key$child.value;\n$jscomp$key$child.parseSelections();for(var $jscomp$iter$260\x3d$jscomp.makeIterator(keys($jscomp$key$child.component.selection)),$jscomp$key$key\x3d$jscomp$iter$260.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$260.next())$jscomp$key$key\x3d$jscomp$key$key.value,this.component.selection[$jscomp$key$key]\x3d$jscomp$key$child.component.selection[$jscomp$key$key]}};ConcatModel.prototype.parseMarkGroup\x3dfunction(){for(var $jscomp$iter$262\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$262.next();!$jscomp$key$child.done;$jscomp$key$child\x3d\n$jscomp$iter$262.next())$jscomp$key$child.value.parseMarkGroup()};ConcatModel.prototype.parseAxesAndHeaders\x3dfunction(){for(var $jscomp$iter$263\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$263.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$263.next())$jscomp$key$child.value.parseAxesAndHeaders()};ConcatModel.prototype.getChildren\x3dfunction(spec){return\x22vconcat\x22in spec?spec.vconcat:\x22hconcat\x22in spec?spec.hconcat:spec.concat};ConcatModel.prototype.parseLayoutSize\x3d\nfunction(){parseChildrenLayoutSize(this);var heightType\x3dvoid 0\x3d\x3d\x3dthis.layout.columns?\x22height\x22:\x22childHeight\x22;parseNonUnitLayoutSizeForChannel(this,1\x3d\x3d\x3dthis.layout.columns?\x22width\x22:\x22childWidth\x22);parseNonUnitLayoutSizeForChannel(this,heightType)};ConcatModel.prototype.parseAxisGroup\x3dfunction(){return null};ConcatModel.prototype.assembleSelectionTopLevelSignals\x3dfunction(signals){return this.children.reduce(function(sg,child){return child.assembleSelectionTopLevelSignals(sg)},signals)};ConcatModel.prototype.assembleSignals\x3d\nfunction(){this.children.forEach(function(child){return child.assembleSignals()});return[]};ConcatModel.prototype.assembleLayoutSignals\x3dfunction(){for(var layoutSignals\x3dassembleLayoutSignals(this),$jscomp$iter$264\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$264.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$264.next())layoutSignals.push.apply(layoutSignals,$jscomp.arrayFromIterable($jscomp$key$child.value.assembleLayoutSignals()));return layoutSignals};ConcatModel.prototype.assembleSelectionData\x3d\nfunction(data){return this.children.reduce(function(db,child){return child.assembleSelectionData(db)},data)};ConcatModel.prototype.assembleMarks\x3dfunction(){return this.children.map(function(child){var title\x3dchild.assembleTitle(),style\x3dchild.assembleGroupStyle(),encodeEntry\x3dchild.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:\x22group\x22,name:child.getName(\x22group\x22)},title?{title:title}:{}),style?{style:style}:{}),encodeEntry?{encode:{update:encodeEntry}}:\n{}),child.assembleGroup())})};ConcatModel.prototype.assembleDefaultLayout\x3dfunction(){var columns\x3dthis.layout.columns;return Object.assign(Object.assign({},null!\x3dcolumns?{columns:columns}:{}),{bounds:\x22full\x22,align:\x22each\x22})};var AXIS_COMPONENT_PROPERTIES_INDEX\x3dObject.assign(Object.assign({disable:1,gridScale:1,scale:1},COMMON_AXIS_PROPERTIES_INDEX),{labelExpr:1,encode:1}),AXIS_COMPONENT_PROPERTIES\x3dkeys(AXIS_COMPONENT_PROPERTIES_INDEX),AxisComponent\x3dfunction(explicit,implicit,mainExtracted){explicit\x3d\nvoid 0\x3d\x3d\x3dexplicit?{}:explicit;implicit\x3dvoid 0\x3d\x3d\x3dimplicit?{}:implicit;mainExtracted\x3dvoid 0\x3d\x3d\x3dmainExtracted?!1:mainExtracted;var $jscomp$super$this\x3dSplit.call(this)||this;$jscomp$super$this.explicit\x3dexplicit;$jscomp$super$this.implicit\x3dimplicit;$jscomp$super$this.mainExtracted\x3dmainExtracted;return $jscomp$super$this};$jscomp.inherits(AxisComponent,Split);AxisComponent.prototype.clone\x3dfunction(){return new AxisComponent(duplicate(this.explicit),duplicate(this.implicit),this.mainExtracted)};AxisComponent.prototype.hasAxisPart\x3d\nfunction(part){if(\x22axis\x22\x3d\x3d\x3dpart)return!0;if(\x22grid\x22\x3d\x3d\x3dpart||\x22title\x22\x3d\x3d\x3dpart)return!!this.get(part);part\x3dthis.get(part);return!(!1\x3d\x3d\x3dpart||null\x3d\x3d\x3dpart)};AxisComponent.prototype.hasOrientSignalRef\x3dfunction(){return isSignalRef(this.explicit.orient)};var OPPOSITE_ORIENT\x3d{bottom:\x22top\x22,top:\x22bottom\x22,left:\x22right\x22,right:\x22left\x22},propsToAlwaysIncludeConfig\x3dnew Set(\x22grid translate format formatType orient labelExpr tickCount position tickMinStep\x22.split(\x22 \x22)),markCompiler\x3d{arc:{vgMark:\x22arc\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},\nbaseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,size:\x22ignore\x22,orient:\x22ignore\x22,theta:\x22ignore\x22})),pointPosition(\x22x\x22,model,{defaultPos:\x22mid\x22})),pointPosition(\x22y\x22,model,{defaultPos:\x22mid\x22})),rectPosition(model,\x22radius\x22,\x22arc\x22)),rectPosition(model,\x22theta\x22,\x22arc\x22))}},area:{vgMark:\x22area\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,orient:\x22include\x22,size:\x22ignore\x22,theta:\x22ignore\x22})),\npointOrRangePosition(\x22x\x22,model,{defaultPos:\x22zeroOrMin\x22,defaultPos2:\x22zeroOrMin\x22,range:\x22horizontal\x22\x3d\x3d\x3dmodel.markDef.orient})),pointOrRangePosition(\x22y\x22,model,{defaultPos:\x22zeroOrMin\x22,defaultPos2:\x22zeroOrMin\x22,range:\x22vertical\x22\x3d\x3d\x3dmodel.markDef.orient})),defined(model))}},bar:{vgMark:\x22rect\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,orient:\x22ignore\x22,size:\x22ignore\x22,theta:\x22ignore\x22})),rectPosition(model,\n\x22x\x22,\x22bar\x22)),rectPosition(model,\x22y\x22,\x22bar\x22))}},circle:{vgMark:\x22symbol\x22,encodeEntry:function(model){return encodeEntry(model,\x22circle\x22)}},geoshape:{vgMark:\x22shape\x22,encodeEntry:function(model){return Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,size:\x22ignore\x22,orient:\x22ignore\x22,theta:\x22ignore\x22}))},postEncodingTransform:function(model){var shapeDef\x3dmodel.encoding.shape;return[Object.assign({type:\x22geoshape\x22,projection:model.projectionName()},shapeDef\x26\x26isFieldDef(shapeDef)\x26\x26\n\x22geojson\x22\x3d\x3d\x3dshapeDef.type?{field:vgField(shapeDef,{expr:\x22datum\x22})}:{})]}},image:{vgMark:\x22image\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22ignore\x22,orient:\x22ignore\x22,size:\x22ignore\x22,theta:\x22ignore\x22})),rectPosition(model,\x22x\x22,\x22image\x22)),rectPosition(model,\x22y\x22,\x22image\x22)),text$jscomp$0(model,\x22url\x22))}},line:{vgMark:\x22line\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},\nbaseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,size:\x22ignore\x22,orient:\x22ignore\x22,theta:\x22ignore\x22})),pointPosition(\x22x\x22,model,{defaultPos:\x22mid\x22})),pointPosition(\x22y\x22,model,{defaultPos:\x22mid\x22})),nonPosition(\x22size\x22,model,{vgChannel:\x22strokeWidth\x22})),defined(model))}},point:{vgMark:\x22symbol\x22,encodeEntry:function(model){return encodeEntry(model)}},rect:{vgMark:\x22rect\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,\ncolor:\x22include\x22,orient:\x22ignore\x22,size:\x22ignore\x22,theta:\x22ignore\x22})),rectPosition(model,\x22x\x22,\x22rect\x22)),rectPosition(model,\x22y\x22,\x22rect\x22))}},rule:{vgMark:\x22rule\x22,encodeEntry:function(model){var orient\x3dmodel.markDef.orient;return model.encoding.x||model.encoding.y||model.encoding.latitude||model.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,orient:\x22ignore\x22,size:\x22ignore\x22,theta:\x22ignore\x22})),pointOrRangePosition(\x22x\x22,\nmodel,{defaultPos:\x22horizontal\x22\x3d\x3d\x3dorient?\x22zeroOrMax\x22:\x22mid\x22,defaultPos2:\x22zeroOrMin\x22,range:\x22vertical\x22!\x3d\x3dorient})),pointOrRangePosition(\x22y\x22,model,{defaultPos:\x22vertical\x22\x3d\x3d\x3dorient?\x22zeroOrMax\x22:\x22mid\x22,defaultPos2:\x22zeroOrMin\x22,range:\x22horizontal\x22!\x3d\x3dorient})),nonPosition(\x22size\x22,model,{vgChannel:\x22strokeWidth\x22})):{}}},square:{vgMark:\x22symbol\x22,encodeEntry:function(model){return encodeEntry(model,\x22square\x22)}},text:{vgMark:\x22text\x22,encodeEntry:function(model){var config\x3dmodel.config,encoding\x3dmodel.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},\nbaseEncodeEntry(model,{align:\x22include\x22,baseline:\x22include\x22,color:\x22include\x22,size:\x22ignore\x22,orient:\x22ignore\x22,theta:\x22include\x22})),pointPosition(\x22x\x22,model,{defaultPos:\x22mid\x22})),pointPosition(\x22y\x22,model,{defaultPos:\x22mid\x22})),text$jscomp$0(model)),nonPosition(\x22size\x22,model,{vgChannel:\x22fontSize\x22})),nonPosition(\x22angle\x22,model)),valueIfDefined(\x22align\x22,align(model.markDef,encoding,config))),valueIfDefined(\x22baseline\x22,baseline(model.markDef,encoding,config))),pointPosition(\x22radius\x22,model,{defaultPos:null,isMidPoint:!0})),\npointPosition(\x22theta\x22,model,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:\x22rect\x22,encodeEntry:function(model){var config\x3dmodel.config,markDef\x3dmodel.markDef,orient\x3dmarkDef.orient,vgSizeChannel\x3d\x22horizontal\x22\x3d\x3d\x3dorient?\x22width\x22:\x22height\x22;orient\x3d\x22horizontal\x22\x3d\x3d\x3dorient?\x22height\x22:\x22width\x22;var $jscomp$compprop36\x3d{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,color:\x22include\x22,orient:\x22ignore\x22,size:\x22ignore\x22,theta:\x22ignore\x22})),\npointPosition(\x22x\x22,model,{defaultPos:\x22mid\x22,vgChannel:\x22xc\x22})),pointPosition(\x22y\x22,model,{defaultPos:\x22mid\x22,vgChannel:\x22yc\x22})),nonPosition(\x22size\x22,model,{defaultValue:defaultSize(model),vgChannel:vgSizeChannel})),($jscomp$compprop36[orient]\x3dsignalOrValueRef(getMarkPropOrConfig(\x22thickness\x22,markDef,config)),$jscomp$compprop36))}},trail:{vgMark:\x22trail\x22,encodeEntry:function(model){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},baseEncodeEntry(model,{align:\x22ignore\x22,baseline:\x22ignore\x22,\ncolor:\x22include\x22,size:\x22include\x22,orient:\x22ignore\x22,theta:\x22ignore\x22})),pointPosition(\x22x\x22,model,{defaultPos:\x22mid\x22})),pointPosition(\x22y\x22,model,{defaultPos:\x22mid\x22})),nonPosition(\x22size\x22,model)),defined(model))}}},UnitModel\x3dfunction(spec,parent,parentGivenName,parentGivenSize,config){parentGivenSize\x3dvoid 0\x3d\x3d\x3dparentGivenSize?{}:parentGivenSize;parent\x3dModelWithField.call(this,spec,\x22unit\x22,parent,parentGivenName,config,void 0,isFrameMixins(spec)?spec.view:void 0)||this;parent.specifiedScales\x3d{};parent.specifiedAxes\x3d\n{};parent.specifiedLegends\x3d{};parent.specifiedProjection\x3d{};parent.selection\x3d{};parent.children\x3d[];var markDef\x3disMarkDef(spec.mark)?Object.assign({},spec.mark):{type:spec.mark};parentGivenName\x3dmarkDef.type;if(void 0\x3d\x3d\x3dmarkDef.filled){if(spec.data\x26\x26\x22graticule\x22in spec.data)var JSCompiler_inline_result\x3d!1;else{JSCompiler_inline_result\x3dgetMarkConfig(\x22filled\x22,markDef,config);var mark\x3dmarkDef.type;JSCompiler_inline_result\x3dgetFirstDefined(JSCompiler_inline_result,mark!\x3d\x3dPOINT\x26\x26mark!\x3d\x3dLINE\x26\x26mark!\x3d\x3dRULE)}markDef.filled\x3d\nJSCompiler_inline_result}JSCompiler_inline_result\x3dparent.encoding\x3dinitEncoding(spec.encoding||{},parentGivenName,markDef.filled,config);mark\x3dgetMarkPropOrConfig(\x22orient\x22,markDef,config);markDef.orient\x3dorient(markDef.type,JSCompiler_inline_result,mark);void 0!\x3d\x3dmark\x26\x26mark!\x3d\x3dmarkDef.orient\x26\x26warn(\x27Specified orient \x22\x27+markDef.orient+\x27\x22 overridden with \x22\x27+mark+\x27\x22.\x27);if(\x22bar\x22\x3d\x3d\x3dmarkDef.type\x26\x26markDef.orient\x26\x26(mark\x3dgetMarkPropOrConfig(\x22cornerRadiusEnd\x22,markDef,config),void 0!\x3d\x3dmark)){for(var $jscomp$inline_1719\x3d\n$jscomp.makeIterator(\x22horizontal\x22\x3d\x3d\x3dmarkDef.orient\x26\x26JSCompiler_inline_result.x2||\x22vertical\x22\x3d\x3d\x3dmarkDef.orient\x26\x26JSCompiler_inline_result.y2?[\x22cornerRadius\x22]:BAR_CORNER_RADIUS_INDEX[markDef.orient]),$jscomp$inline_1720\x3d$jscomp$inline_1719.next();!$jscomp$inline_1720.done;$jscomp$inline_1720\x3d$jscomp$inline_1719.next())markDef[$jscomp$inline_1720.value]\x3dmark;void 0!\x3d\x3dmarkDef.cornerRadiusEnd\x26\x26delete markDef.cornerRadiusEnd}void 0\x3d\x3d\x3dgetMarkPropOrConfig(\x22opacity\x22,markDef,config)\x26\x26(mark\x3dcontains([POINT,TICK,\nCIRCLE,SQUARE],markDef.type)\x26\x26!isAggregate(JSCompiler_inline_result)?.7:void 0,markDef.opacity\x3dmark);void 0\x3d\x3d\x3dgetMarkPropOrConfig(\x22cursor\x22,markDef,config)\x26\x26(markDef.cursor\x3dJSCompiler_inline_result.href||markDef.href||getMarkPropOrConfig(\x22href\x22,markDef,config)?\x22pointer\x22:markDef.cursor);parent.markDef\x3dmarkDef;parentGivenSize\x3disFrameMixins(spec)?Object.assign(Object.assign(Object.assign({},parentGivenSize),spec.width?{width:spec.width}:{}),spec.height?{height:spec.height}:{}):parentGivenSize;config\x3d\n$jscomp.makeIterator(POSITION_SCALE_CHANNELS);for(markDef\x3dconfig.next();!markDef.done;markDef\x3dconfig.next())markDef\x3dmarkDef.value,mark\x3dgetSizeChannel(markDef),isStep(parentGivenSize[mark])\x26\x26isContinuousFieldOrDatumDef(JSCompiler_inline_result[markDef])\x26\x26(delete parentGivenSize[mark],warn(stepDropped(mark)));parent.size\x3dparentGivenSize;parent.stack\x3dstack(parentGivenName,JSCompiler_inline_result);parent.specifiedScales\x3dparent.initScales(parentGivenName,JSCompiler_inline_result);parent.specifiedAxes\x3d\nparent.initAxes(JSCompiler_inline_result);parent.specifiedLegends\x3dparent.initLegend(JSCompiler_inline_result);parent.specifiedProjection\x3dspec.projection;parent.selection\x3dspec.selection;return parent};$jscomp.inherits(UnitModel,ModelWithField);UnitModel.prototype.scaleDomain\x3dfunction(channel){return(channel\x3dthis.specifiedScales[channel])?channel.domain:void 0};UnitModel.prototype.axis\x3dfunction(channel){return this.specifiedAxes[channel]};UnitModel.prototype.legend\x3dfunction(channel){return this.specifiedLegends[channel]};\nUnitModel.prototype.initScales\x3dfunction(mark,encoding){return SCALE_CHANNELS.reduce(function(scales,channel){var _a,fieldOrDatumDef\x3dgetFieldOrDatumDef(encoding[channel]);fieldOrDatumDef\x26\x26(scales[channel]\x3dnull!\x3d\x3d(_a\x3dfieldOrDatumDef.scale)\x26\x26void 0!\x3d\x3d_a?_a:{});return scales},{})};UnitModel.prototype.initAxes\x3dfunction(encoding){return POSITION_SCALE_CHANNELS.reduce(function(_axis,channel){var channelDef\x3dencoding[channel];if(isFieldOrDatumDef(channelDef)||\x22x\x22\x3d\x3d\x3dchannel\x26\x26isFieldOrDatumDef(encoding.x2)||\n\x22y\x22\x3d\x3d\x3dchannel\x26\x26isFieldOrDatumDef(encoding.y2))channelDef\x3disFieldOrDatumDef(channelDef)?channelDef.axis:void 0,_axis[channel]\x3dchannelDef?Object.assign({},channelDef):channelDef;return _axis},{})};UnitModel.prototype.initLegend\x3dfunction(encoding){return NONPOSITION_SCALE_CHANNELS.reduce(function(_legend,channel){var fieldOrDatumDef\x3dgetFieldOrDatumDef(encoding[channel]),JSCompiler_temp;if(JSCompiler_temp\x3dfieldOrDatumDef)a:{switch(channel){case \x22color\x22:case \x22fill\x22:case \x22stroke\x22:case \x22size\x22:case \x22shape\x22:case \x22opacity\x22:case \x22strokeWidth\x22:case \x22strokeDash\x22:JSCompiler_temp\x3d\n!0;break a;case \x22fillOpacity\x22:case \x22strokeOpacity\x22:case \x22angle\x22:JSCompiler_temp\x3d!1;break a}JSCompiler_temp\x3dvoid 0}JSCompiler_temp\x26\x26(fieldOrDatumDef\x3dfieldOrDatumDef.legend,_legend[channel]\x3dfieldOrDatumDef?Object.assign({},fieldOrDatumDef):fieldOrDatumDef);return _legend},{})};UnitModel.prototype.parseData\x3dfunction(){this.component.data\x3dparseData(this)};UnitModel.prototype.parseLayoutSize\x3dfunction(){for(var size\x3dthis.size,component\x3dthis.component,$jscomp$inline_1740\x3d$jscomp.makeIterator(POSITION_SCALE_CHANNELS),\n$jscomp$key$channel\x3d$jscomp$inline_1740.next();!$jscomp$key$channel.done;$jscomp$key$channel\x3d$jscomp$inline_1740.next())if($jscomp$key$channel\x3dgetSizeChannel($jscomp$key$channel.value),size[$jscomp$key$channel]){var specifiedSize\x3dsize[$jscomp$key$channel];component.layoutSize.set($jscomp$key$channel,isStep(specifiedSize)?\x22step\x22:specifiedSize,!0)}else specifiedSize\x3ddefaultUnitSize(this,$jscomp$key$channel),component.layoutSize.set($jscomp$key$channel,specifiedSize,!1)};UnitModel.prototype.parseSelections\x3d\nfunction(){this.component.selection\x3dparseUnitSelection(this,this.selection)};UnitModel.prototype.parseMarkGroup\x3dfunction(){this.component.mark\x3dparseMarkGroups(this)};UnitModel.prototype.parseAxesAndHeaders\x3dfunction(){this.component.axes\x3dparseUnitAxes(this)};UnitModel.prototype.assembleSelectionTopLevelSignals\x3dfunction(signals){return assembleTopLevelSignals(this,signals)};UnitModel.prototype.assembleSignals\x3dfunction(){return[].concat($jscomp.arrayFromIterable(assembleAxisSignals(this)),$jscomp.arrayFromIterable(assembleUnitSelectionSignals(this,\n[])))};UnitModel.prototype.assembleSelectionData\x3dfunction(data){return assembleUnitSelectionData(this,data)};UnitModel.prototype.assembleLayout\x3dfunction(){return null};UnitModel.prototype.assembleLayoutSignals\x3dfunction(){return assembleLayoutSignals(this)};UnitModel.prototype.assembleMarks\x3dfunction(){var _a,marks\x3dnull!\x3d\x3d(_a\x3dthis.component.mark)\x26\x26void 0!\x3d\x3d_a?_a:[];this.parent\x26\x26isLayerModel(this.parent)||(marks\x3dassembleUnitSelectionMarks(this,marks));return marks.map(this.correctDataNames)};UnitModel.prototype.getMapping\x3d\nfunction(){return this.encoding};UnitModel.prototype.channelHasField\x3dfunction(channel){return channelHasField(this.encoding,channel)};UnitModel.prototype.fieldDef\x3dfunction(channel){return getFieldDef(this.encoding[channel])};UnitModel.prototype.typedFieldDef\x3dfunction(channel){channel\x3dthis.fieldDef(channel);return isTypedFieldDef(channel)?channel:null};$jscomp.global.Object.defineProperties(UnitModel.prototype,{hasProjection:{configurable:!0,enumerable:!0,get:function(){var encoding\x3dthis.encoding,\nisGeoShapeMark\x3dthis.mark\x3d\x3d\x3dGEOSHAPE,hasGeoPosition\x3dencoding\x26\x26GEOPOSITION_CHANNELS.some(function(channel){return isFieldOrDatumDef(encoding[channel])});return isGeoShapeMark||hasGeoPosition}},mark:{configurable:!0,enumerable:!0,get:function(){return this.markDef.type}}});var LayerModel\x3dfunction(spec,parent,parentGivenName,parentGivenSize,config){var $jscomp$super$this\x3dModel.call(this,spec,\x22layer\x22,parent,parentGivenName,config,spec.resolve,spec.view)||this;var layoutSize\x3dObject.assign(Object.assign(Object.assign({},\nparentGivenSize),spec.width?{width:spec.width}:{}),spec.height?{height:spec.height}:{});$jscomp$super$this.children\x3dspec.layer.map(function(layer,i){if(\x22layer\x22in layer)return new LayerModel(layer,$jscomp$super$this,$jscomp$super$this.getName(\x22layer_\x22+i),layoutSize,config);if(isUnitSpec(layer))return new UnitModel(layer,$jscomp$super$this,$jscomp$super$this.getName(\x22layer_\x22+i),layoutSize,config);throw Error(invalidSpec(layer));});return $jscomp$super$this};$jscomp.inherits(LayerModel,Model);LayerModel.prototype.parseData\x3d\nfunction(){this.component.data\x3dparseData(this);for(var $jscomp$iter$276\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$276.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$276.next())$jscomp$key$child.value.parseData()};LayerModel.prototype.parseLayoutSize\x3dfunction(){parseChildrenLayoutSize(this);parseNonUnitLayoutSizeForChannel(this,\x22width\x22);parseNonUnitLayoutSizeForChannel(this,\x22height\x22)};LayerModel.prototype.parseSelections\x3dfunction(){this.component.selection\x3d{};\nfor(var $jscomp$iter$278\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$278.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$278.next()){$jscomp$key$child\x3d$jscomp$key$child.value;$jscomp$key$child.parseSelections();for(var $jscomp$iter$277\x3d$jscomp.makeIterator(keys($jscomp$key$child.component.selection)),$jscomp$key$key\x3d$jscomp$iter$277.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$277.next())$jscomp$key$key\x3d$jscomp$key$key.value,this.component.selection[$jscomp$key$key]\x3d\n$jscomp$key$child.component.selection[$jscomp$key$key]}};LayerModel.prototype.parseMarkGroup\x3dfunction(){for(var $jscomp$iter$279\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$iter$279.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$iter$279.next())$jscomp$key$child.value.parseMarkGroup()};LayerModel.prototype.parseAxesAndHeaders\x3dfunction(){var _a,$jscomp$inline_1751\x3dthis.component,axes\x3d$jscomp$inline_1751.axes;$jscomp$inline_1751\x3d$jscomp$inline_1751.resolve;for(var axisCount\x3d\n{top:0,bottom:0,right:0,left:0},$jscomp$inline_1755\x3d$jscomp.makeIterator(this.children),$jscomp$key$child\x3d$jscomp$inline_1755.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$inline_1755.next()){var child\x3d$jscomp$key$child.value;child.parseAxesAndHeaders();var $jscomp$inline_1758\x3d$jscomp.makeIterator(keys(child.component.axes));for($jscomp$key$child\x3d$jscomp$inline_1758.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$inline_1758.next())$jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$inline_1751.axis[$jscomp$key$child]\x3d\nparseGuideResolve(this.component.resolve,$jscomp$key$child),\x22shared\x22\x3d\x3d\x3d$jscomp$inline_1751.axis[$jscomp$key$child]\x26\x26(axes[$jscomp$key$child]\x3dmergeAxisComponents(axes[$jscomp$key$child],child.component.axes[$jscomp$key$child]),axes[$jscomp$key$child]||($jscomp$inline_1751.axis[$jscomp$key$child]\x3d\x22independent\x22,delete axes[$jscomp$key$child]))}$jscomp$inline_1755\x3d$jscomp.makeIterator(POSITION_SCALE_CHANNELS);for($jscomp$key$child\x3d$jscomp$inline_1755.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$inline_1755.next()){child\x3d\n$jscomp$key$child.value;$jscomp$inline_1758\x3d$jscomp.makeIterator(this.children);for($jscomp$key$child\x3d$jscomp$inline_1758.next();!$jscomp$key$child.done;$jscomp$key$child\x3d$jscomp$inline_1758.next())if($jscomp$key$child\x3d$jscomp$key$child.value,$jscomp$key$child.component.axes[child]){if(\x22independent\x22\x3d\x3d\x3d$jscomp$inline_1751.axis[child]){axes[child]\x3d(null!\x3d\x3d(_a\x3daxes[child])\x26\x26void 0!\x3d\x3d_a?_a:[]).concat($jscomp$key$child.component.axes[child]);for(var $jscomp$inline_1765\x3d$jscomp.makeIterator($jscomp$key$child.component.axes[child]),\n$jscomp$key$axisComponent\x3d$jscomp$inline_1765.next();!$jscomp$key$axisComponent.done;$jscomp$key$axisComponent\x3d$jscomp$inline_1765.next()){$jscomp$key$axisComponent\x3d$jscomp$key$axisComponent.value;var $jscomp$inline_1768\x3d$jscomp$key$axisComponent.getWithExplicit(\x22orient\x22),orient$467\x3d$jscomp$inline_1768.value;$jscomp$inline_1768\x3d$jscomp$inline_1768.explicit;isSignalRef(orient$467)||(0\x3caxisCount[orient$467]\x26\x26!$jscomp$inline_1768\x26\x26($jscomp$inline_1768\x3dOPPOSITE_ORIENT[orient$467],axisCount[orient$467]\x3e\naxisCount[$jscomp$inline_1768]\x26\x26$jscomp$key$axisComponent.set(\x22orient\x22,$jscomp$inline_1768,!1)),axisCount[orient$467]++)}}delete $jscomp$key$child.component.axes[child]}if(\x22independent\x22\x3d\x3d\x3d$jscomp$inline_1751.axis[child]\x26\x26axes[child]\x26\x261\x3caxes[child].length)for(child\x3d$jscomp.makeIterator(axes[child]),$jscomp$inline_1758\x3dchild.next();!$jscomp$inline_1758.done;$jscomp$inline_1758\x3dchild.next())$jscomp$inline_1758\x3d$jscomp$inline_1758.value,$jscomp$inline_1758.get(\x22grid\x22)\x26\x26!$jscomp$inline_1758.explicit.grid\x26\x26\n($jscomp$inline_1758.implicit.grid\x3d!1)}};LayerModel.prototype.assembleSelectionTopLevelSignals\x3dfunction(signals){return this.children.reduce(function(sg,child){return child.assembleSelectionTopLevelSignals(sg)},signals)};LayerModel.prototype.assembleSignals\x3dfunction(){return this.children.reduce(function(signals,child){return signals.concat(child.assembleSignals())},assembleAxisSignals(this))};LayerModel.prototype.assembleLayoutSignals\x3dfunction(){return this.children.reduce(function(signals,child){return signals.concat(child.assembleLayoutSignals())},\nassembleLayoutSignals(this))};LayerModel.prototype.assembleSelectionData\x3dfunction(data){return this.children.reduce(function(db,child){return child.assembleSelectionData(db)},data)};LayerModel.prototype.assembleTitle\x3dfunction(){var title\x3dModel.prototype.assembleTitle.call(this);if(title)return title;var $jscomp$iter$280\x3d$jscomp.makeIterator(this.children);for(title\x3d$jscomp$iter$280.next();!title.done;title\x3d$jscomp$iter$280.next())if(title\x3dtitle.value.assembleTitle())return title};LayerModel.prototype.assembleLayout\x3d\nfunction(){return null};LayerModel.prototype.assembleMarks\x3dfunction(){return assembleLayerSelectionMarks(this,this.children.flatMap(function(child){return child.assembleMarks()}))};LayerModel.prototype.assembleLegends\x3dfunction(){return this.children.reduce(function(legends,child){return legends.concat(child.assembleLegends())},assembleLegends(this))};exports.compile\x3dfunction(inputSpec,opt){opt\x3dvoid 0\x3d\x3d\x3dopt?{}:opt;opt.logger\x26\x26(current\x3dopt.logger);opt.fieldTitle\x26\x26(titleFormatter\x3dopt.fieldTitle);try{var config\x3d\ninitConfig(mergeConfig(opt.config,inputSpec.config)),spec\x3dnormalize(inputSpec,config),model\x3dbuildModel(spec,null,\x22\x22,void 0,config);model.parse();var data\x3dmodel.component.data;checkLinks(data.sources);for(var firstPassCounter\x3d0,secondPassCounter\x3d0,i\x3d0;5\x3ei\x26\x26optimizationDataflowHelper(data,model,!0);i++)firstPassCounter++;data.sources.map(moveFacetDown);for(i\x3d0;5\x3ei\x26\x26optimizationDataflowHelper(data,model,!1);i++)secondPassCounter++;checkLinks(data.sources);5\x3d\x3d\x3dMath.max(firstPassCounter,secondPassCounter)\x26\x26\nwarn(\x22Maximum optimization runs(5) reached.\x22);var autosize\x3dspec.autosize,width\x3dmodel.component.layoutSize.get(\x22width\x22),height\x3dmodel.component.layoutSize.get(\x22height\x22);void 0\x3d\x3d\x3dautosize?(autosize\x3d{type:\x22pad\x22},model.hasAxisOrientSignalRef()\x26\x26(autosize.resize\x3d!0)):isString(autosize)\x26\x26(autosize\x3d{type:autosize});var JSCompiler_temp;if(JSCompiler_temp\x3dwidth\x26\x26height){var autoSizeType\x3dautosize.type;JSCompiler_temp\x3d\x22fit\x22\x3d\x3d\x3dautoSizeType||\x22fit-x\x22\x3d\x3d\x3dautoSizeType||\x22fit-y\x22\x3d\x3d\x3dautoSizeType}if(JSCompiler_temp)if(\x22step\x22\x3d\x3d\x3d\nwidth\x26\x26\x22step\x22\x3d\x3d\x3dheight)warn(droppingFit()),autosize.type\x3d\x22pad\x22;else if(\x22step\x22\x3d\x3d\x3dwidth||\x22step\x22\x3d\x3d\x3dheight){firstPassCounter\x3d\x22step\x22\x3d\x3d\x3dwidth?\x22width\x22:\x22height\x22;warn(droppingFit(getPositionScaleChannel(firstPassCounter)));data\x3dautosize;var JSCompiler_inline_result\x3d(firstPassCounter\x3d\x22width\x22\x3d\x3d\x3dfirstPassCounter?\x22height\x22:\x22width\x22,\x22fit-\x22+getPositionScaleChannel(firstPassCounter));data.type\x3dJSCompiler_inline_result}var JSCompiler_inline_result$jscomp$0\x3dObject.assign(Object.assign(Object.assign({},1\x3d\x3d\x3dkeys(autosize).length\x26\x26\nautosize.type?\x22pad\x22\x3d\x3d\x3dautosize.type?{}:{autosize:autosize.type}:{autosize:autosize}),extractTopLevelProperties(config)),extractTopLevelProperties(inputSpec));return{spec:assembleTopLevelModel(model,JSCompiler_inline_result$jscomp$0,inputSpec.datasets,inputSpec.usermeta),normalized:spec}}finally{opt.logger\x26\x26(current\x3dmain),opt.fieldTitle\x26\x26(titleFormatter\x3ddefaultTitleFormatter)}};exports.normalize\x3dnormalize;exports.version\x3d\x224.15.0\x22;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_util$build$vega_util.js", true , "shadow$provide.module$node_modules$vega_util$build$vega_util\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{}))})(this,function(exports){function accessor(fn,fields,name){fn.fields\x3dfields||[];fn.fname\x3dname;return fn}function accessorFields(fn){return null\x3d\x3d\nfn?null:fn.fields}function getter(path){return 1\x3d\x3d\x3dpath.length?get1(path[0]):getN(path)}function error(message){throw Error(message);}function splitAccessPath(p){function push(){path.push(s+p.substring(i,j));s\x3d\x22\x22;i\x3dj+1}var path\x3d[],n\x3dp.length,q\x3dnull,b\x3d0,s\x3d\x22\x22,i,j;p+\x3d\x22\x22;for(i\x3dj\x3d0;j\x3cn;++j){var c\x3dp[j];\x22\\\\\x22\x3d\x3d\x3dc?(s+\x3dp.substring(i,j),s+\x3dp.substring(++j,++j),i\x3dj):c\x3d\x3d\x3dq?(push(),q\x3dnull,b\x3d-1):q||(i\x3d\x3d\x3db\x26\x26\x27\x22\x27\x3d\x3d\x3dc?(i\x3dj+1,q\x3dc):i\x3d\x3d\x3db\x26\x26\x22\x27\x22\x3d\x3d\x3dc?(i\x3dj+1,q\x3dc):\x22.\x22!\x3d\x3dc||b?\x22[\x22\x3d\x3d\x3dc?(j\x3ei\x26\x26push(),b\x3di\x3dj+1):\x22]\x22\x3d\x3d\x3dc\x26\x26(b||error(\x22Access path missing open bracket: \x22+\np),0\x3cb\x26\x26push(),b\x3d0,i\x3dj+1):j\x3ei?push():i\x3dj+1)}b\x26\x26error(\x22Access path missing closing bracket: \x22+p);q\x26\x26error(\x22Access path missing closing quote: \x22+p);j\x3ei\x26\x26(j++,push());return path}function field$jscomp$0(field,name,opt){var path\x3dsplitAccessPath(field);field\x3d1\x3d\x3d\x3dpath.length?path[0]:field;return accessor((opt\x26\x26opt.get||getter)(path),[field],name||field)}function log(method,level,input){level\x3d[level].concat([].slice.call(input));console[method].apply(console,level)}function isObject(_){return _\x3d\x3d\x3dObject(_)}\nfunction writeConfig(output,key,value,recurse){if(\x22__proto__\x22!\x3d\x3dkey){var k;if(isObject(value)\x26\x26!isArray(value))for(k in output\x3disObject(output[key])?output[key]:output[key]\x3d{},value)recurse\x26\x26(!0\x3d\x3d\x3drecurse||recurse[k])?writeConfig(output,k,value[k]):\x22__proto__\x22!\x3d\x3dk\x26\x26(output[k]\x3dvalue[k]);else output[key]\x3dvalue}}function mergeNamed(a,b){function add(_){map[_.name]||(map[_.name]\x3d1,out.push(_))}if(null\x3d\x3da)return b;var map\x3d{},out\x3d[];b.forEach(add);a.forEach(add);return out}function peek(array){return array[array.length-\n1]}function toNumber(_){return null\x3d\x3d_||\x22\x22\x3d\x3d\x3d_?null:+_}function pan(domain,delta,lift,ground){var d0\x3dlift(domain[0]);domain\x3dlift(peek(domain));delta*\x3ddomain-d0;return[ground(d0-delta),ground(domain-delta)]}function zoom(domain,anchor,scale,lift,ground){var d0\x3dlift(domain[0]);domain\x3dlift(peek(domain));anchor\x3dnull!\x3danchor?lift(anchor):(d0+domain)/2;return[ground(anchor+(d0-anchor)*scale),ground(anchor+(domain-anchor)*scale)]}function array$jscomp$0(_){return null!\x3d_?isArray(_)?_:[_]:[]}function isFunction(_){return\x22function\x22\x3d\x3d\x3d\ntypeof _}function extend(_){for(var x,k\x3dvoid 0,i\x3d1,len\x3darguments.length;i\x3clen;++i)for(k in x\x3darguments[i],x)_[k]\x3dx[k];return _}function has(object,property){return hop.call(object,property)}function isDate(_){return\x22[object Date]\x22\x3d\x3d\x3dObject.prototype.toString.call(_)}function isNumber(_){return\x22number\x22\x3d\x3d\x3dtypeof _}function isString(_){return\x22string\x22\x3d\x3d\x3dtypeof _}function repeat(str,reps){for(var s\x3d\x22\x22;0\x3c\x3d--reps;)s+\x3dstr;return s}function $(x){return isArray(x)?\x22[\x22+x.map($)+\x22]\x22:isObject(x)||isString(x)?\nJSON.stringify(x).replace(\x22\\u2028\x22,\x22\\\\u2028\x22).replace(\x22\\u2029\x22,\x22\\\\u2029\x22):x}var get1\x3dfunction(field){return function(obj){return obj[field]}},getN\x3dfunction(path){var len\x3dpath.length;return function(obj){for(var i\x3d0;i\x3clen;++i)obj\x3dobj[path[i]];return obj}},id\x3dfield$jscomp$0(\x22id\x22),identity\x3daccessor(function(_){return _},[],\x22identity\x22),zero\x3daccessor(function(){return 0},[],\x22zero\x22),one\x3daccessor(function(){return 1},[],\x22one\x22),truthy\x3daccessor(function(){return!0},[],\x22true\x22),falsy\x3daccessor(function(){return!1},\n[],\x22false\x22),isArray\x3dArray.isArray,exp\x3dfunction(sign){return function(x){return sign*Math.exp(x)}},log$1\x3dfunction(sign){return function(x){return Math.log(sign*x)}},symlog\x3dfunction(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}},symexp\x3dfunction(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}},pow\x3dfunction(exponent){return function(x){return 0\x3ex?-Math.pow(-x,exponent):Math.pow(x,exponent)}},ascending\x3dfunction(u,v){return(u\x3cv||null\x3d\x3du)\x26\x26null!\x3dv?-1:(u\x3ev||null\x3d\x3d\nv)\x26\x26null!\x3du?1:(v\x3dv instanceof Date?+v:v,u\x3du instanceof Date?+u:u)!\x3d\x3du\x26\x26v\x3d\x3d\x3dv?-1:v!\x3d\x3dv\x26\x26u\x3d\x3d\x3du?1:0},comparator\x3dfunction(fields,orders){return 1\x3d\x3d\x3dfields.length?compare1(fields[0],orders[0]):compareN(fields,orders,fields.length)},compare1\x3dfunction(field,order){return function(a,b){return ascending(field(a),field(b))*order}},compareN\x3dfunction(fields,orders,n){orders.push(0);return function(a,b){var f\x3d0;for(var i\x3d-1;0\x3d\x3d\x3df\x26\x26++i\x3cn;)f\x3dfields[i],f\x3dascending(f(a),f(b));return f*orders[i]}},hop\x3dObject.prototype.hasOwnProperty,\nNULL\x3d{},defaultParser\x3dfunction(_){return isNumber(_)?_:isDate(_)?_:Date.parse(_)};exports.Debug\x3d4;exports.Error\x3d1;exports.Info\x3d3;exports.None\x3d0;exports.Warn\x3d2;exports.accessor\x3daccessor;exports.accessorFields\x3daccessorFields;exports.accessorName\x3dfunction(fn){return null\x3d\x3dfn?null:fn.fname};exports.array\x3darray$jscomp$0;exports.ascending\x3dascending;exports.clampRange\x3dfunction(range,min,max){var lo\x3drange[0];range\x3drange[1];if(range\x3clo){var span\x3drange;range\x3dlo;lo\x3dspan}span\x3drange-lo;return span\x3e\x3dmax-min?[min,\nmax]:[lo\x3dMath.min(Math.max(lo,min),max-span),lo+span]};exports.compare\x3dfunction(fields,orders,opt){opt\x3dopt||{};orders\x3darray$jscomp$0(orders)||[];var ord\x3d[],get\x3d[],fmap\x3d{},gen\x3dopt.comparator||comparator;array$jscomp$0(fields).forEach(function(f,i){null!\x3df\x26\x26(ord.push(\x22descending\x22\x3d\x3d\x3dorders[i]?-1:1),get.push(f\x3disFunction(f)?f:field$jscomp$0(f,null,opt)),(accessorFields(f)||[]).forEach(function(_){return fmap[_]\x3d1}))});return 0\x3d\x3d\x3dget.length?null:accessor(gen(get,ord),Object.keys(fmap))};exports.constant\x3d\nfunction(_){return isFunction(_)?_:function(){return _}};exports.debounce\x3dfunction(delay,handler){var tid;return function(e){tid\x26\x26clearTimeout(tid);tid\x3dsetTimeout(function(){return handler(e),tid\x3dnull},delay)}};exports.error\x3derror;exports.extend\x3dextend;exports.extent\x3dfunction(array,f){var i\x3d0,n,v,min,max;if(array\x26\x26(n\x3darray.length))if(null\x3d\x3df){for(v\x3darray[i];i\x3cn\x26\x26(null\x3d\x3dv||v!\x3d\x3dv);v\x3darray[++i]);for(min\x3dmax\x3dv;i\x3cn;++i)v\x3darray[i],null!\x3dv\x26\x26(v\x3cmin\x26\x26(min\x3dv),v\x3emax\x26\x26(max\x3dv))}else{for(v\x3df(array[i]);i\x3cn\x26\x26(null\x3d\x3d\nv||v!\x3d\x3dv);v\x3df(array[++i]));for(min\x3dmax\x3dv;i\x3cn;++i)v\x3df(array[i]),null!\x3dv\x26\x26(v\x3cmin\x26\x26(min\x3dv),v\x3emax\x26\x26(max\x3dv))}return[min,max]};exports.extentIndex\x3dfunction(array,f){var n\x3darray.length,i\x3d-1,c,u,v;if(null\x3d\x3df){for(;++i\x3cn;){var b\x3darray[i];if(null!\x3db\x26\x26b\x3e\x3db){var a\x3dc\x3db;break}}if(i\x3d\x3d\x3dn)return[-1,-1];for(u\x3dv\x3di;++i\x3cn;)b\x3darray[i],null!\x3db\x26\x26(a\x3eb\x26\x26(a\x3db,u\x3di),c\x3cb\x26\x26(c\x3db,v\x3di))}else{for(;++i\x3cn;)if(b\x3df(array[i],i,array),null!\x3db\x26\x26b\x3e\x3db){a\x3dc\x3db;break}if(i\x3d\x3d\x3dn)return[-1,-1];for(u\x3dv\x3di;++i\x3cn;)b\x3df(array[i],i,array),null!\x3db\x26\x26(a\x3eb\x26\x26\n(a\x3db,u\x3di),c\x3cb\x26\x26(c\x3db,v\x3di))}return[u,v]};exports.falsy\x3dfalsy;exports.fastmap\x3dfunction(input){function has$1(key){return has(obj,key)\x26\x26obj[key]!\x3d\x3dNULL}var obj\x3d{},test,map\x3d{size:0,empty:0,object:obj,has:has$1,get:function(key){return has$1(key)?obj[key]:void 0},set:function(key,value){has$1(key)||(++map.size,obj[key]\x3d\x3d\x3dNULL\x26\x26--map.empty);obj[key]\x3dvalue;return this},delete:function(key){has$1(key)\x26\x26(--map.size,++map.empty,obj[key]\x3dNULL);return this},clear:function(){map.size\x3dmap.empty\x3d0;map.object\x3dobj\x3d\n{}},test:function(_){return arguments.length?(test\x3d_,map):test},clean:function(){var next\x3d{},size\x3d0,key$472;for(key$472 in obj){var value\x3dobj[key$472];value\x3d\x3d\x3dNULL||test\x26\x26test(value)||(next[key$472]\x3dvalue,++size)}map.size\x3dsize;map.empty\x3d0;map.object\x3dobj\x3dnext}};input\x26\x26Object.keys(input).forEach(function(key){map.set(key,input[key])});return map};exports.field\x3dfield$jscomp$0;exports.flush\x3dfunction(range,value,threshold,left,right,center){if(!threshold\x26\x260!\x3d\x3dthreshold)return center;threshold\x3d+threshold;\nvar a\x3drange[0],b\x3dpeek(range);b\x3ca\x26\x26(range\x3da,a\x3db,b\x3drange);range\x3dMath.abs(value-a);value\x3dMath.abs(b-value);return range\x3cvalue\x26\x26range\x3c\x3dthreshold?left:value\x3c\x3dthreshold?right:center};exports.hasOwnProperty\x3dhas;exports.id\x3did;exports.identity\x3didentity;exports.inherits\x3dfunction(child,parent,members){parent\x3dchild.prototype\x3dObject.create(parent.prototype);parent.constructor\x3dchild;return extend(parent,members)};exports.inrange\x3dfunction(value,range,left,right){var r0\x3drange[0];range\x3drange[range.length-1];if(r0\x3e\nrange){var t\x3dr0;r0\x3drange;range\x3dt}return(void 0\x3d\x3d\x3dleft||left?r0\x3c\x3dvalue:r0\x3cvalue)\x26\x26(void 0\x3d\x3d\x3dright||right?value\x3c\x3drange:value\x3crange)};exports.isArray\x3disArray;exports.isBoolean\x3dfunction(_){return\x22boolean\x22\x3d\x3d\x3dtypeof _};exports.isDate\x3disDate;exports.isFunction\x3disFunction;exports.isNumber\x3disNumber;exports.isObject\x3disObject;exports.isRegExp\x3dfunction(_){return\x22[object RegExp]\x22\x3d\x3d\x3dObject.prototype.toString.call(_)};exports.isString\x3disString;exports.key\x3dfunction(fields,flat,opt){fields\x26\x26(fields\x3dflat?array$jscomp$0(fields).map(function(f){return f.replace(/\\\\(.)/g,\n\x22$1\x22)}):array$jscomp$0(fields));var len\x3dfields\x26\x26fields.length,gen\x3dopt\x26\x26opt.get||getter;opt\x3dfunction(f){return gen(flat?[f]:splitAccessPath(f))};if(len)if(1\x3d\x3d\x3dlen){var get\x3dopt(fields[0]);opt\x3dfunction(_){return\x22\x22+get(_)}}else{var get$473\x3dfields.map(opt);opt\x3dfunction(_){for(var s\x3d\x22\x22+get$473[0](_),i\x3d0;++i\x3clen;)s+\x3d\x22|\x22+get$473[i](_);return s}}else opt\x3dfunction(){return\x22\x22};return accessor(opt,fields,\x22key\x22)};exports.lerp\x3dfunction(array,frac){var lo\x3darray[0];array\x3dpeek(array);return(frac\x3d+frac)?1\x3d\x3d\x3dfrac?array:\nlo+frac*(array-lo):lo};exports.logger\x3dfunction(_$jscomp$0,method){var level\x3d_$jscomp$0||0;return{level:function(_){return arguments.length?(level\x3d+_,this):level},error:function(){1\x3c\x3dlevel\x26\x26log(method||\x22error\x22,\x22ERROR\x22,arguments);return this},warn:function(){2\x3c\x3dlevel\x26\x26log(method||\x22warn\x22,\x22WARN\x22,arguments);return this},info:function(){3\x3c\x3dlevel\x26\x26log(method||\x22log\x22,\x22INFO\x22,arguments);return this},debug:function(){4\x3c\x3dlevel\x26\x26log(method||\x22log\x22,\x22DEBUG\x22,arguments);return this}}};exports.lruCache\x3dfunction(maxsize){maxsize\x3d\n+maxsize||1E4;var curr,prev,size,clear\x3dfunction(){curr\x3d{};prev\x3d{};size\x3d0},update\x3dfunction(key,value){++size\x3emaxsize\x26\x26(prev\x3dcurr,curr\x3d{},size\x3d1);return curr[key]\x3dvalue};clear();return{clear:clear,has:function(key){return has(curr,key)||has(prev,key)},get:function(key){return has(curr,key)?curr[key]:has(prev,key)?update(key,prev[key]):void 0},set:function(key,value){return has(curr,key)?curr[key]\x3dvalue:update(key,value)}}};exports.merge\x3dfunction(compare,array0,array1,output){var n0\x3darray0.length,n1\x3d\narray1.length;if(!n1)return array0;if(!n0)return array1;output\x3doutput||new array0.constructor(n0+n1);for(var i0\x3d0,i1\x3d0,i\x3d0;i0\x3cn0\x26\x26i1\x3cn1;++i)output[i]\x3d0\x3ccompare(array0[i0],array1[i1])?array1[i1++]:array0[i0++];for(;i0\x3cn0;++i0,++i)output[i]\x3darray0[i0];for(;i1\x3cn1;++i1,++i)output[i]\x3darray1[i1];return output};exports.mergeConfig\x3dfunction(configs){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];\nreturn $jscomp$restParams.reduce(function(out,source){for(var key$471 in source)\x22signals\x22\x3d\x3d\x3dkey$471?out.signals\x3dmergeNamed(out.signals,source.signals):writeConfig(out,key$471,source[key$471],\x22legend\x22\x3d\x3d\x3dkey$471?{layout:1}:\x22style\x22\x3d\x3d\x3dkey$471?!0:null);return out},{})};exports.one\x3done;exports.pad\x3dfunction(str,length,padchar,align){padchar\x3dpadchar||\x22 \x22;str+\x3d\x22\x22;length-\x3dstr.length;return 0\x3e\x3dlength?str:\x22left\x22\x3d\x3d\x3dalign?repeat(padchar,length)+str:\x22center\x22\x3d\x3d\x3dalign?repeat(padchar,~~(length/2))+str+repeat(padchar,\nMath.ceil(length/2)):str+repeat(padchar,length)};exports.panLinear\x3dfunction(domain,delta){return pan(domain,delta,toNumber,identity)};exports.panLog\x3dfunction(domain,delta){var sign\x3dMath.sign(domain[0]);return pan(domain,delta,log$1(sign),exp(sign))};exports.panPow\x3dfunction(domain,delta,exponent){return pan(domain,delta,pow(exponent),pow(1/exponent))};exports.panSymlog\x3dfunction(domain,delta,constant){return pan(domain,delta,symlog(constant),symexp(constant))};exports.peek\x3dpeek;exports.quarter\x3dfunction(date){return 1+\n~~((new Date(date)).getMonth()/3)};exports.repeat\x3drepeat;exports.span\x3dfunction(array){return array\x26\x26peek(array)-array[0]||0};exports.splitAccessPath\x3dsplitAccessPath;exports.stringValue\x3d$;exports.toBoolean\x3dfunction(_){return null\x3d\x3d_||\x22\x22\x3d\x3d\x3d_?null:_\x26\x26\x22false\x22!\x3d\x3d_\x26\x26\x220\x22!\x3d\x3d_?!!_:!1};exports.toDate\x3dfunction(_,parser){parser\x3dparser||defaultParser;return null\x3d\x3d_||\x22\x22\x3d\x3d\x3d_?null:parser(_)};exports.toNumber\x3dtoNumber;exports.toSet\x3dfunction(_){for(var s\x3d{},n\x3d_.length,i\x3d0;i\x3cn;++i)s[_[i]]\x3d!0;return s};exports.toString\x3d\nfunction(_){return null\x3d\x3d_||\x22\x22\x3d\x3d\x3d_?null:_+\x22\x22};exports.truncate\x3dfunction(str,length,align,ellipsis){ellipsis\x3dnull!\x3dellipsis?ellipsis:\x22\u2026\x22;str+\x3d\x22\x22;var n\x3dstr.length,l\x3dMath.max(0,length-ellipsis.length);return n\x3c\x3dlength?str:\x22left\x22\x3d\x3d\x3dalign?ellipsis+str.slice(n-l):\x22center\x22\x3d\x3d\x3dalign?str.slice(0,Math.ceil(l/2))+ellipsis+str.slice(n-~~(l/2)):str.slice(0,l)+ellipsis};exports.truthy\x3dtruthy;exports.utcquarter\x3dfunction(date){return 1+~~((new Date(date)).getUTCMonth()/3)};exports.visitArray\x3dfunction(array,filter,\nvisitor){if(array)if(filter)for(var n\x3darray.length,i\x3d0;i\x3cn;++i){var t\x3dfilter(array[i]);t\x26\x26visitor(t,i,array)}else array.forEach(visitor)};exports.writeConfig\x3dwriteConfig;exports.zero\x3dzero;exports.zoomLinear\x3dfunction(domain,anchor,scale){return zoom(domain,anchor,scale,toNumber,identity)};exports.zoomLog\x3dfunction(domain,anchor,scale){var sign\x3dMath.sign(domain[0]);return zoom(domain,anchor,scale,log$1(sign),exp(sign))};exports.zoomPow\x3dfunction(domain,anchor,scale,exponent){return zoom(domain,anchor,\nscale,pow(exponent),pow(1/exponent))};exports.zoomSymlog\x3dfunction(domain,anchor,scale,constant){return zoom(domain,anchor,scale,symlog(constant),symexp(constant))};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_dsv$dist$d3_dsv.js", true , "shadow$provide.module$node_modules$d3_dsv$dist$d3_dsv\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function objectConverter(columns){return new Function(\x22d\x22,\x22return {\x22+columns.map(function(name,i){return JSON.stringify(name)+\n\x22: d[\x22+i+\x27] || \x22\x22\x27}).join(\x22,\x22)+\x22}\x22)}function customConverter(columns,f){var object\x3dobjectConverter(columns);return function(row,i){return f(object(row),i,columns)}}function inferColumns(rows){var columnSet\x3dObject.create(null),columns\x3d[];rows.forEach(function(row){for(var column in row)column in columnSet||columns.push(columnSet[column]\x3dcolumn)});return columns}function pad(value,width){value+\x3d\x22\x22;var length\x3dvalue.length;return length\x3cwidth?Array(width-length+1).join(0)+value:value}function dsv(delimiter){function parseRows(text,\nf){function token(){if(eof)return EOF;if(eol)return eol\x3d!1,EOL;var i,j\x3dI,c;if(34\x3d\x3d\x3dtext.charCodeAt(j)){for(;I++\x3cN\x26\x2634!\x3d\x3dtext.charCodeAt(I)||34\x3d\x3d\x3dtext.charCodeAt(++I););(i\x3dI)\x3e\x3dN?eof\x3d!0:10\x3d\x3d\x3d(c\x3dtext.charCodeAt(I++))?eol\x3d!0:13\x3d\x3d\x3dc\x26\x26(eol\x3d!0,10\x3d\x3d\x3dtext.charCodeAt(I)\x26\x26++I);return text.slice(j+1,i-1).replace(/\x22\x22/g,\x27\x22\x27)}for(;I\x3cN;){if(10\x3d\x3d\x3d(c\x3dtext.charCodeAt(i\x3dI++)))eol\x3d!0;else if(13\x3d\x3d\x3dc)eol\x3d!0,10\x3d\x3d\x3dtext.charCodeAt(I)\x26\x26++I;else if(c!\x3d\x3dDELIMITER)continue;return text.slice(j,i)}return eof\x3d!0,text.slice(j,N)}\nvar rows\x3d[],N\x3dtext.length,I\x3d0,n\x3d0,t,eof\x3d0\x3e\x3dN,eol\x3d!1;10\x3d\x3d\x3dtext.charCodeAt(N-1)\x26\x26--N;for(13\x3d\x3d\x3dtext.charCodeAt(N-1)\x26\x26--N;(t\x3dtoken())!\x3d\x3dEOF;){for(var row\x3d[];t!\x3d\x3dEOL\x26\x26t!\x3d\x3dEOF;)row.push(t),t\x3dtoken();f\x26\x26null\x3d\x3d(row\x3df(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map(function(row){return columns.map(function(column){return formatValue(row[column])}).join(delimiter)})}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){if(null\x3d\x3d\nvalue)value\x3d\x22\x22;else{if(value instanceof Date){var JSCompiler_temp\x3dvalue.getUTCHours();var minutes\x3dvalue.getUTCMinutes(),seconds\x3dvalue.getUTCSeconds(),milliseconds\x3dvalue.getUTCMilliseconds();if(isNaN(value))value\x3d\x22Invalid Date\x22;else{var year\x3dvalue.getUTCFullYear();value\x3d(0\x3eyear?\x22-\x22+pad(-year,6):9999\x3cyear?\x22+\x22+pad(year,6):pad(year,4))+\x22-\x22+pad(value.getUTCMonth()+1,2)+\x22-\x22+pad(value.getUTCDate(),2)+(milliseconds?\x22T\x22+pad(JSCompiler_temp,2)+\x22:\x22+pad(minutes,2)+\x22:\x22+pad(seconds,2)+\x22.\x22+pad(milliseconds,3)+\x22Z\x22:\nseconds?\x22T\x22+pad(JSCompiler_temp,2)+\x22:\x22+pad(minutes,2)+\x22:\x22+pad(seconds,2)+\x22Z\x22:minutes||JSCompiler_temp?\x22T\x22+pad(JSCompiler_temp,2)+\x22:\x22+pad(minutes,2)+\x22Z\x22:\x22\x22)}JSCompiler_temp\x3dvalue}else JSCompiler_temp\x3dreFormat.test(value+\x3d\x22\x22)?\x27\x22\x27+value.replace(/\x22/g,\x27\x22\x22\x27)+\x27\x22\x27:value;value\x3dJSCompiler_temp}return value}var reFormat\x3dnew RegExp(\x27[\x22\x27+delimiter+\x22\\n\\r]\x22),DELIMITER\x3ddelimiter.charCodeAt(0);return{parse:function(text,f){var convert,columns;text\x3dparseRows(text,function(row,i){if(convert)return convert(row,i-1);\ncolumns\x3drow;convert\x3df?customConverter(row,f):objectConverter(row)});text.columns\x3dcolumns||[];return text},parseRows:parseRows,format:function(rows,columns){null\x3d\x3dcolumns\x26\x26(columns\x3dinferColumns(rows));return[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join(\x22\\n\x22)},formatBody:function(rows,columns){null\x3d\x3dcolumns\x26\x26(columns\x3dinferColumns(rows));return preformatBody(rows,columns).join(\x22\\n\x22)},formatRows:function(rows){return rows.map(formatRow).join(\x22\\n\x22)},formatRow:formatRow,\nformatValue:formatValue}}var EOL\x3d{},EOF\x3d{},csv\x3ddsv(\x22,\x22),csvParse\x3dcsv.parse,csvParseRows\x3dcsv.parseRows,csvFormat\x3dcsv.format,csvFormatBody\x3dcsv.formatBody,csvFormatRows\x3dcsv.formatRows,csvFormatRow\x3dcsv.formatRow;csv\x3dcsv.formatValue;var tsv\x3ddsv(\x22\\t\x22),tsvParse\x3dtsv.parse,tsvParseRows\x3dtsv.parseRows,tsvFormat\x3dtsv.format,tsvFormatBody\x3dtsv.formatBody,tsvFormatRows\x3dtsv.formatRows,tsvFormatRow\x3dtsv.formatRow;tsv\x3dtsv.formatValue;var fixtz\x3d(new Date(\x222019-01-01T00:00\x22)).getHours()||(new Date(\x222019-07-01T00:00\x22)).getHours();\nexports.autoType\x3dfunction(object){for(var key in object){var value\x3dobject[key].trim(),number;if(value)if(\x22true\x22\x3d\x3d\x3dvalue)value\x3d!0;else if(\x22false\x22\x3d\x3d\x3dvalue)value\x3d!1;else if(\x22NaN\x22\x3d\x3d\x3dvalue)value\x3dNaN;else if(isNaN(number\x3d+value))if(number\x3dvalue.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/))fixtz\x26\x26number[4]\x26\x26!number[7]\x26\x26(value\x3dvalue.replace(/-/g,\x22/\x22).replace(/T/,\x22 \x22)),value\x3dnew Date(value);else continue;else value\x3dnumber;else value\x3dnull;object[key]\x3d\nvalue}return object};exports.csvFormat\x3dcsvFormat;exports.csvFormatBody\x3dcsvFormatBody;exports.csvFormatRow\x3dcsvFormatRow;exports.csvFormatRows\x3dcsvFormatRows;exports.csvFormatValue\x3dcsv;exports.csvParse\x3dcsvParse;exports.csvParseRows\x3dcsvParseRows;exports.dsvFormat\x3ddsv;exports.tsvFormat\x3dtsvFormat;exports.tsvFormatBody\x3dtsvFormatBody;exports.tsvFormatRow\x3dtsvFormatRow;exports.tsvFormatRows\x3dtsvFormatRows;exports.tsvFormatValue\x3dtsv;exports.tsvParse\x3dtsvParse;exports.tsvParseRows\x3dtsvParseRows;Object.defineProperty(exports,\n\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$topojson_client$dist$topojson_client.js", true , "shadow$provide.module$node_modules$topojson_client$dist$topojson_client\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.topojson\x3dglobal.topojson||{}))})(this,function(exports){function identity(x){return x}function transform$jscomp$0(transform){if(null\x3d\x3dtransform)return identity;\nvar x0,y0,kx\x3dtransform.scale[0],ky\x3dtransform.scale[1],dx\x3dtransform.translate[0],dy\x3dtransform.translate[1];return function(input,i){i||(x0\x3dy0\x3d0);i\x3d2;var n\x3dinput.length,output\x3dArray(n);output[0]\x3d(x0+\x3dinput[0])*kx+dx;for(output[1]\x3d(y0+\x3dinput[1])*ky+dy;i\x3cn;)output[i]\x3dinput[i],++i;return output}}function bbox(topology){function bboxPoint(p){p\x3dt(p);p[0]\x3cx0\x26\x26(x0\x3dp[0]);p[0]\x3ex1\x26\x26(x1\x3dp[0]);p[1]\x3cy0\x26\x26(y0\x3dp[1]);p[1]\x3ey1\x26\x26(y1\x3dp[1])}function bboxGeometry(o){switch(o.type){case \x22GeometryCollection\x22:o.geometries.forEach(bboxGeometry);\nbreak;case \x22Point\x22:bboxPoint(o.coordinates);break;case \x22MultiPoint\x22:o.coordinates.forEach(bboxPoint)}}var t\x3dtransform$jscomp$0(topology.transform),key,x0\x3dInfinity,y0\x3dx0,x1\x3d-x0,y1\x3d-x0;topology.arcs.forEach(function(arc){for(var i\x3d-1,n\x3darc.length,p;++i\x3cn;)p\x3dt(arc[i],i),p[0]\x3cx0\x26\x26(x0\x3dp[0]),p[0]\x3ex1\x26\x26(x1\x3dp[0]),p[1]\x3cy0\x26\x26(y0\x3dp[1]),p[1]\x3ey1\x26\x26(y1\x3dp[1])});for(key in topology.objects)bboxGeometry(topology.objects[key]);return[x0,y0,x1,y1]}function feature$1(topology,o){var id\x3do.id,bbox\x3do.bbox,properties\x3dnull\x3d\x3d\no.properties?{}:o.properties;topology\x3dobject$jscomp$0(topology,o);return null\x3d\x3did\x26\x26null\x3d\x3dbbox?{type:\x22Feature\x22,properties:properties,geometry:topology}:null\x3d\x3dbbox?{type:\x22Feature\x22,id:id,properties:properties,geometry:topology}:{type:\x22Feature\x22,id:id,bbox:bbox,properties:properties,geometry:topology}}function object$jscomp$0(topology,o$jscomp$0){function point(p){return transformPoint(p)}function line(arcs$jscomp$0){for(var points\x3d[],i\x3d0,n\x3darcs$jscomp$0.length;i\x3cn;++i){var i$jscomp$0\x3darcs$jscomp$0[i],\npoints$jscomp$0\x3dpoints;points$jscomp$0.length\x26\x26points$jscomp$0.pop();for(var a\x3darcs[0\x3ei$jscomp$0?~i$jscomp$0:i$jscomp$0],k\x3d0,n$jscomp$0\x3da.length;k\x3cn$jscomp$0;++k)points$jscomp$0.push(transformPoint(a[k],k));if(0\x3ei$jscomp$0)for(i$jscomp$0\x3dpoints$jscomp$0,points$jscomp$0\x3di$jscomp$0.length,a\x3dpoints$jscomp$0-n$jscomp$0;a\x3c--points$jscomp$0;)n$jscomp$0\x3di$jscomp$0[a],i$jscomp$0[a++]\x3di$jscomp$0[points$jscomp$0],i$jscomp$0[points$jscomp$0]\x3dn$jscomp$0}2\x3epoints.length\x26\x26points.push(points[0]);return points}function ring(arcs){for(arcs\x3d\nline(arcs);4\x3earcs.length;)arcs.push(arcs[0]);return arcs}function polygon(arcs){return arcs.map(ring)}function geometry(o){var type\x3do.type;switch(type){case \x22GeometryCollection\x22:return{type:type,geometries:o.geometries.map(geometry)};case \x22Point\x22:o\x3dtransformPoint(o.coordinates);break;case \x22MultiPoint\x22:o\x3do.coordinates.map(point);break;case \x22LineString\x22:o\x3dline(o.arcs);break;case \x22MultiLineString\x22:o\x3do.arcs.map(line);break;case \x22Polygon\x22:o\x3dpolygon(o.arcs);break;case \x22MultiPolygon\x22:o\x3do.arcs.map(polygon);\nbreak;default:return null}return{type:type,coordinates:o}}var transformPoint\x3dtransform$jscomp$0(topology.transform),arcs\x3dtopology.arcs;return geometry(o$jscomp$0)}function stitch(topology,arcs){function ends(i){var arc\x3dtopology.arcs[0\x3ei?~i:i],p0\x3darc[0];if(topology.transform){var p1\x3d[0,0];arc.forEach(function(dp){p1[0]+\x3ddp[0];p1[1]+\x3ddp[1]})}else p1\x3darc[arc.length-1];return 0\x3ei?[p1,p0]:[p0,p1]}function flush(fragmentByEnd,fragmentByStart){for(var k in fragmentByEnd){var f\x3dfragmentByEnd[k];delete fragmentByStart[f.start];\ndelete f.start;delete f.end;f.forEach(function(i){stitchedArcs[0\x3ei?~i:i]\x3d1});fragments.push(f)}}var stitchedArcs\x3d{},fragmentByStart\x3d{},fragmentByEnd\x3d{},fragments\x3d[],emptyIndex\x3d-1;arcs.forEach(function(i,j){var arc\x3dtopology.arcs[0\x3ei?~i:i];3\x3earc.length\x26\x26!arc[1][0]\x26\x26!arc[1][1]\x26\x26(arc\x3darcs[++emptyIndex],arcs[emptyIndex]\x3di,arcs[j]\x3darc)});arcs.forEach(function(i){var e\x3dends(i),start\x3de[0],end\x3de[1];(e\x3dfragmentByEnd[start])?(delete fragmentByEnd[e.end],e.push(i),e.end\x3dend,(i\x3dfragmentByStart[end])?(delete fragmentByStart[i.start],\nstart\x3di\x3d\x3d\x3de?e:e.concat(i),fragmentByStart[start.start\x3de.start]\x3dfragmentByEnd[start.end\x3di.end]\x3dstart):fragmentByStart[e.start]\x3dfragmentByEnd[e.end]\x3de):(e\x3dfragmentByStart[end])?(delete fragmentByStart[e.start],e.unshift(i),e.start\x3dstart,(i\x3dfragmentByEnd[start])?(delete fragmentByEnd[i.end],start\x3di\x3d\x3d\x3de?e:i.concat(e),fragmentByStart[start.start\x3di.start]\x3dfragmentByEnd[start.end\x3de.end]\x3dstart):fragmentByStart[e.start]\x3dfragmentByEnd[e.end]\x3de):(e\x3d[i],fragmentByStart[e.start\x3dstart]\x3dfragmentByEnd[e.end\x3dend]\x3d\ne)});flush(fragmentByEnd,fragmentByStart);flush(fragmentByStart,fragmentByEnd);arcs.forEach(function(i){stitchedArcs[0\x3ei?~i:i]||fragments.push([i])});return fragments}function meshArcs(topology,object,filter){var n;if(1\x3carguments.length)var arcs\x3dextractArcs(topology,object,filter);else{var i\x3d0;for(arcs\x3dArray(n\x3dtopology.arcs.length);i\x3cn;++i)arcs[i]\x3di}return{type:\x22MultiLineString\x22,arcs:stitch(topology,arcs)}}function extractArcs(topology,object,filter){function extract0(i){var j\x3d0\x3ei?~i:i;(geomsByArc[j]||\n(geomsByArc[j]\x3d[])).push({i:i,g:geom})}function extract1(arcs){arcs.forEach(extract0)}function extract2(arcs){arcs.forEach(extract1)}function geometry(o){switch(geom\x3do,o.type){case \x22GeometryCollection\x22:o.geometries.forEach(geometry);break;case \x22LineString\x22:extract1(o.arcs);break;case \x22MultiLineString\x22:case \x22Polygon\x22:extract2(o.arcs);break;case \x22MultiPolygon\x22:o.arcs.forEach(extract2)}}var arcs$jscomp$0\x3d[],geomsByArc\x3d[],geom;geometry(object);geomsByArc.forEach(null\x3d\x3dfilter?function(geoms){arcs$jscomp$0.push(geoms[0].i)}:\nfunction(geoms){filter(geoms[0].g,geoms[geoms.length-1].g)\x26\x26arcs$jscomp$0.push(geoms[0].i)});return arcs$jscomp$0}function mergeArcs(topology,objects){function geometry(o){switch(o.type){case \x22GeometryCollection\x22:o.geometries.forEach(geometry);break;case \x22Polygon\x22:extract(o.arcs);break;case \x22MultiPolygon\x22:o.arcs.forEach(extract)}}function extract(polygon){polygon.forEach(function(ring){ring.forEach(function(arc){(polygonsByArc[arc\x3d0\x3earc?~arc:arc]||(polygonsByArc[arc]\x3d[])).push(polygon)})});polygons.push(polygon)}\nfunction area$jscomp$0(ring){ring\x3dobject$jscomp$0(topology,{type:\x22Polygon\x22,arcs:[ring]}).coordinates[0];for(var i\x3d-1,n\x3dring.length,a,b\x3dring[n-1],area\x3d0;++i\x3cn;)a\x3db,b\x3dring[i],area+\x3da[0]*b[1]-a[1]*b[0];return Math.abs(area)}var polygonsByArc\x3d{},polygons\x3d[],groups\x3d[];objects.forEach(geometry);polygons.forEach(function(polygon$jscomp$0){if(!polygon$jscomp$0._){var group\x3d[],neighbors\x3d[polygon$jscomp$0];polygon$jscomp$0._\x3d1;for(groups.push(group);polygon$jscomp$0\x3dneighbors.pop();)group.push(polygon$jscomp$0),\npolygon$jscomp$0.forEach(function(ring){ring.forEach(function(arc){polygonsByArc[0\x3earc?~arc:arc].forEach(function(polygon){polygon._||(polygon._\x3d1,neighbors.push(polygon))})})})}});polygons.forEach(function(polygon){delete polygon._});return{type:\x22MultiPolygon\x22,arcs:groups.map(function(polygons){var arcs\x3d[];polygons.forEach(function(polygon){polygon.forEach(function(ring){ring.forEach(function(arc){2\x3epolygonsByArc[0\x3earc?~arc:arc].length\x26\x26arcs.push(arc)})})});arcs\x3dstitch(topology,arcs);if(1\x3c(polygons\x3d\narcs.length))for(var i\x3d1,k\x3darea$jscomp$0(arcs[0]),ki;i\x3cpolygons;++i)(ki\x3darea$jscomp$0(arcs[i]))\x3ek\x26\x26(k\x3darcs[0],arcs[0]\x3darcs[i],arcs[i]\x3dk,k\x3dki);return arcs}).filter(function(arcs){return 0\x3carcs.length})}}function bisect(a,x){for(var lo\x3d0,hi\x3da.length;lo\x3chi;){var mid\x3dlo+hi\x3e\x3e\x3e1;a[mid]\x3cx?lo\x3dmid+1:hi\x3dmid}return lo}function untransform(transform){if(null\x3d\x3dtransform)return identity;var x0,y0,kx\x3dtransform.scale[0],ky\x3dtransform.scale[1],dx\x3dtransform.translate[0],dy\x3dtransform.translate[1];return function(input,\ni){i||(x0\x3dy0\x3d0);i\x3d2;var n\x3dinput.length,output\x3dArray(n),x1\x3dMath.round((input[0]-dx)/kx),y1\x3dMath.round((input[1]-dy)/ky);output[0]\x3dx1-x0;x0\x3dx1;output[1]\x3dy1-y0;for(y0\x3dy1;i\x3cn;)output[i]\x3dinput[i],++i;return output}}exports.bbox\x3dbbox;exports.feature\x3dfunction(topology,o$jscomp$0){\x22string\x22\x3d\x3d\x3dtypeof o$jscomp$0\x26\x26(o$jscomp$0\x3dtopology.objects[o$jscomp$0]);return\x22GeometryCollection\x22\x3d\x3d\x3do$jscomp$0.type?{type:\x22FeatureCollection\x22,features:o$jscomp$0.geometries.map(function(o){return feature$1(topology,o)})}:feature$1(topology,\no$jscomp$0)};exports.merge\x3dfunction(topology){return object$jscomp$0(topology,mergeArcs.apply(this,arguments))};exports.mergeArcs\x3dmergeArcs;exports.mesh\x3dfunction(topology){return object$jscomp$0(topology,meshArcs.apply(this,arguments))};exports.meshArcs\x3dmeshArcs;exports.neighbors\x3dfunction(objects){function line(arcs,i){arcs.forEach(function(a){0\x3ea\x26\x26(a\x3d~a);var o\x3dindexesByArc[a];o?o.push(i):indexesByArc[a]\x3d[i]})}function polygon(arcs,i){arcs.forEach(function(arc){line(arc,i)})}function geometry(o$jscomp$0,\ni){if(\x22GeometryCollection\x22\x3d\x3d\x3do$jscomp$0.type)o$jscomp$0.geometries.forEach(function(o){geometry(o,i)});else if(o$jscomp$0.type in geometryType)geometryType[o$jscomp$0.type](o$jscomp$0.arcs,i)}var indexesByArc\x3d{},neighbors\x3dobjects.map(function(){return[]}),geometryType\x3d{LineString:line,MultiLineString:polygon,Polygon:polygon,MultiPolygon:function(arcs,i){arcs.forEach(function(arc){polygon(arc,i)})}};objects.forEach(geometry);for(var i$jscomp$0 in indexesByArc){objects\x3dindexesByArc[i$jscomp$0];for(var m\x3d\nobjects.length,j\x3d0;j\x3cm;++j)for(var k\x3dj+1;k\x3cm;++k){var ij\x3dobjects[j],ik\x3dobjects[k],n;(n\x3dneighbors[ij])[i$jscomp$0\x3dbisect(n,ik)]!\x3d\x3dik\x26\x26n.splice(i$jscomp$0,0,ik);(n\x3dneighbors[ik])[i$jscomp$0\x3dbisect(n,ij)]!\x3d\x3dij\x26\x26n.splice(i$jscomp$0,0,ij)}}return neighbors};exports.quantize\x3dfunction(topology,transform){function quantizePoint(point){return t(point)}function quantizeGeometry(input){switch(input.type){case \x22GeometryCollection\x22:var output\x3d{type:\x22GeometryCollection\x22,geometries:input.geometries.map(quantizeGeometry)};\nbreak;case \x22Point\x22:output\x3d{type:\x22Point\x22,coordinates:t(input.coordinates)};break;case \x22MultiPoint\x22:output\x3d{type:\x22MultiPoint\x22,coordinates:input.coordinates.map(quantizePoint)};break;default:return input}null!\x3dinput.id\x26\x26(output.id\x3dinput.id);null!\x3dinput.bbox\x26\x26(output.bbox\x3dinput.bbox);null!\x3dinput.properties\x26\x26(output.properties\x3dinput.properties);return output}if(topology.transform)throw Error(\x22already quantized\x22);if(transform\x26\x26transform.scale)var box\x3dtopology.bbox;else{if(!(2\x3c\x3d(n$jscomp$0\x3dMath.floor(transform))))throw Error(\x22n must be \u22652\x22);\nbox\x3dtopology.bbox||bbox(topology);transform\x3dbox[0];var y0\x3dbox[1],x1\x3dbox[2],y1\x3dbox[3],n$jscomp$0;transform\x3d{scale:[x1-transform?(x1-transform)/(n$jscomp$0-1):1,y1-y0?(y1-y0)/(n$jscomp$0-1):1],translate:[transform,y0]}}var t\x3duntransform(transform),key;y0\x3dtopology.objects;x1\x3d{};for(key in y0)x1[key]\x3dquantizeGeometry(y0[key]);return{type:\x22Topology\x22,bbox:box,transform:transform,objects:x1,arcs:topology.arcs.map(function(input){var i\x3d0,j\x3d1,n\x3dinput.length,p,output\x3dArray(n);for(output[0]\x3dt(input[0],0);++i\x3c\nn;)if((p\x3dt(input[i],i))[0]||p[1])output[j++]\x3dp;1\x3d\x3d\x3dj\x26\x26(output[j++]\x3d[0,0]);output.length\x3dj;return output})}};exports.transform\x3dtransform$jscomp$0;exports.untransform\x3duntransform;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_array$dist$d3_array.js", true , "shadow$provide.module$node_modules$d3_array$dist$d3_array\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function ascending(a,b){return a\x3cb?-1:a\x3eb?1:a\x3e\x3db?0:NaN}function bisector(f){function left(a,\nx,lo,hi){null\x3d\x3dlo\x26\x26(lo\x3d0);null\x3d\x3dhi\x26\x26(hi\x3da.length);for(;lo\x3chi;){var mid\x3dlo+hi\x3e\x3e\x3e1;0\x3ecompare(a[mid],x)?lo\x3dmid+1:hi\x3dmid}return lo}var delta\x3df,compare\x3df;1\x3d\x3d\x3df.length\x26\x26(delta\x3dfunction(d,x){return f(d)-x},compare\x3dascendingComparator(f));return{left:left,center:function(a,x,lo,hi){null\x3d\x3dlo\x26\x26(lo\x3d0);null\x3d\x3dhi\x26\x26(hi\x3da.length);hi\x3dleft(a,x,lo,hi-1);return hi\x3elo\x26\x26delta(a[hi-1],x)\x3e-delta(a[hi],x)?hi-1:hi},right:function(a,x,lo,hi){null\x3d\x3dlo\x26\x26(lo\x3d0);null\x3d\x3dhi\x26\x26(hi\x3da.length);for(;lo\x3chi;){var mid\x3dlo+hi\x3e\x3e\x3e1;0\x3ccompare(a[mid],\nx)?hi\x3dmid:lo\x3dmid+1}return lo}}}function ascendingComparator(f){return function(d,x){return ascending(f(d),x)}}function number(x){return null\x3d\x3d\x3dx?NaN:+x}function numbers(values,valueof){var index$474,$jscomp$iter$282,$jscomp$key$value,value$475,$jscomp$iter$281,value;return $jscomp.generator.createGenerator(numbers,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:if(void 0\x3d\x3d\x3dvalueof){$jscomp$generator$context.jumpTo(2);break}index$474\x3d-1;$jscomp$iter$282\x3d$jscomp.makeIterator(values);\n$jscomp$key$value\x3d$jscomp$iter$282.next();case 4:if($jscomp$key$value.done){$jscomp$generator$context.jumpTo(0);break}value$475\x3d$jscomp$key$value.value;if(!(null!\x3d(value$475\x3dvalueof(value$475,++index$474,values))\x26\x26(value$475\x3d+value$475)\x3e\x3dvalue$475)){$jscomp$generator$context.jumpTo(5);break}return $jscomp$generator$context.yield(value$475,5);case 5:$jscomp$key$value\x3d$jscomp$iter$282.next();$jscomp$generator$context.jumpTo(4);break;case 2:$jscomp$iter$281\x3d$jscomp.makeIterator(values),$jscomp$key$value\x3d\n$jscomp$iter$281.next();case 9:if($jscomp$key$value.done){$jscomp$generator$context.jumpTo(0);break}value\x3d$jscomp$key$value.value;if(!(null!\x3dvalue\x26\x26(value\x3d+value)\x3e\x3dvalue)){$jscomp$generator$context.jumpTo(10);break}return $jscomp$generator$context.yield(value,10);case 10:$jscomp$key$value\x3d$jscomp$iter$281.next(),$jscomp$generator$context.jumpTo(9)}})}function count$jscomp$0(values,valueof){var count\x3d0;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3d\nvalues.next())valueof\x3d$jscomp$key$value.value,null!\x3dvalueof\x26\x26(valueof\x3d+valueof)\x3e\x3dvalueof\x26\x26++count}else{var index$476\x3d-1,$jscomp$iter$284\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$284.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$284.next())$jscomp$key$value\x3d$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index$476,values))\x26\x26($jscomp$key$value\x3d+$jscomp$key$value)\x3e\x3d$jscomp$key$value\x26\x26++count}return count}function length$jscomp$0(array){return array.length|\n0}function empty(length){return!(0\x3clength)}function arrayify(values){return\x22object\x22!\x3d\x3dtypeof values||\x22length\x22in values?values:Array.from(values)}function reducer(reduce){return function(values){return reduce.apply(null,$jscomp.arrayFromIterable(values))}}function variance(values,valueof){var count\x3d0,delta,mean\x3d0,sum\x3d0;if(void 0\x3d\x3d\x3dvalueof)for(values\x3d$jscomp.makeIterator(values),delta\x3dvalues.next();!delta.done;delta\x3dvalues.next())valueof\x3ddelta.value,null!\x3dvalueof\x26\x26(valueof\x3d+valueof)\x3e\x3dvalueof\x26\x26(delta\x3d\nvalueof-mean,mean+\x3ddelta/++count,sum+\x3ddelta*(valueof-mean));else{var index$480\x3d-1,$jscomp$iter$286\x3d$jscomp.makeIterator(values);for(delta\x3d$jscomp$iter$286.next();!delta.done;delta\x3d$jscomp$iter$286.next()){var value$481\x3ddelta.value;null!\x3d(value$481\x3dvalueof(value$481,++index$480,values))\x26\x26(value$481\x3d+value$481)\x3e\x3dvalue$481\x26\x26(delta\x3dvalue$481-mean,mean+\x3ddelta/++count,sum+\x3ddelta*(value$481-mean))}}if(1\x3ccount)return sum/(count-1)}function deviation(values,valueof){return(values\x3dvariance(values,valueof))?\nMath.sqrt(values):values}function extent(values,valueof){var min,max;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())valueof\x3d$jscomp$key$value.value,null!\x3dvalueof\x26\x26(void 0\x3d\x3d\x3dmin?valueof\x3e\x3dvalueof\x26\x26(min\x3dmax\x3dvalueof):(min\x3evalueof\x26\x26(min\x3dvalueof),max\x3cvalueof\x26\x26(max\x3dvalueof)))}else{var index$482\x3d-1,$jscomp$iter$288\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$288.next();!$jscomp$key$value.done;$jscomp$key$value\x3d\n$jscomp$iter$288.next())$jscomp$key$value\x3d$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index$482,values))\x26\x26(void 0\x3d\x3d\x3dmin?$jscomp$key$value\x3e\x3d$jscomp$key$value\x26\x26(min\x3dmax\x3d$jscomp$key$value):(min\x3e$jscomp$key$value\x26\x26(min\x3d$jscomp$key$value),max\x3c$jscomp$key$value\x26\x26(max\x3d$jscomp$key$value)))}return[min,max]}function identity(x){return x}function unique(values){if(1!\x3d\x3dvalues.length)throw Error(\x22duplicate key\x22);return values[0]}function nest(values$jscomp$0,map,reduce,keys){return function regroup(values,\ni){if(i\x3e\x3dkeys.length)return reduce(values);for(var groups\x3dnew Map,keyof\x3dkeys[i++],index\x3d-1,$jscomp$iter$291\x3d$jscomp.makeIterator(values),$jscomp$key$value\x3d$jscomp$iter$291.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$291.next()){$jscomp$key$value\x3d$jscomp$key$value.value;var key\x3dkeyof($jscomp$key$value,++index,values),group$492\x3dgroups.get(key);group$492?group$492.push($jscomp$key$value):groups.set(key,[$jscomp$key$value])}values\x3d$jscomp.makeIterator(groups);for(keyof\x3dvalues.next();!keyof.done;keyof\x3d\nvalues.next())index\x3d$jscomp.makeIterator(keyof.value),keyof\x3dindex.next().value,index\x3dindex.next().value,groups.set(keyof,regroup(index,i));return map(groups)}(values$jscomp$0,0)}function constant(x){return function(){return x}}function ticks(start,stop,count){var reverse,i\x3d-1,step;stop\x3d+stop;start\x3d+start;count\x3d+count;if(start\x3d\x3d\x3dstop\x26\x260\x3ccount)return[start];if(reverse\x3dstop\x3cstart){var n\x3dstart;start\x3dstop;stop\x3dn}if(0\x3d\x3d\x3d(step\x3dtickIncrement(start,stop,count))||!isFinite(step))return[];if(0\x3cstep)for(start\x3d\nMath.ceil(start/step),stop\x3dMath.floor(stop/step),stop\x3dArray(n\x3dMath.ceil(stop-start+1));++i\x3cn;)stop[i]\x3d(start+i)*step;else for(step\x3d-step,start\x3dMath.ceil(start*step),stop\x3dMath.floor(stop*step),stop\x3dArray(n\x3dMath.ceil(stop-start+1));++i\x3cn;)stop[i]\x3d(start+i)/step;reverse\x26\x26stop.reverse();return stop}function tickIncrement(start,stop,count){stop\x3d(stop-start)/Math.max(0,count);start\x3dMath.floor(Math.log(stop)/Math.LN10);stop/\x3dMath.pow(10,start);return 0\x3c\x3dstart?(stop\x3e\x3de10?10:stop\x3e\x3de5?5:stop\x3e\x3de2?2:1)*Math.pow(10,\nstart):-Math.pow(10,-start)/(stop\x3e\x3de10?10:stop\x3e\x3de5?5:stop\x3e\x3de2?2:1)}function sturges(values){return Math.ceil(Math.log(count$jscomp$0(values))/Math.LN2)+1}function bin(){function histogram(data){Array.isArray(data)||(data\x3dArray.from(data));var i,n\x3ddata.length,values\x3dArray(n);for(i\x3d0;i\x3cn;++i)values[i]\x3dvalue(data[i],i,data);i\x3ddomain(values);var x0\x3di[0],x1\x3di[1],tz\x3dthreshold(values,x0,x1);Array.isArray(tz)||(tz\x3dticks(x0,x1,tz),tz[tz.length-1]\x3d\x3d\x3dx1\x26\x26tz.pop());for(var m\x3dtz.length;tz[0]\x3c\x3dx0;)tz.shift(),--m;\nfor(;tz[m-1]\x3ex1;)tz.pop(),--m;var bins\x3dArray(m+1);for(i\x3d0;i\x3c\x3dm;++i){var x\x3dbins[i]\x3d[];x.x0\x3d0\x3ci?tz[i-1]:x0;x.x1\x3di\x3cm?tz[i]:x1}for(i\x3d0;i\x3cn;++i)x\x3dvalues[i],x0\x3c\x3dx\x26\x26x\x3c\x3dx1\x26\x26bins[bisectRight(tz,x,0,m)].push(data[i]);return bins}var value\x3didentity,domain\x3dextent,threshold\x3dsturges;histogram.value\x3dfunction(_){return arguments.length?(value\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(_),histogram):value};histogram.domain\x3dfunction(_){return arguments.length?(domain\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant([_[0],_[1]]),histogram):\ndomain};histogram.thresholds\x3dfunction(_){return arguments.length?(threshold\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:Array.isArray(_)?constant(slice.call(_)):constant(_),histogram):threshold};return histogram}function max$jscomp$0(values,valueof){var max;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())valueof\x3d$jscomp$key$value.value,null!\x3dvalueof\x26\x26(max\x3cvalueof||void 0\x3d\x3d\x3dmax\x26\x26valueof\x3e\x3dvalueof)\x26\x26(max\x3dvalueof)}else{var index$495\x3d\n-1,$jscomp$iter$294\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$294.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$294.next())$jscomp$key$value\x3d$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index$495,values))\x26\x26(max\x3c$jscomp$key$value||void 0\x3d\x3d\x3dmax\x26\x26$jscomp$key$value\x3e\x3d$jscomp$key$value)\x26\x26(max\x3d$jscomp$key$value)}return max}function min$jscomp$0(values,valueof){var min;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3d\nvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())valueof\x3d$jscomp$key$value.value,null!\x3dvalueof\x26\x26(min\x3evalueof||void 0\x3d\x3d\x3dmin\x26\x26valueof\x3e\x3dvalueof)\x26\x26(min\x3dvalueof)}else{var index$497\x3d-1,$jscomp$iter$296\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$296.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$296.next())$jscomp$key$value\x3d$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index$497,values))\x26\x26(min\x3e$jscomp$key$value||void 0\x3d\x3d\x3d\nmin\x26\x26$jscomp$key$value\x3e\x3d$jscomp$key$value)\x26\x26(min\x3d$jscomp$key$value)}return min}function quickselect(array,k,left,right,compare){left\x3dvoid 0\x3d\x3d\x3dleft?0:left;right\x3dvoid 0\x3d\x3d\x3dright?array.length-1:right;for(compare\x3dvoid 0\x3d\x3d\x3dcompare?ascending:compare;right\x3eleft;){if(600\x3cright-left){var n\x3dright-left+1,m\x3dk-left+1,z\x3dMath.log(n),s\x3d.5*Math.exp(2*z/3);z\x3d.5*Math.sqrt(z*s*(n-s)/n)*(0\x3em-n/2?-1:1);quickselect(array,k,Math.max(left,Math.floor(k-m*s/n+z)),Math.min(right,Math.floor(k+(n-m)*s/n+z)),compare)}n\x3darray[k];\nm\x3dleft;s\x3dright;swap(array,left,k);for(0\x3ccompare(array[right],n)\x26\x26swap(array,left,right);m\x3cs;){swap(array,m,s);++m;for(--s;0\x3ecompare(array[m],n);)++m;for(;0\x3ccompare(array[s],n);)--s}0\x3d\x3d\x3dcompare(array[left],n)?swap(array,left,s):(++s,swap(array,s,right));s\x3c\x3dk\x26\x26(left\x3ds+1);k\x3c\x3ds\x26\x26(right\x3ds-1)}return array}function swap(array,i,j){var t\x3darray[i];array[i]\x3darray[j];array[j]\x3dt}function quantile(values,p,valueof){values\x3dFloat64Array.from(numbers(values,valueof));if(valueof\x3dvalues.length){if(0\x3e\x3d(p\x3d+p)||2\x3evalueof)return min$jscomp$0(values);\nif(1\x3c\x3dp)return max$jscomp$0(values);p*\x3dvalueof-1;valueof\x3dMath.floor(p);var value0\x3dmax$jscomp$0(quickselect(values,valueof).subarray(0,valueof+1));values\x3dmin$jscomp$0(values.subarray(valueof+1));return value0+(values-value0)*(p-valueof)}}function maxIndex(values,valueof){var maxIndex\x3d-1,index\x3d-1;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())if(valueof\x3d$jscomp$key$value.value,++index,null!\x3dvalueof\x26\x26\n(max\x3cvalueof||void 0\x3d\x3d\x3dmax\x26\x26valueof\x3e\x3dvalueof)){var max\x3dvalueof;maxIndex\x3dindex}}else{var $jscomp$iter$298\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$298.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$298.next())$jscomp$key$value\x3d$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index,values))\x26\x26(max\x3c$jscomp$key$value||void 0\x3d\x3d\x3dmax\x26\x26$jscomp$key$value\x3e\x3d$jscomp$key$value)\x26\x26(max\x3d$jscomp$key$value,maxIndex\x3dindex)}return maxIndex}function flatten(arrays){var $jscomp$iter$301,\n$jscomp$key$array,array$502;return $jscomp.generator.createGenerator(flatten,function($jscomp$generator$context){1\x3d\x3d$jscomp$generator$context.nextAddress\x26\x26($jscomp$iter$301\x3d$jscomp.makeIterator(arrays),$jscomp$key$array\x3d$jscomp$iter$301.next());if(3!\x3d$jscomp$generator$context.nextAddress){if($jscomp$key$array.done)return $jscomp$generator$context.jumpTo(0);array$502\x3d$jscomp$key$array.value;return $jscomp$generator$context.yieldAll(array$502,3)}$jscomp$key$array\x3d$jscomp$iter$301.next();return $jscomp$generator$context.jumpTo(2)})}\nfunction minIndex(values,valueof){var minIndex\x3d-1,index\x3d-1;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())if(valueof\x3d$jscomp$key$value.value,++index,null!\x3dvalueof\x26\x26(min\x3evalueof||void 0\x3d\x3d\x3dmin\x26\x26valueof\x3e\x3dvalueof)){var min\x3dvalueof;minIndex\x3dindex}}else{var $jscomp$iter$303\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$303.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$303.next())$jscomp$key$value\x3d\n$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index,values))\x26\x26(min\x3e$jscomp$key$value||void 0\x3d\x3d\x3dmin\x26\x26$jscomp$key$value\x3e\x3d$jscomp$key$value)\x26\x26(min\x3d$jscomp$key$value,minIndex\x3dindex)}return minIndex}function pair(a,b){return[a,b]}function leastIndex(values,compare){compare\x3dvoid 0\x3d\x3d\x3dcompare?ascending:compare;if(1\x3d\x3d\x3dcompare.length)return minIndex(values,compare);var min\x3d-1,index\x3d-1;values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3d\nvalues.next())if($jscomp$key$value\x3d$jscomp$key$value.value,++index,0\x3emin?0\x3d\x3d\x3dcompare($jscomp$key$value,$jscomp$key$value):0\x3ecompare($jscomp$key$value,minValue)){var minValue\x3d$jscomp$key$value;min\x3dindex}return min}function shuffler(random){return function(array,i0,i1){i0\x3dvoid 0\x3d\x3d\x3di0?0:i0;i1\x3dvoid 0\x3d\x3d\x3di1?array.length:i1;for(i1-\x3di0\x3d+i0;i1;){var i\x3drandom()*i1--|0,t\x3darray[i1+i0];array[i1+i0]\x3darray[i+i0];array[i+i0]\x3dt}return array}}function transpose$jscomp$0(matrix){if(!(n\x3dmatrix.length))return[];for(var i\x3d\n-1,m\x3dmin$jscomp$0(matrix,length$1),transpose\x3dArray(m);++i\x3cm;)for(var j\x3d-1,n,row\x3dtranspose[i]\x3dArray(n);++j\x3cn;)row[j]\x3dmatrix[j][i];return transpose}function length$1(d){return d.length}var ascendingBisect\x3dbisector(ascending),bisectRight\x3dascendingBisect.right;ascendingBisect\x3dascendingBisect.left;var bisectCenter\x3dbisector(number).center,Adder\x3dfunction(){this._partials\x3dnew Float64Array(32);this._n\x3d0};Adder.prototype.add\x3dfunction(x){for(var p\x3dthis._partials,i\x3d0,j\x3d0;j\x3cthis._n\x26\x2632\x3ej;j++){var y\x3dp[j],hi\x3dx+\ny;(x\x3dMath.abs(x)\x3cMath.abs(y)?x-(hi-y):y-(hi-x))\x26\x26(p[i++]\x3dx);x\x3dhi}p[i]\x3dx;this._n\x3di+1;return this};Adder.prototype.valueOf\x3dfunction(){var p\x3dthis._partials,n\x3dthis._n,hi\x3d0;if(0\x3cn){for(hi\x3dp[--n];0\x3cn;){var x\x3dhi;var y\x3dp[--n];hi\x3dx+y;if(x\x3dy-(hi-x))break}0\x3cn\x26\x26(0\x3ex\x26\x260\x3ep[n-1]||0\x3cx\x26\x260\x3cp[n-1])\x26\x26(y\x3d2*x,x\x3dhi+y,y\x3d\x3dx-hi\x26\x26(hi\x3dx))}return hi};var slice\x3dArray.prototype.slice,e10\x3dMath.sqrt(50),e5\x3dMath.sqrt(10),e2\x3dMath.sqrt(2),shuffle\x3dshuffler(Math.random);exports.Adder\x3dAdder;exports.ascending\x3dascending;exports.bin\x3dbin;\nexports.bisect\x3dbisectRight;exports.bisectCenter\x3dbisectCenter;exports.bisectLeft\x3dascendingBisect;exports.bisectRight\x3dbisectRight;exports.bisector\x3dbisector;exports.count\x3dcount$jscomp$0;exports.cross\x3dfunction(values){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];var values$478\x3d$jscomp$restParams;$jscomp$restParams\x3d\x22function\x22\x3d\x3d\x3dtypeof values$478[values$478.length-1]\x26\x26reducer(values$478.pop());\nvalues$478\x3dvalues$478.map(arrayify);$jscomp$restIndex\x3dvalues$478.map(length$jscomp$0);var j$jscomp$0\x3dvalues$478.length-1,index$479\x3dArray(j$jscomp$0+1).fill(0),product\x3d[];if(0\x3ej$jscomp$0||$jscomp$restIndex.some(empty))return product;for(;;){product.push(index$479.map(function(j,i){return values$478[i][j]}));for(var i$jscomp$0\x3dj$jscomp$0;++index$479[i$jscomp$0]\x3d\x3d\x3d$jscomp$restIndex[i$jscomp$0];){if(0\x3d\x3d\x3di$jscomp$0)return $jscomp$restParams?product.map($jscomp$restParams):product;index$479[i$jscomp$0--]\x3d\n0}}};exports.cumsum\x3dfunction(values,valueof){var sum\x3d0,index\x3d0;return Float64Array.from(values,void 0\x3d\x3d\x3dvalueof?function(v){return sum+\x3d+v||0}:function(v){return sum+\x3d+valueof(v,index++,values)||0})};exports.descending\x3dfunction(a,b){return b\x3ca?-1:b\x3ea?1:b\x3e\x3da?0:NaN};exports.deviation\x3ddeviation;exports.extent\x3dextent;exports.fsum\x3dfunction(values,valueof){var adder\x3dnew Adder;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3d\nvalues.next())valueof\x3d$jscomp$key$value.value,(valueof\x3d+valueof)\x26\x26adder.add(valueof)}else{var index$484\x3d-1,$jscomp$iter$290\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$290.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$290.next())$jscomp$key$value\x3d$jscomp$key$value.value,($jscomp$key$value\x3d+valueof($jscomp$key$value,++index$484,values))\x26\x26adder.add($jscomp$key$value)}return+adder};exports.greatest\x3dfunction(values,compare){compare\x3dvoid 0\x3d\x3d\x3dcompare?ascending:compare;\nvar defined\x3d!1;if(1\x3d\x3d\x3dcompare.length){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$element\x3dvalues.next();!$jscomp$key$element.done;$jscomp$key$element\x3dvalues.next()){$jscomp$key$element\x3d$jscomp$key$element.value;var value\x3dcompare($jscomp$key$element);if(defined?0\x3cascending(value,maxValue):0\x3d\x3d\x3dascending(value,value)){var max\x3d$jscomp$key$element;var maxValue\x3dvalue;defined\x3d!0}}}else for(maxValue\x3d$jscomp.makeIterator(values),values\x3dmaxValue.next();!values.done;values\x3dmaxValue.next())if(values\x3d\nvalues.value,defined?0\x3ccompare(values,max):0\x3d\x3d\x3dcompare(values,values))max\x3dvalues,defined\x3d!0;return max};exports.greatestIndex\x3dfunction(values,compare){compare\x3dvoid 0\x3d\x3d\x3dcompare?ascending:compare;if(1\x3d\x3d\x3dcompare.length)return maxIndex(values,compare);var max\x3d-1,index\x3d-1;values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())if($jscomp$key$value\x3d$jscomp$key$value.value,++index,0\x3emax?0\x3d\x3d\x3dcompare($jscomp$key$value,$jscomp$key$value):\n0\x3ccompare($jscomp$key$value,maxValue)){var maxValue\x3d$jscomp$key$value;max\x3dindex}return max};exports.group\x3dfunction(values,keys){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d1;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-1]\x3darguments[$jscomp$restIndex];return nest(values,identity,identity,$jscomp$restParams)};exports.groups\x3dfunction(values,keys){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d1;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-\n1]\x3darguments[$jscomp$restIndex];return nest(values,Array.from,identity,$jscomp$restParams)};exports.histogram\x3dbin;exports.index\x3dfunction(values,keys){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d1;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-1]\x3darguments[$jscomp$restIndex];return nest(values,identity,unique,$jscomp$restParams)};exports.indexes\x3dfunction(values,keys){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d1;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-\n1]\x3darguments[$jscomp$restIndex];return nest(values,Array.from,unique,$jscomp$restParams)};exports.least\x3dfunction(values,compare){compare\x3dvoid 0\x3d\x3d\x3dcompare?ascending:compare;var defined\x3d!1;if(1\x3d\x3d\x3dcompare.length){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$element\x3dvalues.next();!$jscomp$key$element.done;$jscomp$key$element\x3dvalues.next()){$jscomp$key$element\x3d$jscomp$key$element.value;var value\x3dcompare($jscomp$key$element);if(defined?0\x3eascending(value,minValue):0\x3d\x3d\x3dascending(value,value)){var min\x3d\n$jscomp$key$element;var minValue\x3dvalue;defined\x3d!0}}}else for(minValue\x3d$jscomp.makeIterator(values),values\x3dminValue.next();!values.done;values\x3dminValue.next())if(values\x3dvalues.value,defined?0\x3ecompare(values,min):0\x3d\x3d\x3dcompare(values,values))min\x3dvalues,defined\x3d!0;return min};exports.leastIndex\x3dleastIndex;exports.max\x3dmax$jscomp$0;exports.maxIndex\x3dmaxIndex;exports.mean\x3dfunction(values,valueof){var count\x3d0,sum\x3d0;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3d\nvalues.next())valueof\x3d$jscomp$key$value.value,null!\x3dvalueof\x26\x26(valueof\x3d+valueof)\x3e\x3dvalueof\x26\x26(++count,sum+\x3dvalueof)}else{var index$500\x3d-1,$jscomp$iter$300\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$300.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$300.next())$jscomp$key$value\x3d$jscomp$key$value.value,null!\x3d($jscomp$key$value\x3dvalueof($jscomp$key$value,++index$500,values))\x26\x26($jscomp$key$value\x3d+$jscomp$key$value)\x3e\x3d$jscomp$key$value\x26\x26(++count,sum+\x3d$jscomp$key$value)}if(count)return sum/\ncount};exports.median\x3dfunction(values,valueof){return quantile(values,.5,valueof)};exports.merge\x3dfunction(arrays){return Array.from(flatten(arrays))};exports.min\x3dmin$jscomp$0;exports.minIndex\x3dminIndex;exports.pairs\x3dfunction(values,pairof){pairof\x3dvoid 0\x3d\x3d\x3dpairof?pair:pairof;var pairs\x3d[],first\x3d!1;values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next()){$jscomp$key$value\x3d$jscomp$key$value.value;first\x26\x26pairs.push(pairof(previous,\n$jscomp$key$value));var previous\x3d$jscomp$key$value;first\x3d!0}return pairs};exports.permute\x3dfunction(source,keys){return Array.from(keys,function(key){return source[key]})};exports.quantile\x3dquantile;exports.quantileSorted\x3dfunction(values,p,valueof){valueof\x3dvoid 0\x3d\x3d\x3dvalueof?number:valueof;if(n\x3dvalues.length){if(0\x3e\x3d(p\x3d+p)||2\x3en)return+valueof(values[0],0,values);if(1\x3c\x3dp)return+valueof(values[n-1],n-1,values);var n;p*\x3dn-1;n\x3dMath.floor(p);var value0\x3d+valueof(values[n],n,values);values\x3d+valueof(values[n+\n1],n+1,values);return value0+(values-value0)*(p-n)}};exports.quickselect\x3dquickselect;exports.range\x3dfunction(start,stop,step){start\x3d+start;stop\x3d+stop;step\x3d2\x3e(n\x3darguments.length)?(stop\x3dstart,start\x3d0,1):3\x3en?1:+step;for(var i\x3d-1,n\x3dMath.max(0,Math.ceil((stop-start)/step))|0,range\x3dArray(n);++i\x3cn;)range[i]\x3dstart+i*step;return range};exports.rollup\x3dfunction(values,reduce,keys){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d2;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-\n2]\x3darguments[$jscomp$restIndex];return nest(values,identity,reduce,$jscomp$restParams)};exports.rollups\x3dfunction(values,reduce,keys){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d2;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-2]\x3darguments[$jscomp$restIndex];return nest(values,Array.from,reduce,$jscomp$restParams)};exports.scan\x3dfunction(values,compare){values\x3dleastIndex(values,compare);return 0\x3evalues?void 0:values};exports.shuffle\x3dshuffle;exports.shuffler\x3d\nshuffler;exports.sum\x3dfunction(values,valueof){var sum\x3d0;if(void 0\x3d\x3d\x3dvalueof){values\x3d$jscomp.makeIterator(values);for(var $jscomp$key$value\x3dvalues.next();!$jscomp$key$value.done;$jscomp$key$value\x3dvalues.next())if(valueof\x3d$jscomp$key$value.value,valueof\x3d+valueof)sum+\x3dvalueof}else{var index$506\x3d-1,$jscomp$iter$312\x3d$jscomp.makeIterator(values);for($jscomp$key$value\x3d$jscomp$iter$312.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$312.next())if($jscomp$key$value\x3d$jscomp$key$value.value,$jscomp$key$value\x3d\n+valueof($jscomp$key$value,++index$506,values))sum+\x3d$jscomp$key$value}return sum};exports.thresholdFreedmanDiaconis\x3dfunction(values,min,max){return Math.ceil((max-min)/(2*(quantile(values,.75)-quantile(values,.25))*Math.pow(count$jscomp$0(values),-1/3)))};exports.thresholdScott\x3dfunction(values,min,max){return Math.ceil((max-min)/(3.5*deviation(values)*Math.pow(count$jscomp$0(values),-1/3)))};exports.thresholdSturges\x3dsturges;exports.tickIncrement\x3dtickIncrement;exports.tickStep\x3dfunction(start,stop,\ncount){var step0\x3dMath.abs(stop-start)/Math.max(0,count);count\x3dMath.pow(10,Math.floor(Math.log(step0)/Math.LN10));step0/\x3dcount;step0\x3e\x3de10?count*\x3d10:step0\x3e\x3de5?count*\x3d5:step0\x3e\x3de2\x26\x26(count*\x3d2);return stop\x3cstart?-count:count};exports.ticks\x3dticks;exports.transpose\x3dtranspose$jscomp$0;exports.variance\x3dvariance;exports.zip\x3dfunction(){return transpose$jscomp$0(arguments)};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_format$dist$d3_format.js", true , "shadow$provide.module$node_modules$d3_format$dist$d3_format\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function formatDecimalParts(x,p){if(0\x3e(p\x3d(x\x3dp?x.toExponential(p-1):x.toExponential()).indexOf(\x22e\x22)))return null;\nvar coefficient\x3dx.slice(0,p);return[1\x3ccoefficient.length?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(p+1)]}function exponent(x){return x\x3dformatDecimalParts(Math.abs(x)),x?x[1]:NaN}function formatGroup(grouping,thousands){return function(value,width){for(var i\x3dvalue.length,t\x3d[],j\x3d0,g\x3dgrouping[0],length\x3d0;0\x3ci\x26\x260\x3cg;){length+g+1\x3ewidth\x26\x26(g\x3dMath.max(1,width-length));t.push(value.substring(i-\x3dg,i+g));if((length+\x3dg+1)\x3ewidth)break;g\x3dgrouping[j\x3d(j+1)%grouping.length]}return t.reverse().join(thousands)}}\nfunction formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,function(i){return numerals[+i]})}}function formatSpecifier(specifier){if(!(match\x3dre.exec(specifier)))throw Error(\x22invalid format: \x22+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]\x26\x26match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill\x3dvoid 0\x3d\x3d\x3dspecifier.fill?\n\x22 \x22:specifier.fill+\x22\x22;this.align\x3dvoid 0\x3d\x3d\x3dspecifier.align?\x22\\x3e\x22:specifier.align+\x22\x22;this.sign\x3dvoid 0\x3d\x3d\x3dspecifier.sign?\x22-\x22:specifier.sign+\x22\x22;this.symbol\x3dvoid 0\x3d\x3d\x3dspecifier.symbol?\x22\x22:specifier.symbol+\x22\x22;this.zero\x3d!!specifier.zero;this.width\x3dvoid 0\x3d\x3d\x3dspecifier.width?void 0:+specifier.width;this.comma\x3d!!specifier.comma;this.precision\x3dvoid 0\x3d\x3d\x3dspecifier.precision?void 0:+specifier.precision;this.trim\x3d!!specifier.trim;this.type\x3dvoid 0\x3d\x3d\x3dspecifier.type?\x22\x22:specifier.type+\x22\x22}function formatRounded(x,p){p\x3d\nformatDecimalParts(x,p);if(!p)return x+\x22\x22;x\x3dp[0];p\x3dp[1];return 0\x3ep?\x220.\x22+Array(-p).join(\x220\x22)+x:x.length\x3ep+1?x.slice(0,p+1)+\x22.\x22+x.slice(p+1):x+Array(p-x.length+2).join(\x220\x22)}function identity(x){return x}function formatLocale(locale){function newFormat(specifier){function format(value){var valuePrefix\x3dprefix,valueSuffix\x3dsuffix,n,c;if(\x22c\x22\x3d\x3d\x3dtype)valueSuffix\x3dformatType(value)+valueSuffix,value\x3d\x22\x22;else{value\x3d+value;var i\x3d0\x3evalue||0\x3e1/value;value\x3disNaN(value)?nan:formatType(Math.abs(value),precision);if(trim){var n$jscomp$0\x3d\nvalue.length,i$jscomp$0\x3d1,i0\x3d-1;a:for(;i$jscomp$0\x3cn$jscomp$0;++i$jscomp$0)switch(value[i$jscomp$0]){case \x22.\x22:i0\x3dn\x3di$jscomp$0;break;case \x220\x22:0\x3d\x3d\x3di0\x26\x26(i0\x3di$jscomp$0);n\x3di$jscomp$0;break;default:if(!+value[i$jscomp$0])break a;0\x3ci0\x26\x26(i0\x3d0)}value\x3d0\x3ci0?value.slice(0,i0)+value.slice(n+1):value}i\x26\x260\x3d\x3d\x3d+value\x26\x26\x22+\x22!\x3d\x3dsign\x26\x26(i\x3d!1);valuePrefix\x3d(i?\x22(\x22\x3d\x3d\x3dsign?sign:minus:\x22-\x22\x3d\x3d\x3dsign||\x22(\x22\x3d\x3d\x3dsign?\x22\x22:sign)+valuePrefix;valueSuffix\x3d(\x22s\x22\x3d\x3d\x3dtype?prefixes[8+prefixExponent/3]:\x22\x22)+valueSuffix+(i\x26\x26\x22(\x22\x3d\x3d\x3dsign?\x22)\x22:\x22\x22);if(maybeSuffix)for(i\x3d\n-1,n\x3dvalue.length;++i\x3cn;)if(c\x3dvalue.charCodeAt(i),48\x3ec||57\x3cc){valueSuffix\x3d(46\x3d\x3d\x3dc?decimal+value.slice(i+1):value.slice(i))+valueSuffix;value\x3dvalue.slice(0,i);break}}comma\x26\x26!zero\x26\x26(value\x3dgroup(value,Infinity));c\x3dvaluePrefix.length+value.length+valueSuffix.length;i\x3dc\x3cwidth?Array(width-c+1).join(fill):\x22\x22;comma\x26\x26zero\x26\x26(value\x3dgroup(i+value,i.length?width-valueSuffix.length:Infinity),i\x3d\x22\x22);switch(align){case \x22\\x3c\x22:value\x3dvaluePrefix+value+valueSuffix+i;break;case \x22\\x3d\x22:value\x3dvaluePrefix+i+value+valueSuffix;\nbreak;case \x22^\x22:value\x3di.slice(0,c\x3di.length\x3e\x3e1)+valuePrefix+value+valueSuffix+i.slice(c);break;default:value\x3di+valuePrefix+value+valueSuffix}return numerals(value)}specifier\x3dformatSpecifier(specifier);var fill\x3dspecifier.fill,align\x3dspecifier.align,sign\x3dspecifier.sign,symbol\x3dspecifier.symbol,zero\x3dspecifier.zero,width\x3dspecifier.width,comma\x3dspecifier.comma,precision\x3dspecifier.precision,trim\x3dspecifier.trim,type\x3dspecifier.type;\x22n\x22\x3d\x3d\x3dtype?(comma\x3d!0,type\x3d\x22g\x22):formatTypes[type]||(void 0\x3d\x3d\x3dprecision\x26\x26(precision\x3d\n12),trim\x3d!0,type\x3d\x22g\x22);if(zero||\x220\x22\x3d\x3d\x3dfill\x26\x26\x22\\x3d\x22\x3d\x3d\x3dalign)zero\x3d!0,fill\x3d\x220\x22,align\x3d\x22\\x3d\x22;var prefix\x3d\x22$\x22\x3d\x3d\x3dsymbol?currencyPrefix:\x22#\x22\x3d\x3d\x3dsymbol\x26\x26/[boxX]/.test(type)?\x220\x22+type.toLowerCase():\x22\x22,suffix\x3d\x22$\x22\x3d\x3d\x3dsymbol?currencySuffix:/[%p]/.test(type)?percent:\x22\x22,formatType\x3dformatTypes[type],maybeSuffix\x3d/[defgprs%]/.test(type);precision\x3dvoid 0\x3d\x3d\x3dprecision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision));format.toString\x3dfunction(){return specifier+\x22\x22};return format}var group\x3d\nvoid 0\x3d\x3d\x3dlocale.grouping||void 0\x3d\x3d\x3dlocale.thousands?identity:formatGroup(map.call(locale.grouping,Number),locale.thousands+\x22\x22),currencyPrefix\x3dvoid 0\x3d\x3d\x3dlocale.currency?\x22\x22:locale.currency[0]+\x22\x22,currencySuffix\x3dvoid 0\x3d\x3d\x3dlocale.currency?\x22\x22:locale.currency[1]+\x22\x22,decimal\x3dvoid 0\x3d\x3d\x3dlocale.decimal?\x22.\x22:locale.decimal+\x22\x22,numerals\x3dvoid 0\x3d\x3d\x3dlocale.numerals?identity:formatNumerals(map.call(locale.numerals,String)),percent\x3dvoid 0\x3d\x3d\x3dlocale.percent?\x22%\x22:locale.percent+\x22\x22,minus\x3dvoid 0\x3d\x3d\x3dlocale.minus?\x22\u2212\x22:locale.minus+\n\x22\x22,nan\x3dvoid 0\x3d\x3d\x3dlocale.nan?\x22NaN\x22:locale.nan+\x22\x22;return{format:newFormat,formatPrefix:function(specifier,value$jscomp$0){var f\x3dnewFormat((specifier\x3dformatSpecifier(specifier),specifier.type\x3d\x22f\x22,specifier));specifier\x3d3*Math.max(-8,Math.min(8,Math.floor(exponent(value$jscomp$0)/3)));var k\x3dMath.pow(10,-specifier),prefix\x3dprefixes[8+specifier/3];return function(value){return f(k*value)+prefix}}}}function defaultLocale(definition){locale\x3dformatLocale(definition);exports.format\x3dlocale.format;exports.formatPrefix\x3d\nlocale.formatPrefix;return locale}var re\x3d/^(?:(.)?([\x3c\x3e\x3d^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;formatSpecifier.prototype\x3dFormatSpecifier.prototype;FormatSpecifier.prototype.toString\x3dfunction(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\x220\x22:\x22\x22)+(void 0\x3d\x3d\x3dthis.width?\x22\x22:Math.max(1,this.width|0))+(this.comma?\x22,\x22:\x22\x22)+(void 0\x3d\x3d\x3dthis.precision?\x22\x22:\x22.\x22+Math.max(0,this.precision|0))+(this.trim?\x22~\x22:\x22\x22)+this.type};var prefixExponent,formatTypes\x3d{\x22%\x22:function(x,p){return(100*\nx).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+\x22\x22},d:function(x){return 1E21\x3c\x3dMath.abs(x\x3dMath.round(x))?x.toLocaleString(\x22en\x22).replace(/,/g,\x22\x22):x.toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded(100*x,p)},r:formatRounded,s:function(x,p){var d\x3dformatDecimalParts(x,p);if(!d)return x+\x22\x22;var coefficient\x3d\nd[0];d\x3dd[1];d\x3dd-(prefixExponent\x3d3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1;var n\x3dcoefficient.length;return d\x3d\x3d\x3dn?coefficient:d\x3en?coefficient+Array(d-n+1).join(\x220\x22):0\x3cd?coefficient.slice(0,d)+\x22.\x22+coefficient.slice(d):\x220.\x22+Array(1-d).join(\x220\x22)+formatDecimalParts(x,Math.max(0,p+d-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}},map\x3dArray.prototype.map,prefixes\x3d\x22y z a f p n \xb5 m  k M G T P E Z Y\x22.split(\x22 \x22),locale;defaultLocale({thousands:\x22,\x22,\ngrouping:[3],currency:[\x22$\x22,\x22\x22]});exports.FormatSpecifier\x3dFormatSpecifier;exports.formatDefaultLocale\x3ddefaultLocale;exports.formatLocale\x3dformatLocale;exports.formatSpecifier\x3dformatSpecifier;exports.precisionFixed\x3dfunction(step){return Math.max(0,-exponent(Math.abs(step)))};exports.precisionPrefix\x3dfunction(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))-exponent(Math.abs(step)))};exports.precisionRound\x3dfunction(step,max){step\x3dMath.abs(step);max\x3dMath.abs(max)-step;\nreturn Math.max(0,exponent(max)-exponent(step))+1};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_time$dist$d3_time.js", true , "shadow$provide.module$node_modules$d3_time$dist$d3_time\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function newInterval(floori,offseti,count,field){function interval(date){return floori(date\x3d0\x3d\x3d\x3darguments.length?new Date:new Date(+date)),\ndate}interval.floor\x3dfunction(date){return floori(date\x3dnew Date(+date)),date};interval.ceil\x3dfunction(date){return floori(date\x3dnew Date(date-1)),offseti(date,1),floori(date),date};interval.round\x3dfunction(date){var d0\x3dinterval(date),d1\x3dinterval.ceil(date);return date-d0\x3cd1-date?d0:d1};interval.offset\x3dfunction(date,step){return offseti(date\x3dnew Date(+date),null\x3d\x3dstep?1:Math.floor(step)),date};interval.range\x3dfunction(start,stop,step){var range\x3d[],previous;start\x3dinterval.ceil(start);step\x3dnull\x3d\x3dstep?1:Math.floor(step);\nif(!(start\x3cstop\x26\x260\x3cstep))return range;do range.push(previous\x3dnew Date(+start)),offseti(start,step),floori(start);while(previous\x3cstart\x26\x26start\x3cstop);return range};interval.filter\x3dfunction(test){return newInterval(function(date){if(date\x3e\x3ddate)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date\x3e\x3ddate)if(0\x3estep)for(;0\x3e\x3d++step;)for(;offseti(date,-1),!test(date););else for(;0\x3c\x3d--step;)for(;offseti(date,1),!test(date););})};count\x26\x26(interval.count\x3dfunction(start,end){t0.setTime(+start);\nt1.setTime(+end);floori(t0);floori(t1);return Math.floor(count(t0,t1))},interval.every\x3dfunction(step){step\x3dMath.floor(step);return isFinite(step)\x26\x260\x3cstep?1\x3cstep?interval.filter(field?function(d){return 0\x3d\x3d\x3dfield(d)%step}:function(d){return 0\x3d\x3d\x3dinterval.count(0,d)%step}):interval:null});return interval}function weekday(i){return newInterval(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7);date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+7*step)},function(start,\nend){return(end-start-6E4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048E5})}function utcWeekday(i){return newInterval(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/6048E5})}var t0\x3dnew Date,t1\x3dnew Date,millisecond\x3dnewInterval(function(){},function(date,step){date.setTime(+date+step)},function(start,end){return end-start});millisecond.every\x3d\nfunction(k){k\x3dMath.floor(k);return isFinite(k)\x26\x260\x3ck?1\x3ck?newInterval(function(date){date.setTime(Math.floor(date/k)*k)},function(date,step){date.setTime(+date+step*k)},function(start,end){return(end-start)/k}):millisecond:null};var milliseconds\x3dmillisecond.range,second\x3dnewInterval(function(date){date.setTime(date-date.getMilliseconds())},function(date,step){date.setTime(+date+1E3*step)},function(start,end){return(end-start)/1E3},function(date){return date.getUTCSeconds()}),seconds\x3dsecond.range,minute\x3d\nnewInterval(function(date){date.setTime(date-date.getMilliseconds()-1E3*date.getSeconds())},function(date,step){date.setTime(+date+6E4*step)},function(start,end){return(end-start)/6E4},function(date){return date.getMinutes()}),minutes\x3dminute.range,hour\x3dnewInterval(function(date){date.setTime(date-date.getMilliseconds()-1E3*date.getSeconds()-6E4*date.getMinutes())},function(date,step){date.setTime(+date+36E5*step)},function(start,end){return(end-start)/36E5},function(date){return date.getHours()}),\nhours\x3dhour.range,day\x3dnewInterval(function(date){return date.setHours(0,0,0,0)},function(date,step){return date.setDate(date.getDate()+step)},function(start,end){return(end-start-6E4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864E5},function(date){return date.getDate()-1}),days\x3dday.range,sunday\x3dweekday(0),monday\x3dweekday(1),tuesday\x3dweekday(2),wednesday\x3dweekday(3),thursday\x3dweekday(4),friday\x3dweekday(5),saturday\x3dweekday(6),sundays\x3dsunday.range,mondays\x3dmonday.range,tuesdays\x3dtuesday.range,wednesdays\x3d\nwednesday.range,thursdays\x3dthursday.range,fridays\x3dfriday.range,saturdays\x3dsaturday.range,month\x3dnewInterval(function(date){date.setDate(1);date.setHours(0,0,0,0)},function(date,step){date.setMonth(date.getMonth()+step)},function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())},function(date){return date.getMonth()}),months\x3dmonth.range,year\x3dnewInterval(function(date){date.setMonth(0,1);date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+\nstep)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()});year.every\x3dfunction(k){return isFinite(k\x3dMath.floor(k))\x26\x260\x3ck?newInterval(function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k);date.setMonth(0,1);date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null};var years\x3dyear.range,utcMinute\x3dnewInterval(function(date){date.setUTCSeconds(0,0)},function(date,step){date.setTime(+date+6E4*step)},\nfunction(start,end){return(end-start)/6E4},function(date){return date.getUTCMinutes()}),utcMinutes\x3dutcMinute.range,utcHour\x3dnewInterval(function(date){date.setUTCMinutes(0,0,0)},function(date,step){date.setTime(+date+36E5*step)},function(start,end){return(end-start)/36E5},function(date){return date.getUTCHours()}),utcHours\x3dutcHour.range,utcDay\x3dnewInterval(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/864E5},\nfunction(date){return date.getUTCDate()-1}),utcDays\x3dutcDay.range,utcSunday\x3dutcWeekday(0),utcMonday\x3dutcWeekday(1),utcTuesday\x3dutcWeekday(2),utcWednesday\x3dutcWeekday(3),utcThursday\x3dutcWeekday(4),utcFriday\x3dutcWeekday(5),utcSaturday\x3dutcWeekday(6),utcSundays\x3dutcSunday.range,utcMondays\x3dutcMonday.range,utcTuesdays\x3dutcTuesday.range,utcWednesdays\x3dutcWednesday.range,utcThursdays\x3dutcThursday.range,utcFridays\x3dutcFriday.range,utcSaturdays\x3dutcSaturday.range,utcMonth\x3dnewInterval(function(date){date.setUTCDate(1);\ndate.setUTCHours(0,0,0,0)},function(date,step){date.setUTCMonth(date.getUTCMonth()+step)},function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())},function(date){return date.getUTCMonth()}),utcMonths\x3dutcMonth.range,utcYear\x3dnewInterval(function(date){date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()});\nutcYear.every\x3dfunction(k){return isFinite(k\x3dMath.floor(k))\x26\x260\x3ck?newInterval(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k);date.setUTCMonth(0,1);date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null};var utcYears\x3dutcYear.range;exports.timeDay\x3dday;exports.timeDays\x3ddays;exports.timeFriday\x3dfriday;exports.timeFridays\x3dfridays;exports.timeHour\x3dhour;exports.timeHours\x3dhours;exports.timeInterval\x3dnewInterval;exports.timeMillisecond\x3d\nmillisecond;exports.timeMilliseconds\x3dmilliseconds;exports.timeMinute\x3dminute;exports.timeMinutes\x3dminutes;exports.timeMonday\x3dmonday;exports.timeMondays\x3dmondays;exports.timeMonth\x3dmonth;exports.timeMonths\x3dmonths;exports.timeSaturday\x3dsaturday;exports.timeSaturdays\x3dsaturdays;exports.timeSecond\x3dsecond;exports.timeSeconds\x3dseconds;exports.timeSunday\x3dsunday;exports.timeSundays\x3dsundays;exports.timeThursday\x3dthursday;exports.timeThursdays\x3dthursdays;exports.timeTuesday\x3dtuesday;exports.timeTuesdays\x3dtuesdays;exports.timeWednesday\x3d\nwednesday;exports.timeWednesdays\x3dwednesdays;exports.timeWeek\x3dsunday;exports.timeWeeks\x3dsundays;exports.timeYear\x3dyear;exports.timeYears\x3dyears;exports.utcDay\x3dutcDay;exports.utcDays\x3dutcDays;exports.utcFriday\x3dutcFriday;exports.utcFridays\x3dutcFridays;exports.utcHour\x3dutcHour;exports.utcHours\x3dutcHours;exports.utcMillisecond\x3dmillisecond;exports.utcMilliseconds\x3dmilliseconds;exports.utcMinute\x3dutcMinute;exports.utcMinutes\x3dutcMinutes;exports.utcMonday\x3dutcMonday;exports.utcMondays\x3dutcMondays;exports.utcMonth\x3dutcMonth;\nexports.utcMonths\x3dutcMonths;exports.utcSaturday\x3dutcSaturday;exports.utcSaturdays\x3dutcSaturdays;exports.utcSecond\x3dsecond;exports.utcSeconds\x3dseconds;exports.utcSunday\x3dutcSunday;exports.utcSundays\x3dutcSundays;exports.utcThursday\x3dutcThursday;exports.utcThursdays\x3dutcThursdays;exports.utcTuesday\x3dutcTuesday;exports.utcTuesdays\x3dutcTuesdays;exports.utcWednesday\x3dutcWednesday;exports.utcWednesdays\x3dutcWednesdays;exports.utcWeek\x3dutcSunday;exports.utcWeeks\x3dutcSundays;exports.utcYear\x3dutcYear;exports.utcYears\x3dutcYears;\nObject.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_time$build$vega_time.js", true , "shadow$provide.module$node_modules$vega_time$build$vega_time\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_time$dist$d3_time\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-util\x22,\x22d3-time\x22,\x22d3-array\x22],factory):(global\x3d\n\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.d3,global.d3))})(this,function(exports,vegaUtil,d3Time,d3Array){function timeUnits(units){var u\x3dvegaUtil.array(units).slice(),m\x3d{};u.length||vegaUtil.error(\x22Missing time unit.\x22);u.forEach(function(unit){vegaUtil.hasOwnProperty(UNITS,unit)?m[unit]\x3d1:vegaUtil.error(\x22Invalid time unit: \x22+unit+\x22.\x22)});1\x3c(m.week||m.day?1:0)+(m.quarter||m.month||m.date?1:0)+(m.dayofyear?1:0)\x26\x26vegaUtil.error(\x22Incompatible time units: \x22+\nunits);u.sort(function(a,b){return UNITS[a]-UNITS[b]});return u}function localYear(y){t0.setFullYear(y);t0.setMonth(0);t0.setDate(1);t0.setHours(0,0,0,0);return t0}function localDayOfYear(d){return d3Time.timeDay.count(localYear(d.getFullYear())-1,d)}function localWeekNum(d){return d3Time.timeWeek.count(localYear(d.getFullYear())-1,d)}function localDate(y,m,d,H,M,S,L){return 0\x3c\x3dy\x26\x26100\x3ey?(m\x3dnew Date(-1,m,d,H,M,S,L),m.setFullYear(y),m):new Date(y,m,d,H,M,S,L)}function utcDayOfYear(d){var y\x3dDate.UTC(d.getUTCFullYear(),\n0,1);return d3Time.utcDay.count(y-1,d)}function utcWeekNum(d){var y\x3dDate.UTC(d.getUTCFullYear(),0,1);return d3Time.utcWeek.count(y-1,d)}function utcFirst(y){t0.setTime(Date.UTC(y,0,1));return t0.getUTCDay()}function utcDate(y,m,d,H,M,S,L){return 0\x3c\x3dy\x26\x26100\x3ey?(y\x3dnew Date(Date.UTC(-1,m,d,H,M,S,L)),y.setUTCFullYear(d.y),y):new Date(Date.UTC(y,m,d,H,M,S,L))}function floor(units,step,get,inv,newDate){var s\x3dstep||1,b\x3dvegaUtil.peek(units);step\x3dfunction(unit,p,key){key\x3dkey||unit;return getUnit(get[key],inv[key],\nunit\x3d\x3d\x3db\x26\x26s,p)};var t\x3dnew Date;units\x3dvegaUtil.toSet(units);var y\x3dunits.year?step(\x22year\x22):vegaUtil.constant(2012),m\x3dunits.month?step(\x22month\x22):units.quarter?step(\x22quarter\x22):vegaUtil.zero,d\x3dunits.week\x26\x26units.day?step(\x22day\x22,1,\x22weekday\x22):units.week?step(\x22week\x22,1):units.day?step(\x22day\x22,1):units.date?step(\x22date\x22,1):units.dayofyear?step(\x22dayofyear\x22,1):vegaUtil.one,H\x3dunits.hours?step(\x22hours\x22):vegaUtil.zero,M\x3dunits.minutes?step(\x22minutes\x22):vegaUtil.zero,S\x3dunits.seconds?step(\x22seconds\x22):vegaUtil.zero,L\x3dunits.milliseconds?\nstep(\x22milliseconds\x22):vegaUtil.zero;return function(v){t.setTime(+v);v\x3dy(t);return newDate(v,m(t),d(t,v),H(t),M(t),S(t),L(t))}}function getUnit(f,inv,step,phase){var u\x3d1\x3e\x3dstep?f:phase?function(d,y){return phase+step*Math.floor((f(d,y)-phase)/step)}:function(d,y){return step*Math.floor(f(d,y)/step)};return inv?function(d,y){return inv(u(d,y),y)}:u}function weekday(week,day,firstDay){return day+7*week-(firstDay+6)%7}var TIME_UNITS\x3d\x22year quarter month week date day dayofyear hours minutes seconds milliseconds\x22.split(\x22 \x22),\nUNITS\x3dTIME_UNITS.reduce(function(o,u,i){return o[u]\x3d1+i,o},{}),$jscomp$compprop39\x3d{},defaultSpecifiers\x3d($jscomp$compprop39.year\x3d\x22%Y \x22,$jscomp$compprop39.quarter\x3d\x22Q%q \x22,$jscomp$compprop39.month\x3d\x22%b \x22,$jscomp$compprop39.date\x3d\x22%d \x22,$jscomp$compprop39.week\x3d\x22W%U \x22,$jscomp$compprop39.day\x3d\x22%a \x22,$jscomp$compprop39.dayofyear\x3d\x22%j \x22,$jscomp$compprop39.hours\x3d\x22%H:00\x22,$jscomp$compprop39.minutes\x3d\x2200:%M\x22,$jscomp$compprop39.seconds\x3d\x22:%S\x22,$jscomp$compprop39.milliseconds\x3d\x22.%L\x22,$jscomp$compprop39[\x22year-month\x22]\x3d\x22%Y-%m \x22,\n$jscomp$compprop39[\x22year-month-date\x22]\x3d\x22%Y-%m-%d \x22,$jscomp$compprop39[\x22hours-minutes\x22]\x3d\x22%H:%M\x22,$jscomp$compprop39),t0\x3dnew Date;$jscomp$compprop39\x3d{};var localGet\x3d($jscomp$compprop39.year\x3dfunction(d){return d.getFullYear()},$jscomp$compprop39.quarter\x3dfunction(d){return Math.floor(d.getMonth()/3)},$jscomp$compprop39.month\x3dfunction(d){return d.getMonth()},$jscomp$compprop39.date\x3dfunction(d){return d.getDate()},$jscomp$compprop39.hours\x3dfunction(d){return d.getHours()},$jscomp$compprop39.minutes\x3dfunction(d){return d.getMinutes()},\n$jscomp$compprop39.seconds\x3dfunction(d){return d.getSeconds()},$jscomp$compprop39.milliseconds\x3dfunction(d){return d.getMilliseconds()},$jscomp$compprop39.dayofyear\x3dfunction(d){return localDayOfYear(d)},$jscomp$compprop39.week\x3dfunction(d){return localWeekNum(d)},$jscomp$compprop39.weekday\x3dfunction(d,y){return weekday(localWeekNum(d),d.getDay(),localYear(y).getDay())},$jscomp$compprop39.day\x3dfunction(d,y){return weekday(1,d.getDay(),localYear(y).getDay())},$jscomp$compprop39);$jscomp$compprop39\x3d{};var localInv\x3d\n($jscomp$compprop39.quarter\x3dfunction(q){return 3*q},$jscomp$compprop39.week\x3dfunction(w,y){return weekday(w,0,localYear(y).getDay())},$jscomp$compprop39);$jscomp$compprop39\x3d{};var utcGet\x3d($jscomp$compprop39.year\x3dfunction(d){return d.getUTCFullYear()},$jscomp$compprop39.quarter\x3dfunction(d){return Math.floor(d.getUTCMonth()/3)},$jscomp$compprop39.month\x3dfunction(d){return d.getUTCMonth()},$jscomp$compprop39.date\x3dfunction(d){return d.getUTCDate()},$jscomp$compprop39.hours\x3dfunction(d){return d.getUTCHours()},\n$jscomp$compprop39.minutes\x3dfunction(d){return d.getUTCMinutes()},$jscomp$compprop39.seconds\x3dfunction(d){return d.getUTCSeconds()},$jscomp$compprop39.milliseconds\x3dfunction(d){return d.getUTCMilliseconds()},$jscomp$compprop39.dayofyear\x3dfunction(d){return utcDayOfYear(d)},$jscomp$compprop39.week\x3dfunction(d){return utcWeekNum(d)},$jscomp$compprop39.day\x3dfunction(d,y){return weekday(1,d.getUTCDay(),utcFirst(y))},$jscomp$compprop39.weekday\x3dfunction(d,y){return weekday(utcWeekNum(d),d.getUTCDay(),utcFirst(y))},\n$jscomp$compprop39);$jscomp$compprop39\x3d{};var utcInv\x3d($jscomp$compprop39.quarter\x3dfunction(q){return 3*q},$jscomp$compprop39.week\x3dfunction(w,y){return weekday(w,0,utcFirst(y))},$jscomp$compprop39);$jscomp$compprop39\x3d{};var timeIntervals\x3d($jscomp$compprop39.year\x3dd3Time.timeYear,$jscomp$compprop39.quarter\x3dd3Time.timeMonth.every(3),$jscomp$compprop39.month\x3dd3Time.timeMonth,$jscomp$compprop39.week\x3dd3Time.timeWeek,$jscomp$compprop39.date\x3dd3Time.timeDay,$jscomp$compprop39.day\x3dd3Time.timeDay,$jscomp$compprop39.dayofyear\x3d\nd3Time.timeDay,$jscomp$compprop39.hours\x3dd3Time.timeHour,$jscomp$compprop39.minutes\x3dd3Time.timeMinute,$jscomp$compprop39.seconds\x3dd3Time.timeSecond,$jscomp$compprop39.milliseconds\x3dd3Time.timeMillisecond,$jscomp$compprop39);$jscomp$compprop39\x3d{};var utcIntervals\x3d($jscomp$compprop39.year\x3dd3Time.utcYear,$jscomp$compprop39.quarter\x3dd3Time.utcMonth.every(3),$jscomp$compprop39.month\x3dd3Time.utcMonth,$jscomp$compprop39.week\x3dd3Time.utcWeek,$jscomp$compprop39.date\x3dd3Time.utcDay,$jscomp$compprop39.day\x3dd3Time.utcDay,\n$jscomp$compprop39.dayofyear\x3dd3Time.utcDay,$jscomp$compprop39.hours\x3dd3Time.utcHour,$jscomp$compprop39.minutes\x3dd3Time.utcMinute,$jscomp$compprop39.seconds\x3dd3Time.utcSecond,$jscomp$compprop39.milliseconds\x3dd3Time.utcMillisecond,$jscomp$compprop39),Milli\x3d\x22year month date hours minutes seconds milliseconds\x22.split(\x22 \x22);$jscomp$compprop39\x3dMilli.slice(0,-1);var Minutes\x3d$jscomp$compprop39.slice(0,-1),Hours\x3dMinutes.slice(0,-1),Day\x3dHours.slice(0,-1),Month\x3d[\x22year\x22,\x22month\x22],Year\x3d[\x22year\x22],intervals\x3d[[$jscomp$compprop39,\n1,1E3],[$jscomp$compprop39,5,5E3],[$jscomp$compprop39,15,15E3],[$jscomp$compprop39,30,3E4],[Minutes,1,6E4],[Minutes,5,3E5],[Minutes,15,9E5],[Minutes,30,18E5],[Hours,1,36E5],[Hours,3,108E5],[Hours,6,216E5],[Hours,12,432E5],[Day,1,864E5],[[\x22year\x22,\x22week\x22],1,6048E5],[Month,1,2592E6],[Month,3,7776E6],[Year,1,31536E6]];exports.DATE\x3d\x22date\x22;exports.DAY\x3d\x22day\x22;exports.DAYOFYEAR\x3d\x22dayofyear\x22;exports.HOURS\x3d\x22hours\x22;exports.MILLISECONDS\x3d\x22milliseconds\x22;exports.MINUTES\x3d\x22minutes\x22;exports.MONTH\x3d\x22month\x22;exports.QUARTER\x3d\n\x22quarter\x22;exports.SECONDS\x3d\x22seconds\x22;exports.TIME_UNITS\x3dTIME_UNITS;exports.WEEK\x3d\x22week\x22;exports.YEAR\x3d\x22year\x22;exports.dayofyear\x3dfunction(d){return localDayOfYear(new Date(d))};exports.timeBin\x3dfunction(opt){var ext\x3dopt.extent;opt\x3dopt.maxbins||40;var target\x3dMath.abs(vegaUtil.span(ext))/opt,i$jscomp$0\x3dd3Array.bisector(function(i){return i[2]}).right(intervals,target);i$jscomp$0\x3d\x3d\x3dintervals.length?(target\x3dYear,ext\x3dd3Array.tickStep(ext[0]/31536E6,ext[1]/31536E6,opt)):i$jscomp$0?(i$jscomp$0\x3dintervals[target/\nintervals[i$jscomp$0-1][2]\x3cintervals[i$jscomp$0][2]/target?i$jscomp$0-1:i$jscomp$0],target\x3di$jscomp$0[0],ext\x3di$jscomp$0[1]):(target\x3dMilli,ext\x3dMath.max(d3Array.tickStep(ext[0],ext[1],opt),1));return{units:target,step:ext}};exports.timeFloor\x3dfunction(units,step){return floor(units,step||1,localGet,localInv,localDate)};exports.timeInterval\x3dfunction(unit){return timeIntervals[unit]};exports.timeOffset\x3dfunction(unit,date,step){return(unit\x3dtimeIntervals[unit])?unit.offset(date,step):void 0};exports.timeSequence\x3d\nfunction(unit,start,stop,step){return(unit\x3dtimeIntervals[unit])?unit.range(start,stop,step):void 0};exports.timeUnitSpecifier\x3dfunction(units,specifiers){specifiers\x3dvegaUtil.extend({},defaultSpecifiers,specifiers);units\x3dtimeUnits(units);var n\x3dunits.length,fmt\x3d\x22\x22,start,end;for(start\x3d0;start\x3cn;)for(end\x3dunits.length;end\x3estart;--end){var key\x3dunits.slice(start,end).join(\x22-\x22);if(null!\x3dspecifiers[key]){fmt+\x3dspecifiers[key];start\x3dend;break}}return fmt.trim()};exports.timeUnits\x3dtimeUnits;exports.utcFloor\x3dfunction(units,\nstep){return floor(units,step||1,utcGet,utcInv,utcDate)};exports.utcInterval\x3dfunction(unit){return utcIntervals[unit]};exports.utcOffset\x3dfunction(unit,date,step){return(unit\x3dutcIntervals[unit])?unit.offset(date,step):void 0};exports.utcSequence\x3dfunction(unit,start,stop,step){return(unit\x3dutcIntervals[unit])?unit.range(start,stop,step):void 0};exports.utcdayofyear\x3dfunction(d){return utcDayOfYear(new Date(d))};exports.utcweek\x3dfunction(d){return utcWeekNum(new Date(d))};exports.week\x3dfunction(d){return localWeekNum(new Date(d))};\nObject.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_time_format$dist$d3_time_format.js", true , "shadow$provide.module$node_modules$d3_time_format$dist$d3_time_format\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_time$dist$d3_time\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-time\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{},global.d3))})(this,function(exports,d3Time){function localDate(d){if(0\x3c\x3dd.y\x26\x26\n100\x3ed.y){var date\x3dnew Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);date.setFullYear(d.y);return date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0\x3c\x3dd.y\x26\x26100\x3ed.y){var date\x3dnew Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));date.setUTCFullYear(d.y);return date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y:y,m:m,d:d,H:0,M:0,S:0,L:0}}function formatLocale(locale){function newFormat(specifier,formats){return function(date){var string\x3d[],i\x3d-1,j\x3d0,n\x3dspecifier.length,\nc,format;for(date instanceof Date||(date\x3dnew Date(+date));++i\x3cn;)if(37\x3d\x3d\x3dspecifier.charCodeAt(i)){string.push(specifier.slice(j,i));null!\x3d(j\x3dpads[c\x3dspecifier.charAt(++i)])?c\x3dspecifier.charAt(++i):j\x3d\x22e\x22\x3d\x3d\x3dc?\x22 \x22:\x220\x22;if(format\x3dformats[c])c\x3dformat(date,j);string.push(c);j\x3di+1}string.push(specifier.slice(j,i));return string.join(\x22\x22)}}function newParse(specifier,Z){return function(string){var d\x3dnewDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+\x3d\x22\x22,0)!\x3dstring.length)return null;if(\x22Q\x22in d)return new Date(d.Q);\nif(\x22s\x22in d)return new Date(1E3*d.s+(\x22L\x22in d?d.L:0));!Z||\x22Z\x22in d||(d.Z\x3d0);\x22p\x22in d\x26\x26(d.H\x3dd.H%12+12*d.p);void 0\x3d\x3d\x3dd.m\x26\x26(d.m\x3d\x22q\x22in d?d.q:0);if(\x22V\x22in d){if(1\x3ed.V||53\x3cd.V)return null;\x22w\x22in d||(d.w\x3d1);if(\x22Z\x22in d){string\x3dutcDate(newDate(d.y,0,1));var day\x3dstring.getUTCDay();string\x3d4\x3cday||0\x3d\x3d\x3dday?d3Time.utcMonday.ceil(string):d3Time.utcMonday(string);string\x3dd3Time.utcDay.offset(string,7*(d.V-1));d.y\x3dstring.getUTCFullYear();d.m\x3dstring.getUTCMonth();d.d\x3dstring.getUTCDate()+(d.w+6)%7}else string\x3dlocalDate(newDate(d.y,\n0,1)),day\x3dstring.getDay(),string\x3d4\x3cday||0\x3d\x3d\x3dday?d3Time.timeMonday.ceil(string):d3Time.timeMonday(string),string\x3dd3Time.timeDay.offset(string,7*(d.V-1)),d.y\x3dstring.getFullYear(),d.m\x3dstring.getMonth(),d.d\x3dstring.getDate()+(d.w+6)%7}else if(\x22W\x22in d||\x22U\x22in d)\x22w\x22in d||(d.w\x3d\x22u\x22in d?d.u%7:\x22W\x22in d?1:0),day\x3d\x22Z\x22in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m\x3d0,d.d\x3d\x22W\x22in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7;return\x22Z\x22in d?(d.H+\x3dd.Z/100|0,d.M+\x3dd.Z%100,utcDate(d)):\nlocalDate(d)}}function parseSpecifier(d,specifier,string,j){for(var i\x3d0,n\x3dspecifier.length,m\x3dstring.length,c;i\x3cn;){if(j\x3e\x3dm)return-1;c\x3dspecifier.charCodeAt(i++);if(37\x3d\x3d\x3dc){if(c\x3dspecifier.charAt(i++),c\x3dparses[c in pads?specifier.charAt(i++):c],!c||0\x3e(j\x3dc(d,string,j)))return-1}else if(c!\x3dstring.charCodeAt(j++))return-1}return j}var locale_dateTime\x3dlocale.dateTime,locale_date\x3dlocale.date,locale_time\x3dlocale.time,locale_periods\x3dlocale.periods,locale_weekdays\x3dlocale.days,locale_shortWeekdays\x3dlocale.shortDays,\nlocale_months\x3dlocale.months,locale_shortMonths\x3dlocale.shortMonths,periodRe\x3dformatRe(locale_periods),periodLookup\x3dformatLookup(locale_periods),weekdayRe\x3dformatRe(locale_weekdays),weekdayLookup\x3dformatLookup(locale_weekdays),shortWeekdayRe\x3dformatRe(locale_shortWeekdays),shortWeekdayLookup\x3dformatLookup(locale_shortWeekdays),monthRe\x3dformatRe(locale_months),monthLookup\x3dformatLookup(locale_months),shortMonthRe\x3dformatRe(locale_shortMonths),shortMonthLookup\x3dformatLookup(locale_shortMonths),formats\x3d{a:function(d){return locale_shortWeekdays[d.getDay()]},\nA:function(d){return locale_weekdays[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(d){return locale_periods[+(12\x3c\x3dd.getHours())]},q:function(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,\nS:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,\x22%\x22:formatLiteralPercent},utcFormats\x3d{a:function(d){return locale_shortWeekdays[d.getUTCDay()]},A:function(d){return locale_weekdays[d.getUTCDay()]},b:function(d){return locale_shortMonths[d.getUTCMonth()]},B:function(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,\nf:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(d){return locale_periods[+(12\x3c\x3dd.getUTCHours())]},q:function(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,\nx:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,\x22%\x22:formatLiteralPercent},parses\x3d{a:function(d,string,i){return(string\x3dshortWeekdayRe.exec(string.slice(i)))?(d.w\x3dshortWeekdayLookup.get(string[0].toLowerCase()),i+string[0].length):-1},A:function(d,string,i){return(string\x3dweekdayRe.exec(string.slice(i)))?(d.w\x3dweekdayLookup.get(string[0].toLowerCase()),i+string[0].length):-1},b:function(d,string,i){return(string\x3dshortMonthRe.exec(string.slice(i)))?(d.m\x3dshortMonthLookup.get(string[0].toLowerCase()),\ni+string[0].length):-1},B:function(d,string,i){return(string\x3dmonthRe.exec(string.slice(i)))?(d.m\x3dmonthLookup.get(string[0].toLowerCase()),i+string[0].length):-1},c:function(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(d,string,i){return(string\x3dperiodRe.exec(string.slice(i)))?(d.p\x3dperiodLookup.get(string[0].toLowerCase()),\ni+string[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,\x22%\x22:parseLiteralPercent};formats.x\x3dnewFormat(locale_date,formats);formats.X\x3dnewFormat(locale_time,\nformats);formats.c\x3dnewFormat(locale_dateTime,formats);utcFormats.x\x3dnewFormat(locale_date,utcFormats);utcFormats.X\x3dnewFormat(locale_time,utcFormats);utcFormats.c\x3dnewFormat(locale_dateTime,utcFormats);return{format:function(specifier){var f\x3dnewFormat(specifier+\x3d\x22\x22,formats);f.toString\x3dfunction(){return specifier};return f},parse:function(specifier){var p\x3dnewParse(specifier+\x3d\x22\x22,!1);p.toString\x3dfunction(){return specifier};return p},utcFormat:function(specifier){var f\x3dnewFormat(specifier+\x3d\x22\x22,utcFormats);\nf.toString\x3dfunction(){return specifier};return f},utcParse:function(specifier){var p\x3dnewParse(specifier+\x3d\x22\x22,!0);p.toString\x3dfunction(){return specifier};return p}}}function pad(value,fill,width){var sign\x3d0\x3evalue?\x22-\x22:\x22\x22;value\x3d(sign?-value:value)+\x22\x22;var length\x3dvalue.length;return sign+(length\x3cwidth?Array(width-length+1).join(fill)+value:value)}function requote(s){return s.replace(requoteRe,\x22\\\\$\\x26\x22)}function formatRe(names){return new RegExp(\x22^(?:\x22+names.map(requote).join(\x22|\x22)+\x22)\x22,\x22i\x22)}function formatLookup(names){return new Map(names.map(function(name,\ni){return[name.toLowerCase(),i]}))}function parseWeekdayNumberSunday(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+1)))?(d.w\x3d+string[0],i+string[0].length):-1}function parseWeekdayNumberMonday(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+1)))?(d.u\x3d+string[0],i+string[0].length):-1}function parseWeekNumberSunday(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.U\x3d+string[0],i+string[0].length):-1}function parseWeekNumberISO(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,\ni+2)))?(d.V\x3d+string[0],i+string[0].length):-1}function parseWeekNumberMonday(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.W\x3d+string[0],i+string[0].length):-1}function parseFullYear(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+4)))?(d.y\x3d+string[0],i+string[0].length):-1}function parseYear(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.y\x3d+string[0]+(68\x3c+string[0]?1900:2E3),i+string[0].length):-1}function parseZone(d,string,i){return(string\x3d/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i,\ni+6)))?(d.Z\x3dstring[1]?0:-(string[2]+(string[3]||\x2200\x22)),i+string[0].length):-1}function parseQuarter(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+1)))?(d.q\x3d3*string[0]-3,i+string[0].length):-1}function parseMonthNumber(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.m\x3dstring[0]-1,i+string[0].length):-1}function parseDayOfMonth(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.d\x3d+string[0],i+string[0].length):-1}function parseDayOfYear(d,string,i){return(string\x3d\nnumberRe.exec(string.slice(i,i+3)))?(d.m\x3d0,d.d\x3d+string[0],i+string[0].length):-1}function parseHour24(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.H\x3d+string[0],i+string[0].length):-1}function parseMinutes(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.M\x3d+string[0],i+string[0].length):-1}function parseSeconds(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+2)))?(d.S\x3d+string[0],i+string[0].length):-1}function parseMilliseconds(d,string,i){return(string\x3d\nnumberRe.exec(string.slice(i,i+3)))?(d.L\x3d+string[0],i+string[0].length):-1}function parseMicroseconds(d,string,i){return(string\x3dnumberRe.exec(string.slice(i,i+6)))?(d.L\x3dMath.floor(string[0]/1E3),i+string[0].length):-1}function parseLiteralPercent(d,string,i){return(d\x3dpercentRe.exec(string.slice(i,i+1)))?i+d[0].length:-1}function parseUnixTimestamp(d,string,i){return(string\x3dnumberRe.exec(string.slice(i)))?(d.Q\x3d+string[0],i+string[0].length):-1}function parseUnixTimestampSeconds(d,string,i){return(string\x3d\nnumberRe.exec(string.slice(i)))?(d.s\x3d+string[0],i+string[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+d3Time.timeDay.count(d3Time.timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+\x22000\x22}function formatMonthNumber(d,\np){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){d\x3dd.getDay();return 0\x3d\x3d\x3dd?7:d}function formatWeekNumberSunday(d,p){return pad(d3Time.timeSunday.count(d3Time.timeYear(d)-1,d),p,2)}function dISO(d){var day\x3dd.getDay();return 4\x3c\x3dday||0\x3d\x3d\x3dday?d3Time.timeThursday(d):d3Time.timeThursday.ceil(d)}function formatWeekNumberISO(d,p){d\x3ddISO(d);return pad(d3Time.timeThursday.count(d3Time.timeYear(d),\nd)+(4\x3d\x3d\x3dd3Time.timeYear(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(d3Time.timeMonday.count(d3Time.timeYear(d)-1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){d\x3ddISO(d);return pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1E4,p,4)}function formatFullYearISO(d,p){var day\x3dd.getDay();d\x3d4\x3c\x3dday||0\x3d\x3d\x3dday?d3Time.timeThursday(d):d3Time.timeThursday.ceil(d);\nreturn pad(d.getFullYear()%1E4,p,4)}function formatZone(d){d\x3dd.getTimezoneOffset();return(0\x3cd?\x22-\x22:(d*\x3d-1,\x22+\x22))+pad(d/60|0,\x220\x22,2)+pad(d%60,\x220\x22,2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+d3Time.utcDay.count(d3Time.utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),\np,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+\x22000\x22}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){d\x3dd.getUTCDay();return 0\x3d\x3d\x3dd?7:d}function formatUTCWeekNumberSunday(d,p){return pad(d3Time.utcSunday.count(d3Time.utcYear(d)-1,d),p,2)}function UTCdISO(d){var day\x3dd.getUTCDay();return 4\x3c\x3d\nday||0\x3d\x3d\x3dday?d3Time.utcThursday(d):d3Time.utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){d\x3dUTCdISO(d);return pad(d3Time.utcThursday.count(d3Time.utcYear(d),d)+(4\x3d\x3d\x3dd3Time.utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(d3Time.utcMonday.count(d3Time.utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){d\x3dUTCdISO(d);return pad(d.getUTCFullYear()%\n100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1E4,p,4)}function formatUTCFullYearISO(d,p){var day\x3dd.getUTCDay();d\x3d4\x3c\x3dday||0\x3d\x3d\x3dday?d3Time.utcThursday(d):d3Time.utcThursday.ceil(d);return pad(d.getUTCFullYear()%1E4,p,4)}function formatUTCZone(){return\x22+0000\x22}function formatLiteralPercent(){return\x22%\x22}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1E3)}function defaultLocale(definition){locale$jscomp$0\x3dformatLocale(definition);\nexports.timeFormat\x3dlocale$jscomp$0.format;exports.timeParse\x3dlocale$jscomp$0.parse;exports.utcFormat\x3dlocale$jscomp$0.utcFormat;exports.utcParse\x3dlocale$jscomp$0.utcParse;return locale$jscomp$0}function formatIsoNative(date){return date.toISOString()}function parseIsoNative(string){string\x3dnew Date(string);return isNaN(string)?null:string}var pads\x3d{\x22-\x22:\x22\x22,_:\x22 \x22,0:\x220\x22},numberRe\x3d/^\\s*\\d+/,percentRe\x3d/^%/,requoteRe\x3d/[\\\\^$*+?|[\\]().{}]/g,locale$jscomp$0;defaultLocale({dateTime:\x22%x, %X\x22,date:\x22%-m/%-d/%Y\x22,time:\x22%-I:%M:%S %p\x22,\nperiods:[\x22AM\x22,\x22PM\x22],days:\x22Sunday Monday Tuesday Wednesday Thursday Friday Saturday\x22.split(\x22 \x22),shortDays:\x22Sun Mon Tue Wed Thu Fri Sat\x22.split(\x22 \x22),months:\x22January February March April May June July August September October November December\x22.split(\x22 \x22),shortMonths:\x22Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\x22.split(\x22 \x22)});var formatIso\x3dDate.prototype.toISOString?formatIsoNative:exports.utcFormat(\x22%Y-%m-%dT%H:%M:%S.%LZ\x22),parseIso\x3d+new Date(\x222000-01-01T00:00:00.000Z\x22)?parseIsoNative:exports.utcParse(\x22%Y-%m-%dT%H:%M:%S.%LZ\x22);\nexports.isoFormat\x3dformatIso;exports.isoParse\x3dparseIso;exports.timeFormatDefaultLocale\x3ddefaultLocale;exports.timeFormatLocale\x3dformatLocale;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_format$build$vega_format.js", true , "shadow$provide.module$node_modules$vega_format$build$vega_format\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$d3_format$dist$d3_format\x22),require(\x22module$node_modules$vega_time$build$vega_time\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_time_format$dist$d3_time_format\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports d3-array d3-format vega-time vega-util d3-time-format\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.d3,global.d3,global.vega,global.vega,global.d3))})(this,function(exports,d3Array,d3Format,vegaTime,vegaUtil,d3TimeFormat){function memoize(method){var cache\x3d{};return function(spec){return cache[spec]||(cache[spec]\x3dmethod(spec))}}function trimZeroes(numberFormat,decimalChar){return function(x){x\x3d\nnumberFormat(x);var dec\x3dx.indexOf(decimalChar);if(0\x3edec)return x;a:{var idx\x3dx.lastIndexOf(\x22e\x22);if(!(0\x3cidx)){for(idx\x3dx.length;--idx\x3edec;){var c\x3dx.charCodeAt(idx);if(48\x3c\x3dc\x26\x2657\x3e\x3dc){idx+\x3d1;break a}}idx\x3dvoid 0}}for(c\x3didx\x3cx.length?x.slice(idx):\x22\x22;--idx\x3edec;)if(\x220\x22!\x3d\x3dx[idx]){++idx;break}return x.slice(0,idx)+c}}function numberLocale(locale){var format\x3dmemoize(locale.format),formatPrefix\x3dlocale.formatPrefix;return{format:format,formatPrefix:formatPrefix,formatFloat:function(spec){spec\x3dd3Format.formatSpecifier(spec||\n\x22,\x22);if(null\x3d\x3dspec.precision){spec.precision\x3d12;switch(spec.type){case \x22%\x22:spec.precision-\x3d2;break;case \x22e\x22:--spec.precision}return trimZeroes(format(spec),format(\x22.1f\x22)(1)[1])}return format(spec)},formatSpan:function(start,stop,count,specifier){specifier\x3dd3Format.formatSpecifier(null\x3d\x3dspecifier?\x22,f\x22:specifier);count\x3dd3Array.tickStep(start,stop,count);start\x3dMath.max(Math.abs(start),Math.abs(stop));if(null\x3d\x3dspecifier.precision)switch(specifier.type){case \x22s\x22:return isNaN(stop\x3dd3Format.precisionPrefix(count,\nstart))||(specifier.precision\x3dstop),formatPrefix(specifier,start);case \x22\x22:case \x22e\x22:case \x22g\x22:case \x22p\x22:case \x22r\x22:isNaN(stop\x3dd3Format.precisionRound(count,start))||(specifier.precision\x3dstop-(\x22e\x22\x3d\x3d\x3dspecifier.type));break;case \x22f\x22:case \x22%\x22:isNaN(stop\x3dd3Format.precisionFixed(count))||(specifier.precision\x3dstop-2*(\x22%\x22\x3d\x3d\x3dspecifier.type))}return format(specifier)}}}function resetNumberFormatDefaultLocale(){return defaultNumberLocale\x3dnumberLocale({format:d3Format.format,formatPrefix:d3Format.formatPrefix})}function numberFormatLocale(definition){return numberLocale(d3Format.formatLocale(definition))}\nfunction numberFormatDefaultLocale(definition){return arguments.length?defaultNumberLocale\x3dnumberFormatLocale(definition):defaultNumberLocale}function timeMultiFormat(format,interval,spec){spec\x3dspec||{};vegaUtil.isObject(spec)||vegaUtil.error(\x22Invalid time multi-format specifier: \x22+spec);var second\x3dinterval(vegaTime.SECONDS),minute\x3dinterval(vegaTime.MINUTES),hour\x3dinterval(vegaTime.HOURS),day\x3dinterval(vegaTime.DATE),week\x3dinterval(vegaTime.WEEK),month\x3dinterval(vegaTime.MONTH),quarter\x3dinterval(vegaTime.QUARTER),\nyear\x3dinterval(vegaTime.YEAR),L\x3dformat(spec[vegaTime.MILLISECONDS]||\x22.%L\x22),S\x3dformat(spec[vegaTime.SECONDS]||\x22:%S\x22),M\x3dformat(spec[vegaTime.MINUTES]||\x22%I:%M\x22),H\x3dformat(spec[vegaTime.HOURS]||\x22%I %p\x22),d\x3dformat(spec[vegaTime.DATE]||spec[vegaTime.DAY]||\x22%a %d\x22),w\x3dformat(spec[vegaTime.WEEK]||\x22%b %d\x22),m\x3dformat(spec[vegaTime.MONTH]||\x22%B\x22),q\x3dformat(spec[vegaTime.QUARTER]||\x22%B\x22),y\x3dformat(spec[vegaTime.YEAR]||\x22%Y\x22);return function(date){return(second(date)\x3cdate?L:minute(date)\x3cdate?S:hour(date)\x3cdate?M:day(date)\x3c\ndate?H:month(date)\x3cdate?week(date)\x3cdate?d:w:year(date)\x3cdate?quarter(date)\x3cdate?m:q:y)(date)}}function timeLocale(locale){var timeFormat\x3dmemoize(locale.format),utcFormat\x3dmemoize(locale.utcFormat);return{timeFormat:function(spec){return vegaUtil.isString(spec)?timeFormat(spec):timeMultiFormat(timeFormat,vegaTime.timeInterval,spec)},utcFormat:function(spec){return vegaUtil.isString(spec)?utcFormat(spec):timeMultiFormat(utcFormat,vegaTime.utcInterval,spec)},timeParse:memoize(locale.parse),utcParse:memoize(locale.utcParse)}}\nfunction resetTimeFormatDefaultLocale(){return defaultTimeLocale\x3dtimeLocale({format:d3TimeFormat.timeFormat,parse:d3TimeFormat.timeParse,utcFormat:d3TimeFormat.utcFormat,utcParse:d3TimeFormat.utcParse})}function timeFormatLocale(definition){return timeLocale(d3TimeFormat.timeFormatLocale(definition))}function timeFormatDefaultLocale(definition){return arguments.length?defaultTimeLocale\x3dtimeFormatLocale(definition):defaultTimeLocale}function defaultLocale(numberSpec,timeSpec){var args\x3darguments.length;\nargs\x26\x262!\x3d\x3dargs\x26\x26vegaUtil.error(\x22defaultLocale expects either zero or two arguments.\x22);return args?createLocale(numberFormatDefaultLocale(numberSpec),timeFormatDefaultLocale(timeSpec)):createLocale(numberFormatDefaultLocale(),timeFormatDefaultLocale())}var defaultNumberLocale;resetNumberFormatDefaultLocale();var defaultTimeLocale;resetTimeFormatDefaultLocale();var createLocale\x3dfunction(number,time){return vegaUtil.extend({},number,time)};exports.defaultLocale\x3ddefaultLocale;exports.locale\x3dfunction(numberSpec,\ntimeSpec){numberSpec\x3dnumberSpec?numberFormatLocale(numberSpec):numberFormatDefaultLocale();timeSpec\x3dtimeSpec?timeFormatLocale(timeSpec):timeFormatDefaultLocale();return createLocale(numberSpec,timeSpec)};exports.numberFormatDefaultLocale\x3dnumberFormatDefaultLocale;exports.numberFormatLocale\x3dnumberFormatLocale;exports.resetDefaultLocale\x3dfunction(){resetNumberFormatDefaultLocale();resetTimeFormatDefaultLocale();return defaultLocale()};exports.resetNumberFormatDefaultLocale\x3dresetNumberFormatDefaultLocale;\nexports.resetTimeFormatDefaultLocale\x3dresetTimeFormatDefaultLocale;exports.timeFormatDefaultLocale\x3dtimeFormatDefaultLocale;exports.timeFormatLocale\x3dtimeFormatLocale;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_loader$build$vega_loader.js", true , "shadow$provide.module$node_modules$vega_loader$build$vega_loader\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){var Buffer\x3drequire(\x22module$node_modules$buffer$index\x22).Buffer;(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_dsv$dist$d3_dsv\x22),require(\x22module$node_modules$topojson_client$dist$topojson_client\x22),require(\x22module$node_modules$vega_format$build$vega_format\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-util\x22,\x22d3-dsv\x22,\x22topojson-client\x22,\x22vega-format\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.d3,global.topojson,global.vega))})(this,function(exports,vegaUtil,d3Dsv,topojsonClient,vegaFormat){function load(uri,options){var $jscomp$async$this\x3dthis,opt,url;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return $jscomp$generator$context.yield($jscomp$async$this.sanitize(uri,\noptions),2);opt\x3d$jscomp$generator$context.yieldResult;url\x3dopt.href;return $jscomp$generator$context.return(opt.localFile?$jscomp$async$this.file(url):$jscomp$async$this.http(url,options))})}function sanitize(uri,options){var $jscomp$async$this\x3dthis,fileAccess,result,isFile,loadFile,base,isAllowed,hasProtocol;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){options\x3dvegaUtil.extend({},$jscomp$async$this.options,options);fileAccess\x3d$jscomp$async$this.fileAccess;\nresult\x3d{href:null};isAllowed\x3dallowed_re.test(uri.replace(whitespace_re,\x22\x22));null!\x3duri\x26\x26\x22string\x22\x3d\x3d\x3dtypeof uri\x26\x26isAllowed||vegaUtil.error(\x22Sanitize failure, invalid URI: \x22+vegaUtil.stringValue(uri));hasProtocol\x3dprotocol_re.test(uri);(base\x3doptions.baseURL)\x26\x26!hasProtocol\x26\x26(uri.startsWith(\x22/\x22)||\x22/\x22\x3d\x3d\x3dbase[base.length-1]||(uri\x3d\x22/\x22+uri),uri\x3dbase+uri);loadFile\x3d(isFile\x3duri.startsWith(\x22file://\x22))||\x22file\x22\x3d\x3d\x3doptions.mode||\x22http\x22!\x3d\x3doptions.mode\x26\x26!hasProtocol\x26\x26fileAccess;isFile?uri\x3duri.slice(7):uri.startsWith(\x22//\x22)\x26\x26\n(\x22file\x22\x3d\x3d\x3doptions.defaultProtocol?(uri\x3duri.slice(2),loadFile\x3d!0):uri\x3d(options.defaultProtocol||\x22http\x22)+\x22:\x22+uri);Object.defineProperty(result,\x22localFile\x22,{value:!!loadFile});result.href\x3duri;options.target\x26\x26(result.target\x3doptions.target+\x22\x22);options.rel\x26\x26(result.rel\x3doptions.rel+\x22\x22);\x22image\x22\x3d\x3d\x3doptions.context\x26\x26options.crossOrigin\x26\x26(result.crossOrigin\x3doptions.crossOrigin+\x22\x22);return $jscomp$generator$context.return(result)})}function fileLoader(fs){return fs?function(filename){return new Promise(function(accept,\nreject){fs.readFile(filename,function(error,data){error?reject(error):accept(data)})})}:fileReject}function fileReject(){return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){vegaUtil.error(\x22No file system access.\x22);$jscomp$generator$context.jumpToEnd()})}function httpLoader(fetch){return fetch?function(url,options){var $jscomp$async$this\x3dthis,opt,type,response;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return opt\x3d\nvegaUtil.extend({},$jscomp$async$this.options.http,options),type\x3doptions\x26\x26options.response,$jscomp$generator$context.yield(fetch(url,opt),2);response\x3d$jscomp$generator$context.yieldResult;return $jscomp$generator$context.return(response.ok?vegaUtil.isFunction(response[type])?response[type]():response.text():vegaUtil.error(response.status+\x22\x22+response.statusText))})}:httpReject}function httpReject(){return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){vegaUtil.error(\x22No HTTP fetch method available.\x22);\n$jscomp$generator$context.jumpToEnd()})}function inferType(values,field){if(!values||!values.length)return\x22unknown\x22;for(var n\x3dvalues.length,m\x3dtypeTests.length,a\x3dtypeTests.map(function(_,i){return i+1}),i$jscomp$0\x3d0,t\x3d0,j\x3dvoid 0,value\x3dvoid 0;i$jscomp$0\x3cn;++i$jscomp$0)for(value\x3dfield?values[i$jscomp$0][field]:values[i$jscomp$0],j\x3d0;j\x3cm;++j)if(a[j]\x26\x26null!\x3dvalue\x26\x26value\x3d\x3d\x3dvalue\x26\x26!typeTests[j](value)\x26\x26(a[j]\x3d0,++t,t\x3d\x3d\x3dtypeTests.length))return\x22string\x22;return typeList[a.reduce(function(u,v){return 0\x3d\x3d\x3du?v:\nu},0)-1]}function inferTypes(data,fields){return fields.reduce(function(types,field){types[field]\x3dinferType(data,field);return types},{})}function delimitedFormat(delimiter){var parse\x3dfunction(data,format){var delim\x3d{delimiter:delimiter};return dsv(data,format?vegaUtil.extend(format,delim):delim)};parse.responseType\x3d\x22text\x22;return parse}function dsv(data,format){format.header\x26\x26(data\x3dformat.header.map(vegaUtil.stringValue).join(format.delimiter)+\x22\\n\x22+data);return d3Dsv.dsvFormat(format.delimiter).parse(data+\n\x22\x22)}function json(data,format){format\x3dformat\x26\x26format.property?vegaUtil.field(format.property):vegaUtil.identity;var JSCompiler_temp;if(JSCompiler_temp\x3dvegaUtil.isObject(data))JSCompiler_temp\x3d!(\x22function\x22\x3d\x3d\x3dtypeof Buffer\x26\x26vegaUtil.isFunction(Buffer.isBuffer)\x26\x26Buffer.isBuffer(data));return JSCompiler_temp?format(data):format(JSON.parse(data))}function topojson(data,format){var object;data\x3djson(data,format);if(format\x26\x26format.feature){var method\x3dtopojsonClient.feature;var property\x3dformat.feature}else if(format\x26\x26\nformat.mesh){method\x3dtopojsonClient.mesh;property\x3dformat.mesh;var filter\x3dfilters[format.filter]}else vegaUtil.error(\x22Missing TopoJSON feature or mesh parameter.\x22);return(object\x3d(object\x3ddata.objects[property])?method(data,object,filter):vegaUtil.error(\x22Invalid TopoJSON object: \x22+property))\x26\x26object.features||[object]}function formats(name,reader){return 1\x3carguments.length?(format$jscomp$0[name]\x3dreader,this):vegaUtil.hasOwnProperty(format$jscomp$0,name)?format$jscomp$0[name]:null}function parse$jscomp$0(data,\ntypes,timeParser,utcParser){if(data.length){var locale\x3dvegaFormat.timeFormatDefaultLocale();timeParser\x3dtimeParser||locale.timeParse;utcParser\x3dutcParser||locale.utcParse;locale\x3ddata.columns||Object.keys(data[0]);var j,m;\x22auto\x22\x3d\x3d\x3dtypes\x26\x26(types\x3dinferTypes(data,locale));locale\x3dObject.keys(types);var parsers\x3dlocale.map(function(field){var type\x3dtypes[field];if(type\x26\x26(type.startsWith(\x22date:\x22)||type.startsWith(\x22utc:\x22))){field\x3dtype.split(/:(.+)?/,2);type\x3dfield[1];if(\x22\x27\x22\x3d\x3d\x3dtype[0]\x26\x26\x22\x27\x22\x3d\x3d\x3dtype[type.length-1]||\n\x27\x22\x27\x3d\x3d\x3dtype[0]\x26\x26\x27\x22\x27\x3d\x3d\x3dtype[type.length-1])type\x3dtype.slice(1,-1);return(\x22utc\x22\x3d\x3d\x3dfield[0]?utcParser:timeParser)(type)}if(!typeParsers[type])throw Error(\x22Illegal format pattern: \x22+field+\x22:\x22+type);return typeParsers[type]});var i\x3d0;var n\x3ddata.length;for(m\x3dlocale.length;i\x3cn;++i){var datum\x3ddata[i];for(j\x3d0;j\x3cm;++j){var field$jscomp$0\x3dlocale[j];datum[field$jscomp$0]\x3dparsers[j](datum[field$jscomp$0])}}}}var protocol_re\x3d/^([A-Za-z]+:)?\\/\\//,allowed_re\x3d/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,\nwhitespace_re\x3d/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g,isNumber\x3dfunction(_){return!Number.isNaN(+_)\x26\x26!(_ instanceof Date)},typeParsers\x3d{boolean:vegaUtil.toBoolean,integer:vegaUtil.toNumber,number:vegaUtil.toNumber,date:vegaUtil.toDate,string:vegaUtil.toString,unknown:vegaUtil.identity},typeTests\x3d[function(_){return\x22true\x22\x3d\x3d\x3d_||\x22false\x22\x3d\x3d\x3d_||!0\x3d\x3d\x3d_||!1\x3d\x3d\x3d_},function(_){return isNumber(_)\x26\x26Number.isInteger(+_)},isNumber,function(_){return!Number.isNaN(Date.parse(_))}],typeList\x3d[\x22boolean\x22,\n\x22integer\x22,\x22number\x22,\x22date\x22];dsv.responseType\x3d\x22text\x22;json.responseType\x3d\x22json\x22;var filters\x3d{interior:function(a,b){return a!\x3d\x3db},exterior:function(a,b){return a\x3d\x3d\x3db}};topojson.responseType\x3d\x22json\x22;var format$jscomp$0\x3d{dsv:dsv,csv:delimitedFormat(\x22,\x22),tsv:delimitedFormat(\x22\\t\x22),json:json,topojson:topojson},loader\x3dfunction(fetch,fs){return function(options){return{options:options||{},sanitize:sanitize,load:load,fileAccess:!!fs,file:fileLoader(fs),http:httpLoader(fetch)}}}(\x22undefined\x22!\x3d\x3dtypeof fetch\x26\x26fetch,\nnull);exports.format\x3dformat$jscomp$0;exports.formats\x3dformats;exports.inferType\x3dinferType;exports.inferTypes\x3dinferTypes;exports.loader\x3dloader;exports.read\x3dfunction(data,schema,timeParser,utcParser){schema\x3dschema||{};var reader\x3dformats(schema.type||\x22json\x22);reader||vegaUtil.error(\x22Unknown data format type: \x22+schema.type);data\x3dreader(data,schema);schema.parse\x26\x26parse$jscomp$0(data,schema.parse,timeParser,utcParser);vegaUtil.hasOwnProperty(data,\x22columns\x22)\x26\x26delete data.columns;return data};exports.responseType\x3d\nfunction(type){return(type\x3dformats(type))\x26\x26type.responseType||\x22text\x22};exports.typeParsers\x3dtypeParsers;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_dataflow$build$vega_dataflow.js", true , "shadow$provide.module$node_modules$vega_dataflow$build$vega_dataflow\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_loader$build$vega_loader\x22),require(\x22module$node_modules$vega_format$build$vega_format\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-util\x22,\x22vega-loader\x22,\n\x22vega-format\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.vega,global.vega))})(this,function(exports,vegaUtil,vegaLoader,vegaFormat){function UniqueList(idFunc){var $\x3didFunc||vegaUtil.identity,list\x3d[],ids\x3d{};list.add\x3dfunction(_){var id\x3d$(_);ids[id]||(ids[id]\x3d1,list.push(_));return list};list.remove\x3dfunction(_){var id\x3d$(_);ids[id]\x26\x26(ids[id]\x3d0,_\x3dlist.indexOf(_),0\x3c\x3d_\x26\x26list.splice(_,1));return list};return list}function asyncCallback(df,\ncallback){var err;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return $jscomp$generator$context.setCatchFinallyBlocks(2),$jscomp$generator$context.yield(callback(df),4);if(2!\x3d$jscomp$generator$context.nextAddress)return $jscomp$generator$context.leaveTryBlock(0);err\x3d$jscomp$generator$context.enterCatchBlock();df.error(err);$jscomp$generator$context.jumpToEnd()})}function ingest(datum){datum\x3ddatum\x3d\x3d\x3dObject(datum)?\ndatum:{data:datum};if(!datum[TUPLE_ID_KEY]){var id\x3dTUPLE_ID++;datum[TUPLE_ID_KEY]\x3did}return datum}function rederive(t,d){for(var k in t)d[k]\x3dt[k];return d}function isChangeSet(v){return v\x26\x26v.constructor\x3d\x3d\x3dchangeset}function changeset(){var add\x3d[],rem\x3d[],mod\x3d[],remp\x3d[],modp\x3d[],clean\x3dnull,reflow\x3d!1;return{constructor:changeset,insert:function(t){t\x3dvegaUtil.array(t);for(var n\x3dt.length,i\x3d0;i\x3cn;++i)add.push(t[i]);return this},remove:function(t){var a\x3dvegaUtil.isFunction(t)?remp:rem;t\x3dvegaUtil.array(t);\nfor(var n\x3dt.length,i\x3d0;i\x3cn;++i)a.push(t[i]);return this},modify:function(t,field,value){field\x3d{field:field,value:vegaUtil.constant(value)};vegaUtil.isFunction(t)?(field.filter\x3dt,modp.push(field)):(field.tuple\x3dt,mod.push(field));return this},encode:function(t,set){vegaUtil.isFunction(t)?modp.push({filter:t,field:set}):mod.push({tuple:t,field:set});return this},clean:function(value){clean\x3dvalue;return this},reflow:function(){reflow\x3d!0;return this},pulse:function(pulse,tuples){function modify(t,f,v){v?\nt[f]\x3dv(t):pulse.encode\x3df;reflow||(out[t[TUPLE_ID_KEY]]\x3dt)}var cur\x3d{},out\x3d{},n;var i\x3d0;for(n\x3dtuples.length;i\x3cn;++i)cur[tuples[i][TUPLE_ID_KEY]]\x3d1;i\x3d0;for(n\x3drem.length;i\x3cn;++i){var t$jscomp$0\x3drem[i];cur[t$jscomp$0[TUPLE_ID_KEY]]\x3d-1}i\x3d0;for(n\x3dremp.length;i\x3cn;++i){var f$jscomp$0\x3dremp[i];tuples.forEach(function(t){f$jscomp$0(t)\x26\x26(cur[t[TUPLE_ID_KEY]]\x3d-1)})}i\x3d0;for(n\x3dadd.length;i\x3cn;++i){t$jscomp$0\x3dadd[i];var id\x3dt$jscomp$0[TUPLE_ID_KEY];cur[id]?cur[id]\x3d1:pulse.add.push(ingest(add[i]))}i\x3d0;for(n\x3dtuples.length;i\x3c\nn;++i)t$jscomp$0\x3dtuples[i],0\x3ecur[t$jscomp$0[TUPLE_ID_KEY]]\x26\x26pulse.rem.push(t$jscomp$0);i\x3d0;for(n\x3dmod.length;i\x3cn;++i){var m\x3dmod[i];t$jscomp$0\x3dm.tuple;f$jscomp$0\x3dm.field;id\x3dcur[t$jscomp$0[TUPLE_ID_KEY]];0\x3cid\x26\x26(modify(t$jscomp$0,f$jscomp$0,m.value),pulse.modifies(f$jscomp$0))}i\x3d0;for(n\x3dmodp.length;i\x3cn;++i)m\x3dmodp[i],f$jscomp$0\x3dm.filter,tuples.forEach(function(t){f$jscomp$0(t)\x26\x260\x3ccur[t[TUPLE_ID_KEY]]\x26\x26modify(t,m.field,m.value)}),pulse.modifies(m.field);if(reflow)pulse.mod\x3drem.length||remp.length?tuples.filter(function(t){return 0\x3c\ncur[t[TUPLE_ID_KEY]]}):tuples.slice();else for(id in out)pulse.mod.push(out[id]);(clean||null\x3d\x3dclean\x26\x26(rem.length||remp.length))\x26\x26pulse.clean(!0);return pulse}}}function Parameters(){Object.defineProperty(this,\x22_:mod:_\x22,{writable:!0,value:{}})}function Operator(init,update,params,react){this.id\x3d++OP_ID;this.value\x3dinit;this.qrank\x3dthis.rank\x3dthis.stamp\x3d-1;this.flags\x3d0;update\x26\x26(this._update\x3dupdate);params\x26\x26this.parameters(params,react)}function flag(bit){return function(state){var f\x3dthis.flags;if(0\x3d\x3d\x3d\narguments.length)return!!(f\x26bit);this.flags\x3dstate?f|bit:f\x26~bit;return this}}function EventStream(filter,apply,receive){this.id\x3d++STREAM_ID;this.value\x3dnull;receive\x26\x26(this.receive\x3dreceive);filter\x26\x26(this._filter\x3dfilter);apply\x26\x26(this._apply\x3dapply)}function stream$jscomp$0(filter,apply,receive){return new EventStream(filter,apply,receive)}function loadPending(df){var accept,pending\x3dnew Promise(function(a){return accept\x3da});pending.requests\x3d0;pending.done\x3dfunction(){0\x3d\x3d\x3d--pending.requests\x26\x26(df._pending\x3d\nnull,accept(df))};return df._pending\x3dpending}function onStream(df,stream,target,update,params,options){var opt\x3dvegaUtil.extend({},options,SKIP$1);vegaUtil.isFunction(target)||(target\x3dvegaUtil.constant(target));if(void 0\x3d\x3d\x3dupdate)params\x3dfunction(e){return df.touch(target(e))};else if(vegaUtil.isFunction(update)){var op\x3dnew Operator(null,update,params,!1);params\x3dfunction(e){op.evaluate(e);e\x3dtarget(e);var v\x3dop.value;isChangeSet(v)?df.pulse(e,v,options):df.update(e,v,opt)}}else params\x3dfunction(e){return df.update(target(e),\nupdate,opt)};stream.apply(params)}function onOperator(df,source,target,update,params,options){void 0\x3d\x3d\x3dupdate?source.targets().add(target):(options\x3doptions||{},update\x3dnew Operator(null,updater(target,update),params,!1),update.modified(options.force),update.rank\x3dsource.rank,source.targets().add(update),target\x26\x26(update.skip(!0),update.value\x3dtarget.value,update.targets().add(target),df.connect(target,[update])))}function updater(target,update){update\x3dvegaUtil.isFunction(update)?update:vegaUtil.constant(update);\nreturn target?function(_,pulse){_\x3dupdate(_,pulse);target.skip()||(target.skip(_!\x3d\x3dthis.value).value\x3d_);return _}:update}function Pulse(dataflow,stamp,encode){this.dataflow\x3ddataflow;this.stamp\x3dnull\x3d\x3dstamp?-1:stamp;this.add\x3d[];this.rem\x3d[];this.mod\x3d[];this.fields\x3dnull;this.encode\x3dencode||null}function materialize(data,filter){var out\x3d[];vegaUtil.visitArray(data,filter,function(_){return out.push(_)});return out}function filter$jscomp$0(pulse,flags){var map\x3d{};pulse.visit(flags,function(t){map[t[TUPLE_ID_KEY]]\x3d\n1});return function(t){return map[t[TUPLE_ID_KEY]]?null:t}}function addFilter(a,b){return a?function(t,i){return a(t,i)\x26\x26b(t,i)}:b}function MultiPulse(dataflow,stamp,pulses,encode){var n\x3dpulses.length,c\x3d0;this.dataflow\x3ddataflow;this.stamp\x3dstamp;this.fields\x3dnull;this.encode\x3dencode||null;this.pulses\x3dpulses;for(dataflow\x3d0;dataflow\x3cn;++dataflow)if(encode\x3dpulses[dataflow],encode.stamp\x3d\x3d\x3dstamp){if(encode.fields){var hash\x3dthis.fields||(this.fields\x3d{}),f;for(f in encode.fields)hash[f]\x3d1}encode.changed(this.ADD)\x26\x26\n(c|\x3dthis.ADD);encode.changed(this.REM)\x26\x26(c|\x3dthis.REM);encode.changed(this.MOD)\x26\x26(c|\x3dthis.MOD)}this.changes\x3dc}function reentrant(df){df.error(\x22Dataflow already running. Use runAsync() to chain invocations.\x22);return df}function singlePulse(p,s){if(s\x26\x26s.stamp\x3d\x3d\x3dp.stamp)return s;p\x3dp.fork();s\x26\x26s!\x3d\x3dStopPropagation\x26\x26(p.source\x3ds.source);return p}function Heap(cmp){var nodes\x3d[];return{clear:function(){return nodes\x3d[]},size:function(){return nodes.length},peek:function(){return nodes[0]},push:function(x){nodes.push(x);\nreturn siftdown(nodes,0,nodes.length-1,cmp)},pop:function(){var last\x3dnodes.pop();if(nodes.length){var item\x3dnodes[0];nodes[0]\x3dlast;last\x3dnodes;for(var idx\x3d0,start\x3didx,end\x3dlast.length,item$jscomp$0\x3dlast[idx],cidx\x3d(idx\x3c\x3c1)+1,ridx;cidx\x3cend;)ridx\x3dcidx+1,ridx\x3cend\x26\x260\x3c\x3dcmp(last[cidx],last[ridx])\x26\x26(cidx\x3dridx),last[idx]\x3dlast[cidx],idx\x3dcidx,cidx\x3d(idx\x3c\x3c1)+1;last[idx]\x3ditem$jscomp$0;siftdown(last,start,idx,cmp)}else item\x3dlast;return item}}}function siftdown(array,start,idx,cmp){for(var parent,pidx,item\x3darray[idx];idx\x3e\nstart;)if(pidx\x3didx-1\x3e\x3e1,parent\x3darray[pidx],0\x3ecmp(item,parent))array[idx]\x3dparent,idx\x3dpidx;else break;return array[idx]\x3ditem}function Dataflow(){this.logger(vegaUtil.logger());this.logLevel(vegaUtil.Error);this._rank\x3dthis._clock\x3d0;this._locale\x3dvegaFormat.defaultLocale();try{this._loader\x3dvegaLoader.loader()}catch(e){}this._touched\x3dUniqueList(vegaUtil.id);this._input\x3d{};this._pulse\x3dnull;this._heap\x3dHeap(function(a,b){return a.qrank-b.qrank});this._postrun\x3d[]}function logMethod(method){return function(){return this._log[method].apply(this,\narguments)}}function Transform(init,params){Operator.call(this,init,null,params)}function transform(type){type\x3dtype\x26\x26type.toLowerCase();return vegaUtil.hasOwnProperty(transforms,type)?transforms[type]:null}$jscomp.initSymbol();var TUPLE_ID_KEY\x3dSymbol(\x22vega_id\x22),TUPLE_ID\x3d1;Parameters.prototype\x3d{set:function(name,index,value,force){var v\x3dthis[name],mod\x3dthis[\x22_:mod:_\x22];if(null!\x3dindex\x26\x260\x3c\x3dindex){if(v[index]!\x3d\x3dvalue||force)v[index]\x3dvalue,mod[index+\x22:\x22+name]\x3d-1,mod[name]\x3d-1}else if(v!\x3d\x3dvalue||force)this[name]\x3d\nvalue,mod[name]\x3dvegaUtil.isArray(value)?1+value.length:-1;return this},modified:function(name,index){var mod\x3dthis[\x22_:mod:_\x22];if(!arguments.length){for(var k in mod)if(mod[k])return!0;return!1}if(vegaUtil.isArray(name)){for(k\x3d0;k\x3cname.length;++k)if(mod[name[k]])return!0;return!1}return null!\x3dindex\x26\x260\x3c\x3dindex?index+1\x3cmod[name]||!!mod[index+\x22:\x22+name]:!!mod[name]},clear:function(){this[\x22_:mod:_\x22]\x3d{};return this}};var OP_ID\x3d0,NO_PARAMS\x3dnew Parameters;Operator.prototype\x3d{targets:function(){return this._targets||\n(this._targets\x3dUniqueList(vegaUtil.id))},set:function(value){return this.value!\x3d\x3dvalue?(this.value\x3dvalue,1):0},skip:flag(1),modified:flag(2),parameters:function(params,react,initonly){var $jscomp$this\x3dthis;react\x3d!1!\x3d\x3dreact;var argval\x3dthis._argval\x3dthis._argval||new Parameters,argops\x3dthis._argops\x3dthis._argops||[],deps\x3d[],name$jscomp$0,n,i,add\x3dfunction(name,index,value){value instanceof Operator?(value!\x3d\x3d$jscomp$this\x26\x26(react\x26\x26value.targets().add($jscomp$this),deps.push(value)),argops.push({op:value,\nname:name,index:index})):argval.set(name,index,value)};for(name$jscomp$0 in params){var value$jscomp$0\x3dparams[name$jscomp$0];if(\x22pulse\x22\x3d\x3d\x3dname$jscomp$0)vegaUtil.array(value$jscomp$0).forEach(function(op){op instanceof Operator?op!\x3d\x3d$jscomp$this\x26\x26(op.targets().add($jscomp$this),deps.push(op)):vegaUtil.error(\x22Pulse parameters must be operator instances.\x22)}),this.source\x3dvalue$jscomp$0;else if(vegaUtil.isArray(value$jscomp$0))for(argval.set(name$jscomp$0,-1,Array(n\x3dvalue$jscomp$0.length)),i\x3d0;i\x3cn;++i)add(name$jscomp$0,\ni,value$jscomp$0[i]);else add(name$jscomp$0,-1,value$jscomp$0)}this.marshall().clear();initonly\x26\x26(argops.initonly\x3d!0);return deps},marshall:function(stamp){var argval\x3dthis._argval||NO_PARAMS,argops\x3dthis._argops,i;if(argops){var n\x3dargops.length;for(i\x3d0;i\x3cn;++i){var item\x3dargops[i];var op\x3ditem.op;var mod\x3dop.modified()\x26\x26op.stamp\x3d\x3d\x3dstamp;argval.set(item.name,item.index,op.value,mod)}if(argops.initonly){for(i\x3d0;i\x3cn;++i)item\x3dargops[i],item.op.targets().remove(this);this._update\x3dthis._argops\x3dnull}}return argval},\ndetach:function(){var argops\x3dthis._argops,n;if(argops){var i\x3d0;for(n\x3dargops.length;i\x3cn;++i){var item\x3dargops[i];item\x3ditem.op;item._targets\x26\x26item._targets.remove(this)}}},evaluate:function(pulse){var update\x3dthis._update;if(update){var params\x3dthis.marshall(pulse.stamp);update\x3dupdate.call(this,params,pulse);params.clear();if(update!\x3d\x3dthis.value)this.value\x3dupdate;else if(!this.modified())return pulse.StopPropagation}},run:function(pulse){if(pulse.stamp\x3cthis.stamp)return pulse.StopPropagation;if(this.skip()){this.skip(!1);\nvar rv\x3d0}else rv\x3dthis.evaluate(pulse);return this.pulse\x3drv||pulse}};var STREAM_ID\x3d0;EventStream.prototype\x3d{_filter:vegaUtil.truthy,_apply:vegaUtil.identity,targets:function(){return this._targets||(this._targets\x3dUniqueList(vegaUtil.id))},consume:function(_){if(!arguments.length)return!!this._consume;this._consume\x3d!!_;return this},receive:function(evt){if(this._filter(evt)){for(var val\x3dthis.value\x3dthis._apply(evt),trg\x3dthis._targets,n\x3dtrg?trg.length:0,i\x3d0;i\x3cn;++i)trg[i].receive(val);this._consume\x26\x26(evt.preventDefault(),\nevt.stopPropagation())}},filter:function(filter){filter\x3dstream$jscomp$0(filter);this.targets().add(filter);return filter},apply:function(apply){apply\x3dstream$jscomp$0(null,apply);this.targets().add(apply);return apply},merge:function(){var s\x3dstream$jscomp$0();this.targets().add(s);for(var i\x3d0,n\x3darguments.length;i\x3cn;++i)arguments[i].targets().add(s);return s},throttle:function(pause){var t\x3d-1;return this.filter(function(){var now\x3dDate.now();return now-t\x3epause?(t\x3dnow,1):0})},debounce:function(delay){var s\x3d\nstream$jscomp$0();this.targets().add(stream$jscomp$0(null,null,vegaUtil.debounce(delay,function(e){var df\x3de.dataflow;s.receive(e);df\x26\x26df.run\x26\x26df.run()})));return s},between:function(a,b){var active\x3d!1;a.targets().add(stream$jscomp$0(null,null,function(){return active\x3d!0}));b.targets().add(stream$jscomp$0(null,null,function(){return active\x3d!1}));return this.filter(function(){return active})},detach:function(){}};var SKIP$1\x3d{skip:!0},StopPropagation\x3d{};Pulse.prototype\x3d{StopPropagation:StopPropagation,\nADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(flags){return(new Pulse(this.dataflow)).init(this,flags)},clone:function(){var p\x3dthis.fork(7);p.add\x3dp.add.slice();p.rem\x3dp.rem.slice();p.mod\x3dp.mod.slice();p.source\x26\x26(p.source\x3dp.source.slice());return p.materialize(23)},addAll:function(){var p\x3dthis;p.source\x26\x26p.add!\x3d\x3dp.rem\x26\x26(p.rem.length||p.source.length!\x3d\x3dp.add.length)\x26\x26(p\x3d(new Pulse(this.dataflow)).init(this),p.add\x3dp.source,p.rem\x3d[]);return p},init:function(src,\nflags){this.stamp\x3dsrc.stamp;this.encode\x3dsrc.encode;!src.fields||flags\x2664||(this.fields\x3dsrc.fields);flags\x261?(this.addF\x3dsrc.addF,this.add\x3dsrc.add):(this.addF\x3dnull,this.add\x3d[]);flags\x262?(this.remF\x3dsrc.remF,this.rem\x3dsrc.rem):(this.remF\x3dnull,this.rem\x3d[]);flags\x264?(this.modF\x3dsrc.modF,this.mod\x3dsrc.mod):(this.modF\x3dnull,this.mod\x3d[]);flags\x2632?this.source\x3dthis.srcF\x3dnull:(this.srcF\x3dsrc.srcF,this.source\x3dsrc.source,src.cleans\x26\x26(this.cleans\x3dsrc.cleans));return this},runAfter:function(func){this.dataflow.runAfter(func)},\nchanged:function(flags){flags\x3dflags||7;return flags\x261\x26\x26this.add.length||flags\x262\x26\x26this.rem.length||flags\x264\x26\x26this.mod.length},reflow:function(fork){if(fork)return this.fork(7).reflow();fork\x3dthis.add.length;var src\x3dthis.source\x26\x26this.source.length;src\x26\x26src!\x3d\x3dfork\x26\x26(this.mod\x3dthis.source,fork\x26\x26this.filter(4,filter$jscomp$0(this,1)));return this},clean:function(value){return arguments.length?(this.cleans\x3d!!value,this):this.cleans},modifies:function(_){var hash\x3dthis.fields||(this.fields\x3d{});vegaUtil.isArray(_)?\n_.forEach(function(f){return hash[f]\x3d!0}):hash[_]\x3d!0;return this},modified:function(_,nomod){var fields\x3dthis.fields;return(nomod||this.mod.length)\x26\x26fields?arguments.length?vegaUtil.isArray(_)?_.some(function(f){return fields[f]}):fields[_]:!!fields:!1},filter:function(flags,filter){flags\x261\x26\x26(this.addF\x3daddFilter(this.addF,filter));flags\x262\x26\x26(this.remF\x3daddFilter(this.remF,filter));flags\x264\x26\x26(this.modF\x3daddFilter(this.modF,filter));flags\x2616\x26\x26(this.srcF\x3daddFilter(this.srcF,filter));return this},materialize:function(flags){flags\x3d\nflags||7;flags\x261\x26\x26this.addF\x26\x26(this.add\x3dmaterialize(this.add,this.addF),this.addF\x3dnull);flags\x262\x26\x26this.remF\x26\x26(this.rem\x3dmaterialize(this.rem,this.remF),this.remF\x3dnull);flags\x264\x26\x26this.modF\x26\x26(this.mod\x3dmaterialize(this.mod,this.modF),this.modF\x3dnull);flags\x2616\x26\x26this.srcF\x26\x26(this.source\x3dthis.source.filter(this.srcF),this.srcF\x3dnull);return this},visit:function(flags,visitor){if(flags\x2616)return vegaUtil.visitArray(this.source,this.srcF,visitor),this;flags\x261\x26\x26vegaUtil.visitArray(this.add,this.addF,visitor);flags\x26\n2\x26\x26vegaUtil.visitArray(this.rem,this.remF,visitor);flags\x264\x26\x26vegaUtil.visitArray(this.mod,this.modF,visitor);var src\x3dthis.source;flags\x268\x26\x26src\x26\x26(flags\x3dthis.add.length+this.mod.length,flags!\x3d\x3dsrc.length\x26\x26(flags?vegaUtil.visitArray(src,filter$jscomp$0(this,5),visitor):vegaUtil.visitArray(src,this.srcF,visitor)));return this}};vegaUtil.inherits(MultiPulse,Pulse,{fork:function(flags){var p\x3d(new Pulse(this.dataflow)).init(this,flags\x26this.NO_FIELDS);void 0!\x3d\x3dflags\x26\x26(flags\x26p.ADD\x26\x26this.visit(p.ADD,function(t){return p.add.push(t)}),\nflags\x26p.REM\x26\x26this.visit(p.REM,function(t){return p.rem.push(t)}),flags\x26p.MOD\x26\x26this.visit(p.MOD,function(t){return p.mod.push(t)}));return p},changed:function(flags){return this.changes\x26flags},modified:function(_){var fields\x3dthis.fields;return fields\x26\x26this.changes\x26this.MOD?vegaUtil.isArray(_)?_.some(function(f){return fields[f]}):fields[_]:0},filter:function(){vegaUtil.error(\x22MultiPulse does not support filtering.\x22)},materialize:function(){vegaUtil.error(\x22MultiPulse does not support materialization.\x22)},\nvisit:function(flags,visitor){var pulses\x3dthis.pulses,n\x3dpulses.length,i\x3d0;if(flags\x26this.SOURCE)for(;i\x3cn;++i)pulses[i].visit(flags,visitor);else for(;i\x3cn;++i)pulses[i].stamp\x3d\x3d\x3dthis.stamp\x26\x26pulses[i].visit(flags,visitor);return this}});var NO_OPT\x3d{skip:!1,force:!1};Dataflow.prototype\x3d{stamp:function(){return this._clock},loader:function(_){return arguments.length?(this._loader\x3d_,this):this._loader},locale:function(_){return arguments.length?(this._locale\x3d_,this):this._locale},logger:function(logger){return arguments.length?\n(this._log\x3dlogger,this):this._log},error:logMethod(\x22error\x22),warn:logMethod(\x22warn\x22),info:logMethod(\x22info\x22),debug:logMethod(\x22debug\x22),logLevel:logMethod(\x22level\x22),cleanThreshold:1E4,add:function(init,update,params,react){var shift\x3d1;init instanceof Operator||(init\x26\x26init.prototype instanceof Operator?init\x3dnew init:vegaUtil.isFunction(init)?init\x3dnew Operator(null,init):(shift\x3d0,init\x3dnew Operator(init,update)));this.rank(init);shift\x26\x26(react\x3dparams,params\x3dupdate);params\x26\x26this.connect(init,init.parameters(params,\nreact));this.touch(init);return init},connect:function(target,sources){for(var targetRank\x3dtarget.rank,n\x3dsources.length,i\x3d0;i\x3cn;++i)if(targetRank\x3csources[i].rank){this.rerank(target);break}},rank:function(op){op.rank\x3d++this._rank},rerank:function(op){for(var queue\x3d[op],cur,list,i;queue.length;)if(this.rank(cur\x3dqueue.pop()),list\x3dcur._targets)for(i\x3dlist.length;0\x3c\x3d--i;)queue.push(cur\x3dlist[i]),cur\x3d\x3d\x3dop\x26\x26vegaUtil.error(\x22Cycle detected in dataflow graph.\x22)},pulse:function(op,changeset,options){this.touch(op,\noptions||NO_OPT);options\x3dnew Pulse(this,this._clock+(this._pulse?0:1));var t\x3dop.pulse\x26\x26op.pulse.source||[];options.target\x3dop;this._input[op.id]\x3dchangeset.pulse(options,t);return this},touch:function(op,options){options\x3doptions||NO_OPT;this._pulse?this._enqueue(op):this._touched.add(op);options.skip\x26\x26op.skip(!0);return this},update:function(op,value,options){options\x3doptions||NO_OPT;(op.set(value)||options.force)\x26\x26this.touch(op,options);return this},changeset:changeset,ingest:function(target,data,format){data\x3d\nthis.parse(data,format);return this.pulse(target,this.changeset().insert(data))},parse:function(data,format){var locale\x3dthis.locale();return vegaLoader.read(data,format,locale.timeParse,locale.utcParse)},preload:function(target,url,format){var $jscomp$async$this\x3dthis,df,pending,res;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return df\x3d$jscomp$async$this,pending\x3ddf._pending||loadPending(df),pending.requests+\x3d1,$jscomp$generator$context.yield(df.request(url,\nformat),2);res\x3d$jscomp$generator$context.yieldResult;df.pulse(target,df.changeset().remove(vegaUtil.truthy).insert(res.data||[]));pending.done();return $jscomp$generator$context.return(res)})},request:function(url,format){var $jscomp$async$this\x3dthis,df,status,data,err$510;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:return df\x3d$jscomp$async$this,status\x3d0,$jscomp$generator$context.setCatchFinallyBlocks(2),\n$jscomp$generator$context.yield(df.loader().load(url,{context:\x22dataflow\x22,response:vegaLoader.responseType(format\x26\x26format.type)}),4);case 4:data\x3d$jscomp$generator$context.yieldResult;try{data\x3ddf.parse(data,format)}catch(err){status\x3d-2,df.warn(\x22Data ingestion failed\x22,url,err)}$jscomp$generator$context.leaveTryBlock(3);break;case 2:err$510\x3d$jscomp$generator$context.enterCatchBlock(),status\x3d-1,df.warn(\x22Loading failed\x22,url,err$510);case 3:return $jscomp$generator$context.return({data:data,status:status})}})},\nevents:function(source,type,filter,apply){var df\x3dthis,s\x3dstream$jscomp$0(filter,apply);filter\x3dfunction(e){e.dataflow\x3ddf;try{s.receive(e)}catch(error){df.error(error)}finally{df.run()}};source\x3d\x22string\x22\x3d\x3d\x3dtypeof source\x26\x26\x22undefined\x22!\x3d\x3dtypeof document?document.querySelectorAll(source):vegaUtil.array(source);apply\x3dsource.length;for(var i\x3d0;i\x3capply;++i)source[i].addEventListener(type,filter);return s},on:function(source,target,update,params,options){(source instanceof Operator?onOperator:onStream)(this,\nsource,target,update,params,options);return this},evaluate:function(encode,prerun,postrun){var $jscomp$async$this\x3dthis,df,async,stamp,count,op$jscomp$0,next,error,err,pr,i;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:df\x3d$jscomp$async$this;async\x3d[];if(df._pulse)return $jscomp$generator$context.return(reentrant(df));if(!df._pending){$jscomp$generator$context.jumpTo(2);break}return $jscomp$generator$context.yield(df._pending,\n2);case 2:if(!prerun){$jscomp$generator$context.jumpTo(4);break}return $jscomp$generator$context.yield(asyncCallback(df,prerun),4);case 4:if(!df._touched.length)return df.debug(\x22Dataflow invoked, but nothing to do.\x22),$jscomp$generator$context.return(df);stamp\x3d++df._clock;df._pulse\x3dnew Pulse(df,stamp,encode);df._touched.forEach(function(op){return df._enqueue(op,!0)});df._touched\x3dUniqueList(vegaUtil.id);count\x3d0;$jscomp$generator$context.setCatchFinallyBlocks(6);case 8:if(!(0\x3cdf._heap.size())){$jscomp$generator$context.leaveTryBlock(7);\nbreak}op$jscomp$0\x3ddf._heap.pop();if(op$jscomp$0.rank!\x3d\x3dop$jscomp$0.qrank){df._enqueue(op$jscomp$0,!0);$jscomp$generator$context.jumpTo(8);break}next\x3dop$jscomp$0.run(df._getPulse(op$jscomp$0,encode));if(!next.then){next.async\x26\x26(async.push(next.async),next\x3dStopPropagation);$jscomp$generator$context.jumpTo(10);break}return $jscomp$generator$context.yield(next,11);case 11:next\x3d$jscomp$generator$context.yieldResult;case 10:next!\x3d\x3dStopPropagation\x26\x26op$jscomp$0._targets\x26\x26op$jscomp$0._targets.forEach(function(op){return df._enqueue(op)});\n++count;$jscomp$generator$context.jumpTo(8);break;case 6:err\x3d$jscomp$generator$context.enterCatchBlock(),df._heap.clear(),error\x3derr;case 7:df._input\x3d{};df._pulse\x3dnull;df.debug(\x22Pulse \x22+stamp+\x22: \x22+count+\x22 operators\x22);error\x26\x26(df._postrun\x3d[],df.error(error));if(!df._postrun.length){$jscomp$generator$context.jumpTo(12);break}pr\x3ddf._postrun.sort(function(a,b){return b.priority-a.priority});df._postrun\x3d[];i\x3d0;case 13:if(!(i\x3cpr.length)){$jscomp$generator$context.jumpTo(12);break}return $jscomp$generator$context.yield(asyncCallback(df,\npr[i].callback),14);case 14:++i;$jscomp$generator$context.jumpTo(13);break;case 12:if(!postrun){$jscomp$generator$context.jumpTo(17);break}return $jscomp$generator$context.yield(asyncCallback(df,postrun),17);case 17:return async.length\x26\x26Promise.all(async).then(function(cb){return df.runAsync(null,function(){cb.forEach(function(f){try{f(df)}catch(err$512){df.error(err$512)}})})}),$jscomp$generator$context.return(df)}})},run:function(encode,prerun,postrun){return this._pulse?reentrant(this):(this.evaluate(encode,\nprerun,postrun),this)},runAsync:function(encode,prerun,postrun){var $jscomp$async$this\x3dthis,clear;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return $jscomp$async$this._running?$jscomp$generator$context.yield($jscomp$async$this._running,1):$jscomp$generator$context.jumpTo(3);clear\x3dfunction(){return $jscomp$async$this._running\x3dnull};($jscomp$async$this._running\x3d$jscomp$async$this.evaluate(encode,prerun,postrun)).then(clear,\nclear);return $jscomp$generator$context.return($jscomp$async$this._running)})},runAfter:function(callback,enqueue,priority){if(this._pulse||enqueue)this._postrun.push({priority:priority||0,callback:callback});else try{callback(this)}catch(err){this.error(err)}},_enqueue:function(op,force){var q\x3dop.stamp\x3cthis._clock;q\x26\x26(op.stamp\x3dthis._clock);if(q||force)op.qrank\x3dop.rank,this._heap.push(op)},_getPulse:function(op,encode){var s\x3dop.source,stamp\x3dthis._clock;return s\x26\x26vegaUtil.isArray(s)?new MultiPulse(this,\nstamp,s.map(function(_){return _.pulse}),encode):this._input[op.id]||singlePulse(this._pulse,s\x26\x26s.pulse)}};vegaUtil.inherits(Transform,Operator,{run:function(pulse){var $jscomp$this\x3dthis;if(pulse.stamp\x3cthis.stamp)return pulse.StopPropagation;var rv;this.skip()?this.skip(!1):rv\x3dthis.evaluate(pulse);rv\x3drv||pulse;rv.then?rv\x3drv.then(function(_){return $jscomp$this.pulse\x3d_}):rv!\x3d\x3dpulse.StopPropagation\x26\x26(this.pulse\x3drv);return rv},evaluate:function(pulse){var params\x3dthis.marshall(pulse.stamp);pulse\x3dthis.transform(params,\npulse);params.clear();return pulse},transform:function(){}});var transforms\x3d{};exports.Dataflow\x3dDataflow;exports.EventStream\x3dEventStream;exports.MultiPulse\x3dMultiPulse;exports.Operator\x3dOperator;exports.Parameters\x3dParameters;exports.Pulse\x3dPulse;exports.Transform\x3dTransform;exports.UniqueList\x3dUniqueList;exports.asyncCallback\x3dasyncCallback;exports.changeset\x3dchangeset;exports.definition\x3dfunction(type){return(type\x3dtransform(type))\x26\x26type.Definition||null};exports.derive\x3dfunction(t){return rederive(t,ingest({}))};\nexports.ingest\x3dingest;exports.isChangeSet\x3disChangeSet;exports.isTuple\x3dfunction(t){return!(!t||!t[TUPLE_ID_KEY])};exports.rederive\x3drederive;exports.replace\x3dfunction(t,d){d[TUPLE_ID_KEY]\x3dt[TUPLE_ID_KEY];return d};exports.stableCompare\x3dfunction(cmp,f){return cmp?f?function(a,b){return cmp(a,b)||f(a)[TUPLE_ID_KEY]-f(b)[TUPLE_ID_KEY]}:function(a,b){return cmp(a,b)||a[TUPLE_ID_KEY]-b[TUPLE_ID_KEY]}:null};exports.transform\x3dtransform;exports.transforms\x3dtransforms;exports.tupleid\x3dfunction(t){return t[TUPLE_ID_KEY]};\nObject.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_statistics$build$vega_statistics.js", true , "shadow$provide.module$node_modules$vega_statistics$build$vega_statistics\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_array$dist$d3_array\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-array\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.d3))})(this,function(exports,\nd3Array){function numbers(values,valueof){var index,$jscomp$iter$314,$jscomp$key$value,value$513,$jscomp$iter$313,value;return $jscomp.generator.createGenerator(numbers,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:if(null\x3d\x3dvalueof){$jscomp$generator$context.jumpTo(2);break}index\x3d-1;$jscomp$iter$314\x3d$jscomp.makeIterator(values);$jscomp$key$value\x3d$jscomp$iter$314.next();case 4:if($jscomp$key$value.done){$jscomp$generator$context.jumpTo(0);break}value$513\x3d\n$jscomp$key$value.value;value$513\x3dvalueof(value$513,++index,values);if(!(null!\x3dvalue$513\x26\x26\x22\x22!\x3d\x3dvalue$513\x26\x26(value$513\x3d+value$513)\x3e\x3dvalue$513)){$jscomp$generator$context.jumpTo(5);break}return $jscomp$generator$context.yield(value$513,5);case 5:$jscomp$key$value\x3d$jscomp$iter$314.next();$jscomp$generator$context.jumpTo(4);break;case 2:$jscomp$iter$313\x3d$jscomp.makeIterator(values),$jscomp$key$value\x3d$jscomp$iter$313.next();case 9:if($jscomp$key$value.done){$jscomp$generator$context.jumpTo(0);break}value\x3d\n$jscomp$key$value.value;if(!(null!\x3dvalue\x26\x26\x22\x22!\x3d\x3dvalue\x26\x26(value\x3d+value)\x3e\x3dvalue)){$jscomp$generator$context.jumpTo(10);break}return $jscomp$generator$context.yield(value,10);case 10:$jscomp$key$value\x3d$jscomp$iter$313.next(),$jscomp$generator$context.jumpTo(9)}})}function quantiles(array,p,f){var values\x3dFloat64Array.from(numbers(array,f));values.sort(d3Array.ascending);return p.map(function(_){return d3Array.quantileSorted(values,_)})}function quartiles(array,f){return quantiles(array,[.25,.5,.75],f)}\nfunction estimateBandwidth(array,f){var n\x3darray.length,d\x3dd3Array.deviation(array,f);array\x3dquartiles(array,f);return 1.06*(Math.min(d,(array[2]-array[0])/1.34)||d||Math.abs(array[0])||1)*Math.pow(n,-.2)}function smoothing(v,thresh){for(var n\x3dv.length,a\x3d0,b\x3d1,c,d;v[a]\x3d\x3d\x3dv[b];)++b;for(;b\x3cn;){for(c\x3db+1;v[b]\x3d\x3d\x3dv[c];)++c;if(v[b]-v[b-1]\x3cthresh){for(d\x3db+(a+c-b-b\x3e\x3e1);d\x3cb;)v[d++]\x3dv[b];for(;d\x3eb;)v[d--]\x3dv[a]}a\x3db;b\x3dc}return v}function sampleNormal(mean,stdev){mean\x3dmean||0;stdev\x3dnull\x3d\x3dstdev?1:stdev;if(nextSample\x3d\x3d\x3d\nnextSample){var x\x3dnextSample;nextSample\x3dNaN}else{do{x\x3d2*exports.random()-1;var y\x3d2*exports.random()-1;var rds\x3dx*x+y*y}while(0\x3d\x3d\x3drds||1\x3crds);rds\x3dMath.sqrt(-2*Math.log(rds)/rds);x*\x3drds;nextSample\x3dy*rds}return mean+x*stdev}function densityNormal(value,mean,stdev){stdev\x3dnull\x3d\x3dstdev?1:stdev;value\x3d(value-(mean||0))/stdev;return Math.exp(-.5*value*value)/(stdev*SQRT2PI)}function cumulativeNormal(value,mean,stdev){value\x3d(value-(mean||0))/(null\x3d\x3dstdev?1:stdev);mean\x3dMath.abs(value);37\x3cmean?mean\x3d0:(stdev\x3dMath.exp(-mean*\nmean/2),mean\x3d7.07106781186547\x3emean?stdev*((((((.0352624965998911*mean+.700383064443688)*mean+6.37396220353165)*mean+33.912866078383)*mean+112.079291497871)*mean+221.213596169931)*mean+220.206867912376)/(((((((.0883883476483184*mean+1.75566716318264)*mean+16.064177579207)*mean+86.7807322029461)*mean+296.564248779674)*mean+637.333633378831)*mean+793.826512519948)*mean+440.413735824752):stdev/(mean+1/(mean+2/(mean+3/(mean+4/(mean+.65)))))/2.506628274631);return 0\x3cvalue?1-mean:mean}function quantileNormal(p,\nmean,stdev){if(0\x3ep||1\x3cp)return NaN;p\x3d2*p-1;var w\x3d-Math.log((1-p)*(1+p));6.25\x3ew?(w-\x3d3.125,w\x3d1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+\n(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):16\x3ew?(w\x3dMath.sqrt(w)-3.25,w\x3d3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+\n(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):Number.isFinite(w)?(w\x3dMath.sqrt(w)-5,w\x3d4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+\n(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):w\x3dInfinity;return(mean||0)+(null\x3d\x3dstdev?1:stdev)*SQRT2*w*p}function gaussian(mean,stdev){var mu,sigma,dist\x3d{mean:function(_){return arguments.length?(mu\x3d_||0,dist):mu},stdev:function(_){return arguments.length?(sigma\x3dnull\x3d\x3d_?1:_,dist):sigma},sample:function(){return sampleNormal(mu,sigma)},pdf:function(value){return densityNormal(value,mu,sigma)},cdf:function(value){return cumulativeNormal(value,\nmu,sigma)},icdf:function(p){return quantileNormal(p,mu,sigma)}};return dist.mean(mean).stdev(stdev)}function sampleLogNormal(mean,stdev){stdev\x3dnull\x3d\x3dstdev?1:stdev;return Math.exp((mean||0)+sampleNormal()*stdev)}function densityLogNormal(value,mean,stdev){if(0\x3e\x3dvalue)return 0;stdev\x3dnull\x3d\x3dstdev?1:stdev;mean\x3d(Math.log(value)-(mean||0))/stdev;return Math.exp(-.5*mean*mean)/(stdev*SQRT2PI*value)}function cumulativeLogNormal(value,mean,stdev){return cumulativeNormal(Math.log(value),mean,stdev)}function quantileLogNormal(p,\nmean,stdev){return Math.exp(quantileNormal(p,mean,stdev))}function sampleUniform(min,max){null\x3d\x3dmax\x26\x26(max\x3dnull\x3d\x3dmin?1:min,min\x3d0);return min+(max-min)*exports.random()}function densityUniform(value,min,max){null\x3d\x3dmax\x26\x26(max\x3dnull\x3d\x3dmin?1:min,min\x3d0);return value\x3e\x3dmin\x26\x26value\x3c\x3dmax?1/(max-min):0}function cumulativeUniform(value,min,max){null\x3d\x3dmax\x26\x26(max\x3dnull\x3d\x3dmin?1:min,min\x3d0);return value\x3cmin?0:value\x3emax?1:(value-min)/(max-min)}function quantileUniform(p,min,max){null\x3d\x3dmax\x26\x26(max\x3dnull\x3d\x3dmin?1:min,min\x3d0);return 0\x3c\x3d\np\x26\x261\x3e\x3dp?min+p*(max-min):NaN}function ols(uX,uY,uXY,uX2){uX2-\x3duX*uX;uXY\x3d1E-24\x3eMath.abs(uX2)?0:(uXY-uX*uY)/uX2;return[uY-uXY*uX,uXY]}function points(data,x,y,sort){data\x3ddata.filter(function(d){var u\x3dx(d);d\x3dy(d);return null!\x3du\x26\x26(u\x3d+u)\x3e\x3du\x26\x26null!\x3dd\x26\x26(d\x3d+d)\x3e\x3dd});sort\x26\x26data.sort(function(a,b){return x(a)-x(b)});sort\x3ddata.length;var X\x3dnew Float64Array(sort),Y\x3dnew Float64Array(sort),i\x3d0,ux\x3d0,uy\x3d0,xv;data\x3d$jscomp.makeIterator(data);for(xv\x3ddata.next();!xv.done;xv\x3ddata.next()){var yv\x3dxv.value;X[i]\x3dxv\x3d+x(yv);\nY[i]\x3dyv\x3d+y(yv);++i;ux+\x3d(xv-ux)/i;uy+\x3d(yv-uy)/i}for(i\x3d0;i\x3csort;++i)X[i]-\x3dux,Y[i]-\x3duy;return[X,Y,ux,uy]}function visitPoints(data,x,y,callback){var i\x3d-1,u;data\x3d$jscomp.makeIterator(data);for(u\x3ddata.next();!u.done;u\x3ddata.next()){var v\x3du.value;u\x3dx(v);v\x3dy(v);null!\x3du\x26\x26(u\x3d+u)\x3e\x3du\x26\x26null!\x3dv\x26\x26(v\x3d+v)\x3e\x3dv\x26\x26callback(u,v,++i)}}function rSquared(data,x,y,uY,predict){var SSE\x3d0,SST\x3d0;visitPoints(data,x,y,function(dx,dy){dx\x3ddy-predict(dx);dy-\x3duY;SSE+\x3ddx*dx;SST+\x3ddy*dy});return 1-SSE/SST}function linear(data,x$jscomp$0,\ny){var X\x3d0,Y\x3d0,XY\x3d0,X2\x3d0,n\x3d0;visitPoints(data,x$jscomp$0,y,function(dx,dy){++n;X+\x3d(dx-X)/n;Y+\x3d(dy-Y)/n;XY+\x3d(dx*dy-XY)/n;X2+\x3d(dx*dx-X2)/n});var coef\x3dols(X,Y,XY,X2),predict\x3dfunction(x){return coef[0]+coef[1]*x};return{coef:coef,predict:predict,rSquared:rSquared(data,x$jscomp$0,y,Y,predict)}}function quad(data,x$jscomp$0,y){var $jscomp$destructuring$var412\x3d$jscomp.makeIterator(points(data,x$jscomp$0,y)),xv\x3d$jscomp$destructuring$var412.next().value,yv\x3d$jscomp$destructuring$var412.next().value,ux\x3d$jscomp$destructuring$var412.next().value,\nuy\x3d$jscomp$destructuring$var412.next().value,n\x3dxv.length,X3\x3d$jscomp$destructuring$var412\x3d0,X4\x3d0,XY\x3d0,X2Y\x3d0,i;for(i\x3d0;i\x3cn;){var dx\x3dxv[i];var dy\x3dyv[i++];var x2\x3ddx*dx;$jscomp$destructuring$var412+\x3d(x2-$jscomp$destructuring$var412)/i;X3+\x3d(x2*dx-X3)/i;X4+\x3d(x2*x2-X4)/i;XY+\x3d(dx*dy-XY)/i;X2Y+\x3d(x2*dy-X2Y)/i}xv\x3dX4-$jscomp$destructuring$var412*$jscomp$destructuring$var412;yv\x3d$jscomp$destructuring$var412*xv-X3*X3;var a\x3d(X2Y*$jscomp$destructuring$var412-XY*X3)/yv,b\x3d(XY*xv-X2Y*X3)/yv,c\x3d-a*$jscomp$destructuring$var412;\n$jscomp$destructuring$var412\x3dfunction(x){x-\x3dux;return a*x*x+b*x+c+uy};return{coef:[c-b*ux+a*ux*ux+uy,b-2*a*ux,a],predict:$jscomp$destructuring$var412,rSquared:rSquared(data,x$jscomp$0,y,uy,$jscomp$destructuring$var412)}}function uncenter(k,a,x,y){var z\x3dArray(k),i;for(i\x3d0;i\x3ck;++i)z[i]\x3d0;for(i\x3dk-1;0\x3c\x3di;--i){var v\x3da[i];var c\x3d1;z[i]+\x3dv;for(k\x3d1;k\x3c\x3di;++k)c*\x3d(i+1-k)/k,z[i-k]+\x3dv*Math.pow(x,k)*c}z[0]+\x3dy;return z}function gaussianElimination(matrix){var n\x3dmatrix.length-1,coef\x3d[],i,j,k;for(i\x3d0;i\x3cn;++i){var r\x3d\ni;for(j\x3di+1;j\x3cn;++j)Math.abs(matrix[i][j])\x3eMath.abs(matrix[i][r])\x26\x26(r\x3dj);for(k\x3di;k\x3cn+1;++k){var t\x3dmatrix[k][i];matrix[k][i]\x3dmatrix[k][r];matrix[k][r]\x3dt}for(j\x3di+1;j\x3cn;++j)for(k\x3dn;k\x3e\x3di;k--)matrix[k][j]-\x3dmatrix[k][i]*matrix[i][j]/matrix[i][i]}for(j\x3dn-1;0\x3c\x3dj;--j){t\x3d0;for(k\x3dj+1;k\x3cn;++k)t+\x3dmatrix[k][j]*coef[k];coef[j]\x3d(matrix[n][j]-t)/matrix[j][j]}return coef}exports.random\x3dMath.random;var SQRT2PI\x3dMath.sqrt(2*Math.PI),SQRT2\x3dMath.SQRT2,nextSample\x3dNaN,MIN_RADIANS\x3d.1*Math.PI/180;exports.bandwidthNRD\x3destimateBandwidth;\nexports.bin\x3dfunction(_){var maxb\x3d_.maxbins||20,base\x3d_.base||10,logb\x3dMath.log(base),div\x3d_.divide||[5,2],min\x3d_.extent[0],max\x3d_.extent[1],n,span\x3d_.span||max-min||Math.abs(min)||1;if(_.step)var step\x3d_.step;else if(_.steps){var v\x3dspan/maxb;var i\x3d0;for(n\x3d_.steps.length;i\x3cn\x26\x26_.steps[i]\x3cv;++i);step\x3d_.steps[Math.max(0,i-1)]}else{step\x3dMath.ceil(Math.log(maxb)/logb);var minstep\x3d_.minstep||0;for(step\x3dMath.max(minstep,Math.pow(base,Math.round(Math.log(span)/logb)-step));Math.ceil(span/step)\x3emaxb;)step*\x3dbase;i\x3d\n0;for(n\x3ddiv.length;i\x3cn;++i)v\x3dstep/div[i],v\x3e\x3dminstep\x26\x26span/v\x3c\x3dmaxb\x26\x26(step\x3dv)}v\x3dMath.log(step);maxb\x3dMath.pow(base,-(0\x3c\x3dv?0:~~(-v/logb)+1)-1);if(_.nice||void 0\x3d\x3d\x3d_.nice)v\x3dMath.floor(min/step+maxb)*step,min\x3dmin\x3cv?v-step:v,max\x3dMath.ceil(max/step)*step;return{start:min,stop:max\x3d\x3d\x3dmin?min+step:max,step:step}};exports.bootstrapCI\x3dfunction(array,samples,alpha,f){if(!array.length)return[void 0,void 0];array\x3dFloat64Array.from(numbers(array,f));f\x3darray.length;var a,i,mu;var j\x3d0;for(mu\x3dArray(samples);j\x3csamples;++j){for(i\x3d\na\x3d0;i\x3cf;++i)a+\x3darray[~~(exports.random()*f)];mu[j]\x3da/f}mu.sort(d3Array.ascending);return[d3Array.quantile(mu,alpha/2),d3Array.quantile(mu,1-alpha/2)]};exports.cumulativeLogNormal\x3dcumulativeLogNormal;exports.cumulativeNormal\x3dcumulativeNormal;exports.cumulativeUniform\x3dcumulativeUniform;exports.densityLogNormal\x3ddensityLogNormal;exports.densityNormal\x3ddensityNormal;exports.densityUniform\x3ddensityUniform;exports.dotbin\x3dfunction(array,step,smooth,f){f\x3df||function(_){return _};for(var n\x3darray.length,v\x3dnew Float64Array(n),\ni\x3d0,j\x3d1,a\x3df(array[0]),b\x3da,w\x3da+step,x;j\x3cn;++j){x\x3df(array[j]);if(x\x3e\x3dw){for(b\x3d(a+b)/2;i\x3cj;++i)v[i]\x3db;w\x3dx+step;a\x3dx}b\x3dx}for(b\x3d(a+b)/2;i\x3cj;++i)v[i]\x3db;return smooth?smoothing(v,step+step/4):v};exports.quantileLogNormal\x3dquantileLogNormal;exports.quantileNormal\x3dquantileNormal;exports.quantileUniform\x3dquantileUniform;exports.quantiles\x3dquantiles;exports.quartiles\x3dquartiles;exports.randomInteger\x3dfunction(min,max){null\x3d\x3dmax\x26\x26(max\x3dmin,min\x3d0);var a,b,d,dist\x3d{min:function(_){return arguments.length?(a\x3d_||0,d\x3db-a,\ndist):a},max:function(_){return arguments.length?(b\x3d_||0,d\x3db-a,dist):b},sample:function(){return a+Math.floor(d*exports.random())},pdf:function(x){return x\x3d\x3d\x3dMath.floor(x)\x26\x26x\x3e\x3da\x26\x26x\x3cb?1/d:0},cdf:function(x){x\x3dMath.floor(x);return x\x3ca?0:x\x3e\x3db?1:(x-a+1)/d},icdf:function(p){return 0\x3c\x3dp\x26\x261\x3e\x3dp?a-1+Math.floor(p*d):NaN}};return dist.min(min).max(max)};exports.randomKDE\x3dfunction(support,bandwidth){var kernel\x3dgaussian(),n\x3d0,dist\x3d{data:function(_){return arguments.length?(n\x3d(support\x3d_)?_.length:0,dist.bandwidth(bandwidth)):\nsupport},bandwidth:function(_){if(!arguments.length)return bandwidth;bandwidth\x3d_;!bandwidth\x26\x26support\x26\x26(bandwidth\x3destimateBandwidth(support));return dist},sample:function(){return support[~~(exports.random()*n)]+bandwidth*kernel.sample()},pdf:function(x){for(var y\x3d0,i\x3d0;i\x3cn;++i)y+\x3dkernel.pdf((x-support[i])/bandwidth);return y/bandwidth/n},cdf:function(x){for(var y\x3d0,i\x3d0;i\x3cn;++i)y+\x3dkernel.cdf((x-support[i])/bandwidth);return y/n},icdf:function(){throw Error(\x22KDE icdf not supported.\x22);}};return dist.data(support)};\nexports.randomLCG\x3dfunction(seed){return function(){seed\x3d(1103515245*seed+12345)%2147483647;return seed/2147483647}};exports.randomLogNormal\x3dfunction(mean,stdev){var mu,sigma,dist\x3d{mean:function(_){return arguments.length?(mu\x3d_||0,dist):mu},stdev:function(_){return arguments.length?(sigma\x3dnull\x3d\x3d_?1:_,dist):sigma},sample:function(){return sampleLogNormal(mu,sigma)},pdf:function(value){return densityLogNormal(value,mu,sigma)},cdf:function(value){return cumulativeLogNormal(value,mu,sigma)},icdf:function(p){return quantileLogNormal(p,\nmu,sigma)}};return dist.mean(mean).stdev(stdev)};exports.randomMixture\x3dfunction(dists,weights){var m\x3d0,w$jscomp$0,dist\x3d{weights:function(_){if(arguments.length){var x\x3dweights\x3d_||[],w\x3d[],sum\x3d0,i;for(i\x3d0;i\x3cm;++i)sum+\x3dw[i]\x3dnull\x3d\x3dx[i]?1:+x[i];for(i\x3d0;i\x3cm;++i)w[i]/\x3dsum;w$jscomp$0\x3dw;return dist}return weights},distributions:function(_){return arguments.length?(_?(m\x3d_.length,dists\x3d_):(m\x3d0,dists\x3d[]),dist.weights(weights)):dists},sample:function(){for(var r\x3dexports.random(),d\x3ddists[m-1],v\x3dw$jscomp$0[0],i\x3d\n0;i\x3cm-1;v+\x3dw$jscomp$0[++i])if(r\x3cv){d\x3ddists[i];break}return d.sample()},pdf:function(x){for(var p\x3d0,i\x3d0;i\x3cm;++i)p+\x3dw$jscomp$0[i]*dists[i].pdf(x);return p},cdf:function(x){for(var p\x3d0,i\x3d0;i\x3cm;++i)p+\x3dw$jscomp$0[i]*dists[i].cdf(x);return p},icdf:function(){throw Error(\x22Mixture icdf not supported.\x22);}};return dist.distributions(dists).weights(weights)};exports.randomNormal\x3dgaussian;exports.randomUniform\x3dfunction(min,max){var a,b,dist\x3d{min:function(_){return arguments.length?(a\x3d_||0,dist):a},max:function(_){return arguments.length?\n(b\x3dnull\x3d\x3d_?1:_,dist):b},sample:function(){return sampleUniform(a,b)},pdf:function(value){return densityUniform(value,a,b)},cdf:function(value){return cumulativeUniform(value,a,b)},icdf:function(p){return quantileUniform(p,a,b)}};null\x3d\x3dmax\x26\x26(max\x3dnull\x3d\x3dmin?1:min,min\x3d0);return dist.min(min).max(max)};exports.regressionExp\x3dfunction(data,x$jscomp$0,y){var $jscomp$destructuring$var410\x3d$jscomp.makeIterator(points(data,x$jscomp$0,y)),xv\x3d$jscomp$destructuring$var410.next().value;$jscomp$destructuring$var410.next();\nvar ux\x3d$jscomp$destructuring$var410.next().value;$jscomp$destructuring$var410\x3d$jscomp$destructuring$var410.next().value;var YL\x3d0,XY\x3d0,XYL\x3d0,X2Y\x3d0,n\x3d0,dx,ly,xy;visitPoints(data,x$jscomp$0,y,function(_,dy){dx\x3dxv[n++];ly\x3dMath.log(dy);xy\x3ddx*dy;YL+\x3d(dy*ly-YL)/n;XY+\x3d(xy-XY)/n;XYL+\x3d(xy*ly-XYL)/n;X2Y+\x3d(dx*xy-X2Y)/n});var $jscomp$destructuring$var411\x3d$jscomp.makeIterator(ols(XY/$jscomp$destructuring$var410,YL/$jscomp$destructuring$var410,XYL/$jscomp$destructuring$var410,X2Y/$jscomp$destructuring$var410)),\nc0\x3d$jscomp$destructuring$var411.next().value,c1\x3d$jscomp$destructuring$var411.next().value;$jscomp$destructuring$var411\x3dfunction(x){return Math.exp(c0+c1*(x-ux))};return{coef:[Math.exp(c0-c1*ux),c1],predict:$jscomp$destructuring$var411,rSquared:rSquared(data,x$jscomp$0,y,$jscomp$destructuring$var410,$jscomp$destructuring$var411)}};exports.regressionLinear\x3dlinear;exports.regressionLoess\x3dfunction(data,x$jscomp$0,y,bandwidth){y\x3d$jscomp.makeIterator(points(data,x$jscomp$0,y,!0));data\x3dy.next().value;var yv\x3d\ny.next().value;x$jscomp$0\x3dy.next().value;y\x3dy.next().value;var n\x3ddata.length,bw\x3dMath.max(2,~~(bandwidth*n));bandwidth\x3dnew Float64Array(n);for(var residuals\x3dnew Float64Array(n),robustWeights\x3d(new Float64Array(n)).fill(1),iter\x3d-1;2\x3e\x3d++iter;){for(var interval\x3d[0,bw-1],i\x3d0;i\x3cn;++i){for(var dx\x3ddata[i],i0\x3dinterval[0],i1\x3dinterval[1],W\x3d0,X\x3d0,Y\x3d0,XY\x3d0,X2\x3d0,denom\x3d1/Math.abs(data[dx-data[i0]\x3edata[i1]-dx?i0:i1]-dx||1);i0\x3c\x3di1;++i0){var xk\x3ddata[i0],yk\x3dyv[i0],x\x3dMath.abs(dx-xk)*denom,w\x3d(x\x3d1-x*x*x)*x*x*robustWeights[i0];\nx\x3dxk*w;W+\x3dw;X+\x3dx;Y+\x3dyk*w;XY+\x3dyk*x;X2+\x3dxk*x}W\x3d$jscomp.makeIterator(ols(X/W,Y/W,XY/W,X2/W));i1\x3dW.next().value;W\x3dW.next().value;bandwidth[i]\x3di1+W*dx;residuals[i]\x3dMath.abs(yv[i]-bandwidth[i]);dx\x3di+1;i1\x3ddata[dx];W\x3dinterval[0];X\x3dinterval[1]+1;if(!(X\x3e\x3ddata.length))for(;dx\x3eW\x26\x26data[X]-i1\x3c\x3di1-data[W];)interval[0]\x3d++W,interval[1]\x3dX,++X}if(2\x3d\x3d\x3diter)break;interval\x3dd3Array.median(residuals);if(1E-12\x3eMath.abs(interval))break;i\x3d0;for(i1\x3dvoid 0;i\x3cn;++i)dx\x3dresiduals[i]/(6*interval),robustWeights[i]\x3d1\x3c\x3ddx?1E-12:(i1\x3d\n1-dx*dx)*i1}yv\x3ddata.length;n\x3d[];residuals\x3dbw\x3d0;for(robustWeights\x3d[];bw\x3cyv;++bw)iter\x3ddata[bw]+x$jscomp$0,robustWeights[0]\x3d\x3d\x3diter?robustWeights[1]+\x3d(bandwidth[bw]-robustWeights[1])/++residuals:(residuals\x3d0,robustWeights[1]+\x3dy,robustWeights\x3d[iter,bandwidth[bw]],n.push(robustWeights));robustWeights[1]+\x3dy;return n};exports.regressionLog\x3dfunction(data,x$jscomp$0,y){var X\x3d0,Y\x3d0,XY\x3d0,X2\x3d0,n\x3d0;visitPoints(data,x$jscomp$0,y,function(dx,dy){++n;dx\x3dMath.log(dx);X+\x3d(dx-X)/n;Y+\x3d(dy-Y)/n;XY+\x3d(dx*dy-XY)/n;X2+\x3d(dx*\ndx-X2)/n});var coef\x3dols(X,Y,XY,X2),predict\x3dfunction(x){return coef[0]+coef[1]*Math.log(x)};return{coef:coef,predict:predict,rSquared:rSquared(data,x$jscomp$0,y,Y,predict)}};exports.regressionPoly\x3dfunction(data,x$jscomp$0,y$jscomp$0,order){if(1\x3d\x3d\x3dorder)return linear(data,x$jscomp$0,y$jscomp$0);if(2\x3d\x3d\x3dorder)return quad(data,x$jscomp$0,y$jscomp$0);var $jscomp$destructuring$var413\x3d$jscomp.makeIterator(points(data,x$jscomp$0,y$jscomp$0)),xv\x3d$jscomp$destructuring$var413.next().value,yv\x3d$jscomp$destructuring$var413.next().value,\nux\x3d$jscomp$destructuring$var413.next().value,uy\x3d$jscomp$destructuring$var413.next().value;$jscomp$destructuring$var413\x3dxv.length;var lhs\x3d[],rhs\x3d[],k\x3dorder+1,i,l,v;for(i\x3d0;i\x3ck;++i){for(v\x3dl\x3d0;l\x3c$jscomp$destructuring$var413;++l)v+\x3dMath.pow(xv[l],i)*yv[l];lhs.push(v);var c\x3dnew Float64Array(k);for(order\x3d0;order\x3ck;++order){for(v\x3dl\x3d0;l\x3c$jscomp$destructuring$var413;++l)v+\x3dMath.pow(xv[l],i+order);c[order]\x3dv}rhs.push(c)}rhs.push(lhs);var coef\x3dgaussianElimination(rhs);xv\x3dfunction(x){x-\x3dux;var y\x3duy+coef[0]+coef[1]*\nx+coef[2]*x*x;for(i\x3d3;i\x3ck;++i)y+\x3dcoef[i]*Math.pow(x,i);return y};return{coef:uncenter(k,coef,-ux,uy),predict:xv,rSquared:rSquared(data,x$jscomp$0,y$jscomp$0,uy,xv)}};exports.regressionPow\x3dfunction(data,x$jscomp$0,y){var X\x3d0,Y\x3d0,XY\x3d0,X2\x3d0,YS\x3d0,n\x3d0;visitPoints(data,x$jscomp$0,y,function(dx,dy){dx\x3dMath.log(dx);var ly\x3dMath.log(dy);++n;X+\x3d(dx-X)/n;Y+\x3d(ly-Y)/n;XY+\x3d(dx*ly-XY)/n;X2+\x3d(dx*dx-X2)/n;YS+\x3d(dy-YS)/n});var coef\x3dols(X,Y,XY,X2),predict\x3dfunction(x){return coef[0]*Math.pow(x,coef[1])};coef[0]\x3dMath.exp(coef[0]);\nreturn{coef:coef,predict:predict,rSquared:rSquared(data,x$jscomp$0,y,YS,predict)}};exports.regressionQuad\x3dquad;exports.sampleCurve\x3dfunction(f,extent,minSteps,maxSteps){minSteps\x3dminSteps||25;maxSteps\x3dMath.max(minSteps,maxSteps||200);var point\x3dfunction(x){return[x,f(x)]},minX\x3dextent[0],maxX\x3dextent[1],span\x3dmaxX-minX,stop\x3dspan/maxSteps;extent\x3d[point(minX)];var next\x3d[];if(minSteps\x3d\x3d\x3dmaxSteps){for(stop\x3d1;stop\x3cmaxSteps;++stop)extent.push(point(minX+stop/minSteps*span));extent.push(point(maxX));return extent}next.push(point(maxX));\nfor(maxSteps\x3dminSteps;0\x3c--maxSteps;)next.push(point(minX+maxSteps/minSteps*span));minSteps\x3dextent[0];for(minX\x3dnext[next.length-1];minX;)maxSteps\x3dpoint((minSteps[0]+minX[0])/2),maxSteps[0]-minSteps[0]\x3e\x3dstop\x26\x26Math.abs(Math.atan2(minX[1]-minSteps[1],minX[0]-minSteps[0])-Math.atan2(maxSteps[1]-minSteps[1],maxSteps[0]-minSteps[0]))\x3eMIN_RADIANS?next.push(maxSteps):(minSteps\x3dminX,extent.push(minX),next.pop()),minX\x3dnext[next.length-1];return extent};exports.sampleLogNormal\x3dsampleLogNormal;exports.sampleNormal\x3d\nsampleNormal;exports.sampleUniform\x3dsampleUniform;exports.setRandom\x3dfunction(r){exports.random\x3dr};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_transforms$build$vega_transforms.js", true , "shadow$provide.module$node_modules$vega_transforms$build$vega_transforms\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_statistics$build$vega_statistics\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$vega_time$build$vega_time\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-util vega-dataflow vega-statistics d3-array vega-time\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.vega,global.d3,global.vega))})(this,function(exports,vegaUtil,vegaDataflow,vegaStatistics,d3Array,vegaTime){function multikey(f){return function(x){for(var n\x3df.length,i\x3d1,k\x3dString(f[0](x));i\x3cn;++i)k+\x3d\x22|\x22+f[i](x);\nreturn k}}function groupkey(fields){return fields\x26\x26fields.length?1\x3d\x3d\x3dfields.length?fields[0]:multikey(fields):function(){return\x22\x22}}function measure(key,value){return function(out){return vegaUtil.extend({name:key,out:out||key},base_op,value)}}function compareIndex(a,b){return a.idx-b.idx}function resolve(agg){var map\x3d{};agg.forEach(function(a){return map[a.name]\x3da});var getreqs\x3dfunction(a){a.req\x26\x26a.req.forEach(function(key){map[key]||getreqs(map[key]\x3dAggregateOps[key]())})};agg.forEach(getreqs);return Object.values(map).sort(compareIndex)}\nfunction init$jscomp$0(){var $jscomp$this\x3dthis;this.missing\x3dthis.valid\x3d0;this._ops.forEach(function(op){return op.init($jscomp$this)})}function add$jscomp$0(v,t){var $jscomp$this\x3dthis;null\x3d\x3dv||\x22\x22\x3d\x3d\x3dv?++this.missing:v\x3d\x3d\x3dv\x26\x26(++this.valid,this._ops.forEach(function(op){return op.add($jscomp$this,v,t)}))}function rem$jscomp$0(v,t){var $jscomp$this\x3dthis;null\x3d\x3dv||\x22\x22\x3d\x3d\x3dv?--this.missing:v\x3d\x3d\x3dv\x26\x26(--this.valid,this._ops.forEach(function(op){return op.rem($jscomp$this,v,t)}))}function set$jscomp$0(t){var $jscomp$this\x3d\nthis;this._out.forEach(function(op){return t[op.out]\x3dop.value($jscomp$this)});return t}function compileMeasures(agg,field){function ctr(cell){this._ops\x3dops;this._out\x3dout;this.cell\x3dcell;this.init()}field\x3dfield||vegaUtil.identity;var ops\x3dresolve(agg),out\x3dagg.slice().sort(compareIndex);ctr.prototype.init\x3dinit$jscomp$0;ctr.prototype.add\x3dadd$jscomp$0;ctr.prototype.rem\x3drem$jscomp$0;ctr.prototype.set\x3dset$jscomp$0;ctr.prototype.get\x3dfield;ctr.fields\x3dagg.map(function(op){return op.out});return ctr}function TupleStore(key){this._key\x3d\nkey?vegaUtil.field(key):vegaDataflow.tupleid;this.reset()}function Aggregate(params){vegaDataflow.Transform.call(this,null,params);this._adds\x3d[];this._mods\x3d[];this._mlen\x3dthis._alen\x3d0;this._drop\x3d!0;this._cross\x3d!1;this._dims\x3d[];this._dnames\x3d[];this._measures\x3d[];this._countOnly\x3d!1;this._outputs\x3dthis._inputs\x3dthis._prev\x3dthis._counts\x3dnull}function Bin(params){vegaDataflow.Transform.call(this,null,params)}function SortedList(idFunc,source,input){var data\x3dsource||[],add\x3dinput||[],rem\x3d{},cnt\x3d0;return{add:function(t){return add.push(t)},\nremove:function(t){return rem[idFunc(t)]\x3d++cnt},size:function(){return data.length},data:function(compare,resort){cnt\x26\x26(data\x3ddata.filter(function(t){return!rem[idFunc(t)]}),rem\x3d{},cnt\x3d0);resort\x26\x26compare\x26\x26data.sort(compare);add.length\x26\x26(data\x3dcompare?vegaUtil.merge(compare,data,add.sort(compare)):data.concat(add),add\x3d[]);return data}}}function Collect(params){vegaDataflow.Transform.call(this,[],params)}function Compare(params){vegaDataflow.Operator.call(this,null,update$jscomp$0,params)}function update$jscomp$0(_){return this.value\x26\x26\n!_.modified()?this.value:vegaUtil.compare(_.fields,_.orders)}function CountPattern(params){vegaDataflow.Transform.call(this,null,params)}function Cross(params){vegaDataflow.Transform.call(this,null,params)}function parse(def,data){var func\x3ddef[\x22function\x22];vegaUtil.hasOwnProperty(Distributions,func)||vegaUtil.error(\x22Unknown distribution function: \x22+func);func\x3dDistributions[func]();for(var name in def)if(\x22field\x22\x3d\x3d\x3dname)func.data((def.from||data()).map(def[name]));else if(\x22distributions\x22\x3d\x3d\x3dname)func[name](def[name].map(function(_){return parse(_,\ndata)}));else if(\x22function\x22\x3d\x3d\x3dtypeof func[name])func[name](def[name]);return func}function Density(params){vegaDataflow.Transform.call(this,null,params)}function source$jscomp$0(pulse){return function(){return pulse.materialize(pulse.SOURCE).source}}function fieldNames(fields,as){return fields?fields.map(function(f,i){return as[i]||vegaUtil.accessorName(f)}):null}function partition(data,groupby,field){var groups\x3d[],get\x3dfunction(f){return f(t)},n;if(null\x3d\x3dgroupby)groups.push(data.map(field));else{var map\x3d\n{};var i\x3d0;for(n\x3ddata.length;i\x3cn;++i){var t\x3ddata[i];var k\x3dgroupby.map(get);var g\x3dmap[k];g||(map[k]\x3dg\x3d[],g.dims\x3dk,groups.push(g));g.push(field(t))}}return groups}function DotBin(params){vegaDataflow.Transform.call(this,null,params)}function Expression(params){vegaDataflow.Operator.call(this,null,update$1,params);this.modified(!0)}function update$1(_){var expr\x3d_.expr;return this.value\x26\x26!_.modified(\x22expr\x22)?this.value:vegaUtil.accessor(function(datum){return expr(datum,_)},vegaUtil.accessorFields(expr),\nvegaUtil.accessorName(expr))}function Extent(params){vegaDataflow.Transform.call(this,[void 0,void 0],params)}function Subflow(pulse,parent){vegaDataflow.Operator.call(this,pulse);this.parent\x3dparent;this.count\x3d0}function Facet(params){vegaDataflow.Transform.call(this,{},params);this._keys\x3dvegaUtil.fastmap();var a\x3dthis._targets\x3d[];a.active\x3d0;a.forEach\x3dfunction(f){for(var i\x3d0,n\x3da.active;i\x3cn;++i)f(a[i],i,a)}}function Field(params){vegaDataflow.Operator.call(this,null,update$2,params)}function update$2(_){return this.value\x26\x26\n!_.modified()?this.value:vegaUtil.isArray(_.name)?vegaUtil.array(_.name).map(function(f){return vegaUtil.field(f)}):vegaUtil.field(_.name,_.as)}function Filter(params){vegaDataflow.Transform.call(this,vegaUtil.fastmap(),params)}function Flatten(params){vegaDataflow.Transform.call(this,[],params)}function Fold(params){vegaDataflow.Transform.call(this,[],params)}function Formula(params){vegaDataflow.Transform.call(this,null,params)}function Generate(params){vegaDataflow.Transform.call(this,[],params)}\nfunction Impute(params){vegaDataflow.Transform.call(this,[],params)}function getValue(_){var m\x3d_.method||Methods.value;if(null\x3d\x3dMethods[m])vegaUtil.error(\x22Unrecognized imputation method: \x22+m);else{if(m\x3d\x3d\x3dMethods.value){var v\x3dvoid 0!\x3d\x3d_.value?_.value:0;return function(){return v}}return Methods[m]}}function getField(_){var f\x3d_.field;return function(t){return t?f(t):NaN}}function partition$1(data,groupby,key,keyvals){var get\x3dfunction(f){return f(t)},groups\x3d[];keyvals\x3dkeyvals?keyvals.slice():[];var kMap\x3d\n{},gMap\x3d{},group,n;keyvals.forEach(function(k,i){return kMap[k]\x3di+1});var i$jscomp$0\x3d0;for(n\x3ddata.length;i$jscomp$0\x3cn;++i$jscomp$0){var t\x3ddata[i$jscomp$0];var gVals\x3dkey(t);var j\x3dkMap[gVals]||(kMap[gVals]\x3dkeyvals.push(gVals));var gKey\x3d(gVals\x3dgroupby?groupby.map(get):Empty)+\x22\x22;(group\x3dgMap[gKey])||(group\x3dgMap[gKey]\x3d[],groups.push(group),group.values\x3dgVals);group[j-1]\x3dt}groups.domain\x3dkeyvals;return groups}function JoinAggregate(params){Aggregate.call(this,params)}function KDE(params){vegaDataflow.Transform.call(this,\nnull,params)}function Key(params){vegaDataflow.Operator.call(this,null,update$3,params)}function update$3(_){return this.value\x26\x26!_.modified()?this.value:vegaUtil.key(_.fields,_.flat)}function Load(params){vegaDataflow.Transform.call(this,[],params);this._pending\x3dnull}function stop$jscomp$0(_){return _.modified(\x22async\x22)\x26\x26!(_.modified(\x22values\x22)||_.modified(\x22url\x22)||_.modified(\x22format\x22))}function output$jscomp$0(op,pulse,data){data.forEach(vegaDataflow.ingest);pulse\x3dpulse.fork(pulse.NO_FIELDS\x26pulse.NO_SOURCE);\npulse.rem\x3dop.value;op.value\x3dpulse.source\x3dpulse.add\x3ddata;op._pending\x3dnull;pulse.rem.length\x26\x26pulse.clean(!0);return pulse}function Lookup(params){vegaDataflow.Transform.call(this,{},params)}function MultiExtent(params){vegaDataflow.Operator.call(this,null,update$4,params)}function update$4(_){if(this.value\x26\x26!_.modified())return this.value;_\x3d_.extents;var n\x3d_.length,min\x3dInfinity,max\x3d-Infinity,i;for(i\x3d0;i\x3cn;++i){var e\x3d_[i];e[0]\x3cmin\x26\x26(min\x3de[0]);e[1]\x3emax\x26\x26(max\x3de[1])}return[min,max]}function MultiValues(params){vegaDataflow.Operator.call(this,\nnull,update$5,params)}function update$5(_$jscomp$0){return this.value\x26\x26!_$jscomp$0.modified()?this.value:_$jscomp$0.values.reduce(function(data,_){return data.concat(_)},[])}function Params(params){vegaDataflow.Transform.call(this,null,params)}function Pivot(params){Aggregate.call(this,params)}function aggregateParams(_,pulse){var key\x3d_.field,value\x3d_.value,op\x3d(\x22count\x22\x3d\x3d\x3d_.op?\x22__count__\x22:_.op)||\x22sum\x22,fields\x3dvegaUtil.accessorFields(key).concat(vegaUtil.accessorFields(value)),keys\x3dpivotKeys(key,_.limit||\n0,pulse);pulse.changed()\x26\x26_.set(\x22__pivot__\x22,null,null,!0);return{key:_.key,groupby:_.groupby,ops:keys.map(function(){return op}),fields:keys.map(function(k){return get$jscomp$0(k,key,value,fields)}),as:keys.map(function(k){return k+\x22\x22}),modified:_.modified.bind(_)}}function get$jscomp$0(k,key,value,fields){return vegaUtil.accessor(function(d){return key(d)\x3d\x3d\x3dk?value(d):NaN},fields,k+\x22\x22)}function pivotKeys(key,limit,pulse){var map\x3d{},list\x3d[];pulse.visit(pulse.SOURCE,function(t){t\x3dkey(t);map[t]||(map[t]\x3d\n1,list.push(t))});list.sort(vegaUtil.ascending);return limit?list.slice(0,limit):list}function PreFacet(params){Facet.call(this,params)}function Project(params){vegaDataflow.Transform.call(this,null,params)}function Proxy(params){vegaDataflow.Transform.call(this,null,params)}function Quantile(params){vegaDataflow.Transform.call(this,null,params)}function Relay(params){vegaDataflow.Transform.call(this,null,params)}function Sample(params){vegaDataflow.Transform.call(this,[],params);this.count\x3d0}function Sequence(params){vegaDataflow.Transform.call(this,\nnull,params)}function Sieve(params){vegaDataflow.Transform.call(this,null,params);this.modified(!0)}function TimeUnit(params){vegaDataflow.Transform.call(this,null,params)}function TupleIndex(params){vegaDataflow.Transform.call(this,vegaUtil.fastmap(),params)}function Values(params){vegaDataflow.Transform.call(this,null,params)}function WindowOp(op,field,param,as){var fn\x3dWindowOps[op](field,param);return{init:fn.init||vegaUtil.zero,update:function(w,t){t[as]\x3dfn.next(w)}}}function WindowState(_$jscomp$0){function visitInputs(f){vegaUtil.array(vegaUtil.accessorFields(f)).forEach(function(_){return inputs[_]\x3d\n1})}var ops\x3dvegaUtil.array(_$jscomp$0.ops),fields\x3dvegaUtil.array(_$jscomp$0.fields),params\x3dvegaUtil.array(_$jscomp$0.params),as\x3dvegaUtil.array(_$jscomp$0.as),outputs\x3dthis.outputs\x3d[],windows\x3dthis.windows\x3d[],inputs\x3d{},map\x3d{},counts\x3d[],measures\x3d[],countOnly\x3d!0;visitInputs(_$jscomp$0.sort);ops.forEach(function(op,i){var field\x3dfields[i],mname\x3dvegaUtil.accessorName(field),name\x3das[i]||op+(mname?\x22_\x22+mname:\x22\x22);visitInputs(field);outputs.push(name);vegaUtil.hasOwnProperty(WindowOps,op)?windows.push(WindowOp(op,\nfields[i],params[i],name)):(null\x3d\x3dfield\x26\x26\x22count\x22!\x3d\x3dop\x26\x26vegaUtil.error(\x22Null aggregate field specified.\x22),\x22count\x22\x3d\x3d\x3dop?counts.push(name):(countOnly\x3d!1,i\x3dmap[mname],i||(i\x3dmap[mname]\x3d[],i.field\x3dfield,measures.push(i)),i.push(AggregateOps[op](name))))});if(counts.length||measures.length)this.cell\x3dcell(measures,counts,countOnly);this.inputs\x3dObject.keys(inputs)}function cell(measures,counts,countOnly){measures\x3dmeasures.map(function(m){return compileMeasures(m,m.field)});var cell\x3d{num:0,agg:null,store:!1,\ncount:counts};if(!countOnly)for(var n$jscomp$0\x3dmeasures.length,a\x3dcell.agg\x3dArray(n$jscomp$0),i$jscomp$0\x3d0;i$jscomp$0\x3cn$jscomp$0;++i$jscomp$0)a[i$jscomp$0]\x3dnew measures[i$jscomp$0](cell);if(cell.store)var store\x3dcell.data\x3dnew TupleStore;cell.add\x3dfunction(t){cell.num+\x3d1;if(!countOnly){store\x26\x26store.add(t);for(var i$522\x3d0;i$522\x3cn$jscomp$0;++i$522)a[i$522].add(a[i$522].get(t),t)}};cell.rem\x3dfunction(t){--cell.num;if(!countOnly){store\x26\x26store.rem(t);for(var i$523\x3d0;i$523\x3cn$jscomp$0;++i$523)a[i$523].rem(a[i$523].get(t),\nt)}};cell.set\x3dfunction(t){var n;store\x26\x26store.values();var i\x3d0;for(n\x3dcounts.length;i\x3cn;++i)t[counts[i]]\x3dcell.num;if(!countOnly)for(i\x3d0,n\x3da.length;i\x3cn;++i)a[i].set(t)};cell.init\x3dfunction(){cell.num\x3d0;store\x26\x26store.reset();for(var i$524\x3d0;i$524\x3cn$jscomp$0;++i$524)a[i$524].init()};return cell}function Window(params){vegaDataflow.Transform.call(this,{},params);this._mlen\x3d0;this._mods\x3d[]}function processPartition(list,state,cmp,_){var sort\x3d_.sort,range\x3dsort\x26\x26!_.ignorePeers;_\x3d_.frame||[null,0];list\x3dlist.data(cmp);\ncmp\x3dlist.length;var b\x3drange?d3Array.bisector(sort):null;sort\x3d{i0:0,i1:0,p0:0,p1:0,index:0,data:list,compare:sort||vegaUtil.constant(-1)};state.init();for(var i\x3d0;i\x3ccmp;++i){var i$jscomp$0\x3di;sort.p0\x3dsort.i0;sort.p1\x3dsort.i1;sort.i0\x3dnull\x3d\x3d_[0]?0:Math.max(0,i$jscomp$0-Math.abs(_[0]));sort.i1\x3dnull\x3d\x3d_[1]?cmp:Math.min(cmp,i$jscomp$0+Math.abs(_[1])+1);sort.index\x3di$jscomp$0;if(range){i$jscomp$0\x3dsort.i0;var r1\x3dsort.i1-1,c\x3dsort.compare,d\x3dsort.data,n\x3dd.length-1;0\x3ci$jscomp$0\x26\x26!c(d[i$jscomp$0],d[i$jscomp$0-1])\x26\x26\n(sort.i0\x3db.left(d,d[i$jscomp$0]));r1\x3cn\x26\x26!c(d[r1],d[r1+1])\x26\x26(sort.i1\x3db.right(d,d[r1]))}state.update(sort,list[i])}}var noop\x3dfunction(){},base_op\x3d{init:noop,add:noop,rem:noop,idx:0},AggregateOps\x3d{values:{init:function(m){return m.cell.store\x3d!0},value:function(m){return m.cell.data.values()},idx:-1},count:{value:function(m){return m.cell.num}},__count__:{value:function(m){return m.missing+m.valid}},missing:{value:function(m){return m.missing}},valid:{value:function(m){return m.valid}},sum:{init:function(m){return m.sum\x3d\n0},value:function(m){return m.sum},add:function(m,v){return m.sum+\x3d+v},rem:function(m,v){return m.sum-\x3dv}},product:{init:function(m){return m.product\x3d1},value:function(m){return m.valid?m.product:void 0},add:function(m,v){return m.product*\x3dv},rem:function(m,v){return m.product/\x3dv}},mean:{init:function(m){return m.mean\x3d0},value:function(m){return m.valid?m.mean:void 0},add:function(m,v){return m.mean_d\x3dv-m.mean,m.mean+\x3dm.mean_d/m.valid},rem:function(m,v){return m.mean_d\x3dv-m.mean,m.mean-\x3dm.valid?m.mean_d/\nm.valid:m.mean}},average:{value:function(m){return m.valid?m.mean:void 0},req:[\x22mean\x22],idx:1},variance:{init:function(m){return m.dev\x3d0},value:function(m){return 1\x3cm.valid?m.dev/(m.valid-1):void 0},add:function(m,v){return m.dev+\x3dm.mean_d*(v-m.mean)},rem:function(m,v){return m.dev-\x3dm.mean_d*(v-m.mean)},req:[\x22mean\x22],idx:1},variancep:{value:function(m){return 1\x3cm.valid?m.dev/m.valid:void 0},req:[\x22variance\x22],idx:2},stdev:{value:function(m){return 1\x3cm.valid?Math.sqrt(m.dev/(m.valid-1)):void 0},req:[\x22variance\x22],\nidx:2},stdevp:{value:function(m){return 1\x3cm.valid?Math.sqrt(m.dev/m.valid):void 0},req:[\x22variance\x22],idx:2},stderr:{value:function(m){return 1\x3cm.valid?Math.sqrt(m.dev/(m.valid*(m.valid-1))):void 0},req:[\x22variance\x22],idx:2},distinct:{value:function(m){return m.cell.data.distinct(m.get)},req:[\x22values\x22],idx:3},ci0:{value:function(m){return m.cell.data.ci0(m.get)},req:[\x22values\x22],idx:3},ci1:{value:function(m){return m.cell.data.ci1(m.get)},req:[\x22values\x22],idx:3},median:{value:function(m){return m.cell.data.q2(m.get)},\nreq:[\x22values\x22],idx:3},q1:{value:function(m){return m.cell.data.q1(m.get)},req:[\x22values\x22],idx:3},q3:{value:function(m){return m.cell.data.q3(m.get)},req:[\x22values\x22],idx:3},min:{init:function(m){return m.min\x3dvoid 0},value:function(m){return m.min\x3dNumber.isNaN(m.min)?m.cell.data.min(m.get):m.min},add:function(m,v){if(v\x3cm.min||void 0\x3d\x3d\x3dm.min)m.min\x3dv},rem:function(m,v){v\x3c\x3dm.min\x26\x26(m.min\x3dNaN)},req:[\x22values\x22],idx:4},max:{init:function(m){return m.max\x3dvoid 0},value:function(m){return m.max\x3dNumber.isNaN(m.max)?\nm.cell.data.max(m.get):m.max},add:function(m,v){if(v\x3em.max||void 0\x3d\x3d\x3dm.max)m.max\x3dv},rem:function(m,v){v\x3e\x3dm.max\x26\x26(m.max\x3dNaN)},req:[\x22values\x22],idx:4},argmin:{init:function(m){return m.argmin\x3dvoid 0},value:function(m){return m.argmin||m.cell.data.argmin(m.get)},add:function(m,v,t){v\x3cm.min\x26\x26(m.argmin\x3dt)},rem:function(m,v){v\x3c\x3dm.min\x26\x26(m.argmin\x3dvoid 0)},req:[\x22min\x22,\x22values\x22],idx:3},argmax:{init:function(m){return m.argmax\x3dvoid 0},value:function(m){return m.argmax||m.cell.data.argmax(m.get)},add:function(m,\nv,t){v\x3em.max\x26\x26(m.argmax\x3dt)},rem:function(m,v){v\x3e\x3dm.max\x26\x26(m.argmax\x3dvoid 0)},req:[\x22max\x22,\x22values\x22],idx:3}};noop\x3dObject.keys(AggregateOps);noop.forEach(function(key){AggregateOps[key]\x3dmeasure(key,AggregateOps[key])});var prototype\x3dTupleStore.prototype;prototype.reset\x3dfunction(){this._add\x3d[];this._rem\x3d[];this._q\x3dthis._get\x3dthis._ext\x3dnull};prototype.add\x3dfunction(v){this._add.push(v)};prototype.rem\x3dfunction(v){this._rem.push(v)};prototype.values\x3dfunction(){this._get\x3dnull;if(0\x3d\x3d\x3dthis._rem.length)return this._add;\nvar a\x3dthis._add,r\x3dthis._rem,k\x3dthis._key,n\x3da.length,m\x3dr.length,x\x3dArray(n-m),map\x3d{},i,v;for(i\x3d0;i\x3cm;++i)map[k(r[i])]\x3d1;for(r\x3di\x3d0;i\x3cn;++i)map[k(v\x3da[i])]?map[k(v)]\x3d0:x[r++]\x3dv;this._rem\x3d[];return this._add\x3dx};prototype.distinct\x3dfunction(get){for(var v\x3dthis.values(),map\x3d{},n\x3dv.length,count\x3d0,s;0\x3c\x3d--n;)s\x3dget(v[n])+\x22\x22,vegaUtil.hasOwnProperty(map,s)||(map[s]\x3d1,++count);return count};prototype.extent\x3dfunction(get){if(this._get!\x3d\x3dget||!this._ext){var v\x3dthis.values(),i\x3dvegaUtil.extentIndex(v,get);this._ext\x3d[v[i[0]],\nv[i[1]]];this._get\x3dget}return this._ext};prototype.argmin\x3dfunction(get){return this.extent(get)[0]||{}};prototype.argmax\x3dfunction(get){return this.extent(get)[1]||{}};prototype.min\x3dfunction(get){var m\x3dthis.extent(get)[0];return null!\x3dm?get(m):void 0};prototype.max\x3dfunction(get){var m\x3dthis.extent(get)[1];return null!\x3dm?get(m):void 0};prototype.quartile\x3dfunction(get){this._get\x3d\x3d\x3dget\x26\x26this._q||(this._q\x3dvegaStatistics.quartiles(this.values(),get),this._get\x3dget);return this._q};prototype.q1\x3dfunction(get){return this.quartile(get)[0]};\nprototype.q2\x3dfunction(get){return this.quartile(get)[1]};prototype.q3\x3dfunction(get){return this.quartile(get)[2]};prototype.ci\x3dfunction(get){this._get\x3d\x3d\x3dget\x26\x26this._ci||(this._ci\x3dvegaStatistics.bootstrapCI(this.values(),1E3,.05,get),this._get\x3dget);return this._ci};prototype.ci0\x3dfunction(get){return this.ci(get)[0]};prototype.ci1\x3dfunction(get){return this.ci(get)[1]};Aggregate.Definition\x3d{type:\x22Aggregate\x22,metadata:{generates:!0,changes:!0},params:[{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22ops\x22,\ntype:\x22enum\x22,array:!0,values:noop},{name:\x22fields\x22,type:\x22field\x22,\x22null\x22:!0,array:!0},{name:\x22as\x22,type:\x22string\x22,\x22null\x22:!0,array:!0},{name:\x22drop\x22,type:\x22boolean\x22,\x22default\x22:!0},{name:\x22cross\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22key\x22,type:\x22field\x22}]};vegaUtil.inherits(Aggregate,vegaDataflow.Transform,{transform:function(_,pulse){var $jscomp$this\x3dthis,aggr\x3dthis,out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),mod\x3d_.modified();aggr.stamp\x3dout.stamp;aggr.value\x26\x26(mod||pulse.modified(aggr._inputs,!0))?(aggr._prev\x3d\naggr.value,aggr.value\x3dmod?aggr.init(_):{},pulse.visit(pulse.SOURCE,function(t){return aggr.add(t)})):(aggr.value\x3daggr.value||aggr.init(_),pulse.visit(pulse.REM,function(t){return aggr.rem(t)}),pulse.visit(pulse.ADD,function(t){return aggr.add(t)}));out.modifies(aggr._outputs);aggr._drop\x3d!1!\x3d\x3d_.drop;_.cross\x26\x261\x3caggr._dims.length\x26\x26(aggr._drop\x3d!1,aggr.cross());pulse.clean()\x26\x26aggr._drop\x26\x26out.clean(!0).runAfter(function(){return $jscomp$this.clean()});return aggr.changes(out)},cross:function(){function collect(cells){var key,\ni,v;for(key in cells){var t\x3dcells[key].tuple;for(i\x3d0;i\x3cn;++i)vals[i][v\x3dt[dims[i]]]\x3dv}}function generate(base,tuple,index){var name\x3ddims[index],v\x3dvals[index++],k;for(k in v){var key\x3dbase?base+\x22|\x22+k:k;tuple[name]\x3dv[k];index\x3cn?generate(key,tuple,index):curr[key]||aggr.cell(key,tuple)}}var aggr\x3dthis,curr\x3daggr.value,dims\x3daggr._dnames,vals\x3ddims.map(function(){return{}}),n\x3ddims.length;collect(aggr._prev);collect(curr);generate(\x22\x22,{},0)},init:function(_){function inputVisit(get){get\x3dvegaUtil.array(vegaUtil.accessorFields(get));\nfor(var n\x3dget.length,i\x3d0,f;i\x3cn;++i)inputMap[f\x3dget[i]]||(inputMap[f]\x3d1,inputs.push(f))}var inputs\x3dthis._inputs\x3d[],outputs\x3dthis._outputs\x3d[],inputMap\x3d{};this._dims\x3dvegaUtil.array(_.groupby);this._dnames\x3dthis._dims.map(function(d){var dname\x3dvegaUtil.accessorName(d);inputVisit(d);outputs.push(dname);return dname});this.cellkey\x3d_.key?_.key:groupkey(this._dims);this._countOnly\x3d!0;this._counts\x3d[];this._measures\x3d[];var fields\x3d_.fields||[null],ops\x3d_.ops||[\x22count\x22];_\x3d_.as||[];var n$jscomp$0\x3dfields.length,map\x3d\n{},i$jscomp$0;n$jscomp$0!\x3d\x3dops.length\x26\x26vegaUtil.error(\x22Unmatched number of fields and aggregate ops.\x22);for(i$jscomp$0\x3d0;i$jscomp$0\x3cn$jscomp$0;++i$jscomp$0){var field\x3dfields[i$jscomp$0];var op\x3dops[i$jscomp$0];null\x3d\x3dfield\x26\x26\x22count\x22!\x3d\x3dop\x26\x26vegaUtil.error(\x22Null aggregate field specified.\x22);var mname\x3dvegaUtil.accessorName(field);var outname\x3d_[i$jscomp$0]||op+(mname?\x22_\x22+mname:\x22\x22);outputs.push(outname);if(\x22count\x22\x3d\x3d\x3dop)this._counts.push(outname);else{var m$jscomp$0\x3dmap[mname];m$jscomp$0||(inputVisit(field),\nm$jscomp$0\x3dmap[mname]\x3d[],m$jscomp$0.field\x3dfield,this._measures.push(m$jscomp$0));\x22count\x22!\x3d\x3dop\x26\x26(this._countOnly\x3d!1);m$jscomp$0.push(AggregateOps[op](outname))}}this._measures\x3dthis._measures.map(function(m){return compileMeasures(m,m.field)});return{}},cellkey:groupkey(),cell:function(key,t){var cell\x3dthis.value[key];cell?0\x3d\x3d\x3dcell.num\x26\x26this._drop\x26\x26cell.stamp\x3cthis.stamp?(cell.stamp\x3dthis.stamp,this._adds[this._alen++]\x3dcell):cell.stamp\x3cthis.stamp\x26\x26(cell.stamp\x3dthis.stamp,this._mods[this._mlen++]\x3dcell):\n(cell\x3dthis.value[key]\x3dthis.newcell(key,t),this._adds[this._alen++]\x3dcell);return cell},newcell:function(key,t){key\x3d{key:key,num:0,agg:null,tuple:this.newtuple(t,this._prev\x26\x26this._prev[key]),stamp:this.stamp,store:!1};if(!this._countOnly){t\x3dthis._measures;var n\x3dt.length;key.agg\x3dArray(n);for(var i\x3d0;i\x3cn;++i)key.agg[i]\x3dnew t[i](key)}key.store\x26\x26(key.data\x3dnew TupleStore);return key},newtuple:function(t,p){for(var names\x3dthis._dnames,dims\x3dthis._dims,n\x3ddims.length,x\x3d{},i\x3d0;i\x3cn;++i)x[names[i]]\x3ddims[i](t);return p?\nvegaDataflow.replace(p.tuple,x):vegaDataflow.ingest(x)},clean:function(){var cells\x3dthis.value,key;for(key in cells)0\x3d\x3d\x3dcells[key].num\x26\x26delete cells[key]},add:function(t){var key\x3dthis.cellkey(t);key\x3dthis.cell(key,t);key.num+\x3d1;if(!this._countOnly){key.store\x26\x26key.data.add(t);key\x3dkey.agg;for(var i\x3d0,n\x3dkey.length;i\x3cn;++i)key[i].add(key[i].get(t),t)}},rem:function(t){var key\x3dthis.cellkey(t);key\x3dthis.cell(key,t);--key.num;if(!this._countOnly){key.store\x26\x26key.data.rem(t);key\x3dkey.agg;for(var i\x3d0,n\x3dkey.length;i\x3c\nn;++i)key[i].rem(key[i].get(t),t)}},celltuple:function(cell){var tuple\x3dcell.tuple,counts\x3dthis._counts;cell.store\x26\x26cell.data.values();for(var i\x3d0,n\x3dcounts.length;i\x3cn;++i)tuple[counts[i]]\x3dcell.num;if(!this._countOnly)for(cell\x3dcell.agg,counts\x3d0,i\x3dcell.length;counts\x3ci;++counts)cell[counts].set(tuple);return tuple},changes:function(out){var adds\x3dthis._adds,mods\x3dthis._mods,prev\x3dthis._prev,drop\x3dthis._drop,add\x3dout.add,rem\x3dout.rem,mod\x3dout.mod,key;if(prev)for(key in prev){var cell\x3dprev[key];drop\x26\x26!cell.num||\nrem.push(cell.tuple)}prev\x3d0;for(key\x3dthis._alen;prev\x3ckey;++prev)add.push(this.celltuple(adds[prev])),adds[prev]\x3dnull;prev\x3d0;for(key\x3dthis._mlen;prev\x3ckey;++prev)cell\x3dmods[prev],(0\x3d\x3d\x3dcell.num\x26\x26drop?rem:mod).push(this.celltuple(cell)),mods[prev]\x3dnull;this._alen\x3dthis._mlen\x3d0;this._prev\x3dnull;return out}});Bin.Definition\x3d{type:\x22Bin\x22,metadata:{modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22interval\x22,type:\x22boolean\x22,\x22default\x22:!0},{name:\x22anchor\x22,type:\x22number\x22},{name:\x22maxbins\x22,type:\x22number\x22,\n\x22default\x22:20},{name:\x22base\x22,type:\x22number\x22,\x22default\x22:10},{name:\x22divide\x22,type:\x22number\x22,array:!0,\x22default\x22:[5,2]},{name:\x22extent\x22,type:\x22number\x22,array:!0,length:2,required:!0},{name:\x22span\x22,type:\x22number\x22},{name:\x22step\x22,type:\x22number\x22},{name:\x22steps\x22,type:\x22number\x22,array:!0},{name:\x22minstep\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22nice\x22,type:\x22boolean\x22,\x22default\x22:!0},{name:\x22name\x22,type:\x22string\x22},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:[\x22bin0\x22,\x22bin1\x22]}]};vegaUtil.inherits(Bin,vegaDataflow.Transform,{transform:function(_,\npulse){var band\x3d!1!\x3d\x3d_.interval,bins\x3dthis._bins(_),start\x3dbins.start,step\x3dbins.step,as\x3d_.as||[\x22bin0\x22,\x22bin1\x22],b0\x3das[0],b1\x3das[1];_.modified()?(pulse\x3dpulse.reflow(!0),_\x3dpulse.SOURCE):_\x3dpulse.modified(vegaUtil.accessorFields(_.field))?pulse.ADD_MOD:pulse.ADD;pulse.visit(_,band?function(t){var v\x3dbins(t);t[b0]\x3dv;t[b1]\x3dnull\x3d\x3dv?null:start+step*(1+(v-start)/step)}:function(t){return t[b0]\x3dbins(t)});return pulse.modifies(band?as:b0)},_bins:function(_){if(this.value\x26\x26!_.modified())return this.value;var field\x3d\n_.field,bins\x3dvegaStatistics.bin(_),step\x3dbins.step,start\x3dbins.start,stop\x3dstart+Math.ceil((bins.stop-start)/step)*step,a;null!\x3d(a\x3d_.anchor)\x26\x26(a-\x3dstart+step*Math.floor((a-start)/step),start+\x3da,stop+\x3da);a\x3dfunction(t){t\x3dvegaUtil.toNumber(field(t));return null\x3d\x3dt?null:t\x3cstart?-Infinity:t\x3estop?Infinity:(t\x3dMath.max(start,Math.min(t,stop-step)),start+step*Math.floor(1E-14+(t-start)/step))};a.start\x3dstart;a.stop\x3dbins.stop;a.step\x3dstep;return this.value\x3dvegaUtil.accessor(a,vegaUtil.accessorFields(field),_.name||\n\x22bin_\x22+vegaUtil.accessorName(field))}});Collect.Definition\x3d{type:\x22Collect\x22,metadata:{source:!0},params:[{name:\x22sort\x22,type:\x22compare\x22}]};vegaUtil.inherits(Collect,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.ALL),list\x3dSortedList(vegaDataflow.tupleid,this.value,out.materialize(out.ADD).add),sort\x3d_.sort;_\x3dpulse.changed()||sort\x26\x26(_.modified(\x22sort\x22)||pulse.modified(sort.fields));out.visit(out.REM,list.remove);this.modified(_);this.value\x3dout.source\x3dlist.data(vegaDataflow.stableCompare(sort),\n_);pulse.source\x26\x26pulse.source.root\x26\x26(this.value.root\x3dpulse.source.root);return out}});vegaUtil.inherits(Compare,vegaDataflow.Operator);CountPattern.Definition\x3d{type:\x22CountPattern\x22,metadata:{generates:!0,changes:!0},params:[{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22case\x22,type:\x22enum\x22,values:[\x22upper\x22,\x22lower\x22,\x22mixed\x22],\x22default\x22:\x22mixed\x22},{name:\x22pattern\x22,type:\x22string\x22,\x22default\x22:\x27[\\\\w\x22]+\x27},{name:\x22stopwords\x22,type:\x22string\x22,\x22default\x22:\x22\x22},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:[\x22text\x22,\x22count\x22]}]};\nvegaUtil.inherits(CountPattern,vegaDataflow.Transform,{transform:function(_,pulse){var process\x3dfunction(update){return function(tuple){tuple\x3dget(tuple);switch(_.case){case \x22upper\x22:tuple\x3dtuple.toUpperCase();break;case \x22lower\x22:tuple\x3dtuple.toLowerCase()}tuple\x3dtuple.match(match)||[];for(var t,i\x3d0,n\x3dtuple.length;i\x3cn;++i)stop.test(t\x3dtuple[i])||update(t)}},init\x3dthis._parameterCheck(_,pulse),counts\x3dthis._counts,match\x3dthis._match,stop\x3dthis._stop,get\x3d_.field,as\x3d_.as||[\x22text\x22,\x22count\x22],add\x3dprocess(function(t){return counts[t]\x3d\n1+(counts[t]||0)});process\x3dprocess(function(t){return--counts[t]});init?pulse.visit(pulse.SOURCE,add):(pulse.visit(pulse.ADD,add),pulse.visit(pulse.REM,process));return this._finish(pulse,as)},_parameterCheck:function(_,pulse){var init\x3d!1;if(_.modified(\x22stopwords\x22)||!this._stop)this._stop\x3dnew RegExp(\x22^\x22+(_.stopwords||\x22\x22)+\x22$\x22,\x22i\x22),init\x3d!0;if(_.modified(\x22pattern\x22)||!this._match)this._match\x3dnew RegExp(_.pattern||\x22[\\\\w\x27]+\x22,\x22g\x22),init\x3d!0;if(_.modified(\x22field\x22)||pulse.modified(_.field.fields))init\x3d!0;init\x26\x26\n(this._counts\x3d{});return init},_finish:function(pulse,as){var counts\x3dthis._counts,tuples\x3dthis._tuples||(this._tuples\x3d{}),text\x3das[0],count\x3das[1];pulse\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);var w;for(w in counts){var t\x3dtuples[w];var c\x3dcounts[w]||0;!t\x26\x26c?(tuples[w]\x3dt\x3dvegaDataflow.ingest({}),t[text]\x3dw,t[count]\x3dc,pulse.add.push(t)):0\x3d\x3d\x3dc?(t\x26\x26pulse.rem.push(t),counts[w]\x3dnull,tuples[w]\x3dnull):t[count]!\x3d\x3dc\x26\x26(t[count]\x3dc,pulse.mod.push(t))}return pulse.modifies(as)}});Cross.Definition\x3d{type:\x22Cross\x22,metadata:{generates:!0},\nparams:[{name:\x22filter\x22,type:\x22expr\x22},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:[\x22a\x22,\x22b\x22]}]};vegaUtil.inherits(Cross,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE),as\x3d_.as||[\x22a\x22,\x22b\x22],a\x3das[0],b\x3das[1],reset\x3d!this.value||pulse.changed(pulse.ADD_REM)||_.modified(\x22as\x22)||_.modified(\x22filter\x22),data\x3dthis.value;if(reset){data\x26\x26(out.rem\x3ddata);pulse\x3ddata\x3dpulse.materialize(pulse.SOURCE).source;_\x3d_.filter||vegaUtil.truthy;reset\x3d[];data\x3d{};for(var n\x3dpulse.length,\ni\x3d0,j,left;i\x3cn;++i)for(data[a]\x3dleft\x3dpulse[i],j\x3d0;j\x3cn;++j)data[b]\x3dpulse[j],_(data)\x26\x26(reset.push(vegaDataflow.ingest(data)),data\x3d{},data[a]\x3dleft);out.add\x3dthis.value\x3dreset}else out.mod\x3ddata;out.source\x3dthis.value;return out.modifies(as)}});var Distributions\x3d{kde:vegaStatistics.randomKDE,mixture:vegaStatistics.randomMixture,normal:vegaStatistics.randomNormal,lognormal:vegaStatistics.randomLogNormal,uniform:vegaStatistics.randomUniform};prototype\x3d[{key:{\x22function\x22:\x22normal\x22},params:[{name:\x22mean\x22,type:\x22number\x22,\n\x22default\x22:0},{name:\x22stdev\x22,type:\x22number\x22,\x22default\x22:1}]},{key:{\x22function\x22:\x22lognormal\x22},params:[{name:\x22mean\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22stdev\x22,type:\x22number\x22,\x22default\x22:1}]},{key:{\x22function\x22:\x22uniform\x22},params:[{name:\x22min\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22max\x22,type:\x22number\x22,\x22default\x22:1}]},{key:{\x22function\x22:\x22kde\x22},params:[{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22from\x22,type:\x22data\x22},{name:\x22bandwidth\x22,type:\x22number\x22,\x22default\x22:0}]}];Density.Definition\x3d{type:\x22Density\x22,metadata:{generates:!0},params:[{name:\x22extent\x22,\ntype:\x22number\x22,array:!0,length:2},{name:\x22steps\x22,type:\x22number\x22},{name:\x22minsteps\x22,type:\x22number\x22,\x22default\x22:25},{name:\x22maxsteps\x22,type:\x22number\x22,\x22default\x22:200},{name:\x22method\x22,type:\x22string\x22,\x22default\x22:\x22pdf\x22,values:[\x22pdf\x22,\x22cdf\x22]},{name:\x22distribution\x22,type:\x22param\x22,params:prototype.concat({key:{\x22function\x22:\x22mixture\x22},params:[{name:\x22distributions\x22,type:\x22param\x22,array:!0,params:prototype},{name:\x22weights\x22,type:\x22number\x22,array:!0}]})},{name:\x22as\x22,type:\x22string\x22,array:!0,\x22default\x22:[\x22value\x22,\x22density\x22]}]};vegaUtil.inherits(Density,\nvegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){var dist\x3dparse(_.distribution,source$jscomp$0(pulse));pulse\x3d_.steps||_.minsteps||25;var maxsteps\x3d_.steps||_.maxsteps||200,method\x3d_.method||\x22pdf\x22;\x22pdf\x22!\x3d\x3dmethod\x26\x26\x22cdf\x22!\x3d\x3dmethod\x26\x26vegaUtil.error(\x22Invalid density method: \x22+method);_.extent||dist.data||vegaUtil.error(\x22Missing density extent parameter.\x22);method\x3ddist[method];var as\x3d_.as||[\x22value\x22,\x22density\x22];\n_\x3d_.extent||vegaUtil.extent(dist.data());_\x3dvegaStatistics.sampleCurve(method,_,pulse,maxsteps).map(function(v){var tuple\x3d{};tuple[as[0]]\x3dv[0];tuple[as[1]]\x3dv[1];return vegaDataflow.ingest(tuple)});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.add\x3dout.source\x3d_}return out}});DotBin.Definition\x3d{type:\x22DotBin\x22,metadata:{modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22step\x22,type:\x22number\x22},{name:\x22smooth\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22as\x22,\ntype:\x22string\x22,\x22default\x22:\x22bin\x22}]};vegaUtil.inherits(DotBin,vegaDataflow.Transform,{transform:function(_,pulse){if(this.value\x26\x26!_.modified()\x26\x26!pulse.changed())return pulse;var source\x3dpulse.materialize(pulse.SOURCE).source,groups\x3dpartition(pulse.source,_.groupby,vegaUtil.identity),smooth\x3d_.smooth||!1,field\x3d_.field;source\x3d_.step||vegaUtil.span(vegaUtil.extent(source,field))/30;var sort\x3dvegaDataflow.stableCompare(function(a,b){return field(a)-field(b)});_\x3d_.as||\x22bin\x22;for(var n\x3dgroups.length,min\x3dInfinity,\nmax\x3d-Infinity,i\x3d0,j;i\x3cn;++i){var g\x3dgroups[i].sort(sort);j\x3d-1;for(var $jscomp$iter$317\x3d$jscomp.makeIterator(vegaStatistics.dotbin(g,source,smooth,field)),$jscomp$key$v\x3d$jscomp$iter$317.next();!$jscomp$key$v.done;$jscomp$key$v\x3d$jscomp$iter$317.next())$jscomp$key$v\x3d$jscomp$key$v.value,$jscomp$key$v\x3cmin\x26\x26(min\x3d$jscomp$key$v),$jscomp$key$v\x3emax\x26\x26(max\x3d$jscomp$key$v),g[++j][_]\x3d$jscomp$key$v}this.value\x3d{start:min,stop:max,step:source};return pulse.reflow(!0).modifies(_)}});vegaUtil.inherits(Expression,vegaDataflow.Operator);\nExtent.Definition\x3d{type:\x22Extent\x22,metadata:{},params:[{name:\x22field\x22,type:\x22field\x22,required:!0}]};vegaUtil.inherits(Extent,vegaDataflow.Transform,{transform:function(_,pulse){var extent\x3dthis.value,field\x3d_.field;_\x3dpulse.changed()||pulse.modified(field.fields)||_.modified(\x22field\x22);var min\x3dextent[0],max\x3dextent[1];if(_||null\x3d\x3dmin)min\x3dInfinity,max\x3d-Infinity;pulse.visit(_?pulse.SOURCE:pulse.ADD,function(t){t\x3dvegaUtil.toNumber(field(t));null!\x3dt\x26\x26(t\x3cmin\x26\x26(min\x3dt),t\x3emax\x26\x26(max\x3dt))});Number.isFinite(min)\x26\x26Number.isFinite(max)||\n((extent\x3dvegaUtil.accessorName(field))\x26\x26(extent\x3d\x27 for field \x22\x27+extent+\x27\x22\x27),pulse.dataflow.warn(\x22Infinite extent\x22+extent+\x22: [\x22+min+\x22, \x22+max+\x22]\x22),min\x3dmax\x3dvoid 0);this.value\x3d[min,max]}});vegaUtil.inherits(Subflow,vegaDataflow.Operator,{connect:function(target){this.detachSubflow\x3dtarget.detachSubflow;this.targets().add(target);return target.source\x3dthis},add:function(t){this.count+\x3d1;this.value.add.push(t)},rem:function(t){--this.count;this.value.rem.push(t)},mod:function(t){this.value.mod.push(t)},init:function(pulse){this.value.init(pulse,\npulse.NO_SOURCE)},evaluate:function(){return this.value}});vegaUtil.inherits(Facet,vegaDataflow.Transform,{activate:function(flow){this._targets[this._targets.active++]\x3dflow},subflow:function(key,flow,pulse,parent){var flows\x3dthis.value,sf\x3dvegaUtil.hasOwnProperty(flows,key)\x26\x26flows[key];if(sf)sf.value.stamp\x3cpulse.stamp\x26\x26(sf.init(pulse),this.activate(sf));else{var p\x3dparent||(p\x3dthis._group[key])\x26\x26p.tuple;parent\x3dpulse.dataflow;sf\x3dnew Subflow(pulse.fork(pulse.NO_SOURCE),this);parent.add(sf).connect(flow(parent,\nkey,p));flows[key]\x3dsf;this.activate(sf)}return sf},clean:function(){var flows\x3dthis.value,key;for(key in flows)if(0\x3d\x3d\x3dflows[key].count){var detach\x3dflows[key].detachSubflow;detach\x26\x26detach();delete flows[key]}},initTargets:function(){for(var a\x3dthis._targets,n\x3da.length,i\x3d0;i\x3cn\x26\x26null!\x3da[i];++i)a[i]\x3dnull;a.active\x3d0},transform:function(_,pulse){var $jscomp$this\x3dthis,df\x3dpulse.dataflow,key$jscomp$0\x3d_.key,flow\x3d_.subflow,cache\x3dthis._keys,rekey\x3d_.modified(\x22key\x22),subflow\x3dfunction(key){return $jscomp$this.subflow(key,\nflow,pulse)};this._group\x3d_.group||{};this.initTargets();pulse.visit(pulse.REM,function(t){var id\x3dvegaDataflow.tupleid(t),k\x3dcache.get(id);void 0!\x3d\x3dk\x26\x26(cache.delete(id),subflow(k).rem(t))});pulse.visit(pulse.ADD,function(t){var k\x3dkey$jscomp$0(t);cache.set(vegaDataflow.tupleid(t),k);subflow(k).add(t)});rekey||pulse.modified(key$jscomp$0.fields)?pulse.visit(pulse.MOD,function(t){var id\x3dvegaDataflow.tupleid(t),k0\x3dcache.get(id),k1\x3dkey$jscomp$0(t);k0\x3d\x3d\x3dk1?subflow(k1).mod(t):(cache.set(id,k1),subflow(k0).rem(t),\nsubflow(k1).add(t))}):pulse.changed(pulse.MOD)\x26\x26pulse.visit(pulse.MOD,function(t){subflow(cache.get(vegaDataflow.tupleid(t))).mod(t)});rekey\x26\x26pulse.visit(pulse.REFLOW,function(t){var id\x3dvegaDataflow.tupleid(t),k0\x3dcache.get(id),k1\x3dkey$jscomp$0(t);k0!\x3d\x3dk1\x26\x26(cache.set(id,k1),subflow(k0).rem(t),subflow(k1).add(t))});pulse.clean()?df.runAfter(function(){$jscomp$this.clean();cache.clean()}):cache.empty\x3edf.cleanThreshold\x26\x26df.runAfter(cache.clean);return pulse}});vegaUtil.inherits(Field,vegaDataflow.Operator);\nFilter.Definition\x3d{type:\x22Filter\x22,metadata:{changes:!0},params:[{name:\x22expr\x22,type:\x22expr\x22,required:!0}]};vegaUtil.inherits(Filter,vegaDataflow.Transform,{transform:function(_,pulse){function revisit(t){var id\x3dvegaDataflow.tupleid(t),b\x3dtest(t,_),s\x3dcache.get(id);b\x26\x26s?(cache.delete(id),add.push(t)):b||s?isMod\x26\x26b\x26\x26!s\x26\x26mod.push(t):(cache.set(id,1),rem.push(t))}var df\x3dpulse.dataflow,cache\x3dthis.value,output\x3dpulse.fork(),add\x3doutput.add,rem\x3doutput.rem,mod\x3doutput.mod,test\x3d_.expr,isMod\x3d!0;pulse.visit(pulse.REM,\nfunction(t){var id\x3dvegaDataflow.tupleid(t);cache.has(id)?cache.delete(id):rem.push(t)});pulse.visit(pulse.ADD,function(t){test(t,_)?add.push(t):cache.set(vegaDataflow.tupleid(t),1)});pulse.visit(pulse.MOD,revisit);_.modified()\x26\x26(isMod\x3d!1,pulse.visit(pulse.REFLOW,revisit));cache.empty\x3edf.cleanThreshold\x26\x26df.runAfter(cache.clean);return output}});Flatten.Definition\x3d{type:\x22Flatten\x22,metadata:{generates:!0},params:[{name:\x22fields\x22,type:\x22field\x22,array:!0,required:!0},{name:\x22index\x22,type:\x22string\x22},{name:\x22as\x22,\ntype:\x22string\x22,array:!0}]};vegaUtil.inherits(Flatten,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE),fields\x3d_.fields,as\x3dfieldNames(fields,_.as||[]),index\x3d_.index||null,m\x3das.length;out.rem\x3dthis.value;pulse.visit(pulse.SOURCE,function(t){for(var arrays\x3dfields.map(function(f){return f(t)}),maxlen\x3darrays.reduce(function(l,a){return Math.max(l,a.length)},0),i\x3d0,j,d,v;i\x3cmaxlen;++i){d\x3dvegaDataflow.derive(t);for(j\x3d0;j\x3cm;++j)d[as[j]]\x3dnull\x3d\x3d(v\x3darrays[j][i])?null:v;index\x26\x26\n(d[index]\x3di);out.add.push(d)}});this.value\x3dout.source\x3dout.add;index\x26\x26out.modifies(index);return out.modifies(as)}});Fold.Definition\x3d{type:\x22Fold\x22,metadata:{generates:!0},params:[{name:\x22fields\x22,type:\x22field\x22,array:!0,required:!0},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:[\x22key\x22,\x22value\x22]}]};vegaUtil.inherits(Fold,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE),fields\x3d_.fields,fnames\x3dfields.map(vegaUtil.accessorName);_\x3d_.as||[\x22key\x22,\x22value\x22];var k\x3d_[0],\nv\x3d_[1],n\x3dfields.length;out.rem\x3dthis.value;pulse.visit(pulse.SOURCE,function(t){for(var i\x3d0,d;i\x3cn;++i)d\x3dvegaDataflow.derive(t),d[k]\x3dfnames[i],d[v]\x3dfields[i](t),out.add.push(d)});this.value\x3dout.source\x3dout.add;return out.modifies(_)}});Formula.Definition\x3d{type:\x22Formula\x22,metadata:{modifies:!0},params:[{name:\x22expr\x22,type:\x22expr\x22,required:!0},{name:\x22as\x22,type:\x22string\x22,required:!0},{name:\x22initonly\x22,type:\x22boolean\x22}]};vegaUtil.inherits(Formula,vegaDataflow.Transform,{transform:function(_,pulse){var func\x3d_.expr,\nas\x3d_.as,mod\x3d_.modified(),flag\x3d_.initonly?pulse.ADD:mod?pulse.SOURCE:pulse.modified(func.fields)||pulse.modified(as)?pulse.ADD_MOD:pulse.ADD;mod\x26\x26(pulse\x3dpulse.materialize().reflow(!0));_.initonly||pulse.modifies(as);return pulse.visit(flag,function(t){return t[as]\x3dfunc(t,_)})}});vegaUtil.inherits(Generate,vegaDataflow.Transform,{transform:function(_,pulse){pulse\x3dpulse.fork(pulse.ALL);var gen\x3d_.generator,data\x3dthis.value,num\x3d_.size-data.length,add,t;if(0\x3cnum){for(add\x3d[];0\x3c\x3d--num;)add.push(t\x3dvegaDataflow.ingest(gen(_))),\ndata.push(t);pulse.add\x3dpulse.add.length?pulse.materialize(pulse.ADD).add.concat(add):add}else _\x3ddata.slice(0,-num),pulse.rem\x3dpulse.rem.length?pulse.materialize(pulse.REM).rem.concat(_):_,data\x3ddata.slice(-num);pulse.source\x3dthis.value\x3ddata;return pulse}});var Methods\x3d{value:\x22value\x22,median:d3Array.median,mean:d3Array.mean,min:d3Array.min,max:d3Array.max},Empty\x3d[];Impute.Definition\x3d{type:\x22Impute\x22,metadata:{changes:!0},params:[{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22key\x22,type:\x22field\x22,required:!0},\n{name:\x22keyvals\x22,array:!0},{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22method\x22,type:\x22enum\x22,\x22default\x22:\x22value\x22,values:[\x22value\x22,\x22mean\x22,\x22median\x22,\x22max\x22,\x22min\x22]},{name:\x22value\x22,\x22default\x22:0}]};vegaUtil.inherits(Impute,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.ALL),impute\x3dgetValue(_),field\x3dgetField(_),fName\x3dvegaUtil.accessorName(_.field),kName\x3dvegaUtil.accessorName(_.key),gNames\x3d(_.groupby||[]).map(vegaUtil.accessorName);_\x3dpartition$1(pulse.source,_.groupby,_.key,_.keyvals);\npulse\x3d[];var prev\x3dthis.value,m\x3d_.domain.length,j,l,n;var g\x3d0;for(l\x3d_.length;g\x3cl;++g){var group\x3d_[g];var gVals\x3dgroup.values;var value\x3dNaN;for(j\x3d0;j\x3cm;++j)if(null\x3d\x3dgroup[j]){var kVal\x3d_.domain[j];var t\x3d{_impute:!0};var i\x3d0;for(n\x3dgVals.length;i\x3cn;++i)t[gNames[i]]\x3dgVals[i];t[kName]\x3dkVal;t[fName]\x3dNumber.isNaN(value)?value\x3dimpute(group,field):value;pulse.push(vegaDataflow.ingest(t))}}pulse.length\x26\x26(out.add\x3dout.materialize(out.ADD).add.concat(pulse));prev.length\x26\x26(out.rem\x3dout.materialize(out.REM).rem.concat(prev));\nthis.value\x3dpulse;return out}});JoinAggregate.Definition\x3d{type:\x22JoinAggregate\x22,metadata:{modifies:!0},params:[{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22fields\x22,type:\x22field\x22,\x22null\x22:!0,array:!0},{name:\x22ops\x22,type:\x22enum\x22,array:!0,values:noop},{name:\x22as\x22,type:\x22string\x22,\x22null\x22:!0,array:!0},{name:\x22key\x22,type:\x22field\x22}]};vegaUtil.inherits(JoinAggregate,Aggregate,{transform:function(_,pulse){var aggr\x3dthis,mod\x3d_.modified();if(aggr.value\x26\x26(mod||pulse.modified(aggr._inputs,!0))){var cells\x3daggr.value\x3dmod?aggr.init(_):\n{};pulse.visit(pulse.SOURCE,function(t){return aggr.add(t)})}else cells\x3daggr.value\x3daggr.value||this.init(_),pulse.visit(pulse.REM,function(t){return aggr.rem(t)}),pulse.visit(pulse.ADD,function(t){return aggr.add(t)});aggr.changes();pulse.visit(pulse.SOURCE,function(t){vegaUtil.extend(t,cells[aggr.cellkey(t)].tuple)});return pulse.reflow(mod).modifies(this._outputs)},changes:function(){var adds\x3dthis._adds,mods\x3dthis._mods,n;var i\x3d0;for(n\x3dthis._alen;i\x3cn;++i)this.celltuple(adds[i]),adds[i]\x3dnull;i\x3d0;\nfor(n\x3dthis._mlen;i\x3cn;++i)this.celltuple(mods[i]),mods[i]\x3dnull;this._alen\x3dthis._mlen\x3d0}});KDE.Definition\x3d{type:\x22KDE\x22,metadata:{generates:!0},params:[{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22cumulative\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22counts\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22bandwidth\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22extent\x22,type:\x22number\x22,array:!0,length:2},{name:\x22resolve\x22,type:\x22enum\x22,values:[\x22shared\x22,\x22independent\x22],\x22default\x22:\x22independent\x22},{name:\x22steps\x22,\ntype:\x22number\x22},{name:\x22minsteps\x22,type:\x22number\x22,\x22default\x22:25},{name:\x22maxsteps\x22,type:\x22number\x22,\x22default\x22:200},{name:\x22as\x22,type:\x22string\x22,array:!0,\x22default\x22:[\x22value\x22,\x22density\x22]}]};vegaUtil.inherits(KDE,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){pulse\x3dpulse.materialize(pulse.SOURCE).source;var groups\x3dpartition(pulse,_.groupby,_.field),names\x3d(_.groupby||[]).map(vegaUtil.accessorName),bandwidth\x3d_.bandwidth,\nmethod\x3d_.cumulative?\x22cdf\x22:\x22pdf\x22,as\x3d_.as||[\x22value\x22,\x22density\x22],values\x3d[],domain\x3d_.extent,minsteps\x3d_.steps||_.minsteps||25,maxsteps\x3d_.steps||_.maxsteps||200;\x22pdf\x22!\x3d\x3dmethod\x26\x26\x22cdf\x22!\x3d\x3dmethod\x26\x26vegaUtil.error(\x22Invalid density method: \x22+method);\x22shared\x22\x3d\x3d\x3d_.resolve\x26\x26(domain||(domain\x3dvegaUtil.extent(pulse,_.field)),minsteps\x3dmaxsteps\x3d_.steps||maxsteps);groups.forEach(function(g){var density\x3dvegaStatistics.randomKDE(g,bandwidth)[method],scale\x3d_.counts?g.length:1,local\x3ddomain||vegaUtil.extent(g);vegaStatistics.sampleCurve(density,\nlocal,minsteps,maxsteps).forEach(function(v){for(var t\x3d{},i\x3d0;i\x3cnames.length;++i)t[names[i]]\x3dg.dims[i];t[as[0]]\x3dv[0];t[as[1]]\x3dv[1]*scale;values.push(vegaDataflow.ingest(t))})});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.add\x3dout.source\x3dvalues}return out}});vegaUtil.inherits(Key,vegaDataflow.Operator);vegaUtil.inherits(Load,vegaDataflow.Transform,{transform:function(_,pulse){var $jscomp$this\x3dthis,df$jscomp$0\x3dpulse.dataflow;return this._pending?output$jscomp$0(this,pulse,this._pending):stop$jscomp$0(_)?\npulse.StopPropagation:_.values?output$jscomp$0(this,pulse,df$jscomp$0.parse(_.values,_.format)):_.async?{async:df$jscomp$0.request(_.url,_.format).then(function(res){$jscomp$this._pending\x3dvegaUtil.array(res.data);return function(df){return df.touch($jscomp$this)}})}:df$jscomp$0.request(_.url,_.format).then(function(res){return output$jscomp$0($jscomp$this,pulse,vegaUtil.array(res.data))})}});Lookup.Definition\x3d{type:\x22Lookup\x22,metadata:{modifies:!0},params:[{name:\x22index\x22,type:\x22index\x22,params:[{name:\x22from\x22,\ntype:\x22data\x22,required:!0},{name:\x22key\x22,type:\x22field\x22,required:!0}]},{name:\x22values\x22,type:\x22field\x22,array:!0},{name:\x22fields\x22,type:\x22field\x22,array:!0,required:!0},{name:\x22as\x22,type:\x22string\x22,array:!0},{name:\x22default\x22,\x22default\x22:null}]};vegaUtil.inherits(Lookup,vegaDataflow.Transform,{transform:function(_,pulse){var keys\x3d_.fields,index\x3d_.index,values\x3d_.values,defaultValue\x3dnull\x3d\x3d_.default?null:_.default,reset\x3d_.modified(),n\x3dkeys.length,flag\x3dreset?pulse.SOURCE:pulse.ADD,out\x3dpulse,as\x3d_.as;if(values){var m\x3dvalues.length;\n1\x3cn\x26\x26!as\x26\x26vegaUtil.error(\x27Multi-field lookup requires explicit \x22as\x22 parameter.\x27);as\x26\x26as.length!\x3d\x3dn*m\x26\x26vegaUtil.error(\x27The \x22as\x22 parameter has too few output field names.\x27);as\x3das||values.map(vegaUtil.accessorName);_\x3dfunction(t){for(var i\x3d0,k\x3d0,j,v;i\x3cn;++i)if(v\x3dindex.get(keys[i](t)),null\x3d\x3dv)for(j\x3d0;j\x3cm;++j,++k)t[as[k]]\x3ddefaultValue;else for(j\x3d0;j\x3cm;++j,++k)t[as[k]]\x3dvalues[j](v)}}else as||vegaUtil.error(\x22Missing output field names.\x22),_\x3dfunction(t){for(var i\x3d0,v;i\x3cn;++i)v\x3dindex.get(keys[i](t)),t[as[i]]\x3d\nnull\x3d\x3dv?defaultValue:v};reset?out\x3dpulse.reflow(!0):(reset\x3dkeys.some(function(k){return pulse.modified(k.fields)}),flag|\x3dreset?pulse.MOD:0);pulse.visit(flag,_);return out.modifies(as)}});vegaUtil.inherits(MultiExtent,vegaDataflow.Operator);vegaUtil.inherits(MultiValues,vegaDataflow.Operator);vegaUtil.inherits(Params,vegaDataflow.Transform,{transform:function(_,pulse){this.modified(_.modified());this.value\x3d_;return pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)}});Pivot.Definition\x3d{type:\x22Pivot\x22,metadata:{generates:!0,\nchanges:!0},params:[{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22value\x22,type:\x22field\x22,required:!0},{name:\x22op\x22,type:\x22enum\x22,values:noop,\x22default\x22:\x22sum\x22},{name:\x22limit\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22key\x22,type:\x22field\x22}]};vegaUtil.inherits(Pivot,Aggregate,{_transform:Aggregate.prototype.transform,transform:function(_,pulse){return this._transform(aggregateParams(_,pulse),pulse)}});vegaUtil.inherits(PreFacet,Facet,{transform:function(_$jscomp$0,pulse){var $jscomp$this\x3d\nthis,flow\x3d_$jscomp$0.subflow,field\x3d_$jscomp$0.field,subflow\x3dfunction(t){return $jscomp$this.subflow(vegaDataflow.tupleid(t),flow,pulse,t)};(_$jscomp$0.modified(\x22field\x22)||field\x26\x26pulse.modified(vegaUtil.accessorFields(field)))\x26\x26vegaUtil.error(\x22PreFacet does not support field modification.\x22);this.initTargets();field?(pulse.visit(pulse.MOD,function(t){var sf\x3dsubflow(t);field(t).forEach(function(_){return sf.mod(_)})}),pulse.visit(pulse.ADD,function(t){var sf\x3dsubflow(t);field(t).forEach(function(_){return sf.add(vegaDataflow.ingest(_))})}),\npulse.visit(pulse.REM,function(t){var sf\x3dsubflow(t);field(t).forEach(function(_){return sf.rem(_)})})):(pulse.visit(pulse.MOD,function(t){return subflow(t).mod(t)}),pulse.visit(pulse.ADD,function(t){return subflow(t).add(t)}),pulse.visit(pulse.REM,function(t){return subflow(t).rem(t)}));pulse.clean()\x26\x26pulse.runAfter(function(){return $jscomp$this.clean()});return pulse}});Project.Definition\x3d{type:\x22Project\x22,metadata:{generates:!0,changes:!0},params:[{name:\x22fields\x22,type:\x22field\x22,array:!0},{name:\x22as\x22,\ntype:\x22string\x22,\x22null\x22:!0,array:!0}]};vegaUtil.inherits(Project,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE),fields\x3d_.fields,as\x3dfieldNames(_.fields,_.as||[]),derive\x3dfields?function(s,t){for(var i\x3d0,n\x3dfields.length;i\x3cn;++i)t[as[i]]\x3dfields[i](s);return t}:vegaDataflow.rederive;if(this.value)var lut\x3dthis.value;else pulse\x3dpulse.addAll(),lut\x3dthis.value\x3d{};pulse.visit(pulse.REM,function(t){t\x3dvegaDataflow.tupleid(t);out.rem.push(lut[t]);lut[t]\x3dnull});pulse.visit(pulse.ADD,\nfunction(t){var dt\x3dderive(t,vegaDataflow.ingest({}));lut[vegaDataflow.tupleid(t)]\x3ddt;out.add.push(dt)});pulse.visit(pulse.MOD,function(t){out.mod.push(derive(t,lut[vegaDataflow.tupleid(t)]))});return out}});vegaUtil.inherits(Proxy,vegaDataflow.Transform,{transform:function(_,pulse){this.value\x3d_.value;return _.modified(\x22value\x22)?pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS):pulse.StopPropagation}});Quantile.Definition\x3d{type:\x22Quantile\x22,metadata:{generates:!0,changes:!0},params:[{name:\x22groupby\x22,type:\x22field\x22,\narray:!0},{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22probs\x22,type:\x22number\x22,array:!0},{name:\x22step\x22,type:\x22number\x22,\x22default\x22:.01},{name:\x22as\x22,type:\x22string\x22,array:!0,\x22default\x22:[\x22prob\x22,\x22value\x22]}]};vegaUtil.inherits(Quantile,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),as\x3d_.as||[\x22prob\x22,\x22value\x22];if(this.value\x26\x26!_.modified()\x26\x26!pulse.changed())return out.source\x3dthis.value,out;pulse\x3dpulse.materialize(pulse.SOURCE).source;pulse\x3dpartition(pulse,_.groupby,\n_.field);var names\x3d(_.groupby||[]).map(vegaUtil.accessorName),values\x3d[],step\x3d_.step||.01,p\x3d_.probs||d3Array.range(step/2,1-1E-14,step),n\x3dp.length;pulse.forEach(function(g){for(var q\x3dvegaStatistics.quantiles(g,p),i\x3d0;i\x3cn;++i){for(var t\x3d{},i$521\x3d0;i$521\x3cnames.length;++i$521)t[names[i$521]]\x3dg.dims[i$521];t[as[0]]\x3dp[i];t[as[1]]\x3dq[i];values.push(vegaDataflow.ingest(t))}});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.add\x3dout.source\x3dvalues;return out}});vegaUtil.inherits(Relay,vegaDataflow.Transform,\n{transform:function(_,pulse){if(this.value)var lut\x3dthis.value;else{var out\x3dpulse\x3dpulse.addAll();lut\x3dthis.value\x3d{}}_.derive\x26\x26(out\x3dpulse.fork(pulse.NO_SOURCE),pulse.visit(pulse.REM,function(t){t\x3dvegaDataflow.tupleid(t);out.rem.push(lut[t]);lut[t]\x3dnull}),pulse.visit(pulse.ADD,function(t){var dt\x3dvegaDataflow.derive(t);lut[vegaDataflow.tupleid(t)]\x3ddt;out.add.push(dt)}),pulse.visit(pulse.MOD,function(t){var dt\x3dlut[vegaDataflow.tupleid(t)],k;for(k in t)dt[k]\x3dt[k],out.modifies(k);out.mod.push(dt)}));return out}});\nSample.Definition\x3d{type:\x22Sample\x22,metadata:{},params:[{name:\x22size\x22,type:\x22number\x22,\x22default\x22:1E3}]};vegaUtil.inherits(Sample,vegaDataflow.Transform,{transform:function(_,pulse){function update(t){if(res.length\x3cnum)res.push(t);else{var idx\x3d~~((cnt+1)*vegaStatistics.random());if(idx\x3cres.length\x26\x26idx\x3e\x3dcap){var p\x3dres[idx];map[vegaDataflow.tupleid(p)]\x26\x26out.rem.push(p);res[idx]\x3dt}}++cnt}var out\x3dpulse.fork(pulse.NO_SOURCE),mod\x3d_.modified(\x22size\x22),num\x3d_.size,map\x3dthis.value.reduce(function(m,t){return m[vegaDataflow.tupleid(t)]\x3d\n1,m},{}),res\x3dthis.value,cnt\x3dthis.count,cap\x3d0;pulse.rem.length\x26\x26(pulse.visit(pulse.REM,function(t){var id\x3dvegaDataflow.tupleid(t);map[id]\x26\x26(map[id]\x3d-1,out.rem.push(t));--cnt}),res\x3dres.filter(function(t){return-1!\x3d\x3dmap[vegaDataflow.tupleid(t)]}));(pulse.rem.length||mod)\x26\x26res.length\x3cnum\x26\x26pulse.source\x26\x26(cap\x3dcnt\x3dres.length,pulse.visit(pulse.SOURCE,function(t){map[vegaDataflow.tupleid(t)]||update(t)}),cap\x3d-1);if(mod\x26\x26res.length\x3enum){_\x3dres.length-num;for(mod\x3d0;mod\x3c_;++mod)map[vegaDataflow.tupleid(res[mod])]\x3d\n-1,out.rem.push(res[mod]);res\x3dres.slice(_)}pulse.mod.length\x26\x26pulse.visit(pulse.MOD,function(t){map[vegaDataflow.tupleid(t)]\x26\x26out.mod.push(t)});pulse.add.length\x26\x26pulse.visit(pulse.ADD,update);if(pulse.add.length||0\x3ecap)out.add\x3dres.filter(function(t){return!map[vegaDataflow.tupleid(t)]});this.count\x3dcnt;this.value\x3dout.source\x3dres;return out}});Sequence.Definition\x3d{type:\x22Sequence\x22,metadata:{generates:!0,changes:!0},params:[{name:\x22start\x22,type:\x22number\x22,required:!0},{name:\x22stop\x22,type:\x22number\x22,required:!0},\n{name:\x22step\x22,type:\x22number\x22,\x22default\x22:1},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22data\x22}]};vegaUtil.inherits(Sequence,vegaDataflow.Transform,{transform:function(_,pulse){if(!this.value||_.modified()){var out\x3dpulse.materialize().fork(pulse.MOD),as\x3d_.as||\x22data\x22;out.rem\x3dthis.value?pulse.rem.concat(this.value):pulse.rem;this.value\x3dd3Array.range(_.start,_.stop,_.step||1).map(function(v){var t\x3d{};t[as]\x3dv;return vegaDataflow.ingest(t)});out.add\x3dpulse.add.concat(this.value);return out}}});vegaUtil.inherits(Sieve,\nvegaDataflow.Transform,{transform:function(_,pulse){this.value\x3dpulse.source;return pulse.changed()?pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS):pulse.StopPropagation}});var OUTPUT\x3d[\x22unit0\x22,\x22unit1\x22];TimeUnit.Definition\x3d{type:\x22TimeUnit\x22,metadata:{modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22,required:!0},{name:\x22interval\x22,type:\x22boolean\x22,\x22default\x22:!0},{name:\x22units\x22,type:\x22enum\x22,values:vegaTime.TIME_UNITS,array:!0},{name:\x22step\x22,type:\x22number\x22,\x22default\x22:1},{name:\x22maxbins\x22,type:\x22number\x22,\x22default\x22:40},{name:\x22extent\x22,\ntype:\x22date\x22,array:!0},{name:\x22timezone\x22,type:\x22enum\x22,\x22default\x22:\x22local\x22,values:[\x22local\x22,\x22utc\x22]},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:OUTPUT}]};vegaUtil.inherits(TimeUnit,vegaDataflow.Transform,{transform:function(_,pulse){var field\x3d_.field,band\x3d!1!\x3d\x3d_.interval,utc\x3d\x22utc\x22\x3d\x3d\x3d_.timezone,floor\x3dthis._floor(_,pulse),offset\x3d(utc?vegaTime.utcInterval:vegaTime.timeInterval)(floor.unit).offset;utc\x3d_.as||OUTPUT;var u0\x3dutc[0],u1\x3dutc[1],step\x3dfloor.step,min\x3dfloor.start||Infinity,max\x3dfloor.stop||-Infinity,\nflag\x3dpulse.ADD;if(_.modified()||pulse.modified(vegaUtil.accessorFields(field)))pulse\x3dpulse.reflow(!0),flag\x3dpulse.SOURCE,min\x3dInfinity,max\x3d-Infinity;pulse.visit(flag,function(t){var v\x3dfield(t),b;null\x3d\x3dv?(t[u0]\x3dnull,band\x26\x26(t[u1]\x3dnull)):(t[u0]\x3dv\x3db\x3dfloor(v),band\x26\x26(t[u1]\x3db\x3doffset(v,step)),v\x3cmin\x26\x26(min\x3dv),b\x3emax\x26\x26(max\x3db))});floor.start\x3dmin;floor.stop\x3dmax;return pulse.modifies(band?utc:u0)},_floor:function(_,pulse){var utc\x3d\x22utc\x22\x3d\x3d\x3d_.timezone;pulse\x3d_.units?{units:_.units,step:_.step||1}:vegaTime.timeBin({extent:_.extent||\nvegaUtil.extent(pulse.materialize(pulse.SOURCE).source,_.field),maxbins:_.maxbins});_\x3dpulse.step;pulse\x3dvegaTime.timeUnits(pulse.units);var prev\x3dthis.value||{};utc\x3d(utc?vegaTime.utcFloor:vegaTime.timeFloor)(pulse,_);utc.unit\x3dvegaUtil.peek(pulse);utc.units\x3dpulse;utc.step\x3d_;utc.start\x3dprev.start;utc.stop\x3dprev.stop;return this.value\x3dutc}});vegaUtil.inherits(TupleIndex,vegaDataflow.Transform,{transform:function(_,pulse){var df\x3dpulse.dataflow,field\x3d_.field,index\x3dthis.value,set\x3dfunction(t){return index.set(field(t),\nt)},mod\x3d!0;_.modified(\x22field\x22)||pulse.modified(field.fields)?(index.clear(),pulse.visit(pulse.SOURCE,set)):pulse.changed()?(pulse.visit(pulse.REM,function(t){return index.delete(field(t))}),pulse.visit(pulse.ADD,set)):mod\x3d!1;this.modified(mod);index.empty\x3edf.cleanThreshold\x26\x26df.runAfter(index.clean);return pulse.fork()}});vegaUtil.inherits(Values,vegaDataflow.Transform,{transform:function(_,pulse){if(!this.value||_.modified(\x22field\x22)||_.modified(\x22sort\x22)||pulse.changed()||_.sort\x26\x26pulse.modified(_.sort.fields))this.value\x3d\n(_.sort?pulse.source.slice().sort(vegaDataflow.stableCompare(_.sort)):pulse.source).map(_.field)}});var WindowOps\x3d{row_number:function(){return{next:function(w){return w.index+1}}},rank:function(){var rank;return{init:function(){return rank\x3d1},next:function(w){var i\x3dw.index,data\x3dw.data;return i\x26\x26w.compare(data[i-1],data[i])?rank\x3di+1:rank}}},dense_rank:function(){var drank;return{init:function(){return drank\x3d1},next:function(w){var i\x3dw.index,d\x3dw.data;return i\x26\x26w.compare(d[i-1],d[i])?++drank:drank}}},\npercent_rank:function(){var rank\x3dWindowOps.rank(),next\x3drank.next;return{init:rank.init,next:function(w){return(next(w)-1)/(w.data.length-1)}}},cume_dist:function(){var cume;return{init:function(){return cume\x3d0},next:function(w){var d\x3dw.data,c\x3dw.compare;w\x3dw.index;if(cume\x3cw){for(;w+1\x3cd.length\x26\x26!c(d[w],d[w+1]);)++w;cume\x3dw}return(1+cume)/d.length}}},ntile:function(field,num){num\x3d+num;0\x3cnum||vegaUtil.error(\x22ntile num must be greater than zero.\x22);field\x3dWindowOps.cume_dist();var next\x3dfield.next;return{init:field.init,\nnext:function(w){return Math.ceil(num*next(w))}}},lag:function(field,offset){offset\x3d+offset||1;return{next:function(w){var i\x3dw.index-offset;return 0\x3c\x3di?field(w.data[i]):null}}},lead:function(field,offset){offset\x3d+offset||1;return{next:function(w){var i\x3dw.index+offset;w\x3dw.data;return i\x3cw.length?field(w[i]):null}}},first_value:function(field){return{next:function(w){return field(w.data[w.i0])}}},last_value:function(field){return{next:function(w){return field(w.data[w.i1-1])}}},nth_value:function(field,\nnth){nth\x3d+nth;0\x3cnth||vegaUtil.error(\x22nth_value nth must be greater than zero.\x22);return{next:function(w){var i\x3dw.i0+(nth-1);return i\x3cw.i1?field(w.data[i]):null}}},prev_value:function(field){var prev;return{init:function(){return prev\x3dnull},next:function(w){w\x3dfield(w.data[w.index]);return null!\x3dw?prev\x3dw:prev}}},next_value:function(field){var v,i;return{init:function(){return v\x3dnull,i\x3d-1},next:function(w){var d\x3dw.data;if(w.index\x3c\x3di)d\x3dv;else{a:{w\x3dw.index;for(var n\x3dd.length;w\x3cn;++w)if(null!\x3dfield(d[w]))break a;\nw\x3d-1}d\x3d0\x3e(i\x3dw)?(i\x3dd.length,v\x3dnull):v\x3dfield(d[i])}return d}}}};prototype\x3dObject.keys(WindowOps);var prototype$1\x3dWindowState.prototype;prototype$1.init\x3dfunction(){this.windows.forEach(function(_){return _.init()});this.cell\x26\x26this.cell.init()};prototype$1.update\x3dfunction(w,t){var cell\x3dthis.cell,wind\x3dthis.windows,data\x3dw.data,m\x3dwind\x26\x26wind.length,j;if(cell){for(j\x3dw.p0;j\x3cw.i0;++j)cell.rem(data[j]);for(j\x3dw.p1;j\x3cw.i1;++j)cell.add(data[j]);cell.set(t)}for(j\x3d0;j\x3cm;++j)wind[j].update(w,t)};Window.Definition\x3d\n{type:\x22Window\x22,metadata:{modifies:!0},params:[{name:\x22sort\x22,type:\x22compare\x22},{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22ops\x22,type:\x22enum\x22,array:!0,values:prototype.concat(noop)},{name:\x22params\x22,type:\x22number\x22,\x22null\x22:!0,array:!0},{name:\x22fields\x22,type:\x22field\x22,\x22null\x22:!0,array:!0},{name:\x22as\x22,type:\x22string\x22,\x22null\x22:!0,array:!0},{name:\x22frame\x22,type:\x22number\x22,\x22null\x22:!0,array:!0,length:2,\x22default\x22:[null,0]},{name:\x22ignorePeers\x22,type:\x22boolean\x22,\x22default\x22:!1}]};vegaUtil.inherits(Window,vegaDataflow.Transform,{transform:function(_,\npulse){var $jscomp$this\x3dthis;this.stamp\x3dpulse.stamp;var mod\x3d_.modified(),cmp\x3dvegaDataflow.stableCompare(_.sort),key\x3dgroupkey(_.groupby),state\x3dthis.state;if(!state||mod)state\x3dthis.state\x3dnew WindowState(_);mod||pulse.modified(state.inputs)?(this.value\x3d{},pulse.visit(pulse.SOURCE,function(t){return $jscomp$this.group(key(t)).add(t)})):(pulse.visit(pulse.REM,function(t){return $jscomp$this.group(key(t)).remove(t)}),pulse.visit(pulse.ADD,function(t){return $jscomp$this.group(key(t)).add(t)}));for(var i\x3d\n0,n\x3dthis._mlen;i\x3cn;++i)processPartition(this._mods[i],state,cmp,_);this._mlen\x3d0;this._mods\x3d[];return pulse.reflow(mod).modifies(state.outputs)},group:function(key){var group\x3dthis.value[key];group||(group\x3dthis.value[key]\x3dSortedList(vegaDataflow.tupleid),group.stamp\x3d-1);group.stamp\x3cthis.stamp\x26\x26(group.stamp\x3dthis.stamp,this._mods[this._mlen++]\x3dgroup);return group}});exports.aggregate\x3dAggregate;exports.bin\x3dBin;exports.collect\x3dCollect;exports.compare\x3dCompare;exports.countpattern\x3dCountPattern;exports.cross\x3d\nCross;exports.density\x3dDensity;exports.dotbin\x3dDotBin;exports.expression\x3dExpression;exports.extent\x3dExtent;exports.facet\x3dFacet;exports.field\x3dField;exports.filter\x3dFilter;exports.flatten\x3dFlatten;exports.fold\x3dFold;exports.formula\x3dFormula;exports.generate\x3dGenerate;exports.impute\x3dImpute;exports.joinaggregate\x3dJoinAggregate;exports.kde\x3dKDE;exports.key\x3dKey;exports.load\x3dLoad;exports.lookup\x3dLookup;exports.multiextent\x3dMultiExtent;exports.multivalues\x3dMultiValues;exports.params\x3dParams;exports.pivot\x3dPivot;exports.prefacet\x3d\nPreFacet;exports.project\x3dProject;exports.proxy\x3dProxy;exports.quantile\x3dQuantile;exports.relay\x3dRelay;exports.sample\x3dSample;exports.sequence\x3dSequence;exports.sieve\x3dSieve;exports.subflow\x3dSubflow;exports.timeunit\x3dTimeUnit;exports.tupleindex\x3dTupleIndex;exports.values\x3dValues;exports.window\x3dWindow;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_path$dist$d3_path.js", true , "shadow$provide.module$node_modules$d3_path$dist$d3_path\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function Path(){this._x0\x3dthis._y0\x3dthis._x1\x3dthis._y1\x3dnull;this._\x3d\x22\x22}function path(){return new Path}var pi\x3dMath.PI,tau\x3d2*pi,tauEpsilon\x3d\ntau-1E-6;Path.prototype\x3dpath.prototype\x3d{constructor:Path,moveTo:function(x,y){this._+\x3d\x22M\x22+(this._x0\x3dthis._x1\x3d+x)+\x22,\x22+(this._y0\x3dthis._y1\x3d+y)},closePath:function(){null!\x3d\x3dthis._x1\x26\x26(this._x1\x3dthis._x0,this._y1\x3dthis._y0,this._+\x3d\x22Z\x22)},lineTo:function(x,y){this._+\x3d\x22L\x22+(this._x1\x3d+x)+\x22,\x22+(this._y1\x3d+y)},quadraticCurveTo:function(x1,y1,x,y){this._+\x3d\x22Q\x22+ +x1+\x22,\x22+ +y1+\x22,\x22+(this._x1\x3d+x)+\x22,\x22+(this._y1\x3d+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+\x3d\x22C\x22+ +x1+\x22,\x22+ +y1+\x22,\x22+ +x2+\x22,\x22+ +y2+\x22,\x22+(this._x1\x3d+x)+\x22,\x22+\n(this._y1\x3d+y)},arcTo:function(x1,y1,x2,y2,r){x1\x3d+x1;y1\x3d+y1;x2\x3d+x2;y2\x3d+y2;r\x3d+r;var x0\x3dthis._x1,y0\x3dthis._y1,x21\x3dx2-x1,y21\x3dy2-y1,x01\x3dx0-x1,y01\x3dy0-y1,l01_2\x3dx01*x01+y01*y01;if(0\x3er)throw Error(\x22negative radius: \x22+r);if(null\x3d\x3d\x3dthis._x1)this._+\x3d\x22M\x22+(this._x1\x3dx1)+\x22,\x22+(this._y1\x3dy1);else if(1E-6\x3cl01_2)if(1E-6\x3cMath.abs(y01*x21-y21*x01)\x26\x26r){x2-\x3dx0;y2-\x3dy0;var l21_2\x3dx21*x21+y21*y21;y0\x3dMath.sqrt(l21_2);x0\x3dMath.sqrt(l01_2);l01_2\x3dr*Math.tan((pi-Math.acos((l21_2+l01_2-(x2*x2+y2*y2))/(2*y0*x0)))/2);x0\x3dl01_2/x0;l01_2/\x3d\ny0;1E-6\x3cMath.abs(x0-1)\x26\x26(this._+\x3d\x22L\x22+(x1+x0*x01)+\x22,\x22+(y1+x0*y01));this._+\x3d\x22A\x22+r+\x22,\x22+r+\x22,0,0,\x22+ +(y01*x2\x3ex01*y2)+\x22,\x22+(this._x1\x3dx1+l01_2*x21)+\x22,\x22+(this._y1\x3dy1+l01_2*y21)}else this._+\x3d\x22L\x22+(this._x1\x3dx1)+\x22,\x22+(this._y1\x3dy1)},arc:function(x,y,r,a0,a1,ccw){x\x3d+x;y\x3d+y;r\x3d+r;ccw\x3d!!ccw;var dx\x3dr*Math.cos(a0),dy\x3dr*Math.sin(a0),x0\x3dx+dx,y0\x3dy+dy,cw\x3d1^ccw;a0\x3dccw?a0-a1:a1-a0;if(0\x3er)throw Error(\x22negative radius: \x22+r);if(null\x3d\x3d\x3dthis._x1)this._+\x3d\x22M\x22+x0+\x22,\x22+y0;else if(1E-6\x3cMath.abs(this._x1-x0)||1E-6\x3cMath.abs(this._y1-y0))this._+\x3d\n\x22L\x22+x0+\x22,\x22+y0;r\x26\x26(0\x3ea0\x26\x26(a0\x3da0%tau+tau),a0\x3etauEpsilon?this._+\x3d\x22A\x22+r+\x22,\x22+r+\x22,0,1,\x22+cw+\x22,\x22+(x-dx)+\x22,\x22+(y-dy)+\x22A\x22+r+\x22,\x22+r+\x22,0,1,\x22+cw+\x22,\x22+(this._x1\x3dx0)+\x22,\x22+(this._y1\x3dy0):1E-6\x3ca0\x26\x26(this._+\x3d\x22A\x22+r+\x22,\x22+r+\x22,0,\x22+ +(a0\x3e\x3dpi)+\x22,\x22+cw+\x22,\x22+(this._x1\x3dx+r*Math.cos(a1))+\x22,\x22+(this._y1\x3dy+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+\x3d\x22M\x22+(this._x0\x3dthis._x1\x3d+x)+\x22,\x22+(this._y0\x3dthis._y1\x3d+y)+\x22h\x22+ +w+\x22v\x22+ +h+\x22h\x22+-w+\x22Z\x22},toString:function(){return this._}};exports.path\x3dpath;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_shape$dist$d3_shape.js", true , "shadow$provide.module$node_modules$d3_shape$dist$d3_shape\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_path$dist$d3_path\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-path\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{},global.d3))})(this,function(exports,d3Path){function constant(x){return function(){return x}}\nfunction asin(x){return 1\x3c\x3dx?halfPi:-1\x3e\x3dx?-halfPi:Math.asin(x)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d\x26\x26d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01\x3dx0-x1,y01\x3dy0-y1;cw\x3d(cw?rc:-rc)/sqrt(x01*x01+y01*y01);y01*\x3dcw;x01*\x3d-cw;var x11\x3dx0+y01,y11\x3dy0+x01,x10\x3dx1+y01,y10\x3dy1+x01;x1\x3d(x11+x10)/2;y1\x3d(y11+y10)/2;y0\x3dx10-\nx11;x0\x3dy10-y11;cw\x3dy0*y0+x0*x0;rc\x3dr1-rc;y10\x3dx11*y10-x10*y11;var d\x3d(0\x3ex0?-1:1)*sqrt(max(0,rc*rc*cw-y10*y10));x11\x3d(y10*x0-y0*d)/cw;y11\x3d(-y10*y0-x0*d)/cw;x10\x3d(y10*x0+y0*d)/cw;y0\x3d(-y10*y0+x0*d)/cw;x0\x3dx11-x1;cw\x3dy11-y1;x1\x3dx10-x1;y1\x3dy0-y1;x0*x0+cw*cw\x3ex1*x1+y1*y1\x26\x26(x11\x3dx10,y11\x3dy0);return{cx:x11,cy:y11,x01:-y01,y01:-x01,x11:x11*(r1/rc-1),y11:y11*(r1/rc-1)}}function array(x){return\x22object\x22\x3d\x3d\x3dtypeof x\x26\x26\x22length\x22in x?x:Array.from(x)}function Linear(context){this._context\x3dcontext}function curveLinear(context){return new Linear(context)}\nfunction x$jscomp$0(p){return p[0]}function y$jscomp$0(p){return p[1]}function line$jscomp$0(x$1,y$1){function line(data){var i,n\x3d(data\x3darray(data)).length,d,defined0\x3d!1,buffer;null\x3d\x3dcontext\x26\x26(output\x3dcurve(buffer\x3dd3Path.path()));for(i\x3d0;i\x3c\x3dn;++i)!(i\x3cn\x26\x26defined(d\x3ddata[i],i,data))\x3d\x3d\x3ddefined0\x26\x26((defined0\x3d!defined0)?output.lineStart():output.lineEnd()),defined0\x26\x26output.point(+x$1(d,i,data),+y$1(d,i,data));if(buffer)return output\x3dnull,buffer+\x22\x22||null}var defined\x3dconstant(!0),context\x3dnull,curve\x3dcurveLinear,\noutput\x3dnull;x$1\x3d\x22function\x22\x3d\x3d\x3dtypeof x$1?x$1:void 0\x3d\x3d\x3dx$1?x$jscomp$0:constant(x$1);y$1\x3d\x22function\x22\x3d\x3d\x3dtypeof y$1?y$1:void 0\x3d\x3d\x3dy$1?y$jscomp$0:constant(y$1);line.x\x3dfunction(_){return arguments.length?(x$1\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),line):x$1};line.y\x3dfunction(_){return arguments.length?(y$1\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),line):y$1};line.defined\x3dfunction(_){return arguments.length?(defined\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(!!_),line):defined};line.curve\x3dfunction(_){return arguments.length?\n(curve\x3d_,null!\x3dcontext\x26\x26(output\x3dcurve(context)),line):curve};line.context\x3dfunction(_){return arguments.length?(null\x3d\x3d_?context\x3doutput\x3dnull:output\x3dcurve(context\x3d_),line):context};return line}function area$jscomp$0(x0,y0,y1){function area(data){var i,k,n\x3d(data\x3darray(data)).length,d,defined0\x3d!1,buffer,x0z\x3dArray(n),y0z\x3dArray(n);null\x3d\x3dcontext\x26\x26(output\x3dcurve(buffer\x3dd3Path.path()));for(i\x3d0;i\x3c\x3dn;++i){if(!(i\x3cn\x26\x26defined(d\x3ddata[i],i,data))\x3d\x3d\x3ddefined0)if(defined0\x3d!defined0){var j\x3di;output.areaStart();output.lineStart()}else{output.lineEnd();\noutput.lineStart();for(k\x3di-1;k\x3e\x3dj;--k)output.point(x0z[k],y0z[k]);output.lineEnd();output.areaEnd()}defined0\x26\x26(x0z[i]\x3d+x0(d,i,data),y0z[i]\x3d+y0(d,i,data),output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i]))}if(buffer)return output\x3dnull,buffer+\x22\x22||null}function arealine(){return line$jscomp$0().defined(defined).curve(curve).context(context)}var x1\x3dnull,defined\x3dconstant(!0),context\x3dnull,curve\x3dcurveLinear,output\x3dnull;x0\x3d\x22function\x22\x3d\x3d\x3dtypeof x0?x0:void 0\x3d\x3d\x3dx0?x$jscomp$0:constant(+x0);y0\x3d\x22function\x22\x3d\x3d\x3d\ntypeof y0?y0:void 0\x3d\x3d\x3dy0?constant(0):constant(+y0);y1\x3d\x22function\x22\x3d\x3d\x3dtypeof y1?y1:void 0\x3d\x3d\x3dy1?y$jscomp$0:constant(+y1);area.x\x3dfunction(_){return arguments.length?(x0\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),x1\x3dnull,area):x0};area.x0\x3dfunction(_){return arguments.length?(x0\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),area):x0};area.x1\x3dfunction(_){return arguments.length?(x1\x3dnull\x3d\x3d_?null:\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),area):x1};area.y\x3dfunction(_){return arguments.length?(y0\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),\ny1\x3dnull,area):y0};area.y0\x3dfunction(_){return arguments.length?(y0\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),area):y0};area.y1\x3dfunction(_){return arguments.length?(y1\x3dnull\x3d\x3d_?null:\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),area):y1};area.lineX0\x3darea.lineY0\x3dfunction(){return arealine().x(x0).y(y0)};area.lineY1\x3dfunction(){return arealine().x(x0).y(y1)};area.lineX1\x3dfunction(){return arealine().x(x1).y(y0)};area.defined\x3dfunction(_){return arguments.length?(defined\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(!!_),area):defined};\narea.curve\x3dfunction(_){return arguments.length?(curve\x3d_,null!\x3dcontext\x26\x26(output\x3dcurve(context)),area):curve};area.context\x3dfunction(_){return arguments.length?(null\x3d\x3d_?context\x3doutput\x3dnull:output\x3dcurve(context\x3d_),area):context};return area}function descending(a,b){return b\x3ca?-1:b\x3ea?1:b\x3e\x3da?0:NaN}function identity(d){return d}function Radial(curve){this._curve\x3dcurve}function curveRadial(curve){function radial(context){return new Radial(curve(context))}radial._curve\x3dcurve;return radial}function lineRadial(l){var c\x3d\nl.curve;l.angle\x3dl.x;delete l.x;l.radius\x3dl.y;delete l.y;l.curve\x3dfunction(_){return arguments.length?c(curveRadial(_)):c()._curve};return l}function lineRadial$1(){return lineRadial(line$jscomp$0().curve(curveRadialLinear))}function areaRadial(){var a\x3darea$jscomp$0().curve(curveRadialLinear),c\x3da.curve,x0\x3da.lineX0,x1\x3da.lineX1,y0\x3da.lineY0,y1\x3da.lineY1;a.angle\x3da.x;delete a.x;a.startAngle\x3da.x0;delete a.x0;a.endAngle\x3da.x1;delete a.x1;a.radius\x3da.y;delete a.y;a.innerRadius\x3da.y0;delete a.y0;a.outerRadius\x3da.y1;\ndelete a.y1;a.lineStartAngle\x3dfunction(){return lineRadial(x0())};delete a.lineX0;a.lineEndAngle\x3dfunction(){return lineRadial(x1())};delete a.lineX1;a.lineInnerRadius\x3dfunction(){return lineRadial(y0())};delete a.lineY0;a.lineOuterRadius\x3dfunction(){return lineRadial(y1())};delete a.lineY1;a.curve\x3dfunction(_){return arguments.length?c(curveRadial(_)):c()._curve};return a}function pointRadial(x,y){return[(y\x3d+y)*Math.cos(x-\x3dMath.PI/2),y*Math.sin(x)]}function linkSource(d){return d.source}function linkTarget(d){return d.target}\nfunction link(curve){function link(){var buffer,argv\x3dslice.call(arguments),s\x3dsource.apply(this,argv),t\x3dtarget.apply(this,argv);context||(context\x3dbuffer\x3dd3Path.path());curve(context,+x$1.apply(this,(argv[0]\x3ds,argv)),+y$1.apply(this,argv),+x$1.apply(this,(argv[0]\x3dt,argv)),+y$1.apply(this,argv));if(buffer)return context\x3dnull,buffer+\x22\x22||null}var source\x3dlinkSource,target\x3dlinkTarget,x$1\x3dx$jscomp$0,y$1\x3dy$jscomp$0,context\x3dnull;link.source\x3dfunction(_){return arguments.length?(source\x3d_,link):source};link.target\x3d\nfunction(_){return arguments.length?(target\x3d_,link):target};link.x\x3dfunction(_){return arguments.length?(x$1\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),link):x$1};link.y\x3dfunction(_){return arguments.length?(y$1\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),link):y$1};link.context\x3dfunction(_){return arguments.length?(context\x3dnull\x3d\x3d_?null:_,link):context};return link}function curveHorizontal(context,x0,y0,x1,y1){context.moveTo(x0,y0);context.bezierCurveTo(x0\x3d(x0+x1)/2,y0,x0,y1,x1,y1)}function curveVertical(context,\nx0,y0,x1,y1){context.moveTo(x0,y0);context.bezierCurveTo(x0,y0\x3d(y0+y1)/2,x1,y0,x1,y1)}function curveRadial$1(context,x0,y0,x1,y1){var p0\x3dpointRadial(x0,y0);x0\x3dpointRadial(x0,y0\x3d(y0+y1)/2);y0\x3dpointRadial(x1,y0);x1\x3dpointRadial(x1,y1);context.moveTo(p0[0],p0[1]);context.bezierCurveTo(x0[0],x0[1],y0[0],y0[1],x1[0],x1[1])}function noop(){}function point(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+\nx)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context\x3dcontext}function BasisClosed(context){this._context\x3dcontext}function BasisOpen(context){this._context\x3dcontext}function Bundle(context,beta){this._basis\x3dnew Basis(context);this._beta\x3dbeta}function point$1(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context\x3d\ncontext;this._k\x3d(1-tension)/6}function CardinalClosed(context,tension){this._context\x3dcontext;this._k\x3d(1-tension)/6}function CardinalOpen(context,tension){this._context\x3dcontext;this._k\x3d(1-tension)/6}function point$2(that,x,y){var x1\x3dthat._x1,y1\x3dthat._y1,x2\x3dthat._x2,y2\x3dthat._y2;if(1E-12\x3cthat._l01_a){var a\x3d2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n\x3d3*that._l01_a*(that._l01_a+that._l12_a);x1\x3d(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n;y1\x3d(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/\nn}1E-12\x3cthat._l23_a\x26\x26(a\x3d2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,n\x3d3*that._l23_a*(that._l23_a+that._l12_a),x2\x3d(x2*a+that._x1*that._l23_2a-x*that._l12_2a)/n,y2\x3d(y2*a+that._y1*that._l23_2a-y*that._l12_2a)/n);that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context\x3dcontext;this._alpha\x3dalpha}function CatmullRomClosed(context,alpha){this._context\x3dcontext;this._alpha\x3dalpha}function CatmullRomOpen(context,alpha){this._context\x3dcontext;this._alpha\x3d\nalpha}function LinearClosed(context){this._context\x3dcontext}function slope3(that,x2,y2){var h0\x3dthat._x1-that._x0;x2-\x3dthat._x1;var s0\x3d(that._y1-that._y0)/(h0||0\x3ex2\x26\x26-0);that\x3d(y2-that._y1)/(x2||0\x3eh0\x26\x26-0);return((0\x3es0?-1:1)+(0\x3ethat?-1:1))*Math.min(Math.abs(s0),Math.abs(that),.5*Math.abs((s0*x2+that*h0)/(h0+x2)))||0}function slope2(that,t){var h\x3dthat._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function point$3(that,t0,t1){var x0\x3dthat._x0,x1\x3dthat._x1,y1\x3dthat._y1,dx\x3d(x1-x0)/3;that._context.bezierCurveTo(x0+\ndx,that._y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context\x3dcontext}function MonotoneY(context){this._context\x3dnew ReflectContext(context)}function ReflectContext(context){this._context\x3dcontext}function Natural(context){this._context\x3dcontext}function controlPoints(x){var i,n\x3dx.length-1,a\x3dArray(n),b\x3dArray(n),r\x3dArray(n);a[0]\x3d0;b[0]\x3d2;r[0]\x3dx[0]+2*x[1];for(i\x3d1;i\x3cn-1;++i)a[i]\x3d1,b[i]\x3d4,r[i]\x3d4*x[i]+2*x[i+1];a[n-1]\x3d2;b[n-1]\x3d7;r[n-1]\x3d8*x[n-1]+x[n];for(i\x3d1;i\x3cn;++i){var m\x3da[i]/b[i-1];b[i]-\x3d\nm;r[i]-\x3dm*r[i-1]}a[n-1]\x3dr[n-1]/b[n-1];for(i\x3dn-2;0\x3c\x3di;--i)a[i]\x3d(r[i]-a[i+1])/b[i];b[n-1]\x3d(x[n]+a[n-1])/2;for(i\x3d0;i\x3cn-1;++i)b[i]\x3d2*x[i+1]-a[i+1];return[a,b]}function Step(context,t){this._context\x3dcontext;this._t\x3dt}function none(series,order){if(1\x3c(n\x3dseries.length))for(var i\x3d1,j,s0,s1\x3dseries[order[0]],n,m\x3ds1.length;i\x3cn;++i)for(s0\x3ds1,s1\x3dseries[order[i]],j\x3d0;j\x3cm;++j)s1[j][1]+\x3ds1[j][0]\x3disNaN(s0[j][1])?s0[j][0]:s0[j][1]}function none$1(series){series\x3dseries.length;for(var o\x3dArray(series);0\x3c\x3d--series;)o[series]\x3d\nseries;return o}function stackValue(d,key){return d[key]}function stackSeries(key){var series\x3d[];series.key\x3dkey;return series}function appearance(series){var peaks\x3dseries.map(peak);return none$1(series).sort(function(a,b){return peaks[a]-peaks[b]})}function peak(series){for(var i\x3d-1,j\x3d0,n\x3dseries.length,vi,vj\x3d-Infinity;++i\x3cn;)(vi\x3d+series[i][1])\x3evj\x26\x26(vj\x3dvi,j\x3di);return j}function ascending(series){var sums\x3dseries.map(sum);return none$1(series).sort(function(a,b){return sums[a]-sums[b]})}function sum(series){for(var s\x3d\n0,i\x3d-1,n\x3dseries.length,v;++i\x3cn;)if(v\x3d+series[i][1])s+\x3dv;return s}var abs\x3dMath.abs,atan2\x3dMath.atan2,cos\x3dMath.cos,max\x3dMath.max,min\x3dMath.min,sin\x3dMath.sin,sqrt\x3dMath.sqrt,pi\x3dMath.PI,halfPi\x3dpi/2,tau\x3d2*pi,slice\x3dArray.prototype.slice;Linear.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._point\x3d0},lineEnd:function(){(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d\n1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point\x3d2;default:this._context.lineTo(x,y)}}};var curveRadialLinear\x3dcurveRadial(curveLinear);Radial.prototype\x3d{areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,r){this._curve.point(r*Math.sin(a),r*-Math.cos(a))}};var circle\x3d{draw:function(context,size){size\x3dMath.sqrt(size/pi);\ncontext.moveTo(size,0);context.arc(0,0,size,0,tau)}},cross\x3d{draw:function(context,size){size\x3dMath.sqrt(size/5)/2;context.moveTo(-3*size,-size);context.lineTo(-size,-size);context.lineTo(-size,-3*size);context.lineTo(size,-3*size);context.lineTo(size,-size);context.lineTo(3*size,-size);context.lineTo(3*size,size);context.lineTo(size,size);context.lineTo(size,3*size);context.lineTo(-size,3*size);context.lineTo(-size,size);context.lineTo(-3*size,size);context.closePath()}},tan30\x3dMath.sqrt(1/3),tan30_2\x3d\n2*tan30,diamond\x3d{draw:function(context,size){size\x3dMath.sqrt(size/tan30_2);var x\x3dsize*tan30;context.moveTo(0,-size);context.lineTo(x,0);context.lineTo(0,size);context.lineTo(-x,0);context.closePath()}},kr\x3dMath.sin(pi/10)/Math.sin(7*pi/10),kx\x3dMath.sin(tau/10)*kr,ky\x3d-Math.cos(tau/10)*kr;kr\x3d{draw:function(context,size){size\x3dMath.sqrt(.8908130915292852*size);var x\x3dkx*size,y\x3dky*size;context.moveTo(0,-size);context.lineTo(x,y);for(var i\x3d1;5\x3ei;++i){var a\x3dtau*i/5,c\x3dMath.cos(a);a\x3dMath.sin(a);context.lineTo(a*\nsize,-c*size);context.lineTo(c*x-a*y,a*x+c*y)}context.closePath()}};var square\x3d{draw:function(context,size){size\x3dMath.sqrt(size);var x\x3d-size/2;context.rect(x,x,size,size)}},sqrt3\x3dMath.sqrt(3),triangle\x3d{draw:function(context,size){size\x3d-Math.sqrt(size/(3*sqrt3));context.moveTo(0,2*size);context.lineTo(-sqrt3*size,-size);context.lineTo(sqrt3*size,-size);context.closePath()}},s$jscomp$0\x3dMath.sqrt(3)/2,k$jscomp$0\x3d1/Math.sqrt(12),a$jscomp$0\x3d3*(k$jscomp$0/2+1),wye\x3d{draw:function(context,size){var r\x3dMath.sqrt(size/\na$jscomp$0);size\x3dr/2;var y0\x3dr*k$jscomp$0;r\x3dr*k$jscomp$0+r;var x2\x3d-size;context.moveTo(size,y0);context.lineTo(size,r);context.lineTo(x2,r);context.lineTo(-.5*size-s$jscomp$0*y0,s$jscomp$0*size+-.5*y0);context.lineTo(-.5*size-s$jscomp$0*r,s$jscomp$0*size+-.5*r);context.lineTo(-.5*x2-s$jscomp$0*r,s$jscomp$0*x2+-.5*r);context.lineTo(-.5*size+s$jscomp$0*y0,-.5*y0-s$jscomp$0*size);context.lineTo(-.5*size+s$jscomp$0*r,-.5*r-s$jscomp$0*size);context.lineTo(-.5*x2+s$jscomp$0*r,-.5*r-s$jscomp$0*x2);context.closePath()}},\nsymbols\x3d[circle,cross,diamond,square,kr,triangle,wye];Basis.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x0\x3dthis._x1\x3dthis._y0\x3dthis._y1\x3dNaN;this._point\x3d0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d\n1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point\x3d2;break;case 2:this._point\x3d3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,x,y)}this._x0\x3dthis._x1;this._x1\x3dx;this._y0\x3dthis._y1;this._y1\x3dy}};BasisClosed.prototype\x3d{areaStart:noop,areaEnd:noop,lineStart:function(){this._x0\x3dthis._x1\x3dthis._x2\x3dthis._x3\x3dthis._x4\x3dthis._y0\x3dthis._y1\x3dthis._y2\x3dthis._y3\x3dthis._y4\x3dNaN;this._point\x3d0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,\nthis._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d1;this._x2\x3dx;this._y2\x3dy;break;case 1:this._point\x3d2;this._x3\x3dx;this._y3\x3dy;break;case 2:this._point\x3d3;this._x4\x3dx;this._y4\x3d\ny;this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:point(this,x,y)}this._x0\x3dthis._x1;this._x1\x3dx;this._y0\x3dthis._y1;this._y1\x3dy}};BasisOpen.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x0\x3dthis._x1\x3dthis._y0\x3dthis._y1\x3dNaN;this._point\x3d0},lineEnd:function(){(this._line||0!\x3d\x3dthis._line\x26\x263\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d\n1;break;case 1:this._point\x3d2;break;case 2:this._point\x3d3;var x0\x3d(this._x0+4*this._x1+x)/6,y0\x3d(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point\x3d4;default:point(this,x,y)}this._x0\x3dthis._x1;this._x1\x3dx;this._y0\x3dthis._y1;this._y1\x3dy}};Bundle.prototype\x3d{lineStart:function(){this._x\x3d[];this._y\x3d[];this._basis.lineStart()},lineEnd:function(){var x\x3dthis._x,y\x3dthis._y,j\x3dx.length-1;if(0\x3cj)for(var x0\x3dx[0],y0\x3dy[0],dx\x3dx[j]-x0,dy\x3dy[j]-y0,i\x3d-1,t;++i\x3c\x3d\nj;)t\x3di/j,this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy));this._x\x3dthis._y\x3dnull;this._basis.lineEnd()},point:function(x,y){this._x.push(+x);this._y.push(+y)}};var bundle\x3dfunction custom(beta$jscomp$0){function bundle(context){return 1\x3d\x3d\x3dbeta$jscomp$0?new Basis(context):new Bundle(context,beta$jscomp$0)}bundle.beta\x3dfunction(beta){return custom(+beta)};return bundle}(.85);Cardinal.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3d\nNaN},lineStart:function(){this._x0\x3dthis._x1\x3dthis._x2\x3dthis._y0\x3dthis._y1\x3dthis._y2\x3dNaN;this._point\x3d0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$1(this,this._x1,this._y1)}(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point\x3d2;this._x1\x3dx;this._y1\x3d\ny;break;case 2:this._point\x3d3;default:point$1(this,x,y)}this._x0\x3dthis._x1;this._x1\x3dthis._x2;this._x2\x3dx;this._y0\x3dthis._y1;this._y1\x3dthis._y2;this._y2\x3dy}};var cardinal\x3dfunction custom(tension$jscomp$0){function cardinal(context){return new Cardinal(context,tension$jscomp$0)}cardinal.tension\x3dfunction(tension){return custom(+tension)};return cardinal}(0);CardinalClosed.prototype\x3d{areaStart:noop,areaEnd:noop,lineStart:function(){this._x0\x3dthis._x1\x3dthis._x2\x3dthis._x3\x3dthis._x4\x3dthis._x5\x3dthis._y0\x3dthis._y1\x3dthis._y2\x3d\nthis._y3\x3dthis._y4\x3dthis._y5\x3dNaN;this._point\x3d0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d1;this._x3\x3dx;this._y3\x3dy;break;case 1:this._point\x3d2;this._context.moveTo(this._x4\x3dx,this._y4\x3d\ny);break;case 2:this._point\x3d3;this._x5\x3dx;this._y5\x3dy;break;default:point$1(this,x,y)}this._x0\x3dthis._x1;this._x1\x3dthis._x2;this._x2\x3dx;this._y0\x3dthis._y1;this._y1\x3dthis._y2;this._y2\x3dy}};var cardinalClosed\x3dfunction custom(tension$jscomp$0){function cardinal(context){return new CardinalClosed(context,tension$jscomp$0)}cardinal.tension\x3dfunction(tension){return custom(+tension)};return cardinal}(0);CardinalOpen.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x0\x3d\nthis._x1\x3dthis._x2\x3dthis._y0\x3dthis._y1\x3dthis._y2\x3dNaN;this._point\x3d0},lineEnd:function(){(this._line||0!\x3d\x3dthis._line\x26\x263\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d1;break;case 1:this._point\x3d2;break;case 2:this._point\x3d3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point\x3d4;default:point$1(this,x,y)}this._x0\x3dthis._x1;this._x1\x3dthis._x2;this._x2\x3dx;this._y0\x3d\nthis._y1;this._y1\x3dthis._y2;this._y2\x3dy}};var cardinalOpen\x3dfunction custom(tension$jscomp$0){function cardinal(context){return new CardinalOpen(context,tension$jscomp$0)}cardinal.tension\x3dfunction(tension){return custom(+tension)};return cardinal}(0);CatmullRom.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x0\x3dthis._x1\x3dthis._x2\x3dthis._y0\x3dthis._y1\x3dthis._y2\x3dNaN;this._l01_a\x3dthis._l12_a\x3dthis._l23_a\x3dthis._l01_2a\x3dthis._l12_2a\x3dthis._l23_2a\x3dthis._point\x3d\n0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;if(this._point){var x23\x3dthis._x2-x,y23\x3dthis._y2-y;this._l23_a\x3dMath.sqrt(this._l23_2a\x3dMath.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point\x3d1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point\x3d\n2;break;case 2:this._point\x3d3;default:point$2(this,x,y)}this._l01_a\x3dthis._l12_a;this._l12_a\x3dthis._l23_a;this._l01_2a\x3dthis._l12_2a;this._l12_2a\x3dthis._l23_2a;this._x0\x3dthis._x1;this._x1\x3dthis._x2;this._x2\x3dx;this._y0\x3dthis._y1;this._y1\x3dthis._y2;this._y2\x3dy}};var catmullRom\x3dfunction custom(alpha$jscomp$0){function catmullRom(context){return alpha$jscomp$0?new CatmullRom(context,alpha$jscomp$0):new Cardinal(context,0)}catmullRom.alpha\x3dfunction(alpha){return custom(+alpha)};return catmullRom}(.5);CatmullRomClosed.prototype\x3d\n{areaStart:noop,areaEnd:noop,lineStart:function(){this._x0\x3dthis._x1\x3dthis._x2\x3dthis._x3\x3dthis._x4\x3dthis._x5\x3dthis._y0\x3dthis._y1\x3dthis._y2\x3dthis._y3\x3dthis._y4\x3dthis._y5\x3dNaN;this._l01_a\x3dthis._l12_a\x3dthis._l23_a\x3dthis._l01_2a\x3dthis._l12_2a\x3dthis._l23_2a\x3dthis._point\x3d0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,\nthis._y4),this.point(this._x5,this._y5)}},point:function(x,y){x\x3d+x;y\x3d+y;if(this._point){var x23\x3dthis._x2-x,y23\x3dthis._y2-y;this._l23_a\x3dMath.sqrt(this._l23_2a\x3dMath.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point\x3d1;this._x3\x3dx;this._y3\x3dy;break;case 1:this._point\x3d2;this._context.moveTo(this._x4\x3dx,this._y4\x3dy);break;case 2:this._point\x3d3;this._x5\x3dx;this._y5\x3dy;break;default:point$2(this,x,y)}this._l01_a\x3dthis._l12_a;this._l12_a\x3dthis._l23_a;this._l01_2a\x3dthis._l12_2a;this._l12_2a\x3dthis._l23_2a;\nthis._x0\x3dthis._x1;this._x1\x3dthis._x2;this._x2\x3dx;this._y0\x3dthis._y1;this._y1\x3dthis._y2;this._y2\x3dy}};var catmullRomClosed\x3dfunction custom(alpha$jscomp$0){function catmullRom(context){return alpha$jscomp$0?new CatmullRomClosed(context,alpha$jscomp$0):new CardinalClosed(context,0)}catmullRom.alpha\x3dfunction(alpha){return custom(+alpha)};return catmullRom}(.5);CatmullRomOpen.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x0\x3dthis._x1\x3dthis._x2\x3dthis._y0\x3d\nthis._y1\x3dthis._y2\x3dNaN;this._l01_a\x3dthis._l12_a\x3dthis._l23_a\x3dthis._l01_2a\x3dthis._l12_2a\x3dthis._l23_2a\x3dthis._point\x3d0},lineEnd:function(){(this._line||0!\x3d\x3dthis._line\x26\x263\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){x\x3d+x;y\x3d+y;if(this._point){var x23\x3dthis._x2-x,y23\x3dthis._y2-y;this._l23_a\x3dMath.sqrt(this._l23_2a\x3dMath.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point\x3d1;break;case 1:this._point\x3d2;break;case 2:this._point\x3d3;this._line?this._context.lineTo(this._x2,\nthis._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point\x3d4;default:point$2(this,x,y)}this._l01_a\x3dthis._l12_a;this._l12_a\x3dthis._l23_a;this._l01_2a\x3dthis._l12_2a;this._l12_2a\x3dthis._l23_2a;this._x0\x3dthis._x1;this._x1\x3dthis._x2;this._x2\x3dx;this._y0\x3dthis._y1;this._y1\x3dthis._y2;this._y2\x3dy}};var catmullRomOpen\x3dfunction custom(alpha$jscomp$0){function catmullRom(context){return alpha$jscomp$0?new CatmullRomOpen(context,alpha$jscomp$0):new CardinalOpen(context,0)}catmullRom.alpha\x3dfunction(alpha){return custom(+alpha)};\nreturn catmullRom}(.5);LinearClosed.prototype\x3d{areaStart:noop,areaEnd:noop,lineStart:function(){this._point\x3d0},lineEnd:function(){this._point\x26\x26this._context.closePath()},point:function(x,y){x\x3d+x;y\x3d+y;this._point?this._context.lineTo(x,y):(this._point\x3d1,this._context.moveTo(x,y))}};MonotoneX.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x0\x3dthis._x1\x3dthis._y0\x3dthis._y1\x3dthis._t0\x3dNaN;this._point\x3d0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,\nthis._y1);break;case 3:point$3(this,this._t0,slope2(this,this._t0))}(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();this._line\x3d1-this._line},point:function(x,y){var t1\x3dNaN;x\x3d+x;y\x3d+y;if(x!\x3d\x3dthis._x1||y!\x3d\x3dthis._y1){switch(this._point){case 0:this._point\x3d1;this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point\x3d2;break;case 2:this._point\x3d3;point$3(this,slope2(this,t1\x3dslope3(this,x,y)),t1);break;default:point$3(this,this._t0,t1\x3dslope3(this,x,y))}this._x0\x3d\nthis._x1;this._x1\x3dx;this._y0\x3dthis._y1;this._y1\x3dy;this._t0\x3dt1}}};(MonotoneY.prototype\x3dObject.create(MonotoneX.prototype)).point\x3dfunction(x,y){MonotoneX.prototype.point.call(this,y,x)};ReflectContext.prototype\x3d{moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}};Natural.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3d\nNaN},lineStart:function(){this._x\x3d[];this._y\x3d[]},lineEnd:function(){var x\x3dthis._x,y\x3dthis._y,n\x3dx.length;if(n)if(this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]),2\x3d\x3d\x3dn)this._context.lineTo(x[1],y[1]);else for(var px\x3dcontrolPoints(x),py\x3dcontrolPoints(y),i0\x3d0,i1\x3d1;i1\x3cn;++i0,++i1)this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1]);(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dn)\x26\x26this._context.closePath();this._line\x3d1-this._line;this._x\x3dthis._y\x3dnull},point:function(x,\ny){this._x.push(+x);this._y.push(+y)}};Step.prototype\x3d{areaStart:function(){this._line\x3d0},areaEnd:function(){this._line\x3dNaN},lineStart:function(){this._x\x3dthis._y\x3dNaN;this._point\x3d0},lineEnd:function(){0\x3cthis._t\x26\x261\x3ethis._t\x26\x262\x3d\x3d\x3dthis._point\x26\x26this._context.lineTo(this._x,this._y);(this._line||0!\x3d\x3dthis._line\x26\x261\x3d\x3d\x3dthis._point)\x26\x26this._context.closePath();0\x3c\x3dthis._line\x26\x26(this._t\x3d1-this._t,this._line\x3d1-this._line)},point:function(x,y){x\x3d+x;y\x3d+y;switch(this._point){case 0:this._point\x3d1;this._line?this._context.lineTo(x,\ny):this._context.moveTo(x,y);break;case 1:this._point\x3d2;default:if(0\x3e\x3dthis._t)this._context.lineTo(this._x,y),this._context.lineTo(x,y);else{var x1\x3dthis._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y);this._context.lineTo(x1,y)}}this._x\x3dx;this._y\x3dy}};exports.arc\x3dfunction(){function arc(){var buffer,r0\x3d+innerRadius.apply(this,arguments),r1\x3d+outerRadius.apply(this,arguments),a0\x3dstartAngle.apply(this,arguments)-halfPi,a1\x3dendAngle.apply(this,arguments)-halfPi,da\x3dabs(a1-a0),cw\x3da1\x3ea0;context||\n(context\x3dbuffer\x3dd3Path.path());if(r1\x3cr0){var r\x3dr1;r1\x3dr0;r0\x3dr}if(1E-12\x3cr1)if(da\x3etau-1E-12)context.moveTo(r1*cos(a0),r1*sin(a0)),context.arc(0,0,r1,a0,a1,!cw),1E-12\x3cr0\x26\x26(context.moveTo(r0*cos(a1),r0*sin(a1)),context.arc(0,0,r0,a1,a0,cw));else{var a01\x3da0,a11\x3da1;r\x3da0;var a10\x3da1,da0\x3dda,da1\x3dda,ap\x3dpadAngle.apply(this,arguments)/2,rp\x3d1E-12\x3cap\x26\x26(padRadius?+padRadius.apply(this,arguments):sqrt(r0*r0+r1*r1)),rc\x3dmin(abs(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0\x3drc,rc1\x3drc;if(1E-12\x3crp){var p0\x3dasin(rp/r0*\nsin(ap));ap\x3dasin(rp/r1*sin(ap));1E-12\x3c(da0-\x3d2*p0)?(p0*\x3dcw?1:-1,r+\x3dp0,a10-\x3dp0):(da0\x3d0,r\x3da10\x3d(a0+a1)/2);1E-12\x3c(da1-\x3d2*ap)?(ap*\x3dcw?1:-1,a01+\x3dap,a11-\x3dap):(da1\x3d0,a01\x3da11\x3d(a0+a1)/2)}a0\x3dr1*cos(a01);a1\x3dr1*sin(a01);p0\x3dr0*cos(a10);ap\x3dr0*sin(a10);if(1E-12\x3crc){var x11\x3dr1*cos(a11),y11\x3dr1*sin(a11),x00\x3dr0*cos(r),y00\x3dr0*sin(r);if(da\x3dda\x3cpi){var oc\x3dx00-a0;da\x3dy00-a1;rp\x3dp0-x11;var y32\x3dap-y11,t\x3dy32*oc-rp*da;1E-12\x3et*t?oc\x3dvoid 0:(t\x3d(rp*(a1-y11)-y32*(a0-x11))/t,oc\x3d[a0+t*oc,a1+t*da]);da\x3doc}da\x26\x26(rc0\x3da0-oc[0],rc1\x3da1-oc[1],\nda\x3dx11-oc[0],rp\x3dy11-oc[1],rc0\x3d(rc0*da+rc1*rp)/(sqrt(rc0*rc0+rc1*rc1)*sqrt(da*da+rp*rp)),rc1\x3d1/sin((1\x3crc0?0:-1\x3erc0?pi:Math.acos(rc0))/2),oc\x3dsqrt(oc[0]*oc[0]+oc[1]*oc[1]),rc0\x3dmin(rc,(r0-oc)/(rc1-1)),rc1\x3dmin(rc,(r1-oc)/(rc1+1)))}1E-12\x3cda1?1E-12\x3crc1?(a01\x3dcornerTangents(x00,y00,a0,a1,r1,rc1,cw),a11\x3dcornerTangents(x11,y11,p0,ap,r1,rc1,cw),context.moveTo(a01.cx+a01.x01,a01.cy+a01.y01),rc1\x3crc?context.arc(a01.cx,a01.cy,rc1,atan2(a01.y01,a01.x01),atan2(a11.y01,a11.x01),!cw):(context.arc(a01.cx,a01.cy,rc1,atan2(a01.y01,\na01.x01),atan2(a01.y11,a01.x11),!cw),context.arc(0,0,r1,atan2(a01.cy+a01.y11,a01.cx+a01.x11),atan2(a11.cy+a11.y11,a11.cx+a11.x11),!cw),context.arc(a11.cx,a11.cy,rc1,atan2(a11.y11,a11.x11),atan2(a11.y01,a11.x01),!cw))):(context.moveTo(a0,a1),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(a0,a1);1E-12\x3cr0\x26\x261E-12\x3cda0?1E-12\x3crc0?(a01\x3dcornerTangents(p0,ap,x11,y11,r0,-rc0,cw),a11\x3dcornerTangents(a0,a1,x00,y00,r0,-rc0,cw),context.lineTo(a01.cx+a01.x01,a01.cy+a01.y01),rc0\x3crc?context.arc(a01.cx,a01.cy,rc0,atan2(a01.y01,\na01.x01),atan2(a11.y01,a11.x01),!cw):(context.arc(a01.cx,a01.cy,rc0,atan2(a01.y01,a01.x01),atan2(a01.y11,a01.x11),!cw),context.arc(0,0,r0,atan2(a01.cy+a01.y11,a01.cx+a01.x11),atan2(a11.cy+a11.y11,a11.cx+a11.x11),cw),context.arc(a11.cx,a11.cy,rc0,atan2(a11.y11,a11.x11),atan2(a11.y01,a11.x01),!cw))):context.arc(0,0,r0,a10,r,cw):context.lineTo(p0,ap)}else context.moveTo(0,0);context.closePath();if(buffer)return context\x3dnull,buffer+\x22\x22||null}var innerRadius\x3darcInnerRadius,outerRadius\x3darcOuterRadius,cornerRadius\x3d\nconstant(0),padRadius\x3dnull,startAngle\x3darcStartAngle,endAngle\x3darcEndAngle,padAngle\x3darcPadAngle,context\x3dnull;arc.centroid\x3dfunction(){var r\x3d(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a\x3d(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-pi/2;return[cos(a)*r,sin(a)*r]};arc.innerRadius\x3dfunction(_){return arguments.length?(innerRadius\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),arc):innerRadius};arc.outerRadius\x3dfunction(_){return arguments.length?(outerRadius\x3d\n\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),arc):outerRadius};arc.cornerRadius\x3dfunction(_){return arguments.length?(cornerRadius\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),arc):cornerRadius};arc.padRadius\x3dfunction(_){return arguments.length?(padRadius\x3dnull\x3d\x3d_?null:\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),arc):padRadius};arc.startAngle\x3dfunction(_){return arguments.length?(startAngle\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),arc):startAngle};arc.endAngle\x3dfunction(_){return arguments.length?(endAngle\x3d\x22function\x22\x3d\x3d\x3dtypeof _?\n_:constant(+_),arc):endAngle};arc.padAngle\x3dfunction(_){return arguments.length?(padAngle\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),arc):padAngle};arc.context\x3dfunction(_){return arguments.length?(context\x3dnull\x3d\x3d_?null:_,arc):context};return arc};exports.area\x3darea$jscomp$0;exports.areaRadial\x3dareaRadial;exports.curveBasis\x3dfunction(context){return new Basis(context)};exports.curveBasisClosed\x3dfunction(context){return new BasisClosed(context)};exports.curveBasisOpen\x3dfunction(context){return new BasisOpen(context)};\nexports.curveBundle\x3dbundle;exports.curveCardinal\x3dcardinal;exports.curveCardinalClosed\x3dcardinalClosed;exports.curveCardinalOpen\x3dcardinalOpen;exports.curveCatmullRom\x3dcatmullRom;exports.curveCatmullRomClosed\x3dcatmullRomClosed;exports.curveCatmullRomOpen\x3dcatmullRomOpen;exports.curveLinear\x3dcurveLinear;exports.curveLinearClosed\x3dfunction(context){return new LinearClosed(context)};exports.curveMonotoneX\x3dfunction(context){return new MonotoneX(context)};exports.curveMonotoneY\x3dfunction(context){return new MonotoneY(context)};\nexports.curveNatural\x3dfunction(context){return new Natural(context)};exports.curveStep\x3dfunction(context){return new Step(context,.5)};exports.curveStepAfter\x3dfunction(context){return new Step(context,1)};exports.curveStepBefore\x3dfunction(context){return new Step(context,0)};exports.line\x3dline$jscomp$0;exports.lineRadial\x3dlineRadial$1;exports.linkHorizontal\x3dfunction(){return link(curveHorizontal)};exports.linkRadial\x3dfunction(){var l\x3dlink(curveRadial$1);l.angle\x3dl.x;delete l.x;l.radius\x3dl.y;delete l.y;return l};\nexports.linkVertical\x3dfunction(){return link(curveVertical)};exports.pie\x3dfunction(){function pie(data){var i$jscomp$0,n\x3d(data\x3darray(data)).length;var j$jscomp$0\x3d0;var index\x3dArray(n),arcs\x3dArray(n),a0\x3d+startAngle.apply(this,arguments);var k\x3dMath.min(tau,Math.max(-tau,endAngle.apply(this,arguments)-a0));var p\x3dMath.min(Math.abs(k)/n,padAngle.apply(this,arguments)),pa\x3dp*(0\x3ek?-1:1),v;for(i$jscomp$0\x3d0;i$jscomp$0\x3cn;++i$jscomp$0)0\x3c(v\x3darcs[index[i$jscomp$0]\x3di$jscomp$0]\x3d+value(data[i$jscomp$0],i$jscomp$0,data))\x26\x26\n(j$jscomp$0+\x3dv);null!\x3dsortValues?index.sort(function(i,j){return sortValues(arcs[i],arcs[j])}):null!\x3dsort\x26\x26index.sort(function(i,j){return sort(data[i],data[j])});i$jscomp$0\x3d0;for(k\x3dj$jscomp$0?(k-n*pa)/j$jscomp$0:0;i$jscomp$0\x3cn;++i$jscomp$0,a0\x3da1){j$jscomp$0\x3dindex[i$jscomp$0];v\x3darcs[j$jscomp$0];var a1\x3da0+(0\x3cv?v*k:0)+pa;arcs[j$jscomp$0]\x3d{data:data[j$jscomp$0],index:i$jscomp$0,value:v,startAngle:a0,endAngle:a1,padAngle:p}}return arcs}var value\x3didentity,sortValues\x3ddescending,sort\x3dnull,startAngle\x3dconstant(0),\nendAngle\x3dconstant(tau),padAngle\x3dconstant(0);pie.value\x3dfunction(_){return arguments.length?(value\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),pie):value};pie.sortValues\x3dfunction(_){return arguments.length?(sortValues\x3d_,sort\x3dnull,pie):sortValues};pie.sort\x3dfunction(_){return arguments.length?(sort\x3d_,sortValues\x3dnull,pie):sort};pie.startAngle\x3dfunction(_){return arguments.length?(startAngle\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),pie):startAngle};pie.endAngle\x3dfunction(_){return arguments.length?(endAngle\x3d\x22function\x22\x3d\x3d\x3d\ntypeof _?_:constant(+_),pie):endAngle};pie.padAngle\x3dfunction(_){return arguments.length?(padAngle\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),pie):padAngle};return pie};exports.pointRadial\x3dpointRadial;exports.radialArea\x3dareaRadial;exports.radialLine\x3dlineRadial$1;exports.stack\x3dfunction(){function stack(data){var sz\x3dArray.from(keys.apply(this,arguments),stackSeries),i,n\x3dsz.length,j\x3d-1,$jscomp$iter$318\x3d$jscomp.makeIterator(data);for(i\x3d$jscomp$iter$318.next();!i.done;i\x3d$jscomp$iter$318.next()){var d\x3di.value;\ni\x3d0;for(++j;i\x3cn;++i)(sz[i][j]\x3d[0,+value(d,sz[i].key,j,data)]).data\x3dd}i\x3d0;for(j\x3darray(order(sz));i\x3cn;++i)sz[j[i]].index\x3di;offset(sz,j);return sz}var keys\x3dconstant([]),order\x3dnone$1,offset\x3dnone,value\x3dstackValue;stack.keys\x3dfunction(_){return arguments.length?(keys\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(Array.from(_)),stack):keys};stack.value\x3dfunction(_){return arguments.length?(value\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),stack):value};stack.order\x3dfunction(_){return arguments.length?(order\x3dnull\x3d\x3d_?none$1:\x22function\x22\x3d\x3d\x3d\ntypeof _?_:constant(Array.from(_)),stack):order};stack.offset\x3dfunction(_){return arguments.length?(offset\x3dnull\x3d\x3d_?none:_,stack):offset};return stack};exports.stackOffsetDiverging\x3dfunction(series,order){if(0\x3c(n\x3dseries.length))for(var i,j\x3d0,d,dy,yp,yn,n,m\x3dseries[order[0]].length;j\x3cm;++j)for(i\x3dyp\x3dyn\x3d0;i\x3cn;++i)0\x3c(dy\x3d(d\x3dseries[order[i]][j])[1]-d[0])?(d[0]\x3dyp,d[1]\x3dyp+\x3ddy):0\x3edy?(d[1]\x3dyn,d[0]\x3dyn+\x3ddy):(d[0]\x3d0,d[1]\x3ddy)};exports.stackOffsetExpand\x3dfunction(series,order){if(0\x3c(n\x3dseries.length)){for(var i,n,j\x3d\n0,m\x3dseries[0].length,y;j\x3cm;++j){for(y\x3di\x3d0;i\x3cn;++i)y+\x3dseries[i][j][1]||0;if(y)for(i\x3d0;i\x3cn;++i)series[i][j][1]/\x3dy}none(series,order)}};exports.stackOffsetNone\x3dnone;exports.stackOffsetSilhouette\x3dfunction(series,order){if(0\x3c(n\x3dseries.length)){for(var j\x3d0,s0\x3dseries[order[0]],n,m\x3ds0.length;j\x3cm;++j){for(var i\x3d0,y\x3d0;i\x3cn;++i)y+\x3dseries[i][j][1]||0;s0[j][1]+\x3ds0[j][0]\x3d-y/2}none(series,order)}};exports.stackOffsetWiggle\x3dfunction(series,order){if(0\x3c(n\x3dseries.length)\x26\x260\x3c(m\x3d(s0\x3dseries[order[0]]).length)){for(var y\x3d\n0,j\x3d1,s0,m,n;j\x3cm;++j){for(var i\x3d0,s1\x3d0,s2\x3d0;i\x3cn;++i){var si\x3dseries[order[i]],sij0\x3dsi[j][1]||0;si\x3d(sij0-(si[j-1][1]||0))/2;for(var k\x3d0;k\x3ci;++k){var sk\x3dseries[order[k]];si+\x3d(sk[j][1]||0)-(sk[j-1][1]||0)}s1+\x3dsij0;s2+\x3dsi*sij0}s0[j-1][1]+\x3ds0[j-1][0]\x3dy;s1\x26\x26(y-\x3ds2/s1)}s0[j-1][1]+\x3ds0[j-1][0]\x3dy;none(series,order)}};exports.stackOrderAppearance\x3dappearance;exports.stackOrderAscending\x3dascending;exports.stackOrderDescending\x3dfunction(series){return ascending(series).reverse()};exports.stackOrderInsideOut\x3dfunction(series){var n\x3d\nseries.length,sums\x3dseries.map(sum),order\x3dappearance(series),top\x3d0,bottom\x3d0,tops\x3d[],bottoms\x3d[];for(series\x3d0;series\x3cn;++series){var j\x3dorder[series];top\x3cbottom?(top+\x3dsums[j],tops.push(j)):(bottom+\x3dsums[j],bottoms.push(j))}return bottoms.reverse().concat(tops)};exports.stackOrderNone\x3dnone$1;exports.stackOrderReverse\x3dfunction(series){return none$1(series).reverse()};exports.symbol\x3dfunction(type,size){function symbol(){var buffer;context||(context\x3dbuffer\x3dd3Path.path());type.apply(this,arguments).draw(context,\n+size.apply(this,arguments));if(buffer)return context\x3dnull,buffer+\x22\x22||null}var context\x3dnull;type\x3d\x22function\x22\x3d\x3d\x3dtypeof type?type:constant(type||circle);size\x3d\x22function\x22\x3d\x3d\x3dtypeof size?size:constant(void 0\x3d\x3d\x3dsize?64:+size);symbol.type\x3dfunction(_){return arguments.length?(type\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(_),symbol):type};symbol.size\x3dfunction(_){return arguments.length?(size\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),symbol):size};symbol.context\x3dfunction(_){return arguments.length?(context\x3dnull\x3d\x3d_?null:_,\nsymbol):context};return symbol};exports.symbolCircle\x3dcircle;exports.symbolCross\x3dcross;exports.symbolDiamond\x3ddiamond;exports.symbolSquare\x3dsquare;exports.symbolStar\x3dkr;exports.symbolTriangle\x3dtriangle;exports.symbolWye\x3dwye;exports.symbols\x3dsymbols;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_canvas$build$vega_canvas.js", true , "shadow$provide.module$node_modules$vega_canvas$build$vega_canvas\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{}))})(this,function(exports){function domCanvas(w,h){if(\x22undefined\x22!\x3d\x3dtypeof document\x26\x26document.createElement){var c\x3d\ndocument.createElement(\x22canvas\x22);if(c\x26\x26c.getContext)return c.width\x3dw,c.height\x3dh,c}return null}exports.canvas\x3ddomCanvas;exports.domCanvas\x3ddomCanvas;exports.image\x3dfunction(){return\x22undefined\x22!\x3d\x3dtypeof Image?Image:null};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_color$dist$d3_color.js", true , "shadow$provide.module$node_modules$d3_color$dist$d3_color\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function define(constructor,factory,prototype){constructor.prototype\x3dfactory.prototype\x3dprototype;prototype.constructor\x3dconstructor}\nfunction extend(parent,definition){parent\x3dObject.create(parent.prototype);for(var key in definition)parent[key]\x3ddefinition[key];return parent}function Color(){}function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;format\x3d(format+\x22\x22).trim().toLowerCase();return(m\x3dreHex.exec(format))?(l\x3dm[1].length,m\x3dparseInt(m[1],16),6\x3d\x3d\x3dl?rgbn(m):3\x3d\x3d\x3dl?new Rgb(m\x3e\x3e8\x2615|m\x3e\x3e4\x26240,m\x3e\x3e4\x2615|m\x26240,(m\x2615)\x3c\x3c4|m\x2615,1):8\x3d\x3d\x3dl?rgba(m\x3e\x3e24\x26\n255,m\x3e\x3e16\x26255,m\x3e\x3e8\x26255,(m\x26255)/255):4\x3d\x3d\x3dl?rgba(m\x3e\x3e12\x2615|m\x3e\x3e8\x26240,m\x3e\x3e8\x2615|m\x3e\x3e4\x26240,m\x3e\x3e4\x2615|m\x26240,((m\x2615)\x3c\x3c4|m\x2615)/255):null):(m\x3dreRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m\x3dreRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m\x3dreRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m\x3dreRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m\x3dreHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m\x3dreHslaPercent.exec(format))?hsla(m[1],m[2]/\n100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):\x22transparent\x22\x3d\x3d\x3dformat?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n\x3e\x3e16\x26255,n\x3e\x3e8\x26255,n\x26255,1)}function rgba(r,g,b,a){0\x3e\x3da\x26\x26(r\x3dg\x3db\x3dNaN);return new Rgb(r,g,b,a)}function rgbConvert(o){o instanceof Color||(o\x3dcolor(o));if(!o)return new Rgb;o\x3do.rgb();return new Rgb(o.r,o.g,o.b,o.opacity)}function rgb(r,g,b,opacity){return 1\x3d\x3d\x3darguments.length?rgbConvert(r):new Rgb(r,g,b,null\x3d\x3dopacity?1:opacity)}function Rgb(r,g,b,opacity){this.r\x3d\n+r;this.g\x3d+g;this.b\x3d+b;this.opacity\x3d+opacity}function rgb_formatHex(){return\x22#\x22+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a\x3dthis.opacity;a\x3disNaN(a)?1:Math.max(0,Math.min(1,a));return(1\x3d\x3d\x3da?\x22rgb(\x22:\x22rgba(\x22)+Math.max(0,Math.min(255,Math.round(this.r)||0))+\x22, \x22+Math.max(0,Math.min(255,Math.round(this.g)||0))+\x22, \x22+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1\x3d\x3d\x3da?\x22)\x22:\x22, \x22+a+\x22)\x22)}function hex(value){value\x3dMath.max(0,Math.min(255,Math.round(value)||0));return(16\x3evalue?\x220\x22:\x22\x22)+\nvalue.toString(16)}function hsla(h,s,l,a){0\x3e\x3da?h\x3ds\x3dl\x3dNaN:0\x3e\x3dl||1\x3c\x3dl?h\x3ds\x3dNaN:0\x3e\x3ds\x26\x26(h\x3dNaN);return new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);o instanceof Color||(o\x3dcolor(o));if(!o)return new Hsl;if(o instanceof Hsl)return o;o\x3do.rgb();var r\x3do.r/255,g\x3do.g/255,b\x3do.b/255,min\x3dMath.min(r,g,b),max\x3dMath.max(r,g,b),h\x3dNaN,s\x3dmax-min,l\x3d(max+min)/2;s?(h\x3dr\x3d\x3d\x3dmax?(g-b)/s+6*(g\x3cb):g\x3d\x3d\x3dmax?(b-r)/s+2:(r-g)/s+4,s/\x3d.5\x3el?max+min:2-max-min,h*\x3d60):s\x3d0\x3cl\x26\x261\x3el?0:h;return new Hsl(h,\ns,l,o.opacity)}function hsl(h,s,l,opacity){return 1\x3d\x3d\x3darguments.length?hslConvert(h):new Hsl(h,s,l,null\x3d\x3dopacity?1:opacity)}function Hsl(h,s,l,opacity){this.h\x3d+h;this.s\x3d+s;this.l\x3d+l;this.opacity\x3d+opacity}function hsl2rgb(h,m1,m2){return 255*(60\x3eh?m1+(m2-m1)*h/60:180\x3eh?m2:240\x3eh?m1+(m2-m1)*(240-h)/60:m1)}function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o\x3drgbConvert(o));var r\x3drgb2lrgb(o.r),g\x3drgb2lrgb(o.g),b\x3drgb2lrgb(o.b),\ny\x3dxyz2lab(.2225045*r+.7168786*g+.0606169*b);if(r\x3d\x3d\x3dg\x26\x26g\x3d\x3d\x3db)var x\x3dr\x3dy;else x\x3dxyz2lab((.4360747*r+.3850649*g+.1430804*b)/.96422),r\x3dxyz2lab((.0139322*r+.0971045*g+.7141733*b)/.82521);return new Lab(116*y-16,500*(x-y),200*(y-r),o.opacity)}function lab(l,a,b,opacity){return 1\x3d\x3d\x3darguments.length?labConvert(l):new Lab(l,a,b,null\x3d\x3dopacity?1:opacity)}function Lab(l,a,b,opacity){this.l\x3d+l;this.a\x3d+a;this.b\x3d+b;this.opacity\x3d+opacity}function xyz2lab(t){return t\x3et3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t\x3e\nt1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(.0031308\x3e\x3dx?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return.04045\x3e\x3d(x/\x3d255)?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o\x3dlabConvert(o));if(0\x3d\x3d\x3do.a\x26\x260\x3d\x3d\x3do.b)return new Hcl(NaN,0\x3co.l\x26\x26100\x3eo.l?0:NaN,o.l,o.opacity);var h\x3dMath.atan2(o.b,o.a)*degrees;return new Hcl(0\x3eh?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1\x3d\x3d\x3d\narguments.length?hclConvert(h):new Hcl(h,c,l,null\x3d\x3dopacity?1:opacity)}function Hcl(h,c,l,opacity){this.h\x3d+h;this.c\x3d+c;this.l\x3d+l;this.opacity\x3d+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h\x3do.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}function cubehelix(h,s,l$jscomp$0,opacity){if(1\x3d\x3d\x3darguments.length){var JSCompiler_temp\x3dh;if(JSCompiler_temp instanceof Cubehelix)JSCompiler_temp\x3dnew Cubehelix(JSCompiler_temp.h,JSCompiler_temp.s,JSCompiler_temp.l,\nJSCompiler_temp.opacity);else{JSCompiler_temp instanceof Rgb||(JSCompiler_temp\x3drgbConvert(JSCompiler_temp));var g\x3dJSCompiler_temp.g/255,b\x3dJSCompiler_temp.b/255,l\x3d(BC_DA*b+JSCompiler_temp.r/255*-1.7884503806-3.5172982438*g)/(BC_DA+-1.7884503806-3.5172982438);b-\x3dl;var k\x3d(1.97294*(g-l)- -.29227*b)/-.90649;b\x3d(g\x3dMath.sqrt(k*k+b*b)/(1.97294*l*(1-l)))?Math.atan2(k,b)*degrees-120:NaN;JSCompiler_temp\x3dnew Cubehelix(0\x3eb?b+360:b,g,l,JSCompiler_temp.opacity)}}else JSCompiler_temp\x3dnew Cubehelix(h,s,l$jscomp$0,\nnull\x3d\x3dopacity?1:opacity);return JSCompiler_temp}function Cubehelix(h,s,l,opacity){this.h\x3d+h;this.s\x3d+s;this.l\x3d+l;this.opacity\x3d+opacity}var brighter\x3d1/.7,reHex\x3d/^#([0-9a-f]{3,8})$/,reRgbInteger\x3d/^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$/,reRgbPercent\x3d/^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$/,reRgbaInteger\x3d/^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$/,\nreRgbaPercent\x3d/^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$/,reHslPercent\x3d/^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$/,reHslaPercent\x3d/^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$/,\nnamed\x3d{aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,\ndarkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,\nhotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,\nlinen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,\npalevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,\nturquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb});define(Rgb,rgb,extend(Color,{brighter:function(k){k\x3dnull\x3d\x3dk?brighter:\nMath.pow(brighter,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){k\x3dnull\x3d\x3dk?.7:Math.pow(.7,k);return new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5\x3c\x3dthis.r\x26\x26255.5\x3ethis.r\x26\x26-.5\x3c\x3dthis.g\x26\x26255.5\x3ethis.g\x26\x26-.5\x3c\x3dthis.b\x26\x26255.5\x3ethis.b\x26\x260\x3c\x3dthis.opacity\x26\x261\x3e\x3dthis.opacity},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));define(Hsl,hsl,extend(Color,{brighter:function(k){k\x3dnull\x3d\x3d\nk?brighter:Math.pow(brighter,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k\x3dnull\x3d\x3dk?.7:Math.pow(.7,k);return new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h\x3dthis.h%360+360*(0\x3ethis.h),s\x3disNaN(h)||isNaN(this.s)?0:this.s,l\x3dthis.l;s\x3dl+(.5\x3el?l:1-l)*s;l\x3d2*l-s;return new Rgb(hsl2rgb(240\x3c\x3dh?h-240:h+120,l,s),hsl2rgb(h,l,s),hsl2rgb(120\x3eh?h+240:h-120,l,s),this.opacity)},displayable:function(){return(0\x3c\x3dthis.s\x26\x261\x3e\x3dthis.s||isNaN(this.s))\x26\x260\x3c\x3dthis.l\x26\x261\x3e\x3dthis.l\x26\x26\n0\x3c\x3dthis.opacity\x26\x261\x3e\x3dthis.opacity},formatHsl:function(){var a\x3dthis.opacity;a\x3disNaN(a)?1:Math.max(0,Math.min(1,a));return(1\x3d\x3d\x3da?\x22hsl(\x22:\x22hsla(\x22)+(this.h||0)+\x22, \x22+100*(this.s||0)+\x22%, \x22+100*(this.l||0)+\x22%\x22+(1\x3d\x3d\x3da?\x22)\x22:\x22, \x22+a+\x22)\x22)}}));var radians\x3dMath.PI/180,degrees\x3d180/Math.PI,t0\x3d4/29,t1\x3d6/29,t2\x3d3*t1*t1,t3\x3dt1*t1*t1;define(Lab,lab,extend(Color,{brighter:function(k){return new Lab(this.l+18*(null\x3d\x3dk?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null\x3d\x3dk?1:k),this.a,this.b,\nthis.opacity)},rgb:function(){var y\x3d(this.l+16)/116,x\x3disNaN(this.a)?y:y+this.a/500,z\x3disNaN(this.b)?y:y-this.b/200;x\x3d.96422*lab2xyz(x);y\x3d1*lab2xyz(y);z\x3d.82521*lab2xyz(z);return new Rgb(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}}));define(Hcl,hcl,extend(Color,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null\x3d\x3dk?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,\nthis.l-18*(null\x3d\x3dk?1:k),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var BC_DA\x3d1.78277*-.29227-.1347134789;define(Cubehelix,cubehelix,extend(Color,{brighter:function(k){k\x3dnull\x3d\x3dk?brighter:Math.pow(brighter,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k\x3dnull\x3d\x3dk?.7:Math.pow(.7,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h\x3disNaN(this.h)?0:(this.h+120)*radians,l\x3d+this.l,a\x3disNaN(this.s)?0:this.s*l*(1-l),cosh\x3dMath.cos(h);\nh\x3dMath.sin(h);return new Rgb(255*(l+a*(-.14861*cosh+1.78277*h)),255*(l+a*(-.29227*cosh+-.90649*h)),255*(l+1.97294*a*cosh),this.opacity)}}));exports.color\x3dcolor;exports.cubehelix\x3dcubehelix;exports.gray\x3dfunction(l,opacity){return new Lab(l,0,0,null\x3d\x3dopacity?1:opacity)};exports.hcl\x3dhcl;exports.hsl\x3dhsl;exports.lab\x3dlab;exports.lch\x3dfunction(l,c,h,opacity){return 1\x3d\x3d\x3darguments.length?hclConvert(l):new Hcl(h,c,l,null\x3d\x3dopacity?1:opacity)};exports.rgb\x3drgb;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_interpolate$dist$d3_interpolate.js", true , "shadow$provide.module$node_modules$d3_interpolate$dist$d3_interpolate\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_color$dist$d3_color\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-color\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{},global.d3))})(this,function(exports,d3Color){function basis(t1,v0,v1,v2,\nv3){var t2\x3dt1*t1,t3\x3dt2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}function basis$1(values){var n\x3dvalues.length-1;return function(t){var i\x3d0\x3e\x3dt?t\x3d0:1\x3c\x3dt?(t\x3d1,n-1):Math.floor(t*n),v1\x3dvalues[i],v2\x3dvalues[i+1];return basis((t-i/n)*n,0\x3ci?values[i-1]:2*v1-v2,v1,v2,i\x3cn-1?values[i+2]:2*v2-v1)}}function basisClosed(values){var n\x3dvalues.length;return function(t){var i\x3dMath.floor((0\x3e(t%\x3d1)?++t:t)*n);return basis((t-i/n)*n,values[(i+n-1)%n],values[i%n],values[(i+1)%n],values[(i+\n2)%n])}}function linear(a,d){return function(t){return a+t*d}}function exponential(a,b,y){return a\x3dMath.pow(a,y),b\x3dMath.pow(b,y)-a,y\x3d1/y,function(t){return Math.pow(a+t*b,y)}}function hue(a,b){var d\x3db-a;return d?linear(a,180\x3cd||-180\x3ed?d-360*Math.round(d/360):d):constant(isNaN(a)?b:a)}function gamma(y){return 1\x3d\x3d\x3d(y\x3d+y)?nogamma:function(a,b){return b-a?exponential(a,b,y):constant(isNaN(a)?b:a)}}function nogamma(a,b){var d\x3db-a;return d?linear(a,d):constant(isNaN(a)?b:a)}function rgbSpline(spline){return function(colors){var n\x3d\ncolors.length,r\x3dArray(n),g\x3dArray(n),b\x3dArray(n),i;for(i\x3d0;i\x3cn;++i){var color\x3dd3Color.rgb(colors[i]);r[i]\x3dcolor.r||0;g[i]\x3dcolor.g||0;b[i]\x3dcolor.b||0}r\x3dspline(r);g\x3dspline(g);b\x3dspline(b);color.opacity\x3d1;return function(t){color.r\x3dr(t);color.g\x3dg(t);color.b\x3db(t);return color+\x22\x22}}}function numberArray(a,b){b||(b\x3d[]);var n\x3da?Math.min(b.length,a.length):0,c\x3db.slice(),i;return function(t){for(i\x3d0;i\x3cn;++i)c[i]\x3da[i]*(1-t)+b[i]*t;return c}}function isNumberArray(x){return ArrayBuffer.isView(x)\x26\x26!(x instanceof\nDataView)}function genericArray(a,b){var nb\x3db?b.length:0,na\x3da?Math.min(nb,a.length):0,x\x3dArray(na),c\x3dArray(nb),i;for(i\x3d0;i\x3cna;++i)x[i]\x3dvalue$jscomp$0(a[i],b[i]);for(;i\x3cnb;++i)c[i]\x3db[i];return function(t){for(i\x3d0;i\x3cna;++i)c[i]\x3dx[i](t);return c}}function date(a,b){var d\x3dnew Date;return a\x3d+a,b\x3d+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function number(a,b){return a\x3d+a,b\x3d+b,function(t){return a*(1-t)+b*t}}function object(a,b){var i\x3d{},c\x3d{},k;if(null\x3d\x3d\x3da||\x22object\x22!\x3d\x3dtypeof a)a\x3d{};if(null\x3d\x3d\x3db||\x22object\x22!\x3d\x3d\ntypeof b)b\x3d{};for(k in b)k in a?i[k]\x3dvalue$jscomp$0(a[k],b[k]):c[k]\x3db[k];return function(t){for(k in i)c[k]\x3di[k](t);return c}}function zero(b){return function(){return b}}function one(b){return function(t){return b(t)+\x22\x22}}function string(a,b){var bi\x3dreA.lastIndex\x3dreB.lastIndex\x3d0,am,bm,bs,i$jscomp$0\x3d-1,s\x3d[],q\x3d[];a+\x3d\x22\x22;for(b+\x3d\x22\x22;(am\x3dreA.exec(a))\x26\x26(bm\x3dreB.exec(b));)(bs\x3dbm.index)\x3ebi\x26\x26(bs\x3db.slice(bi,bs),s[i$jscomp$0]?s[i$jscomp$0]+\x3dbs:s[++i$jscomp$0]\x3dbs),(am\x3dam[0])\x3d\x3d\x3d(bm\x3dbm[0])?s[i$jscomp$0]?s[i$jscomp$0]+\x3d\nbm:s[++i$jscomp$0]\x3dbm:(s[++i$jscomp$0]\x3dnull,q.push({i:i$jscomp$0,x:number(am,bm)})),bi\x3dreB.lastIndex;bi\x3cb.length\x26\x26(bs\x3db.slice(bi),s[i$jscomp$0]?s[i$jscomp$0]+\x3dbs:s[++i$jscomp$0]\x3dbs);return 2\x3es.length?q[0]?one(q[0].x):zero(b):(b\x3dq.length,function(t){for(var i\x3d0,o;i\x3cb;++i)s[(o\x3dq[i]).i]\x3do.x(t);return s.join(\x22\x22)})}function value$jscomp$0(a,b){var t\x3dtypeof b,c;return null\x3d\x3db||\x22boolean\x22\x3d\x3d\x3dt?constant(b):(\x22number\x22\x3d\x3d\x3dt?number:\x22string\x22\x3d\x3d\x3dt?(c\x3dd3Color.color(b))?(b\x3dc,rgb$jscomp$0):string:b instanceof d3Color.color?\nrgb$jscomp$0:b instanceof Date?date:isNumberArray(b)?numberArray:Array.isArray(b)?genericArray:\x22function\x22!\x3d\x3dtypeof b.valueOf\x26\x26\x22function\x22!\x3d\x3dtypeof b.toString||isNaN(b)?object:number)(a,b)}function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;if(scaleX\x3dMath.sqrt(a*a+b*b))a/\x3dscaleX,b/\x3dscaleX;if(skewX\x3da*c+b*d)c-\x3da*skewX,d-\x3db*skewX;if(scaleY\x3dMath.sqrt(c*c+d*d))c/\x3dscaleY,d/\x3dscaleY,skewX/\x3dscaleY;a*d\x3cb*c\x26\x26(a\x3d-a,b\x3d-b,skewX\x3d-skewX,scaleX\x3d-scaleX);return{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,\nskewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+\x22 \x22:\x22\x22}function translate(xa,ya,xb,yb,s,q){xa!\x3d\x3dxb||ya!\x3d\x3dyb?(s\x3ds.push(\x22translate(\x22,null,pxComma,null,pxParen),q.push({i:s-4,x:number(xa,xb)},{i:s-2,x:number(ya,yb)})):(xb||yb)\x26\x26s.push(\x22translate(\x22+xb+pxComma+yb+pxParen)}function rotate(a,b,s,q){a!\x3d\x3db?(180\x3ca-b?b+\x3d360:180\x3cb-a\x26\x26(a+\x3d360),q.push({i:s.push(pop(s)+\x22rotate(\x22,null,degParen)-2,x:number(a,\nb)})):b\x26\x26s.push(pop(s)+\x22rotate(\x22+b+degParen)}function skewX(a,b,s,q){a!\x3d\x3db?q.push({i:s.push(pop(s)+\x22skewX(\x22,null,degParen)-2,x:number(a,b)}):b\x26\x26s.push(pop(s)+\x22skewX(\x22+b+degParen)}function scale(xa,ya,xb,yb,s,q){xa!\x3d\x3dxb||ya!\x3d\x3dyb?(s\x3ds.push(pop(s)+\x22scale(\x22,null,\x22,\x22,null,\x22)\x22),q.push({i:s-4,x:number(xa,xb)},{i:s-2,x:number(ya,yb)})):1\x3d\x3d\x3dxb\x26\x261\x3d\x3d\x3dyb||s.push(pop(s)+\x22scale(\x22+xb+\x22,\x22+yb+\x22)\x22)}return function(a,b){var s\x3d[],q\x3d[];a\x3dparse(a);b\x3dparse(b);translate(a.translateX,a.translateY,b.translateX,b.translateY,\ns,q);rotate(a.rotate,b.rotate,s,q);skewX(a.skewX,b.skewX,s,q);scale(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q);a\x3db\x3dnull;return function(t){for(var i\x3d-1,n\x3dq.length,o;++i\x3cn;)s[(o\x3dq[i]).i]\x3do.x(t);return s.join(\x22\x22)}}}function cosh(x){return((x\x3dMath.exp(x))+1/x)/2}function hsl(hue){return function(start,end){var h\x3dhue((start\x3dd3Color.hsl(start)).h,(end\x3dd3Color.hsl(end)).h),s\x3dnogamma(start.s,end.s),l\x3dnogamma(start.l,end.l),opacity\x3dnogamma(start.opacity,end.opacity);return function(t){start.h\x3dh(t);start.s\x3d\ns(t);start.l\x3dl(t);start.opacity\x3dopacity(t);return start+\x22\x22}}}function hcl(hue){return function(start,end){var h\x3dhue((start\x3dd3Color.hcl(start)).h,(end\x3dd3Color.hcl(end)).h),c\x3dnogamma(start.c,end.c),l\x3dnogamma(start.l,end.l),opacity\x3dnogamma(start.opacity,end.opacity);return function(t){start.h\x3dh(t);start.c\x3dc(t);start.l\x3dl(t);start.opacity\x3dopacity(t);return start+\x22\x22}}}function cubehelix$jscomp$0(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h\x3dhue((start\x3dd3Color.cubehelix(start)).h,\n(end\x3dd3Color.cubehelix(end)).h),s\x3dnogamma(start.s,end.s),l\x3dnogamma(start.l,end.l),opacity\x3dnogamma(start.opacity,end.opacity);return function(t){start.h\x3dh(t);start.s\x3ds(t);start.l\x3dl(Math.pow(t,y));start.opacity\x3dopacity(t);return start+\x22\x22}}y\x3d+y;cubehelix.gamma\x3dcubehelixGamma;return cubehelix}(1)}var constant\x3dfunction(x){return function(){return x}},rgb$jscomp$0\x3dfunction rgbGamma(y){function rgb(start,end){var r\x3dcolor((start\x3dd3Color.rgb(start)).r,(end\x3dd3Color.rgb(end)).r),g\x3dcolor(start.g,end.g),b\x3dcolor(start.b,\nend.b),opacity\x3dnogamma(start.opacity,end.opacity);return function(t){start.r\x3dr(t);start.g\x3dg(t);start.b\x3db(t);start.opacity\x3dopacity(t);return start+\x22\x22}}var color\x3dgamma(y);rgb.gamma\x3drgbGamma;return rgb}(1),rgbBasis\x3drgbSpline(basis$1),rgbBasisClosed\x3drgbSpline(basisClosed),reA\x3d/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,reB\x3dnew RegExp(reA.source,\x22g\x22),degrees\x3d180/Math.PI,identity\x3d{translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},svgNode,interpolateTransformCss\x3dinterpolateTransform(function(value){value\x3d\nnew (\x22function\x22\x3d\x3d\x3dtypeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+\x22\x22);return value.isIdentity?identity:decompose(value.a,value.b,value.c,value.d,value.e,value.f)},\x22px, \x22,\x22px)\x22,\x22deg)\x22),interpolateTransformSvg\x3dinterpolateTransform(function(value){if(null\x3d\x3dvalue)return identity;svgNode||(svgNode\x3ddocument.createElementNS(\x22http://www.w3.org/2000/svg\x22,\x22g\x22));svgNode.setAttribute(\x22transform\x22,value);if(!(value\x3dsvgNode.transform.baseVal.consolidate()))return identity;value\x3dvalue.matrix;return decompose(value.a,\nvalue.b,value.c,value.d,value.e,value.f)},\x22, \x22,\x22)\x22,\x22)\x22),zoom$jscomp$0\x3dfunction zoomRho(rho,rho2,rho4){function zoom(p0,p1){var ux0\x3dp0[0],uy0\x3dp0[1],w0\x3dp0[2];p0\x3dp1[2];var dx\x3dp1[0]-ux0,dy\x3dp1[1]-uy0,d2\x3ddx*dx+dy*dy;if(1E-12\x3ed2){var S\x3dMath.log(p0/w0)/rho;p0\x3dfunction(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]}}else{var d1\x3dMath.sqrt(d2);p1\x3d(p0*p0-w0*w0+rho4*d2)/(2*w0*rho2*d1);p0\x3d(p0*p0-w0*w0-rho4*d2)/(2*p0*rho2*d1);var r0\x3dMath.log(Math.sqrt(p1*p1+1)-p1);S\x3d(Math.log(Math.sqrt(p0*p0+1)-p0)-r0)/rho;p0\x3d\nfunction(t){t*\x3dS;var coshr0\x3dcosh(r0),x\x3drho*t+r0;var JSCompiler_inline_result\x3d((x\x3dMath.exp(2*x))-1)/(x+1);var x$jscomp$0\x3dr0;x\x3d((x$jscomp$0\x3dMath.exp(x$jscomp$0))-1/x$jscomp$0)/2;JSCompiler_inline_result\x3dw0/(rho2*d1)*(coshr0*JSCompiler_inline_result-x);return[ux0+JSCompiler_inline_result*dx,uy0+JSCompiler_inline_result*dy,w0*coshr0/cosh(rho*t+r0)]}}p0.duration\x3d1E3*S*rho/Math.SQRT2;return p0}zoom.rho\x3dfunction(_){_\x3dMath.max(.001,+_);var _2\x3d_*_;return zoomRho(_,_2,_2*_2)};return zoom}(Math.SQRT2,2,4),hsl$1\x3d\nhsl(hue),hslLong\x3dhsl(nogamma),hcl$1\x3dhcl(hue),hclLong\x3dhcl(nogamma),cubehelix$1\x3dcubehelix$jscomp$0(hue),cubehelixLong\x3dcubehelix$jscomp$0(nogamma);exports.interpolate\x3dvalue$jscomp$0;exports.interpolateArray\x3dfunction(a,b){return(isNumberArray(b)?numberArray:genericArray)(a,b)};exports.interpolateBasis\x3dbasis$1;exports.interpolateBasisClosed\x3dbasisClosed;exports.interpolateCubehelix\x3dcubehelix$1;exports.interpolateCubehelixLong\x3dcubehelixLong;exports.interpolateDate\x3ddate;exports.interpolateDiscrete\x3dfunction(range){var n\x3d\nrange.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}};exports.interpolateHcl\x3dhcl$1;exports.interpolateHclLong\x3dhclLong;exports.interpolateHsl\x3dhsl$1;exports.interpolateHslLong\x3dhslLong;exports.interpolateHue\x3dfunction(a,b){var i\x3dhue(+a,+b);return function(t){t\x3di(t);return t-360*Math.floor(t/360)}};exports.interpolateLab\x3dfunction(start,end){var l\x3dnogamma((start\x3dd3Color.lab(start)).l,(end\x3dd3Color.lab(end)).l),a\x3dnogamma(start.a,end.a),b\x3dnogamma(start.b,end.b),opacity\x3d\nnogamma(start.opacity,end.opacity);return function(t){start.l\x3dl(t);start.a\x3da(t);start.b\x3db(t);start.opacity\x3dopacity(t);return start+\x22\x22}};exports.interpolateNumber\x3dnumber;exports.interpolateNumberArray\x3dnumberArray;exports.interpolateObject\x3dobject;exports.interpolateRgb\x3drgb$jscomp$0;exports.interpolateRgbBasis\x3drgbBasis;exports.interpolateRgbBasisClosed\x3drgbBasisClosed;exports.interpolateRound\x3dfunction(a,b){return a\x3d+a,b\x3d+b,function(t){return Math.round(a*(1-t)+b*t)}};exports.interpolateString\x3dstring;\nexports.interpolateTransformCss\x3dinterpolateTransformCss;exports.interpolateTransformSvg\x3dinterpolateTransformSvg;exports.interpolateZoom\x3dzoom$jscomp$0;exports.piecewise\x3dfunction(interpolate,values){void 0\x3d\x3d\x3dvalues\x26\x26(values\x3dinterpolate,interpolate\x3dvalue$jscomp$0);for(var i$jscomp$0\x3d0,n\x3dvalues.length-1,v\x3dvalues[0],I\x3dArray(0\x3en?0:n);i$jscomp$0\x3cn;)I[i$jscomp$0]\x3dinterpolate(v,v\x3dvalues[++i$jscomp$0]);return function(t){var i\x3dMath.max(0,Math.min(n-1,Math.floor(t*\x3dn)));return I[i](t-i)}};exports.quantize\x3dfunction(interpolator,\nn){for(var samples\x3dArray(n),i\x3d0;i\x3cn;++i)samples[i]\x3dinterpolator(i/(n-1));return samples};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_scale$dist$d3_scale.js", true , "shadow$provide.module$node_modules$d3_scale$dist$d3_scale\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$d3_interpolate$dist$d3_interpolate\x22),require(\x22module$node_modules$d3_format$dist$d3_format\x22),require(\x22module$node_modules$d3_time$dist$d3_time\x22),require(\x22module$node_modules$d3_time_format$dist$d3_time_format\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports d3-array d3-interpolate d3-format d3-time d3-time-format\x22.split(\x22 \x22),factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{},global.d3,global.d3,global.d3,global.d3,global.d3))})(this,function(exports,d3Array,d3Interpolate,d3Format,d3Time,d3TimeFormat){function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function initInterpolator(domain,\ninterpolator){switch(arguments.length){case 0:break;case 1:\x22function\x22\x3d\x3d\x3dtypeof domain?this.interpolator(domain):this.range(domain);break;default:this.domain(domain),\x22function\x22\x3d\x3d\x3dtypeof interpolator?this.interpolator(interpolator):this.range(interpolator)}return this}function ordinal(){function scale(d){var key\x3dd+\x22\x22,i\x3dindex.get(key);if(!i){if(unknown!\x3d\x3dimplicit)return unknown;index.set(key,i\x3ddomain.push(d))}return range[(i-1)%range.length]}var index\x3dnew Map,domain\x3d[],range\x3d[],unknown\x3dimplicit;scale.domain\x3d\nfunction(_){if(!arguments.length)return domain.slice();domain\x3d[];index\x3dnew Map;for(var $jscomp$iter$319\x3d$jscomp.makeIterator(_),$jscomp$key$value\x3d$jscomp$iter$319.next();!$jscomp$key$value.done;$jscomp$key$value\x3d$jscomp$iter$319.next()){$jscomp$key$value\x3d$jscomp$key$value.value;var key\x3d$jscomp$key$value+\x22\x22;index.has(key)||index.set(key,domain.push($jscomp$key$value))}return scale};scale.range\x3dfunction(_){return arguments.length?(range\x3dArray.from(_),scale):range.slice()};scale.unknown\x3dfunction(_){return arguments.length?\n(unknown\x3d_,scale):unknown};scale.copy\x3dfunction(){return ordinal(domain,range).unknown(unknown)};initRange.apply(scale,arguments);return scale}function band(){function rescale(){var n\x3ddomain().length,reverse\x3dr1\x3cr0,start\x3dreverse?r1:r0,stop\x3dreverse?r0:r1;step\x3d(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter);round\x26\x26(step\x3dMath.floor(step));start+\x3d(stop-start-step*(n-paddingInner))*align;bandwidth\x3dstep*(1-paddingInner);round\x26\x26(start\x3dMath.round(start),bandwidth\x3dMath.round(bandwidth));n\x3dd3Array.range(n).map(function(i){return start+\nstep*i});return ordinalRange(reverse?n.reverse():n)}var scale\x3dordinal().unknown(void 0),domain\x3dscale.domain,ordinalRange\x3dscale.range,r0\x3d0,r1\x3d1,step,bandwidth,round\x3d!1,paddingInner\x3d0,paddingOuter\x3d0,align\x3d.5;delete scale.unknown;scale.domain\x3dfunction(_){return arguments.length?(domain(_),rescale()):domain()};scale.range\x3dfunction(_){if(arguments.length){var JSCompiler_temp\x3d$jscomp.makeIterator(_);r0\x3dJSCompiler_temp.next().value;r1\x3dJSCompiler_temp.next().value;JSCompiler_temp\x3d(r0\x3d+r0,r1\x3d+r1,rescale())}else JSCompiler_temp\x3d\n[r0,r1];return JSCompiler_temp};scale.rangeRound\x3dfunction(_){_\x3d$jscomp.makeIterator(_);r0\x3d_.next().value;r1\x3d_.next().value;return r0\x3d+r0,r1\x3d+r1,round\x3d!0,rescale()};scale.bandwidth\x3dfunction(){return bandwidth};scale.step\x3dfunction(){return step};scale.round\x3dfunction(_){return arguments.length?(round\x3d!!_,rescale()):round};scale.padding\x3dfunction(_){return arguments.length?(paddingInner\x3dMath.min(1,paddingOuter\x3d+_),rescale()):paddingInner};scale.paddingInner\x3dfunction(_){return arguments.length?(paddingInner\x3d\nMath.min(1,_),rescale()):paddingInner};scale.paddingOuter\x3dfunction(_){return arguments.length?(paddingOuter\x3d+_,rescale()):paddingOuter};scale.align\x3dfunction(_){return arguments.length?(align\x3dMath.max(0,Math.min(1,_)),rescale()):align};scale.copy\x3dfunction(){return band(domain(),[r0,r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)};return initRange.apply(rescale(),arguments)}function pointish(scale){var copy\x3dscale.copy;scale.padding\x3dscale.paddingOuter;delete scale.paddingInner;\ndelete scale.paddingOuter;scale.copy\x3dfunction(){return pointish(copy())};return scale}function constant(x){return function(){return x}}function number(x){return+x}function identity(x){return x}function normalize(a,b){return(b-\x3da\x3d+a)?function(x){return(x-a)/b}:constant(isNaN(b)?NaN:.5)}function clamper(a,b){if(a\x3eb){var t\x3da;a\x3db;b\x3dt}return function(x){return Math.max(a,Math.min(b,x))}}function bimap(domain,range,interpolate){var d0\x3ddomain[0];domain\x3ddomain[1];var r0\x3drange[0];range\x3drange[1];domain\x3cd0?\n(d0\x3dnormalize(domain,d0),r0\x3dinterpolate(range,r0)):(d0\x3dnormalize(d0,domain),r0\x3dinterpolate(r0,range));return function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j\x3dMath.min(domain.length,range.length)-1,d\x3dArray(j),r\x3dArray(j),i$jscomp$0\x3d-1;domain[j]\x3cdomain[0]\x26\x26(domain\x3ddomain.slice().reverse(),range\x3drange.slice().reverse());for(;++i$jscomp$0\x3cj;)d[i$jscomp$0]\x3dnormalize(domain[i$jscomp$0],domain[i$jscomp$0+1]),r[i$jscomp$0]\x3dinterpolate(range[i$jscomp$0],range[i$jscomp$0+1]);return function(x){var i\x3d\nd3Array.bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy$jscomp$0(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer(){function rescale(){var n\x3dMath.min(domain.length,range.length);clamp!\x3d\x3didentity\x26\x26(clamp\x3dclamper(domain[0],domain[n-1]));piecewise\x3d2\x3cn?polymap:bimap;output\x3dinput\x3dnull;return scale}function scale(x){return isNaN(x\x3d+x)?unknown:(output||(output\x3dpiecewise(domain.map(transform),\nrange,interpolate)))(transform(clamp(x)))}var domain\x3dunit,range\x3dunit,interpolate\x3dd3Interpolate.interpolate,transform,untransform,unknown,clamp\x3didentity,piecewise,output,input;scale.invert\x3dfunction(y){return clamp(untransform((input||(input\x3dpiecewise(range,domain.map(transform),d3Interpolate.interpolateNumber)))(y)))};scale.domain\x3dfunction(_){return arguments.length?(domain\x3dArray.from(_,number),rescale()):domain.slice()};scale.range\x3dfunction(_){return arguments.length?(range\x3dArray.from(_),rescale()):\nrange.slice()};scale.rangeRound\x3dfunction(_){return range\x3dArray.from(_),interpolate\x3dd3Interpolate.interpolateRound,rescale()};scale.clamp\x3dfunction(_){return arguments.length?(clamp\x3d_?!0:identity,rescale()):clamp!\x3d\x3didentity};scale.interpolate\x3dfunction(_){return arguments.length?(interpolate\x3d_,rescale()):interpolate};scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,scale):unknown};return function(t,u){transform\x3dt;untransform\x3du;return rescale()}}function tickFormat(start,stop,count,specifier){count\x3d\nd3Array.tickStep(start,stop,count);var precision;specifier\x3dd3Format.formatSpecifier(null\x3d\x3dspecifier?\x22,f\x22:specifier);switch(specifier.type){case \x22s\x22:return start\x3dMath.max(Math.abs(start),Math.abs(stop)),null!\x3dspecifier.precision||isNaN(precision\x3dd3Format.precisionPrefix(count,start))||(specifier.precision\x3dprecision),d3Format.formatPrefix(specifier,start);case \x22\x22:case \x22e\x22:case \x22g\x22:case \x22p\x22:case \x22r\x22:null!\x3dspecifier.precision||isNaN(precision\x3dd3Format.precisionRound(count,Math.max(Math.abs(start),Math.abs(stop))))||\n(specifier.precision\x3dprecision-(\x22e\x22\x3d\x3d\x3dspecifier.type));break;case \x22f\x22:case \x22%\x22:null!\x3dspecifier.precision||isNaN(precision\x3dd3Format.precisionFixed(count))||(specifier.precision\x3dprecision-2*(\x22%\x22\x3d\x3d\x3dspecifier.type))}return d3Format.format(specifier)}function linearish(scale){var domain\x3dscale.domain;scale.ticks\x3dfunction(count){var d\x3ddomain();return d3Array.ticks(d[0],d[d.length-1],null\x3d\x3dcount?10:count)};scale.tickFormat\x3dfunction(count,specifier){var d\x3ddomain();return tickFormat(d[0],d[d.length-1],null\x3d\x3d\ncount?10:count,specifier)};scale.nice\x3dfunction(count){null\x3d\x3dcount\x26\x26(count\x3d10);var d\x3ddomain(),i0\x3d0,i1\x3dd.length-1,start\x3dd[i0],stop\x3dd[i1],maxIter\x3d10;if(stop\x3cstart){var step\x3dstart;start\x3dstop;stop\x3dstep;step\x3di0;i0\x3di1;i1\x3dstep}for(;0\x3cmaxIter--;){step\x3dd3Array.tickIncrement(start,stop,count);if(step\x3d\x3d\x3dprestep)return d[i0]\x3dstart,d[i1]\x3dstop,domain(d);if(0\x3cstep)start\x3dMath.floor(start/step)*step,stop\x3dMath.ceil(stop/step)*step;else if(0\x3estep)start\x3dMath.ceil(start*step)/step,stop\x3dMath.floor(stop*step)/step;else break;\nvar prestep\x3dstep}return scale};return scale}function linear(){var scale\x3dtransformer()(identity,identity);scale.copy\x3dfunction(){return copy$jscomp$0(scale,linear())};initRange.apply(scale,arguments);return linearish(scale)}function identity$1(domain){function scale(x){return isNaN(x\x3d+x)?unknown:x}var unknown;scale.invert\x3dscale;scale.domain\x3dscale.range\x3dfunction(_){return arguments.length?(domain\x3dArray.from(_,number),scale):domain.slice()};scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,\nscale):unknown};scale.copy\x3dfunction(){return identity$1(domain).unknown(unknown)};domain\x3darguments.length?Array.from(domain,number):[0,1];return linearish(scale)}function nice(domain,interval){domain\x3ddomain.slice();var i0\x3d0,i1\x3ddomain.length-1,x0\x3ddomain[i0],x1\x3ddomain[i1];if(x1\x3cx0){var t\x3di0;i0\x3di1;i1\x3dt;t\x3dx0;x0\x3dx1;x1\x3dt}domain[i0]\x3dinterval.floor(x0);domain[i1]\x3dinterval.ceil(x1);return domain}function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}\nfunction transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?+(\x221e\x22+x):0\x3ex?0:x}function powp(base){return 10\x3d\x3d\x3dbase?pow10:base\x3d\x3d\x3dMath.E?Math.exp:function(x){return Math.pow(base,x)}}function logp(base){return base\x3d\x3d\x3dMath.E?Math.log:10\x3d\x3d\x3dbase\x26\x26Math.log10||2\x3d\x3d\x3dbase\x26\x26Math.log2||(base\x3dMath.log(base),function(x){return Math.log(x)/base})}function reflect(f){return function(x){return-f(-x)}}function loggish(transform){function rescale(){logs\x3dlogp(base);pows\x3dpowp(base);0\x3edomain()[0]?\n(logs\x3dreflect(logs),pows\x3dreflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp);return scale}var scale\x3dtransform(transformLog,transformExp),domain\x3dscale.domain,base\x3d10,logs,pows;scale.base\x3dfunction(_){return arguments.length?(base\x3d+_,rescale()):base};scale.domain\x3dfunction(_){return arguments.length?(domain(_),rescale()):domain()};scale.ticks\x3dfunction(count){var d\x3ddomain(),u\x3dd[0];d\x3dd[d.length-1];var r;if(r\x3dd\x3cu)i\x3du,u\x3dd,d\x3di;var i\x3dlogs(u),j\x3dlogs(d),n\x3dnull\x3d\x3dcount?10:\n+count,z\x3d[];if(!(base%1)\x26\x26j-i\x3cn){i\x3dMath.floor(i);j\x3dMath.ceil(j);if(0\x3cu)for(;i\x3c\x3dj;++i){var k\x3d1;for(count\x3dpows(i);k\x3cbase;++k){var t\x3dcount*k;if(!(t\x3cu)){if(t\x3ed)break;z.push(t)}}}else for(;i\x3c\x3dj;++i)for(k\x3dbase-1,count\x3dpows(i);1\x3c\x3dk;--k)if(t\x3dcount*k,!(t\x3cu)){if(t\x3ed)break;z.push(t)}2*z.length\x3cn\x26\x26(z\x3dd3Array.ticks(u,d,n))}else z\x3dd3Array.ticks(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z};scale.tickFormat\x3dfunction(count,specifier){null\x3d\x3dspecifier\x26\x26(specifier\x3d10\x3d\x3d\x3dbase?\x22.0e\x22:\x22,\x22);\x22function\x22!\x3d\x3dtypeof specifier\x26\x26\n(specifier\x3dd3Format.format(specifier));if(Infinity\x3d\x3d\x3dcount)return specifier;null\x3d\x3dcount\x26\x26(count\x3d10);var k\x3dMath.max(1,base*count/scale.ticks().length);return function(d){var i\x3dd/pows(Math.round(logs(d)));i*base\x3cbase-.5\x26\x26(i*\x3dbase);return i\x3c\x3dk?specifier(d):\x22\x22}};scale.nice\x3dfunction(){return domain(nice(domain(),{floor:function(x){return pows(Math.floor(logs(x)))},ceil:function(x){return pows(Math.ceil(logs(x)))}}))};return scale}function log(){var scale\x3dloggish(transformer()).domain([1,10]);scale.copy\x3d\nfunction(){return copy$jscomp$0(scale,log()).base(scale.base())};initRange.apply(scale,arguments);return scale}function transformSymlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function transformSymexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function symlogish(transform){var c\x3d1,scale\x3dtransform(transformSymlog(c),transformSymexp(c));scale.constant\x3dfunction(_){return arguments.length?transform(transformSymlog(c\x3d+_),transformSymexp(c)):c};return linearish(scale)}\nfunction symlog(){var scale\x3dsymlogish(transformer());scale.copy\x3dfunction(){return copy$jscomp$0(scale,symlog()).constant(scale.constant())};return initRange.apply(scale,arguments)}function transformPow(exponent){return function(x){return 0\x3ex?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function transformSqrt(x){return 0\x3ex?-Math.sqrt(-x):Math.sqrt(x)}function transformSquare(x){return 0\x3ex?-x*x:x*x}function powish(transform){var scale\x3dtransform(identity,identity),exponent\x3d1;scale.exponent\x3dfunction(_){return arguments.length?\n(exponent\x3d+_,1\x3d\x3d\x3dexponent?transform(identity,identity):.5\x3d\x3d\x3dexponent?transform(transformSqrt,transformSquare):transform(transformPow(exponent),transformPow(1/exponent))):exponent};return linearish(scale)}function pow(){var scale\x3dpowish(transformer());scale.copy\x3dfunction(){return copy$jscomp$0(scale,pow()).exponent(scale.exponent())};initRange.apply(scale,arguments);return scale}function square(x){return Math.sign(x)*x*x}function radial(){function scale(x){x\x3dsquared(x);x\x3dMath.sign(x)*Math.sqrt(Math.abs(x));\nreturn isNaN(x)?unknown:round?Math.round(x):x}var squared\x3dtransformer()(identity,identity),range\x3d[0,1],round\x3d!1,unknown;scale.invert\x3dfunction(y){return squared.invert(square(y))};scale.domain\x3dfunction(_){return arguments.length?(squared.domain(_),scale):squared.domain()};scale.range\x3dfunction(_){return arguments.length?(squared.range((range\x3dArray.from(_,number)).map(square)),scale):range.slice()};scale.rangeRound\x3dfunction(_){return scale.range(_).round(!0)};scale.round\x3dfunction(_){return arguments.length?\n(round\x3d!!_,scale):round};scale.clamp\x3dfunction(_){return arguments.length?(squared.clamp(_),scale):squared.clamp()};scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,scale):unknown};scale.copy\x3dfunction(){return radial(squared.domain(),range).round(round).clamp(squared.clamp()).unknown(unknown)};initRange.apply(scale,arguments);return linearish(scale)}function quantile(){function rescale(){var i\x3d0,n\x3dMath.max(1,range.length);for(thresholds\x3dArray(n-1);++i\x3cn;)thresholds[i-1]\x3dd3Array.quantile(domain,\ni/n);return scale}function scale(x){return isNaN(x\x3d+x)?unknown:range[d3Array.bisect(thresholds,x)]}var domain\x3d[],range\x3d[],thresholds\x3d[],unknown;scale.invertExtent\x3dfunction(y){y\x3drange.indexOf(y);return 0\x3ey?[NaN,NaN]:[0\x3cy?thresholds[y-1]:domain[0],y\x3cthresholds.length?thresholds[y]:domain[domain.length-1]]};scale.domain\x3dfunction(_){if(!arguments.length)return domain.slice();domain\x3d[];for(var $jscomp$iter$320\x3d$jscomp.makeIterator(_),$jscomp$key$d\x3d$jscomp$iter$320.next();!$jscomp$key$d.done;$jscomp$key$d\x3d\n$jscomp$iter$320.next())$jscomp$key$d\x3d$jscomp$key$d.value,null\x3d\x3d$jscomp$key$d||isNaN($jscomp$key$d\x3d+$jscomp$key$d)||domain.push($jscomp$key$d);domain.sort(d3Array.ascending);return rescale()};scale.range\x3dfunction(_){return arguments.length?(range\x3dArray.from(_),rescale()):range.slice()};scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,scale):unknown};scale.quantiles\x3dfunction(){return thresholds.slice()};scale.copy\x3dfunction(){return quantile().domain(domain).range(range).unknown(unknown)};\nreturn initRange.apply(scale,arguments)}function quantize(){function scale(x){return x\x3c\x3dx?range[d3Array.bisect(domain,x,0,n)]:unknown}function rescale(){var i\x3d-1;for(domain\x3dArray(n);++i\x3cn;)domain[i]\x3d((i+1)*x1-(i-n)*x0)/(n+1);return scale}var x0\x3d0,x1\x3d1,n\x3d1,domain\x3d[.5],range\x3d[0,1],unknown;scale.domain\x3dfunction(_){if(arguments.length){var JSCompiler_temp\x3d$jscomp.makeIterator(_);x0\x3dJSCompiler_temp.next().value;x1\x3dJSCompiler_temp.next().value;JSCompiler_temp\x3d(x0\x3d+x0,x1\x3d+x1,rescale())}else JSCompiler_temp\x3d\n[x0,x1];return JSCompiler_temp};scale.range\x3dfunction(_){return arguments.length?(n\x3d(range\x3dArray.from(_)).length-1,rescale()):range.slice()};scale.invertExtent\x3dfunction(y){y\x3drange.indexOf(y);return 0\x3ey?[NaN,NaN]:1\x3ey?[x0,domain[0]]:y\x3e\x3dn?[domain[n-1],x1]:[domain[y-1],domain[y]]};scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,scale):scale};scale.thresholds\x3dfunction(){return domain.slice()};scale.copy\x3dfunction(){return quantize().domain([x0,x1]).range(range).unknown(unknown)};return initRange.apply(linearish(scale),\narguments)}function threshold(){function scale(x){return x\x3c\x3dx?range[d3Array.bisect(domain,x,0,n)]:unknown}var domain\x3d[.5],range\x3d[0,1],unknown,n\x3d1;scale.domain\x3dfunction(_){return arguments.length?(domain\x3dArray.from(_),n\x3dMath.min(domain.length,range.length-1),scale):domain.slice()};scale.range\x3dfunction(_){return arguments.length?(range\x3dArray.from(_),n\x3dMath.min(domain.length,range.length-1),scale):range.slice()};scale.invertExtent\x3dfunction(y){y\x3drange.indexOf(y);return[domain[y-1],domain[y]]};scale.unknown\x3d\nfunction(_){return arguments.length?(unknown\x3d_,scale):unknown};scale.copy\x3dfunction(){return threshold().domain(domain).range(range).unknown(unknown)};return initRange.apply(scale,arguments)}function date$jscomp$0(t){return new Date(t)}function number$1(t){return t instanceof Date?+t:+new Date(+t)}function calendar(year,month,week,day,hour,minute,second,millisecond,format){function tickFormat(date){return(second(date)\x3cdate?formatMillisecond:minute(date)\x3cdate?formatSecond:hour(date)\x3cdate?formatMinute:\nday(date)\x3cdate?formatHour:month(date)\x3cdate?week(date)\x3cdate?formatDay:formatWeek:year(date)\x3cdate?formatMonth:formatYear)(date)}function tickInterval(interval,start,stop){null\x3d\x3dinterval\x26\x26(interval\x3d10);if(\x22number\x22\x3d\x3d\x3dtypeof interval){var target\x3dMath.abs(stop-start)/interval,i$jscomp$0\x3dd3Array.bisector(function(i){return i[2]}).right(tickIntervals,target);i$jscomp$0\x3d\x3d\x3dtickIntervals.length?(start\x3dd3Array.tickStep(start/31536E6,stop/31536E6,interval),interval\x3dyear):i$jscomp$0?(i$jscomp$0\x3dtickIntervals[target/\ntickIntervals[i$jscomp$0-1][2]\x3ctickIntervals[i$jscomp$0][2]/target?i$jscomp$0-1:i$jscomp$0],start\x3di$jscomp$0[1],interval\x3di$jscomp$0[0]):(start\x3dMath.max(d3Array.tickStep(start,stop,interval),1),interval\x3dmillisecond);return interval.every(start)}return interval}var scale\x3dtransformer()(identity,identity),invert\x3dscale.invert,domain\x3dscale.domain,formatMillisecond\x3dformat(\x22.%L\x22),formatSecond\x3dformat(\x22:%S\x22),formatMinute\x3dformat(\x22%I:%M\x22),formatHour\x3dformat(\x22%I %p\x22),formatDay\x3dformat(\x22%a %d\x22),formatWeek\x3dformat(\x22%b %d\x22),\nformatMonth\x3dformat(\x22%B\x22),formatYear\x3dformat(\x22%Y\x22),tickIntervals\x3d[[second,1,1E3],[second,5,5E3],[second,15,15E3],[second,30,3E4],[minute,1,6E4],[minute,5,3E5],[minute,15,9E5],[minute,30,18E5],[hour,1,36E5],[hour,3,108E5],[hour,6,216E5],[hour,12,432E5],[day,1,864E5],[day,2,1728E5],[week,1,6048E5],[month,1,2592E6],[month,3,7776E6],[year,1,31536E6]];scale.invert\x3dfunction(y){return new Date(invert(y))};scale.domain\x3dfunction(_){return arguments.length?domain(Array.from(_,number$1)):domain().map(date$jscomp$0)};\nscale.ticks\x3dfunction(interval){var d\x3ddomain(),t0\x3dd[0];d\x3dd[d.length-1];var r\x3dd\x3ct0;if(r){var t\x3dt0;t0\x3dd;d\x3dt}t\x3d(t\x3dtickInterval(interval,t0,d))?t.range(t0,d+1):[];return r?t.reverse():t};scale.tickFormat\x3dfunction(count,specifier){return null\x3d\x3dspecifier?tickFormat:format(specifier)};scale.nice\x3dfunction(interval){var d\x3ddomain();return(interval\x3dtickInterval(interval,d[0],d[d.length-1]))?domain(nice(d,interval)):scale};scale.copy\x3dfunction(){return copy$jscomp$0(scale,calendar(year,month,week,day,hour,minute,\nsecond,millisecond,format))};return scale}function transformer$1(){function scale(x){return isNaN(x\x3d+x)?unknown:interpolator(0\x3d\x3d\x3dk10?.5:(x\x3d(transform(x)-t0)*k10,clamp?Math.max(0,Math.min(1,x)):x))}function range(interpolate){return function(_){if(arguments.length){var r1\x3d$jscomp.makeIterator(_);var r0\x3dr1.next().value;r1\x3dr1.next().value;r0\x3d(interpolator\x3dinterpolate(r0,r1),scale)}else r0\x3d[interpolator(0),interpolator(1)];return r0}}var x0\x3d0,x1\x3d1,t0,t1,k10,transform,interpolator\x3didentity,clamp\x3d!1,unknown;\nscale.domain\x3dfunction(_){if(arguments.length){var JSCompiler_temp\x3d$jscomp.makeIterator(_);x0\x3dJSCompiler_temp.next().value;x1\x3dJSCompiler_temp.next().value;JSCompiler_temp\x3d(t0\x3dtransform(x0\x3d+x0),t1\x3dtransform(x1\x3d+x1),k10\x3dt0\x3d\x3d\x3dt1?0:1/(t1-t0),scale)}else JSCompiler_temp\x3d[x0,x1];return JSCompiler_temp};scale.clamp\x3dfunction(_){return arguments.length?(clamp\x3d!!_,scale):clamp};scale.interpolator\x3dfunction(_){return arguments.length?(interpolator\x3d_,scale):interpolator};scale.range\x3drange(d3Interpolate.interpolate);\nscale.rangeRound\x3drange(d3Interpolate.interpolateRound);scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,scale):unknown};return function(t){transform\x3dt;t0\x3dt(x0);t1\x3dt(x1);k10\x3dt0\x3d\x3d\x3dt1?0:1/(t1-t0);return scale}}function copy$1(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequential(){var scale\x3dlinearish(transformer$1()(identity));scale.copy\x3dfunction(){return copy$1(scale,sequential())};return initInterpolator.apply(scale,\narguments)}function sequentialLog(){var scale\x3dloggish(transformer$1()).domain([1,10]);scale.copy\x3dfunction(){return copy$1(scale,sequentialLog()).base(scale.base())};return initInterpolator.apply(scale,arguments)}function sequentialSymlog(){var scale\x3dsymlogish(transformer$1());scale.copy\x3dfunction(){return copy$1(scale,sequentialSymlog()).constant(scale.constant())};return initInterpolator.apply(scale,arguments)}function sequentialPow(){var scale\x3dpowish(transformer$1());scale.copy\x3dfunction(){return copy$1(scale,\nsequentialPow()).exponent(scale.exponent())};return initInterpolator.apply(scale,arguments)}function sequentialQuantile(){function scale(x){if(!isNaN(x\x3d+x))return interpolator((d3Array.bisect(domain,x,1)-1)/(domain.length-1))}var domain\x3d[],interpolator\x3didentity;scale.domain\x3dfunction(_){if(!arguments.length)return domain.slice();domain\x3d[];for(var $jscomp$iter$321\x3d$jscomp.makeIterator(_),$jscomp$key$d\x3d$jscomp$iter$321.next();!$jscomp$key$d.done;$jscomp$key$d\x3d$jscomp$iter$321.next())$jscomp$key$d\x3d$jscomp$key$d.value,\nnull\x3d\x3d$jscomp$key$d||isNaN($jscomp$key$d\x3d+$jscomp$key$d)||domain.push($jscomp$key$d);domain.sort(d3Array.ascending);return scale};scale.interpolator\x3dfunction(_){return arguments.length?(interpolator\x3d_,scale):interpolator};scale.range\x3dfunction(){return domain.map(function(d,i){return interpolator(i/(domain.length-1))})};scale.quantiles\x3dfunction(n){return Array.from({length:n+1},function(_,i){return d3Array.quantile(domain,i/n)})};scale.copy\x3dfunction(){return sequentialQuantile(interpolator).domain(domain)};\nreturn initInterpolator.apply(scale,arguments)}function transformer$2(){function scale(x){return isNaN(x\x3d+x)?unknown:(x\x3d.5+((x\x3d+transform(x))-t1)*(s*x\x3cs*t1?k10:k21),interpolator(clamp?Math.max(0,Math.min(1,x)):x))}function range(interpolate){return function(_){if(arguments.length){var r2\x3d$jscomp.makeIterator(_);var r0\x3dr2.next().value;var r1\x3dr2.next().value;r2\x3dr2.next().value;r0\x3d(interpolator\x3dd3Interpolate.piecewise(interpolate,[r0,r1,r2]),scale)}else r0\x3d[interpolator(0),interpolator(.5),interpolator(1)];\nreturn r0}}var x0\x3d0,x1\x3d.5,x2\x3d1,s\x3d1,t0,t1,t2,k10,k21,interpolator\x3didentity,transform,clamp\x3d!1,unknown;scale.domain\x3dfunction(_){if(arguments.length){var JSCompiler_temp\x3d$jscomp.makeIterator(_);x0\x3dJSCompiler_temp.next().value;x1\x3dJSCompiler_temp.next().value;x2\x3dJSCompiler_temp.next().value;JSCompiler_temp\x3d(t0\x3dtransform(x0\x3d+x0),t1\x3dtransform(x1\x3d+x1),t2\x3dtransform(x2\x3d+x2),k10\x3dt0\x3d\x3d\x3dt1?0:.5/(t1-t0),k21\x3dt1\x3d\x3d\x3dt2?0:.5/(t2-t1),s\x3dt1\x3ct0?-1:1,scale)}else JSCompiler_temp\x3d[x0,x1,x2];return JSCompiler_temp};scale.clamp\x3d\nfunction(_){return arguments.length?(clamp\x3d!!_,scale):clamp};scale.interpolator\x3dfunction(_){return arguments.length?(interpolator\x3d_,scale):interpolator};scale.range\x3drange(d3Interpolate.interpolate);scale.rangeRound\x3drange(d3Interpolate.interpolateRound);scale.unknown\x3dfunction(_){return arguments.length?(unknown\x3d_,scale):unknown};return function(t){transform\x3dt;t0\x3dt(x0);t1\x3dt(x1);t2\x3dt(x2);k10\x3dt0\x3d\x3d\x3dt1?0:.5/(t1-t0);k21\x3dt1\x3d\x3d\x3dt2?0:.5/(t2-t1);s\x3dt1\x3ct0?-1:1;return scale}}function diverging(){var scale\x3dlinearish(transformer$2()(identity));\nscale.copy\x3dfunction(){return copy$1(scale,diverging())};return initInterpolator.apply(scale,arguments)}function divergingLog(){var scale\x3dloggish(transformer$2()).domain([.1,1,10]);scale.copy\x3dfunction(){return copy$1(scale,divergingLog()).base(scale.base())};return initInterpolator.apply(scale,arguments)}function divergingSymlog(){var scale\x3dsymlogish(transformer$2());scale.copy\x3dfunction(){return copy$1(scale,divergingSymlog()).constant(scale.constant())};return initInterpolator.apply(scale,arguments)}\nfunction divergingPow(){var scale\x3dpowish(transformer$2());scale.copy\x3dfunction(){return copy$1(scale,divergingPow()).exponent(scale.exponent())};return initInterpolator.apply(scale,arguments)}$jscomp.initSymbol();var implicit\x3dSymbol(\x22implicit\x22),unit\x3d[0,1];exports.scaleBand\x3dband;exports.scaleDiverging\x3ddiverging;exports.scaleDivergingLog\x3ddivergingLog;exports.scaleDivergingPow\x3ddivergingPow;exports.scaleDivergingSqrt\x3dfunction(){return divergingPow.apply(null,arguments).exponent(.5)};exports.scaleDivergingSymlog\x3d\ndivergingSymlog;exports.scaleIdentity\x3didentity$1;exports.scaleImplicit\x3dimplicit;exports.scaleLinear\x3dlinear;exports.scaleLog\x3dlog;exports.scaleOrdinal\x3dordinal;exports.scalePoint\x3dfunction(){return pointish(band.apply(null,arguments).paddingInner(1))};exports.scalePow\x3dpow;exports.scaleQuantile\x3dquantile;exports.scaleQuantize\x3dquantize;exports.scaleRadial\x3dradial;exports.scaleSequential\x3dsequential;exports.scaleSequentialLog\x3dsequentialLog;exports.scaleSequentialPow\x3dsequentialPow;exports.scaleSequentialQuantile\x3d\nsequentialQuantile;exports.scaleSequentialSqrt\x3dfunction(){return sequentialPow.apply(null,arguments).exponent(.5)};exports.scaleSequentialSymlog\x3dsequentialSymlog;exports.scaleSqrt\x3dfunction(){return pow.apply(null,arguments).exponent(.5)};exports.scaleSymlog\x3dsymlog;exports.scaleThreshold\x3dthreshold;exports.scaleTime\x3dfunction(){return initRange.apply(calendar(d3Time.timeYear,d3Time.timeMonth,d3Time.timeWeek,d3Time.timeDay,d3Time.timeHour,d3Time.timeMinute,d3Time.timeSecond,d3Time.timeMillisecond,d3TimeFormat.timeFormat).domain([new Date(2E3,\n0,1),new Date(2E3,0,2)]),arguments)};exports.scaleUtc\x3dfunction(){return initRange.apply(calendar(d3Time.utcYear,d3Time.utcMonth,d3Time.utcWeek,d3Time.utcDay,d3Time.utcHour,d3Time.utcMinute,d3Time.utcSecond,d3Time.utcMillisecond,d3TimeFormat.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};exports.tickFormat\x3dtickFormat;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_scale$build$vega_scale.js", true , "shadow$provide.module$node_modules$vega_scale$build$vega_scale\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$d3_scale$dist$d3_scale\x22),require(\x22module$node_modules$d3_interpolate$dist$d3_interpolate\x22),require(\x22module$node_modules$vega_time$build$vega_time\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-util d3-array d3-scale d3-interpolate vega-time\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.d3,global.d3,global.d3,global.vega))})(this,function(exports,vegaUtil,d3Array,$,$$1,vegaTime){function bandSpace(count,paddingInner,paddingOuter){paddingInner\x3dcount-paddingInner+2*paddingOuter;return count?0\x3cpaddingInner?paddingInner:1:0}function invertRange(scale){return function(_){var lo\x3d\n_[0];_\x3d_[1];if(_\x3clo){var t\x3dlo;lo\x3d_;_\x3dt}return[scale.invert(lo),scale.invert(_)]}}function invertRangeExtent(scale){return function(_){var range\x3dscale.range(),lo\x3d_[0];_\x3d_[1];var min\x3d-1,n;if(_\x3clo){var t\x3dlo;lo\x3d_;_\x3dt}t\x3d0;for(n\x3drange.length;t\x3cn;++t)if(range[t]\x3e\x3dlo\x26\x26range[t]\x3c\x3d_){0\x3emin\x26\x26(min\x3dt);var max\x3dt}if(!(0\x3emin))return lo\x3dscale.invertExtent(range[min]),_\x3dscale.invertExtent(range[max]),[void 0\x3d\x3d\x3dlo[0]?lo[1]:lo[0],void 0\x3d\x3d\x3d_[1]?_[0]:_[1]]}}function band(){function rescale(){var n\x3ddomain().length,reverse\x3d\nrange[1]\x3crange[0],stop\x3drange[1-reverse],space\x3dbandSpace(n,paddingInner,paddingOuter),start\x3drange[reverse-0];step\x3d(stop-start)/(space||1);round\x26\x26(step\x3dMath.floor(step));start+\x3d(stop-start-step*(n-paddingInner))*align;bandwidth\x3dstep*(1-paddingInner);round\x26\x26(start\x3dMath.round(start),bandwidth\x3dMath.round(bandwidth));n\x3dd3Array.range(n).map(function(i){return start+step*i});return ordinalRange(reverse?n.reverse():n)}var scale\x3d$.scaleOrdinal().unknown(void 0),domain\x3dscale.domain,ordinalRange\x3dscale.range,\nrange\x3d[0,1],step,bandwidth,round\x3d!1,paddingInner\x3d0,paddingOuter\x3d0,align\x3d.5;delete scale.unknown;scale.domain\x3dfunction(_){return arguments.length?(domain(_),rescale()):domain()};scale.range\x3dfunction(_){return arguments.length?(range\x3d[+_[0],+_[1]],rescale()):range.slice()};scale.rangeRound\x3dfunction(_){range\x3d[+_[0],+_[1]];round\x3d!0;return rescale()};scale.bandwidth\x3dfunction(){return bandwidth};scale.step\x3dfunction(){return step};scale.round\x3dfunction(_){return arguments.length?(round\x3d!!_,rescale()):round};\nscale.padding\x3dfunction(_){return arguments.length?(paddingInner\x3dpaddingOuter\x3dMath.max(0,Math.min(1,_)),rescale()):paddingInner};scale.paddingInner\x3dfunction(_){return arguments.length?(paddingInner\x3dMath.max(0,Math.min(1,_)),rescale()):paddingInner};scale.paddingOuter\x3dfunction(_){return arguments.length?(paddingOuter\x3dMath.max(0,Math.min(1,_)),rescale()):paddingOuter};scale.align\x3dfunction(_){return arguments.length?(align\x3dMath.max(0,Math.min(1,_)),rescale()):align};scale.invertRange\x3dfunction(_){if(null!\x3d\n_[0]\x26\x26null!\x3d_[1]){var reverse\x3drange[1]\x3crange[0],values\x3dreverse?ordinalRange().reverse():ordinalRange(),n\x3dvalues.length-1,lo\x3d+_[0],hi\x3d+_[1];if(lo\x3d\x3d\x3dlo\x26\x26hi\x3d\x3d\x3dhi){if(hi\x3clo){var t\x3dlo;lo\x3dhi;hi\x3dt}if(!(hi\x3cvalues[0]||lo\x3erange[1-reverse]))return _\x3dMath.max(0,d3Array.bisectRight(values,lo)-1),hi\x3dlo\x3d\x3d\x3dhi?_:d3Array.bisectRight(values,hi)-1,lo-values[_]\x3ebandwidth+1E-10\x26\x26++_,reverse\x26\x26(t\x3d_,_\x3dn-hi,hi\x3dn-t),_\x3ehi?void 0:domain().slice(_,hi+1)}}};scale.invert\x3dfunction(_){return(_\x3dscale.invertRange([_,_]))?_[0]:_};scale.copy\x3d\nfunction(){return band().domain(domain()).range(range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)};return rescale()}function pointish(scale){var copy\x3dscale.copy;scale.padding\x3dscale.paddingOuter;delete scale.paddingInner;scale.copy\x3dfunction(){return pointish(copy())};return scale}function scaleBinOrdinal(){function scale(x){return null\x3d\x3dx||x!\x3d\x3dx?void 0:range[(d3Array.bisect(domain,x)-1)%range.length]}var domain\x3d[],range\x3d[];scale.domain\x3dfunction(_){return arguments.length?\n(domain\x3dmap.call(_,vegaUtil.toNumber),scale):domain.slice()};scale.range\x3dfunction(_){return arguments.length?(range\x3dslice.call(_),scale):range.slice()};scale.tickFormat\x3dfunction(count,specifier){return $.tickFormat(domain[0],vegaUtil.peek(domain),null\x3d\x3dcount?10:count,specifier)};scale.copy\x3dfunction(){return scaleBinOrdinal().domain(scale.domain()).range(scale.range())};return scale}function create(type,constructor,metadata){var ctr\x3dfunction(){var s\x3dconstructor();s.invertRange||(s.invertRange\x3ds.invert?\ninvertRange(s):s.invertExtent?invertRangeExtent(s):void 0);s.type\x3dtype;return s};ctr.metadata\x3dvegaUtil.toSet(vegaUtil.array(metadata));return ctr}function scale$jscomp$0(type,scale,metadata){return 1\x3carguments.length?(scales[type]\x3dcreate(type,scale,metadata),this):isValidScaleType(type)?scales[type]:void 0}function isValidScaleType(type){return vegaUtil.hasOwnProperty(scales,type)}function hasType(key,type){return(key\x3dscales[key])\x26\x26key.metadata[type]}function isDiscrete(key){return hasType(key,\x22discrete\x22)}\nfunction isDiscretizing(key){return hasType(key,\x22discretizing\x22)}function isLogarithmic(key){return hasType(key,\x22log\x22)}function isTemporal(key){return hasType(key,\x22temporal\x22)}function interpolateColors(colors,type,gamma){return $$1.piecewise(interpolate(type||\x22rgb\x22,gamma),colors)}function interpolate(type,gamma){type\x3d$__namespace[method(type)];return null!\x3dgamma\x26\x26type\x26\x26type.gamma?type.gamma(gamma):type}function method(type){return\x22interpolate\x22+type.toLowerCase().split(\x22-\x22).map(function(s){return s[0].toUpperCase()+\ns.slice(1)}).join(\x22\x22)}function colors$jscomp$0(palette){for(var n\x3dpalette.length/6|0,c\x3dArray(n),i\x3d0;i\x3cn;)c[i]\x3d\x22#\x22+palette.slice(6*i,6*++i);return c}function apply(_,f){for(var k in _)scheme$jscomp$0(k,f(_[k]))}function scheme$jscomp$0(name,scheme){name\x3dname\x26\x26name.toLowerCase();return 1\x3carguments.length?(schemes[name]\x3dscheme,this):schemes[name]}function validTicks(scale,ticks,count){var range\x3dscale.range(),lo\x3drange[0],hi\x3dvegaUtil.peek(range);range\x3dascending;lo\x3ehi\x26\x26(range\x3dhi,hi\x3dlo,lo\x3drange,range\x3ddescending);\nlo\x3dMath.floor(lo);hi\x3dMath.ceil(hi);ticks\x3dticks.map(function(v){return[v,scale(v)]}).filter(function(_){return lo\x3c\x3d_[1]\x26\x26_[1]\x3c\x3dhi}).sort(range).map(function(_){return _[0]});if(0\x3ccount\x26\x261\x3cticks.length){for(range\x3d[ticks[0],vegaUtil.peek(ticks)];ticks.length\x3ecount\x26\x263\x3c\x3dticks.length;)ticks\x3dticks.filter(function(_,i){return!(i%2)});3\x3eticks.length\x26\x26(ticks\x3drange)}return ticks}function tickValues(scale,count){return scale.bins?validTicks(scale,scale.bins):scale.ticks?scale.ticks(count):scale.domain()}function tickFormat(locale,\nscale,count,specifier,formatType,noSkip){var type\x3dscale.type,format\x3ddefaultFormatter;if(\x22time\x22\x3d\x3d\x3dtype||\x22time\x22\x3d\x3d\x3dformatType)format\x3dlocale.timeFormat(specifier);else if(\x22utc\x22\x3d\x3d\x3dtype||\x22utc\x22\x3d\x3d\x3dformatType)format\x3dlocale.utcFormat(specifier);else if(isLogarithmic(type)){var varfmt\x3dlocale.formatFloat(specifier);if(noSkip||scale.bins)format\x3dvarfmt;else{var test\x3dtickLog(scale,count,!1);format\x3dfunction(_){return test(_)?varfmt(_):\x22\x22}}}else scale.tickFormat?(scale\x3dscale.domain(),format\x3dlocale.formatSpan(scale[0],\nscale[scale.length-1],count,specifier)):specifier\x26\x26(format\x3dlocale.format(specifier));return format}function tickLog(scale,count,values){var ticks\x3dtickValues(scale,count),base\x3dscale.base(),logb\x3dMath.log(base),k\x3dMath.max(1,base*count/ticks.length);scale\x3dfunction(d){d/\x3dMath.pow(base,Math.round(Math.log(d)/logb));d*base\x3cbase-.5\x26\x26(d*\x3dbase);return d\x3c\x3dk};return values?ticks.filter(scale):scale}function labelValues(scale,count){scale.bins?(scale\x3dscale.bins,count\x3dscale.slice(0,-1),count.max\x3dvegaUtil.peek(scale),\nscale\x3dcount):\x22log\x22\x3d\x3d\x3dscale.type?scale\x3dtickLog(scale,count,!0):symbols[scale.type]?(scale\x3dscale[symbols[scale.type]](),scale\x3d[-Infinity].concat(scale),scale.max\x3dInfinity):scale\x3dtickValues(scale,count);return scale}function labelFormat(locale,scale,count,type,specifier,formatType,noSkip){if(formats[scale.type]\x26\x26\x22time\x22!\x3d\x3dformatType\x26\x26\x22utc\x22!\x3d\x3dformatType){count\x3dscale[formats[scale.type]]();formatType\x3dcount.length;noSkip\x3d1\x3cformatType?count[1]-count[0]:count[0];var i;for(i\x3d1;i\x3cformatType;++i)noSkip\x3dMath.min(noSkip,\ncount[i]-count[i-1]);locale\x3dlocale.formatSpan(0,noSkip,30,specifier)}else locale\x3dtickFormat(locale,scale,count,specifier,formatType,noSkip);return\x22symbol\x22\x3d\x3d\x3dtype\x26\x26(symbols[scale.type]||scale.bins)?formatRange(locale):\x22discrete\x22\x3d\x3d\x3dtype?formatDiscrete(locale):formatPoint(locale)}var $__namespace\x3dfunction(e){if(e\x26\x26e.__esModule)return e;var n\x3dObject.create(null);e\x26\x26Object.keys(e).forEach(function(k){if(\x22default\x22!\x3d\x3dk){var d\x3dObject.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,\nget:function(){return e[k]}})}});n[\x22default\x22]\x3de;return Object.freeze(n)}($$1),map\x3dArray.prototype.map,slice\x3dArray.prototype.slice,scales\x3d{};scale$jscomp$0(\x22identity\x22,$.scaleIdentity);scale$jscomp$0(\x22linear\x22,$.scaleLinear,\x22continuous\x22);scale$jscomp$0(\x22log\x22,$.scaleLog,[\x22continuous\x22,\x22log\x22]);scale$jscomp$0(\x22pow\x22,$.scalePow,\x22continuous\x22);scale$jscomp$0(\x22sqrt\x22,$.scaleSqrt,\x22continuous\x22);scale$jscomp$0(\x22symlog\x22,$.scaleSymlog,\x22continuous\x22);scale$jscomp$0(\x22time\x22,$.scaleTime,[\x22continuous\x22,\x22temporal\x22]);scale$jscomp$0(\x22utc\x22,\n$.scaleUtc,[\x22continuous\x22,\x22temporal\x22]);scale$jscomp$0(\x22sequential\x22,$.scaleSequential,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22sequential-linear\x22,$.scaleSequential,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22sequential-log\x22,$.scaleSequentialLog,[\x22continuous\x22,\x22interpolating\x22,\x22log\x22]);scale$jscomp$0(\x22sequential-pow\x22,$.scaleSequentialPow,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22sequential-sqrt\x22,$.scaleSequentialSqrt,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22sequential-symlog\x22,$.scaleSequentialSymlog,\n[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22diverging-linear\x22,$.scaleDiverging,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22diverging-log\x22,$.scaleDivergingLog,[\x22continuous\x22,\x22interpolating\x22,\x22log\x22]);scale$jscomp$0(\x22diverging-pow\x22,$.scaleDivergingPow,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22diverging-sqrt\x22,$.scaleDivergingSqrt,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22diverging-symlog\x22,$.scaleDivergingSymlog,[\x22continuous\x22,\x22interpolating\x22]);scale$jscomp$0(\x22quantile\x22,$.scaleQuantile,\n[\x22discretizing\x22,\x22quantile\x22]);scale$jscomp$0(\x22quantize\x22,$.scaleQuantize,\x22discretizing\x22);scale$jscomp$0(\x22threshold\x22,$.scaleThreshold,\x22discretizing\x22);scale$jscomp$0(\x22bin-ordinal\x22,scaleBinOrdinal,[\x22discrete\x22,\x22discretizing\x22]);scale$jscomp$0(\x22ordinal\x22,$.scaleOrdinal,\x22discrete\x22);scale$jscomp$0(\x22band\x22,band,\x22discrete\x22);scale$jscomp$0(\x22point\x22,function(){return pointish(band().paddingInner(1))},\x22discrete\x22);var scaleProps\x3d[\x22clamp\x22,\x22base\x22,\x22constant\x22,\x22exponent\x22],schemes\x3d{};apply({category10:\x221f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\x22,\ncategory20:\x221f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\x22,category20b:\x22393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\x22,category20c:\x223182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\x22,tableau10:\x224c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac\x22,tableau20:\x224c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5\x22,\naccent:\x227fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\x22,dark2:\x221b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\x22,paired:\x22a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\x22,pastel1:\x22fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\x22,pastel2:\x22b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\x22,set1:\x22e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\x22,set2:\x2266c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\x22,set3:\x228dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\x22},\ncolors$jscomp$0);apply({blues:\x22cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90\x22,greens:\x22d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429\x22,greys:\x22e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e\x22,oranges:\x22fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303\x22,purples:\x22e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c\x22,reds:\x22fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13\x22,blueGreen:\x22d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429\x22,\nbluePurple:\x22ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71\x22,greenBlue:\x22d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1\x22,orangeRed:\x22fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403\x22,purpleBlue:\x22dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281\x22,purpleBlueGreen:\x22dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353\x22,purpleRed:\x22dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a\x22,redPurple:\x22fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174\x22,\nyellowGreen:\x22e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034\x22,yellowOrangeBrown:\x22feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204\x22,yellowOrangeRed:\x22fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225\x22,blueOrange:\x22134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07\x22,brownBlueGreen:\x22704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147\x22,purpleGreen:\x225b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29\x22,purpleOrange:\x224114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07\x22,\nredBlue:\x228c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85\x22,redGrey:\x228c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434\x22,yellowGreenBlue:\x22eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185\x22,redYellowBlue:\x22a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695\x22,redYellowGreen:\x22a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837\x22,pinkYellowGreen:\x228e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419\x22,spectral:\x229e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2\x22,\nviridis:\x22440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725\x22,magma:\x220000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf\x22,inferno:\x220000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4\x22,\nplasma:\x220d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921\x22,cividis:\x2200205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647\x22,\nrainbow:\x226e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa\x22,sinebow:\x22ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040\x22,turbo:\x2223171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00\x22,\nbrowns:\x22eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632\x22,tealBlues:\x22bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985\x22,teals:\x22bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667\x22,warmGreys:\x22dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e\x22,goldGreen:\x22f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36\x22,goldOrange:\x22f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26\x22,goldRed:\x22f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e\x22,\nlightGreyRed:\x22efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b\x22,lightGreyTeal:\x22e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc\x22,lightMulti:\x22e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c\x22,lightOrange:\x22f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b\x22,lightTealBlue:\x22e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988\x22,darkBlue:\x223232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff\x22,darkGold:\x223c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff\x22,\ndarkGreen:\x223a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa\x22,darkMulti:\x223737371f5287197d8c29a86995ce3fffe800ffffff\x22,darkRed:\x223434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c\x22},function(_){return interpolateColors(colors$jscomp$0(_))});var defaultFormatter\x3dfunction(value){return vegaUtil.isArray(value)?value.map(function(v){return String(v)}):String(value)},ascending\x3dfunction(a,b){return a[1]-b[1]},descending\x3dfunction(a,b){return b[1]-a[1]},$jscomp$compprop46\x3d{},symbols\x3d($jscomp$compprop46.quantile\x3d\n\x22quantiles\x22,$jscomp$compprop46.quantize\x3d\x22thresholds\x22,$jscomp$compprop46.threshold\x3d\x22domain\x22,$jscomp$compprop46);$jscomp$compprop46\x3d{};var formats\x3d($jscomp$compprop46.quantile\x3d\x22quantiles\x22,$jscomp$compprop46.quantize\x3d\x22domain\x22,$jscomp$compprop46),formatRange\x3dfunction(format){return function(value,index,array){index\x3darray[index+1];array\x3darray.max;array\x3dnull!\x3darray?array:Infinity;index\x3dnull!\x3dindex?index:array;value\x3dNumber.isFinite(value)?format(value):null;index\x3dNumber.isFinite(index)?format(index):null;\nreturn value\x26\x26index?value+\x22 \u2013 \x22+index:index?\x22\\x3c \x22+index:\x22\u2265 \x22+value}},formatDiscrete\x3dfunction(format){return function(value,index){return index?format(value):null}},formatPoint\x3dfunction(format){return function(value){return format(value)}};Object.defineProperty(exports,\x22scaleImplicit\x22,{enumerable:!0,get:function(){return $.scaleImplicit}});exports.Band\x3d\x22band\x22;exports.BinOrdinal\x3d\x22bin-ordinal\x22;exports.DiscreteLegend\x3d\x22discrete\x22;exports.Diverging\x3d\x22diverging\x22;exports.GradientLegend\x3d\x22gradient\x22;exports.Identity\x3d\n\x22identity\x22;exports.Linear\x3d\x22linear\x22;exports.Log\x3d\x22log\x22;exports.Ordinal\x3d\x22ordinal\x22;exports.Point\x3d\x22point\x22;exports.Pow\x3d\x22pow\x22;exports.Quantile\x3d\x22quantile\x22;exports.Quantize\x3d\x22quantize\x22;exports.Sequential\x3d\x22sequential\x22;exports.Sqrt\x3d\x22sqrt\x22;exports.SymbolLegend\x3d\x22symbol\x22;exports.Symlog\x3d\x22symlog\x22;exports.Threshold\x3d\x22threshold\x22;exports.Time\x3d\x22time\x22;exports.UTC\x3d\x22utc\x22;exports.bandSpace\x3dbandSpace;exports.domainCaption\x3dfunction(locale,scale,opt){opt\x3dopt||{};var max\x3dMath.max(3,opt.maxlen||7),specifier\x3dopt.format,type\x3d(opt\x3d\nopt.formatType)||scale.type;vegaUtil.isString(specifier)\x26\x26isTemporal(type)\x26\x26(specifier\x3dspecifier.replace(/%a/g,\x22%A\x22).replace(/%b/g,\x22%B\x22));locale\x3dspecifier||\x22time\x22!\x3d\x3dtype?specifier||\x22utc\x22!\x3d\x3dtype?labelFormat(locale,scale,5,null,specifier,opt,!0):locale.utcFormat(\x22%A, %d %B %Y, %X UTC\x22):locale.timeFormat(\x22%A, %d %B %Y, %X\x22);if(isDiscretizing(scale.type))return max\x3dlabelValues(scale).slice(1).map(locale),scale\x3dmax.length,scale+\x22 boundar\x22+(1\x3d\x3d\x3dscale?\x22y\x22:\x22ies\x22)+\x22: \x22+max.join(\x22, \x22);if(isDiscrete(scale.type))return specifier\x3d\nscale.domain(),scale\x3dspecifier.length,max\x3dscale\x3emax?specifier.slice(0,max-2).map(locale).join(\x22, \x22)+\x22, ending with \x22+specifier.slice(-1).map(locale):specifier.map(locale).join(\x22, \x22),scale+\x22 value\x22+(1\x3d\x3d\x3dscale?\x22\x22:\x22s\x22)+\x22: \x22+max;max\x3dscale.domain();return\x22values from \x22+locale(max[0])+\x22 to \x22+locale(vegaUtil.peek(max))};exports.interpolate\x3dinterpolate;exports.interpolateColors\x3dinterpolateColors;exports.interpolateRange\x3dfunction(interpolator,range){var start\x3drange[0],span\x3dvegaUtil.peek(range)-start;return function(i){return interpolator(start+\ni*span)}};exports.isContinuous\x3dfunction(key){return hasType(key,\x22continuous\x22)};exports.isDiscrete\x3disDiscrete;exports.isDiscretizing\x3disDiscretizing;exports.isInterpolating\x3dfunction(key){return hasType(key,\x22interpolating\x22)};exports.isLogarithmic\x3disLogarithmic;exports.isQuantile\x3dfunction(key){return hasType(key,\x22quantile\x22)};exports.isTemporal\x3disTemporal;exports.isValidScaleType\x3disValidScaleType;exports.labelFormat\x3dlabelFormat;exports.labelFraction\x3dfunction(scale){var domain\x3dscale.domain(),count\x3ddomain.length-\n1,lo\x3d+domain[0];domain\x3d+vegaUtil.peek(domain);var span\x3ddomain-lo;\x22threshold\x22\x3d\x3d\x3dscale.type\x26\x26(scale\x3dcount?span/count:.1,lo-\x3dscale,span\x3ddomain+scale-lo);return function(value){return(value-lo)/span}};exports.labelValues\x3dlabelValues;exports.quantizeInterpolator\x3dfunction(interpolator,count){for(var samples\x3dArray(count),n\x3dcount+1,i\x3d0;i\x3ccount;)samples[i]\x3dinterpolator(++i/n);return samples};exports.scale\x3dscale$jscomp$0;exports.scaleCopy\x3dfunction(scale){var t\x3dscale.type;scale\x3dscale.copy();scale.type\x3dt;return scale};\nexports.scaleFraction\x3dfunction(scale$1,min,max){var delta\x3dmax-min,t;if(delta\x26\x26Number.isFinite(delta)){delta\x3d(t\x3dscale$1.type).indexOf(\x22-\x22);t\x3d0\x3edelta?t:t.slice(delta+1);var s\x3dscale$jscomp$0(t)().domain([min,max]).range([0,1]);scaleProps.forEach(function(m){return scale$1[m]?s[m](scale$1[m]()):0});return s}return vegaUtil.constant(.5)};exports.scheme\x3dscheme$jscomp$0;exports.tickCount\x3dfunction(scale,count,minStep){vegaUtil.isNumber(count)\x26\x26(scale.bins\x26\x26(count\x3dMath.max(count,scale.bins.length)),null!\x3d\nminStep\x26\x26(count\x3dMath.min(count,Math.floor(vegaUtil.span(scale.domain())/minStep||1))));if(vegaUtil.isObject(count)){var step\x3dcount.step;count\x3dcount.interval}vegaUtil.isString(count)\x26\x26(count\x3d\x22time\x22\x3d\x3d\x3dscale.type?vegaTime.timeInterval(count):\x22utc\x22\x3d\x3dscale.type?vegaTime.utcInterval(count):vegaUtil.error(\x22Only time and utc scales accept interval strings.\x22),step\x26\x26(count\x3dcount.every(step)));return count};exports.tickFormat\x3dtickFormat;exports.tickValues\x3dtickValues;exports.validTicks\x3dvalidTicks;Object.defineProperty(exports,\n\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_scenegraph$build$vega_scenegraph.js", true , "shadow$provide.module$node_modules$vega_scenegraph$build$vega_scenegraph\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_shape$dist$d3_shape\x22),require(\x22module$node_modules$d3_path$dist$d3_path\x22),require(\x22module$node_modules$vega_canvas$build$vega_canvas\x22),require(\x22module$node_modules$vega_loader$build$vega_loader\x22),\nrequire(\x22module$node_modules$vega_scale$build$vega_scale\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.d3,global.d3,global.vega,global.vega,global.vega))})(this,function(exports,vegaUtil,d3Shape,d3Path,vegaCanvas,vegaLoader,vegaScale){function gradientRef(g,defs,base){var type\x3dg.gradient,id\x3dg.id,prefix\x3d\n\x22radial\x22\x3d\x3d\x3dtype?\x22p_\x22:\x22\x22;id||(id\x3dg.id\x3d\x22gradient_\x22+gradient_id++,\x22radial\x22\x3d\x3d\x3dtype?(g.x1\x3dget(g.x1,.5),g.y1\x3dget(g.y1,.5),g.r1\x3dget(g.r1,0),g.x2\x3dget(g.x2,.5),g.y2\x3dget(g.y2,.5),g.r2\x3dget(g.r2,.5),prefix\x3d\x22p_\x22):(g.x1\x3dget(g.x1,0),g.y1\x3dget(g.y1,0),g.x2\x3dget(g.x2,1),g.y2\x3dget(g.y2,0)));defs[id]\x3dg;return\x22url(\x22+(base||\x22\x22)+\x22#\x22+prefix+id+\x22)\x22}function get(val,def){return null!\x3dval?val:def}function curves(type,orientation,tension){type\x3dvegaUtil.hasOwnProperty(lookup,type)\x26\x26lookup[type];var curve\x3dnull;type\x26\x26(curve\x3dtype.curve||\ntype[orientation||\x22vertical\x22],type.tension\x26\x26null!\x3dtension\x26\x26(curve\x3dcurve[type.tension](tension)));return curve}function pathParse(pathstr){var result\x3d[],param,n,m,path\x3dpathstr.slice().replace(regexp[0],\x22###$1\x22).split(regexp[1]).slice(1);pathstr\x3d0;for(n\x3dpath.length;pathstr\x3cn;++pathstr){var curr\x3dpath[pathstr];var chunks\x3dcurr.slice(1).trim().replace(regexp[2],\x22$1###$2\x22).replace(regexp[3],\x22$1###$2\x22).split(regexp[4]);var cmd\x3dcurr.charAt(0);curr\x3d[cmd];var j\x3d0;for(m\x3dchunks.length;j\x3cm;++j)(param\x3d+chunks[j])\x3d\x3d\x3d\nparam\x26\x26curr.push(param);chunks\x3dcmdlen[cmd.toLowerCase()];if(curr.length-1\x3echunks)for(m\x3dcurr.length,j\x3d1,result.push([cmd].concat(curr.slice(j,j+\x3dchunks))),cmd\x3d\x22M\x22\x3d\x3d\x3dcmd?\x22L\x22:\x22m\x22\x3d\x3d\x3dcmd?\x22l\x22:cmd;j\x3cm;j+\x3dchunks)result.push([cmd].concat(curr.slice(j,j+chunks)));else result.push(curr)}return result}function segments(x,y,rx,ry,large,sweep,rotateX,ox,oy){var key\x3djoin.call(arguments);if(segmentCache[key])return segmentCache[key];var th\x3drotateX*DegToRad,sin_th\x3dMath.sin(th);th\x3dMath.cos(th);rx\x3dMath.abs(rx);ry\x3dMath.abs(ry);\nvar px\x3dth*(ox-x)*.5+sin_th*(oy-y)*.5,py\x3dth*(oy-y)*.5-sin_th*(ox-x)*.5;px\x3dpx*px/(rx*rx)+py*py/(ry*ry);1\x3cpx\x26\x26(px\x3dMath.sqrt(px),rx*\x3dpx,ry*\x3dpx);var a00\x3dth/rx,a01\x3dsin_th/rx,a10\x3d-sin_th/ry,a11\x3dth/ry;px\x3da00*ox+a01*oy;py\x3da10*ox+a11*oy;a00\x3da00*x+a01*y;a01\x3da10*x+a11*y;a10\x3d1/((a00-px)*(a00-px)+(a01-py)*(a01-py))-.25;0\x3ea10\x26\x26(a10\x3d0);a11\x3dMath.sqrt(a10);sweep\x3d\x3dlarge\x26\x26(a11\x3d-a11);a10\x3d.5*(px+a00)-a11*(a01-py);a11\x3d.5*(py+a01)+a11*(a00-px);px\x3dMath.atan2(py-a11,px-a10);py\x3dMath.atan2(a01-a11,a00-a10)-px;0\x3epy\x26\x261\x3d\x3d\x3dsweep?\npy+\x3dTau:0\x3cpy\x26\x260\x3d\x3d\x3dsweep\x26\x26(py-\x3dTau);a00\x3dMath.ceil(Math.abs(py/(HalfPi+.001)));a01\x3d[];for(var i\x3d0;i\x3ca00;++i)a01[i]\x3d[a10,a11,px+i*py/a00,px+(i+1)*py/a00,rx,ry,sin_th,th];return segmentCache[key]\x3da01}function pathRender(context,path,l,t,sX,sY){var previous\x3dnull,x\x3d0,y\x3d0,controlX\x3d0,controlY\x3d0;null\x3d\x3dl\x26\x26(l\x3d0);null\x3d\x3dt\x26\x26(t\x3d0);null\x3d\x3dsX\x26\x26(sX\x3d1);null\x3d\x3dsY\x26\x26(sY\x3dsX);context.beginPath\x26\x26context.beginPath();for(var i\x3d0,len\x3dpath.length;i\x3clen;++i){var current\x3dpath[i];if(1!\x3d\x3dsX||1!\x3d\x3dsY){var tempX\x3dsX;var tempY\x3dsY;var c\x3d\ntemp[0]\x3dcurrent[0];if(\x22a\x22\x3d\x3d\x3dc||\x22A\x22\x3d\x3d\x3dc)temp[1]\x3dtempX*current[1],temp[2]\x3dtempY*current[2],temp[3]\x3dcurrent[3],temp[4]\x3dcurrent[4],temp[5]\x3dcurrent[5],temp[6]\x3dtempX*current[6],temp[7]\x3dtempY*current[7];else if(\x22h\x22\x3d\x3d\x3dc||\x22H\x22\x3d\x3d\x3dc)temp[1]\x3dtempX*current[1];else if(\x22v\x22\x3d\x3d\x3dc||\x22V\x22\x3d\x3d\x3dc)temp[1]\x3dtempY*current[1];else{c\x3d1;for(var n\x3dcurrent.length;c\x3cn;++c)temp[c]\x3d(1\x3d\x3dc%2?tempX:tempY)*current[c]}current\x3dtemp}switch(current[0]){case \x22l\x22:x+\x3dcurrent[1];y+\x3dcurrent[2];context.lineTo(x+l,y+t);break;case \x22L\x22:x\x3dcurrent[1];y\x3d\ncurrent[2];context.lineTo(x+l,y+t);break;case \x22h\x22:x+\x3dcurrent[1];context.lineTo(x+l,y+t);break;case \x22H\x22:x\x3dcurrent[1];context.lineTo(x+l,y+t);break;case \x22v\x22:y+\x3dcurrent[1];context.lineTo(x+l,y+t);break;case \x22V\x22:y\x3dcurrent[1];context.lineTo(x+l,y+t);break;case \x22m\x22:x+\x3dcurrent[1];y+\x3dcurrent[2];context.moveTo(x+l,y+t);break;case \x22M\x22:x\x3dcurrent[1];y\x3dcurrent[2];context.moveTo(x+l,y+t);break;case \x22c\x22:tempX\x3dx+current[5];tempY\x3dy+current[6];controlX\x3dx+current[3];controlY\x3dy+current[4];context.bezierCurveTo(x+current[1]+\nl,y+current[2]+t,controlX+l,controlY+t,tempX+l,tempY+t);x\x3dtempX;y\x3dtempY;break;case \x22C\x22:x\x3dcurrent[5];y\x3dcurrent[6];controlX\x3dcurrent[3];controlY\x3dcurrent[4];context.bezierCurveTo(current[1]+l,current[2]+t,controlX+l,controlY+t,x+l,y+t);break;case \x22s\x22:tempX\x3dx+current[3];tempY\x3dy+current[4];controlX\x3d2*x-controlX;controlY\x3d2*y-controlY;context.bezierCurveTo(controlX+l,controlY+t,x+current[1]+l,y+current[2]+t,tempX+l,tempY+t);controlX\x3dx+current[1];controlY\x3dy+current[2];x\x3dtempX;y\x3dtempY;break;case \x22S\x22:tempX\x3d\ncurrent[3];tempY\x3dcurrent[4];controlX\x3d2*x-controlX;controlY\x3d2*y-controlY;context.bezierCurveTo(controlX+l,controlY+t,current[1]+l,current[2]+t,tempX+l,tempY+t);x\x3dtempX;y\x3dtempY;controlX\x3dcurrent[1];controlY\x3dcurrent[2];break;case \x22q\x22:tempX\x3dx+current[3];tempY\x3dy+current[4];controlX\x3dx+current[1];controlY\x3dy+current[2];context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x\x3dtempX;y\x3dtempY;break;case \x22Q\x22:tempX\x3dcurrent[3];tempY\x3dcurrent[4];context.quadraticCurveTo(current[1]+l,current[2]+t,tempX+l,tempY+\nt);x\x3dtempX;y\x3dtempY;controlX\x3dcurrent[1];controlY\x3dcurrent[2];break;case \x22t\x22:tempX\x3dx+current[1];tempY\x3dy+current[2];null\x3d\x3d\x3dprevious[0].match(/[QqTt]/)?(controlX\x3dx,controlY\x3dy):\x22t\x22\x3d\x3d\x3dprevious[0]?(controlX\x3d2*x-tempControlX,controlY\x3d2*y-tempControlY):\x22q\x22\x3d\x3d\x3dprevious[0]\x26\x26(controlX\x3d2*x-controlX,controlY\x3d2*y-controlY);var tempControlX\x3dcontrolX;var tempControlY\x3dcontrolY;context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x\x3dtempX;y\x3dtempY;controlX\x3dx+current[1];controlY\x3dy+current[2];break;case \x22T\x22:tempX\x3d\ncurrent[1];tempY\x3dcurrent[2];controlX\x3d2*x-controlX;controlY\x3d2*y-controlY;context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t);x\x3dtempX;y\x3dtempY;break;case \x22a\x22:drawArc(context,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+x+l,current[7]+y+t]);x+\x3dcurrent[6];y+\x3dcurrent[7];break;case \x22A\x22:drawArc(context,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+l,current[7]+t]);x\x3dcurrent[6];y\x3dcurrent[7];break;case \x22z\x22:case \x22Z\x22:context.closePath()}previous\x3d\ncurrent}}function drawArc(context,x,y,coords){x\x3dsegments(coords[5],coords[6],coords[0],coords[1],coords[3],coords[4],coords[2],x,y);for(y\x3d0;y\x3cx.length;++y){var params\x3dx[y];coords\x3djoin.call(params);if(bezierCache[coords])coords\x3dbezierCache[coords];else{var cx\x3dparams[0],cy\x3dparams[1],th0\x3dparams[2],th1\x3dparams[3],rx\x3dparams[4],ry\x3dparams[5],sin_th\x3dparams[6],cos_th\x3dparams[7];params\x3dcos_th*rx;var a01\x3d-sin_th*ry;rx*\x3dsin_th;ry*\x3dcos_th;var cos_th0\x3dMath.cos(th0),sin_th0\x3dMath.sin(th0);sin_th\x3dMath.cos(th1);cos_th\x3d\nMath.sin(th1);th0\x3d.5*(th1-th0);th1\x3dMath.sin(.5*th0);th1\x3d8/3*th1*th1/Math.sin(th0);th0\x3dcx+cos_th0-th1*sin_th0;cos_th0\x3dcy+sin_th0+th1*cos_th0;cx+\x3dsin_th;cy+\x3dcos_th;cos_th\x3dcx+th1*cos_th;sin_th\x3dcy-th1*sin_th;coords\x3dbezierCache[coords]\x3d[params*th0+a01*cos_th0,rx*th0+ry*cos_th0,params*cos_th+a01*sin_th,rx*cos_th+ry*sin_th,params*cx+a01*cy,rx*cx+ry*cy]}context.bezierCurveTo(coords[0],coords[1],coords[2],coords[3],coords[4],coords[5])}}function symbols(_){return vegaUtil.hasOwnProperty(builtins,_)?builtins[_]:\ncustomSymbol(_)}function customSymbol(path){if(!vegaUtil.hasOwnProperty(custom,path)){var parsed\x3dpathParse(path);custom[path]\x3d{draw:function(context,size){pathRender(context,parsed,0,0,Math.sqrt(size)/2)}}}return custom[path]}function rectangleX(d){return d.x}function rectangleY(d){return d.y}function rectangleWidth(d){return d.width}function rectangleHeight(d){return d.height}function number(_){return\x22function\x22\x3d\x3d\x3dtypeof _?_:function(){return+_}}function clamp(value,min,max){return Math.max(min,Math.min(value,\nmax))}function vg_rect(){function rectangle(_,x0,y0){var buffer;x0\x3dnull!\x3dx0?x0:+x.call(this,_);y0\x3dnull!\x3dy0?y0:+y.call(this,_);var w\x3d+width.call(this,_),h\x3d+height.call(this,_),s\x3dMath.min(w,h)/2,tl\x3dclamp(+crTL.call(this,_),0,s),tr\x3dclamp(+crTR.call(this,_),0,s),bl\x3dclamp(+crBL.call(this,_),0,s);_\x3dclamp(+crBR.call(this,_),0,s);context||(context\x3dbuffer\x3dd3Path.path());0\x3e\x3dtl\x26\x260\x3e\x3dtr\x26\x260\x3e\x3dbl\x26\x260\x3e\x3d_?context.rect(x0,y0,w,h):(w\x3dx0+w,h\x3dy0+h,context.moveTo(x0+tl,y0),context.lineTo(w-tr,y0),context.bezierCurveTo(w-\n.448084975506*tr,y0,w,y0+.448084975506*tr,w,y0+tr),context.lineTo(w,h-_),context.bezierCurveTo(w,h-.448084975506*_,w-.448084975506*_,h,w-_,h),context.lineTo(x0+bl,h),context.bezierCurveTo(x0+.448084975506*bl,h,x0,h-.448084975506*bl,x0,h-bl),context.lineTo(x0,y0+tl),context.bezierCurveTo(x0,y0+.448084975506*tl,x0+.448084975506*tl,y0,x0+tl,y0),context.closePath());if(buffer)return context\x3dnull,buffer+\x22\x22||null}var x\x3drectangleX,y\x3drectangleY,width\x3drectangleWidth,height\x3drectangleHeight,crTL\x3dnumber(0),crTR\x3d\ncrTL,crBL\x3dcrTL,crBR\x3dcrTL,context\x3dnull;rectangle.x\x3dfunction(_){return arguments.length?(x\x3dnumber(_),rectangle):x};rectangle.y\x3dfunction(_){return arguments.length?(y\x3dnumber(_),rectangle):y};rectangle.width\x3dfunction(_){return arguments.length?(width\x3dnumber(_),rectangle):width};rectangle.height\x3dfunction(_){return arguments.length?(height\x3dnumber(_),rectangle):height};rectangle.cornerRadius\x3dfunction(tl,tr,br,bl){return arguments.length?(crTL\x3dnumber(tl),crTR\x3dnull!\x3dtr?number(tr):crTL,crBR\x3dnull!\x3dbr?number(br):\ncrTL,crBL\x3dnull!\x3dbl?number(bl):crTR,rectangle):crTL};rectangle.context\x3dfunction(_){return arguments.length?(context\x3dnull\x3d\x3d_?null:_,rectangle):context};return rectangle}function vg_trail(){function trail(data){var i,n\x3ddata.length,d,defined0\x3d!1,buffer;null\x3d\x3dcontext\x26\x26(context\x3dbuffer\x3dd3Path.path());for(i\x3d0;i\x3c\x3dn;++i)if(!(i\x3cn\x26\x26defined(d\x3ddata[i],i,data))\x3d\x3d\x3ddefined0\x26\x26(defined0\x3d!defined0)\x26\x26(ready\x3d0),defined0){var x2\x3d+x(d,i,data),y2\x3d+y(d,i,data),r2\x3d+size(d,i,data)/2;if(ready){var ux\x3dy1-y2,uy\x3dx2-x1;if(ux||uy){var ud\x3d\nMath.sqrt(ux*ux+uy*uy),rx\x3d(ux/\x3dud)*r1;ud\x3d(uy/\x3dud)*r1;var t\x3dMath.atan2(uy,ux);context.moveTo(x1-rx,y1-ud);context.lineTo(x2-ux*r2,y2-uy*r2);context.arc(x2,y2,r2,t-Math.PI,t);context.lineTo(x1+rx,y1+ud);context.arc(x1,y1,r1,t,t+Math.PI)}else context.arc(x2,y2,r2,0,Tau);context.closePath()}else ready\x3d1;x1\x3dx2;y1\x3dy2;r1\x3dr2}if(buffer)return context\x3dnull,buffer+\x22\x22||null}var x,y,size,defined,context\x3dnull,ready,x1,y1,r1;trail.x\x3dfunction(_){return arguments.length?(x\x3d_,trail):x};trail.y\x3dfunction(_){return arguments.length?\n(y\x3d_,trail):y};trail.size\x3dfunction(_){return arguments.length?(size\x3d_,trail):size};trail.defined\x3dfunction(_){return arguments.length?(defined\x3d_,trail):defined};trail.context\x3dfunction(_){return arguments.length?(context\x3dnull\x3d\x3d_?null:_,trail):context};return trail}function value$jscomp$0(a,b){return null!\x3da?a:b}function hasCornerRadius(item){return item.cornerRadius||item.cornerRadiusTopLeft||item.cornerRadiusTopRight||item.cornerRadiusBottomRight||item.cornerRadiusBottomLeft}function rectangle(context,\nitem,x,y){return rectShape.context(context)(item,x,y)}function clip$jscomp$0(renderer,item,size){var clip\x3ditem.clip;renderer\x3drenderer._defs;item\x3ditem.clip_id||(item.clip_id\x3d\x22clip\x22+clip_id++);renderer\x3drenderer.clipping[item]||(renderer.clipping[item]\x3d{id:item});vegaUtil.isFunction(clip)?renderer.path\x3dclip(null):hasCornerRadius(size)?renderer.path\x3drectangle(null,size,0,0):(renderer.width\x3dsize.width||0,renderer.height\x3dsize.height||0);return\x22url(#\x22+item+\x22)\x22}function Bounds(b){this.clear();b\x26\x26this.union(b)}\nfunction Item(mark){this.mark\x3dmark;this.bounds\x3dthis.bounds||new Bounds}function GroupItem(mark){Item.call(this,mark);this.items\x3dthis.items||[]}function ResourceLoader(customLoader){this._pending\x3d0;this._loader\x3dcustomLoader||vegaLoader.loader()}function boundStroke(bounds,item,miter){if(item.stroke\x26\x260!\x3d\x3ditem.opacity\x26\x260!\x3d\x3ditem.strokeOpacity){var sw\x3dnull!\x3ditem.strokeWidth?+item.strokeWidth:1;bounds.expand(sw+(miter?item.strokeJoin\x26\x26\x22miter\x22!\x3d\x3ditem.strokeJoin?0:sw:0))}return bounds}function boundContext(_,\ndeg){bounds\x3d_;deg?(rot\x3ddeg*DegToRad,ma\x3dmd\x3dMath.cos(rot),mb\x3dMath.sin(rot),mc\x3d-mb):(ma\x3dmd\x3d1,rot\x3dmb\x3dmc\x3d0);return context$jscomp$0}function quadExtrema(x0,x1,x2,cb){x2\x3d(x0-x1)/(x0+x2-2*x1);0\x3cx2\x26\x261\x3ex2\x26\x26cb(x0+(x1-x0)*x2)}function cubicExtrema(x0,x1,x2,x3,cb){var a\x3dx3-x0+3*x1-3*x2,b\x3dx0+x2-2*x1,c\x3dx0-x1,t0\x3d0,t1\x3d0;1E-14\x3cMath.abs(a)?(c\x3db*b+c*a,0\x3c\x3dc\x26\x26(c\x3dMath.sqrt(c),t0\x3d(-b+c)/a,t1\x3d(-b-c)/a)):t0\x3d.5*c/b;0\x3ct0\x26\x261\x3et0\x26\x26cb(cubic(t0,x0,x1,x2,x3));0\x3ct1\x26\x261\x3et1\x26\x26cb(cubic(t1,x0,x1,x2,x3))}function cubic(t,x0,x1,x2,x3){var s\x3d\n1-t,s2\x3ds*s,t2\x3dt*t;return s2*s*x0+3*s2*t*x1+3*s*t2*x2+t2*t*x3}function intersectPath(draw){return function(item,brush){if(!context$1)return!0;draw(context$1,item);b$jscomp$0.clear().union(item.bounds).intersect(brush).round();var $jscomp$destructuring$var432\x3db$jscomp$0;item\x3d$jscomp$destructuring$var432.x1;brush\x3d$jscomp$destructuring$var432.x2;var y2\x3d$jscomp$destructuring$var432.y2;for($jscomp$destructuring$var432\x3d$jscomp$destructuring$var432.y1;$jscomp$destructuring$var432\x3c\x3dy2;++$jscomp$destructuring$var432)for(var x$530\x3d\nitem;x$530\x3c\x3dbrush;++x$530)if(context$1.isPointInPath(x$530,$jscomp$destructuring$var432))return!0;return!1}}function intersectPoint(item,box){return box.contains(item.x||0,item.y||0)}function intersectRect(item,box){var x\x3ditem.x||0,y\x3ditem.y||0;return box.intersects(b$jscomp$0.set(x,y,x+(item.width||0),y+(item.height||0)))}function intersectRule(item,box){var x\x3ditem.x||0,y\x3ditem.y||0;return intersectBoxLine(box,x,y,null!\x3ditem.x2?item.x2:x,null!\x3ditem.y2?item.y2:y)}function intersectBoxLine(box,x,y,u,\nv){var x1\x3dbox.x1,y1\x3dbox.y1,x2\x3dbox.x2;box\x3dbox.y2;u-\x3dx;v-\x3dy;var t0\x3d0,t1\x3d1,e;for(e\x3d0;4\x3ee;++e){if(0\x3d\x3d\x3de){var p\x3d-u;var q\x3d-(x1-x)}1\x3d\x3d\x3de\x26\x26(p\x3du,q\x3dx2-x);2\x3d\x3d\x3de\x26\x26(p\x3d-v,q\x3d-(y1-y));3\x3d\x3d\x3de\x26\x26(p\x3dv,q\x3dbox-y);if(1E-10\x3eMath.abs(p)\x26\x260\x3eq)return!1;var r\x3dq/p;if(0\x3ep){if(r\x3et1)return!1;r\x3et0\x26\x26(t0\x3dr)}else if(0\x3cp){if(r\x3ct0)return!1;r\x3ct1\x26\x26(t1\x3dr)}}return!0}function blend(context,item){context.globalCompositeOperation\x3ditem.blend||\x22source-over\x22}function value$1(value,dflt){return null\x3d\x3dvalue?dflt:value}function addStops(gradient,stops){for(var n\x3d\nstops.length,i\x3d0;i\x3cn;++i)gradient.addColorStop(stops[i].offset,stops[i].color);return gradient}function gradient$jscomp$0(context,spec,bounds){var w\x3dbounds.width(),h\x3dbounds.height();if(\x22radial\x22\x3d\x3d\x3dspec.gradient)context\x3dcontext.createRadialGradient(bounds.x1+value$1(spec.x1,.5)*w,bounds.y1+value$1(spec.y1,.5)*h,Math.max(w,h)*value$1(spec.r1,0),bounds.x1+value$1(spec.x2,.5)*w,bounds.y1+value$1(spec.y2,.5)*h,Math.max(w,h)*value$1(spec.r2,.5));else{var x1\x3dvalue$1(spec.x1,0),y1\x3dvalue$1(spec.y1,0),x2\x3dvalue$1(spec.x2,\n1),y2\x3dvalue$1(spec.y2,0);if(x1\x3d\x3d\x3dx2||y1\x3d\x3d\x3dy2||w\x3d\x3d\x3dh)context\x3dcontext.createLinearGradient(bounds.x1+x1*w,bounds.y1+y1*h,bounds.x1+x2*w,bounds.y1+y2*h);else{bounds\x3dvegaCanvas.canvas(Math.ceil(w),Math.ceil(h));var ictx\x3dbounds.getContext(\x222d\x22);ictx.scale(w,h);ictx.fillStyle\x3daddStops(ictx.createLinearGradient(x1,y1,x2,y2),spec.stops);ictx.fillRect(0,0,w,h);return context.createPattern(bounds,\x22no-repeat\x22)}}return addStops(context,spec.stops)}function fill$jscomp$0(context,item,opacity){opacity*\x3dnull\x3d\x3ditem.fillOpacity?\n1:item.fillOpacity;return 0\x3copacity?(context.globalAlpha\x3dopacity,item\x3d(opacity\x3ditem.fill)\x26\x26opacity.gradient?gradient$jscomp$0(context,opacity,item.bounds):opacity,context.fillStyle\x3ditem,!0):!1}function stroke$jscomp$0(context,item,opacity){var lw\x3dnull!\x3d(lw\x3ditem.strokeWidth)?lw:1;if(0\x3e\x3dlw)return!1;opacity*\x3dnull\x3d\x3ditem.strokeOpacity?1:item.strokeOpacity;return 0\x3copacity?(context.globalAlpha\x3dopacity,opacity\x3d(opacity\x3ditem.stroke)\x26\x26opacity.gradient?gradient$jscomp$0(context,opacity,item.bounds):opacity,\ncontext.strokeStyle\x3dopacity,context.lineWidth\x3dlw,context.lineCap\x3ditem.strokeCap||\x22butt\x22,context.lineJoin\x3ditem.strokeJoin||\x22miter\x22,context.miterLimit\x3ditem.strokeMiterLimit||10,context.setLineDash\x26\x26(context.setLineDash(item.strokeDash||Empty),context.lineDashOffset\x3ditem.strokeDashOffset||0),!0):!1}function compare(a,b){return a.zindex-b.zindex||a.index-b.index}function zorder(scene){if(!scene.zdirty)return scene.zitems;var items\x3dscene.items,output\x3d[],n;var i\x3d0;for(n\x3ditems.length;i\x3cn;++i){var item\x3ditems[i];\nitem.index\x3di;item.zindex\x26\x26output.push(item)}scene.zdirty\x3d!1;return scene.zitems\x3doutput.sort(compare)}function visit(scene,visitor){var items\x3dscene.items,n;if(items\x26\x26items.length){var zitems\x3dzorder(scene);if(zitems\x26\x26zitems.length){scene\x3d0;for(n\x3ditems.length;scene\x3cn;++scene)items[scene].zindex||visitor(items[scene]);items\x3dzitems}scene\x3d0;for(n\x3ditems.length;scene\x3cn;++scene)visitor(items[scene])}}function pickVisit(scene,visitor){var items\x3dscene.items,hit,i;if(!items||!items.length)return null;var zitems\x3d\nzorder(scene);zitems\x26\x26zitems.length\x26\x26(items\x3dzitems);for(i\x3ditems.length;0\x3c\x3d--i;)if(hit\x3dvisitor(items[i]))return hit;if(items\x3d\x3d\x3dzitems)for(items\x3dscene.items,i\x3ditems.length;0\x3c\x3d--i;)if(!items[i].zindex\x26\x26(hit\x3dvisitor(items[i])))return hit;return null}function drawAll(path){return function(context,scene,bounds){visit(scene,function(item){bounds\x26\x26!bounds.intersects(item.bounds)||drawPath(path,context,item,item)})}}function drawOne(path){return function(context,scene,bounds){!scene.items.length||bounds\x26\x26\n!bounds.intersects(scene.bounds)||drawPath(path,context,scene.items[0],scene.items)}}function drawPath(path,context,item,items){var opacity\x3dnull\x3d\x3ditem.opacity?1:item.opacity;0\x3d\x3d\x3dopacity||path(context,items)||(blend(context,item),item.fill\x26\x26fill$jscomp$0(context,item,opacity)\x26\x26context.fill(),item.stroke\x26\x26stroke$jscomp$0(context,item,opacity)\x26\x26context.stroke())}function pick(test){test\x3dtest||vegaUtil.truthy;return function(context,scene,x,y,gx,gy){x*\x3dcontext.pixelRatio;y*\x3dcontext.pixelRatio;return pickVisit(scene,\nfunction(item){var b\x3ditem.bounds;if((!b||b.contains(gx,gy))\x26\x26b\x26\x26test(context,item,x,y,gx,gy))return item})}}function hitPath(path,filled){return function(context,o,x,y){var item\x3dArray.isArray(o)?o[0]:o,fill\x3dnull\x3d\x3dfilled?item.fill:filled,stroke\x3ditem.stroke\x26\x26context.isPointInStroke;if(stroke){var lw\x3ditem.strokeWidth;item\x3ditem.strokeCap;context.lineWidth\x3dnull!\x3dlw?lw:1;context.lineCap\x3dnull!\x3ditem?item:\x22butt\x22}return path(context,o)?!1:fill\x26\x26context.isPointInPath(x,y)||stroke\x26\x26context.isPointInStroke(x,\ny)}}function translate(x,y){return\x22translate(\x22+x+\x22,\x22+y+\x22)\x22}function markItemPath(type,shape,isect){function draw(context,item){var x\x3ditem.x||0,y\x3ditem.y||0,a\x3ditem.angle||0;context.translate(x,y);a\x26\x26context.rotate(a*\x3dDegToRad);context.beginPath();shape(context,item);a\x26\x26context.rotate(-a);context.translate(-x,-y)}return{type:type,tag:\x22path\x22,nested:!1,attr:function(emit,item){var JSCompiler_inline_result\x3dtranslate(item.x||0,item.y||0)+(item.angle?\x22 rotate(\x22+(item.angle+\x22)\x22):\x22\x22);emit(\x22transform\x22,JSCompiler_inline_result);\nemit(\x22d\x22,shape(null,item))},bound:function(bounds,item){shape(boundContext(bounds,item.angle),item);return boundStroke(bounds,item).translate(item.x||0,item.y||0)},draw:drawAll(draw),pick:pick(hitPath(draw)),isect:isect||intersectPath(draw)}}function markMultiItemPath(type,shape,tip){function draw(context,items){context.beginPath();shape(context,items)}var hit\x3dhitPath(draw);return{type:type,tag:\x22path\x22,nested:!0,attr:function(emit,item){item\x3ditem.mark.items;item.length\x26\x26emit(\x22d\x22,shape(null,item))},\nbound:function(bounds,mark){mark\x3dmark.items;if(0\x3d\x3d\x3dmark.length)return bounds;shape(boundContext(bounds),mark);return boundStroke(bounds,mark[0])},draw:drawOne(draw),pick:function(context,scene,x,y,gx,gy){var items\x3dscene.items;scene\x3dscene.bounds;if(!items||!items.length||scene\x26\x26!scene.contains(gx,gy))return null;x*\x3dcontext.pixelRatio;y*\x3dcontext.pixelRatio;return hit(context,items,x,y)?items[0]:null},isect:intersectPoint,tip:tip}}function clipGroup(context,group){context.beginPath();hasCornerRadius(group)?\nrectangle(context,group,0,0):context.rect(0,0,group.width||0,group.height||0);context.clip()}function offset$jscomp$0(item){var sw\x3dvalue$1(item.strokeWidth,1);return null!\x3ditem.strokeOffset?item.strokeOffset:item.stroke\x26\x26.5\x3csw\x26\x261.5\x3esw?.5-Math.abs(sw-1):0}function rectanglePath(context,group,x,y){var off\x3doffset$jscomp$0(group);context.beginPath();rectangle(context,group,(x||0)+off,(y||0)+off)}function getImage(item,renderer){var image$jscomp$0\x3ditem.image;if(!image$jscomp$0||item.url\x26\x26item.url!\x3d\x3dimage$jscomp$0.url)image$jscomp$0\x3d\n{complete:!1,width:0,height:0},renderer.loadImage(item.url).then(function(image){item.image\x3dimage;item.image.url\x3ditem.url});return image$jscomp$0}function imageWidth(item,image){return null!\x3ditem.width?item.width:image\x26\x26image.width?!1!\x3d\x3ditem.aspect\x26\x26item.height?item.height*image.width/image.height:image.width:0}function imageHeight(item,image){return null!\x3ditem.height?item.height:image\x26\x26image.height?!1!\x3d\x3ditem.aspect\x26\x26item.width?item.width*image.height/image.width:image.height:0}function imageXOffset(align,\nw){return\x22center\x22\x3d\x3d\x3dalign?w/2:\x22right\x22\x3d\x3d\x3dalign?w:0}function imageYOffset(baseline,h){return\x22middle\x22\x3d\x3d\x3dbaseline?h/2:\x22bottom\x22\x3d\x3d\x3dbaseline?h:0}function path$jscomp$0(context,item){var path\x3ditem.path;if(null\x3d\x3dpath)return!0;var x\x3ditem.x||0,y\x3ditem.y||0,sx\x3ditem.scaleX||1,sy\x3ditem.scaleY||1,a\x3d(item.angle||0)*DegToRad,cache\x3ditem.pathCache;cache\x26\x26cache.path\x3d\x3d\x3dpath||((item.pathCache\x3dcache\x3dpathParse(path)).path\x3dpath);a\x26\x26context.rotate\x26\x26context.translate?(context.translate(x,y),context.rotate(a),pathRender(context,\ncache,0,0,sx,sy),context.rotate(-a),context.translate(-x,-y)):pathRender(context,cache,x,y,sx,sy)}function draw$2(context,item){context.beginPath();rectangle(context,item)}function path$2(context,item,opacity){if(item.stroke\x26\x26stroke$jscomp$0(context,item,opacity)){opacity\x3ditem.x||0;var y1\x3ditem.y||0;var x2\x3dnull!\x3ditem.x2?item.x2:opacity;item\x3dnull!\x3ditem.y2?item.y2:y1;context.beginPath();context.moveTo(opacity,y1);context.lineTo(x2,item);return!0}return!1}function useCanvas(use){textMetrics.width\x3duse\x26\x26\ncontext$1?measureWidth:estimateWidth}function estimateWidth(item,text){text\x3dtextValue(item,text);item\x3dfontSize(item);return~~(.8*text.length*item)}function measureWidth(item,text){return 0\x3e\x3dfontSize(item)||!(text\x3dtextValue(item,text))?0:_measureWidth(text,font(item))}function _measureWidth(text,currentFont){var key\x3d\x22(\x22+currentFont+\x22) \x22+text,width\x3dwidthCache.get(key);void 0\x3d\x3d\x3dwidth\x26\x26(context$1.font\x3dcurrentFont,width\x3dcontext$1.measureText(text).width,widthCache.set(key,width));return width}function fontSize(item){return null!\x3d\nitem.fontSize?+item.fontSize||0:11}function lineHeight(item){return null!\x3ditem.lineHeight?item.lineHeight:fontSize(item)+2}function textLines(item){item\x3ditem.lineBreak\x26\x26item.text\x26\x26!vegaUtil.isArray(item.text)?item.text.split(item.lineBreak):item.text;return vegaUtil.isArray(item)?1\x3citem.length?item:item[0]:item}function textValue(item,line){line\x3dnull\x3d\x3dline?\x22\x22:(line+\x22\x22).trim();if(0\x3citem.limit\x26\x26line.length){var limit\x3d+item.limit,width\x3dwidthGetter(item);if(!(width(line)\x3climit)){var ellipsis\x3ditem.ellipsis||\n\x22\u2026\x22,rtl\x3d\x22rtl\x22\x3d\x3d\x3ditem.dir;item\x3d0;var hi\x3dline.length;limit-\x3dwidth(ellipsis);if(rtl){for(;item\x3chi;)rtl\x3ditem+hi\x3e\x3e\x3e1,width(line.slice(rtl))\x3elimit?item\x3drtl+1:hi\x3drtl;line\x3dellipsis+line.slice(item)}else{for(;item\x3chi;)rtl\x3d1+(item+hi\x3e\x3e\x3e1),width(line.slice(0,rtl))\x3climit?item\x3drtl:hi\x3drtl-1;line\x3dline.slice(0,item)+ellipsis}}}return line}function widthGetter(item){if(textMetrics.width\x3d\x3d\x3dmeasureWidth){var currentFont\x3dfont(item);return function(text){return _measureWidth(text,currentFont)}}var currentFontHeight\x3dfontSize(item);\nreturn function(text){return~~(.8*text.length*currentFontHeight)}}function fontFamily(item,quote){item\x3ditem.font;return(quote\x26\x26item?String(item).replace(/\x22/g,\x22\x27\x22):item)||\x22sans-serif\x22}function font(item,quote){return(item.fontStyle?item.fontStyle+\x22 \x22:\x22\x22)+(item.fontVariant?item.fontVariant+\x22 \x22:\x22\x22)+(item.fontWeight?item.fontWeight+\x22 \x22:\x22\x22)+fontSize(item)+\x22px \x22+fontFamily(item,quote)}function offset$1(item){var baseline\x3ditem.baseline,h\x3dfontSize(item);return Math.round(\x22top\x22\x3d\x3d\x3dbaseline?.79*h:\x22middle\x22\x3d\x3d\x3d\nbaseline?.3*h:\x22bottom\x22\x3d\x3d\x3dbaseline?-.21*h:\x22line-top\x22\x3d\x3d\x3dbaseline?.29*h+.5*lineHeight(item):\x22line-bottom\x22\x3d\x3d\x3dbaseline?.29*h-.5*lineHeight(item):0)}function anchorPoint(item){var x\x3ditem.x||0,y\x3ditem.y||0,r\x3ditem.radius||0;r\x26\x26(item\x3d(item.theta||0)-HalfPi,x+\x3dr*Math.cos(item),y+\x3dr*Math.sin(item));tempBounds.x1\x3dx;tempBounds.y1\x3dy;return tempBounds}function bound$5(bounds,item,mode){var h\x3dtextMetrics.height(item),a\x3ditem.align,p\x3danchorPoint(item),x\x3dp.x1;p\x3dp.y1;var dx\x3ditem.dx||0,dy\x3d(item.dy||0)+offset$1(item)-Math.round(.8*\nh),tl\x3dtextLines(item);vegaUtil.isArray(tl)?(h+\x3dlineHeight(item)*(tl.length-1),tl\x3dtl.reduce(function(w,t){return Math.max(w,textMetrics.width(item,t))},0)):tl\x3dtextMetrics.width(item,tl);\x22center\x22\x3d\x3d\x3da?dx-\x3dtl/2:\x22right\x22\x3d\x3d\x3da\x26\x26(dx-\x3dtl);bounds.set(dx+\x3dx,dy+\x3dp,dx+tl,dy+h);if(item.angle\x26\x26!mode)bounds.rotate(item.angle*DegToRad,x,p);else if(2\x3d\x3d\x3dmode)return bounds.rotatedPoints(item.angle*DegToRad,x,p);return bounds}function boundItem(item,func,opt){var type\x3dMarks[item.mark.marktype];func\x3dfunc||type.bound;type.nested\x26\x26\n(item\x3ditem.mark);return func(item.bounds||(item.bounds\x3dnew Bounds),item,opt)}function boundMark(mark,bounds,opt){var type\x3dMarks[mark.marktype],bound\x3dtype.bound,items\x3dmark.items,hasItems\x3ditems\x26\x26items.length;if(type.nested)return hasItems?mark\x3ditems[0]:(DUMMY.mark\x3dmark,mark\x3dDUMMY),opt\x3dboundItem(mark,bound,opt),bounds\x3dbounds\x26\x26bounds.union(opt)||opt;bounds\x3dbounds||mark.bounds\x26\x26mark.bounds.clear()||new Bounds;if(hasItems)for(type\x3d0,hasItems\x3ditems.length;type\x3chasItems;++type)bounds.union(boundItem(items[type],\nbound,opt));return mark.bounds\x3dbounds}function sceneToJSON(scene,indent){return JSON.stringify(scene,keys,indent)}function sceneFromJSON(json){json\x3d\x22string\x22\x3d\x3d\x3dtypeof json?JSON.parse(json):json;return initialize(json)}function initialize(scene){var type\x3dscene.marktype,items\x3dscene.items,n;if(items){var i\x3d0;for(n\x3ditems.length;i\x3cn;++i){var parent\x3dtype?\x22mark\x22:\x22group\x22;items[i][parent]\x3dscene;items[i].zindex\x26\x26(items[i][parent].zdirty\x3d!0);\x22group\x22\x3d\x3d\x3d(type||parent)\x26\x26initialize(items[i])}}type\x26\x26boundMark(scene);\nreturn scene}function Scenegraph(scene){arguments.length?this.root\x3dsceneFromJSON(scene):(this.root\x3dcreateMark({marktype:\x22group\x22,name:\x22root\x22,role:\x22frame\x22}),this.root.items\x3d[new GroupItem(this.root)])}function createMark(def,group){group\x3d{bounds:new Bounds,clip:!!def.clip,group:group,interactive:!1\x3d\x3d\x3ddef.interactive?!1:!0,items:[],marktype:def.marktype,name:def.name||void 0,role:def.role||void 0,zindex:def.zindex||0};null!\x3ddef.aria\x26\x26(group.aria\x3ddef.aria);def.description\x26\x26(group.description\x3ddef.description);\nreturn group}function domCreate(doc,tag,ns){!doc\x26\x26\x22undefined\x22!\x3d\x3dtypeof document\x26\x26document.createElement\x26\x26(doc\x3ddocument);return doc?ns?doc.createElementNS(ns,tag):doc.createElement(tag):null}function domFind(el,tag){tag\x3dtag.toLowerCase();el\x3del.childNodes;for(var i\x3d0,n\x3del.length;i\x3cn;++i)if(el[i].tagName.toLowerCase()\x3d\x3d\x3dtag)return el[i]}function domChild(el,index,tag,ns){index\x3del.childNodes[index];if(!index||index.tagName.toLowerCase()!\x3d\x3dtag.toLowerCase()){var b\x3dindex||null;index\x3ddomCreate(el.ownerDocument,\ntag,ns);el.insertBefore(index,b)}return index}function domClear(el,index){for(var nodes\x3del.childNodes,curr\x3dnodes.length;curr\x3eindex;)el.removeChild(nodes[--curr]);return el}function cssClass(mark){return\x22mark-\x22+mark.marktype+(mark.role?\x22 role-\x22+mark.role:\x22\x22)+(mark.name?\x22 \x22+mark.name:\x22\x22)}function point(event,el){var rect\x3del.getBoundingClientRect();return[event.clientX-rect.left-(el.clientLeft||0),event.clientY-rect.top-(el.clientTop||0)]}function Handler(customLoader,customTooltip){this._active\x3dnull;\nthis._handlers\x3d{};this._loader\x3dcustomLoader||vegaLoader.loader();this._tooltip\x3dcustomTooltip||defaultTooltip}function defaultTooltip(handler,event,item,value){handler.element().setAttribute(\x22title\x22,value||\x22\x22)}function Renderer(loader){this._bgcolor\x3dthis._el\x3dnull;this._loader\x3dnew ResourceLoader(loader)}function CanvasHandler(loader,tooltip){Handler.call(this,loader,tooltip);this._touch\x3dthis._down\x3dnull;this._first\x3d!0;this._events\x3d{}}function eventListenerCheck(handler,type){(\x22touchstart\x22\x3d\x3d\x3dtype||\x22touchmove\x22\x3d\x3d\x3d\ntype||\x22touchend\x22\x3d\x3d\x3dtype?[\x22touchstart\x22,\x22touchmove\x22,\x22touchend\x22]:[type]).forEach(function(_){return addEventListener(handler,_)})}function addEventListener(handler,type){var canvas\x3dhandler.canvas();canvas\x26\x26!handler._events[type]\x26\x26(handler._events[type]\x3d1,canvas.addEventListener(type,handler[type]?function(evt){return handler[type](evt)}:function(evt){return handler.fire(type,evt)}))}function move(moveEvent,overEvent,outEvent){return function(evt){var a\x3dthis._active,p\x3dthis.pickEvent(evt);p!\x3d\x3da\x26\x26(a\x26\x26a.exit||\nthis.fire(outEvent,evt),this._active\x3dp,this.fire(overEvent,evt));this.fire(moveEvent,evt)}}function inactive(type){return function(evt){this.fire(type,evt);this._active\x3dnull}}function CanvasRenderer(loader){Renderer.call(this,loader);this._options\x3d{};this._redraw\x3d!1;this._dirty\x3dnew Bounds;this._tempb\x3dnew Bounds}function SVGHandler(loader,tooltip){Handler.call(this,loader,tooltip);var h\x3dthis;h._hrefHandler\x3dlistener(h,function(evt,item){item\x26\x26item.href\x26\x26h.handleHref(evt,item,item.href)});h._tooltipHandler\x3d\nlistener(h,function(evt,item){h.handleTooltip(evt,item,\x22mouseout\x22!\x3d\x3devt.type)})}function ariaItemAttributes(emit,item){var hide\x3d!1\x3d\x3d\x3ditem.aria;emit(\x22aria-hidden\x22,hide||void 0);if(hide||null\x3d\x3ditem.description)for(var prop in AriaEncode)emit(AriaEncode[prop],void 0);else hide\x3ditem.mark.marktype,emit(\x22aria-label\x22,item.description),emit(\x22role\x22,item.ariaRole||(\x22group\x22\x3d\x3d\x3dhide?\x22graphics-object\x22:\x22graphics-symbol\x22)),emit(\x22aria-roledescription\x22,item.ariaRoleDescription||hide+\x22 mark\x22)}function ariaMarkAttributes(mark){var $jscomp$compprop49\x3d\n{};return!1\x3d\x3d\x3dmark.aria?($jscomp$compprop49[\x22aria-hidden\x22]\x3d!0,$jscomp$compprop49):AriaIgnore[mark.role]?null:AriaGuides[mark.role]?ariaGuide(mark,AriaGuides[mark.role]):ariaMark(mark)}function ariaMark(mark){var type\x3dmark.marktype,recurse\x3d\x22group\x22\x3d\x3d\x3dtype||\x22text\x22\x3d\x3d\x3dtype||mark.items.some(function(_){return null!\x3d_.description\x26\x26!1!\x3d\x3d_.aria});return bundle(recurse?\x22graphics-object\x22:\x22graphics-symbol\x22,type+\x22 mark container\x22,mark.description)}function ariaGuide(mark,opt){try{var item\x3dmark.items[0],caption\x3d\nopt.caption||function(){return\x22\x22};return bundle(opt.role||\x22graphics-symbol\x22,opt.desc,item.description||caption(item))}catch(err){return null}}function extractTitle(item){try{return vegaUtil.array(vegaUtil.peek(item.items).items[0].text).join(\x22 \x22)}catch(err){return null}}function channelCaption(props){props\x3dprops.map(function(p){return p+(\x22fill\x22\x3d\x3d\x3dp||\x22stroke\x22\x3d\x3d\x3dp?\x22 color\x22:\x22\x22)});return 2\x3eprops.length?props[0]:props.slice(0,-1).join(\x22, \x22)+\x22 and \x22+vegaUtil.peek(props)}function markup(){var buf\x3d\x22\x22,outer\x3d\n\x22\x22,inner\x3d\x22\x22,stack\x3d[],attr\x3dfunction(name,value){null!\x3dvalue\x26\x26(outer+\x3d\x22 \x22+name+\x27\\x3d\x22\x27+innerText(value).replace(/\x22/g,\x22\\x26quot;\x22).replace(/\\t/g,\x22\\x26#x9;\x22).replace(/\\n/g,\x22\\x26#xA;\x22).replace(/\\r/g,\x22\\x26#xD;\x22)+\x27\x22\x27);return m},m\x3d{open:function(tag,attrs){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d1;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-1]\x3darguments[$jscomp$restIndex];outer\x26\x26(buf+\x3douter+\x22\\x3e\x22+inner,outer\x3dinner\x3d\x22\x22);stack.push(tag);outer\x3d\x22\\x3c\x22+tag;\n$jscomp$restParams\x3d$jscomp.makeIterator($jscomp$restParams);for($jscomp$restIndex\x3d$jscomp$restParams.next();!$jscomp$restIndex.done;$jscomp$restIndex\x3d$jscomp$restParams.next()){$jscomp$restIndex\x3d$jscomp$restIndex.value;for(var key in $jscomp$restIndex)attr(key,$jscomp$restIndex[key])}return m},close:function(){var tag\x3dstack.pop();buf\x3douter?buf+(outer+(inner?\x22\\x3e\x22+inner+\x22\\x3c/\x22+tag+\x22\\x3e\x22:\x22/\\x3e\x22)):buf+(\x22\\x3c/\x22+tag+\x22\\x3e\x22);outer\x3dinner\x3d\x22\x22;return m},attr:attr,text:function(t){return inner+\x3dinnerText(t),\nm},toString:function(){return buf}};return m}function _serialize(m,node){m.open(node.tagName);if(node.hasAttributes())for(var attrs\x3dnode.attributes,n\x3dattrs.length,i\x3d0;i\x3cn;++i)m.attr(attrs[i].name,attrs[i].value);if(node.hasChildNodes())for(node\x3dnode.childNodes,attrs\x3dnode.length,n\x3d0;n\x3cattrs;n++)i\x3dnode[n],3\x3d\x3d\x3di.nodeType?m.text(i.nodeValue):_serialize(m,i);return m.close()}function SVGRenderer(loader){Renderer.call(this,loader);this._dirtyID\x3d0;this._dirty\x3d[];this._defs\x3dthis._root\x3dthis._svg\x3dnull}function dirtyParents(item,\nid){for(;item\x26\x26item.dirty!\x3d\x3did;item\x3ditem.mark.group)if(item.dirty\x3did,item.mark\x26\x26item.mark.dirty!\x3d\x3did)item.mark.dirty\x3did;else break}function recurse$jscomp$0(renderer,el,group){el\x3del.lastChild.previousSibling;var prev,idx\x3d0;visit(group,function(item){prev\x3drenderer.mark(el,item,prev);++idx});domClear(el,1+idx)}function bind(item,el,sibling,tag,svg){var node\x3ditem._svg;if(!node){var doc\x3del.ownerDocument;node\x3ddomCreate(doc,tag,ns);item._svg\x3dnode;item.mark\x26\x26(node.__data__\x3ditem,node.__values__\x3d{fill:\x22default\x22},\n\x22g\x22\x3d\x3d\x3dtag\x26\x26(tag\x3ddomCreate(doc,\x22path\x22,ns),node.appendChild(tag),tag.__data__\x3ditem,tag\x3ddomCreate(doc,\x22g\x22,ns),node.appendChild(tag),tag.__data__\x3ditem,doc\x3ddomCreate(doc,\x22path\x22,ns),node.appendChild(doc),doc.__data__\x3ditem,doc.__values__\x3d{fill:\x22default\x22}))}(node.ownerSVGElement!\x3d\x3dsvg||node.parentNode\x26\x261\x3cnode.parentNode.childNodes.length\x26\x26node.previousSibling!\x3dsibling)\x26\x26el.insertBefore(node,sibling?sibling.nextSibling:el.firstChild);return node}function emit(name,value,ns){if(value!\x3d\x3dvalues[name]){if(ns){var el\x3d\nelement;null!\x3dvalue?el.setAttributeNS(ns,name,value):el.removeAttributeNS(ns,name)}else setAttribute(element,name,value);values[name]\x3dvalue}}function setStyle(el,name,value){value!\x3d\x3dvalues[name]\x26\x26(null\x3d\x3dvalue?el.style.removeProperty(name):el.style.setProperty(name,value+\x22\x22),values[name]\x3dvalue)}function setAttributes(el,attrs){for(var key in attrs)setAttribute(el,key,attrs[key])}function setAttribute(el,name,value){null!\x3dvalue?el.setAttribute(name,value):el.removeAttribute(name)}function href(){var loc;\nreturn\x22undefined\x22\x3d\x3d\x3dtypeof window?\x22\x22:(loc\x3dwindow.location).hash?loc.href.slice(0,-loc.hash.length):loc.href}function SVGStringRenderer(loader){Renderer.call(this,loader);this._text\x3dnull;this._defs\x3d{gradient:{},clipping:{}}}function style(s,item,scene,tag,defs){if(null\x3d\x3ditem)return s;\x22bgrect\x22\x3d\x3d\x3dtag\x26\x26!1\x3d\x3d\x3dscene.interactive\x26\x26(s[\x22pointer-events\x22]\x3d\x22none\x22);if(\x22bgfore\x22\x3d\x3d\x3dtag\x26\x26(!1\x3d\x3d\x3dscene.interactive\x26\x26(s[\x22pointer-events\x22]\x3d\x22none\x22),s.display\x3d\x22none\x22,null!\x3d\x3ditem.fill))return s;\x22image\x22\x3d\x3d\x3dtag\x26\x26!1\x3d\x3d\x3ditem.smooth\x26\x26\n(s.style\x3d\x22image-rendering: optimizeSpeed; image-rendering: pixelated;\x22);\x22text\x22\x3d\x3d\x3dtag\x26\x26(s[\x22font-family\x22]\x3dfontFamily(item),s[\x22font-size\x22]\x3dfontSize(item)+\x22px\x22,s[\x22font-style\x22]\x3ditem.fontStyle,s[\x22font-variant\x22]\x3ditem.fontVariant,s[\x22font-weight\x22]\x3ditem.fontWeight);for(var prop in styles)scene\x3ditem[prop],tag\x3dstyles[prop],(\x22transparent\x22!\x3d\x3dscene||\x22fill\x22!\x3d\x3dtag\x26\x26\x22stroke\x22!\x3d\x3dtag)\x26\x26null!\x3dscene\x26\x26(scene\x26\x26scene.gradient\x26\x26(scene\x3dgradientRef(scene,defs.gradient,\x22\x22)),s[tag]\x3dscene);return s}function intersectMark(mark,box,\nfilter,hits){if(mark.bounds\x26\x26box.intersects(mark.bounds)\x26\x26(\x22group\x22\x3d\x3d\x3dmark.marktype||!1!\x3d\x3dmark.interactive\x26\x26(!filter||filter(mark)))){var items\x3dmark.items,type$548\x3dmark.marktype;mark\x3ditems.length;var i\x3d0;if(\x22group\x22\x3d\x3d\x3dtype$548)for(;i\x3cmark;++i)intersectGroup(items[i],box,filter,hits);else for(filter\x3dMarks[type$548].isect;i\x3cmark;++i)type$548\x3ditems[i],intersectItem(type$548,box,filter)\x26\x26hits.push(type$548)}return hits}function intersectGroup(group,box,filter,hits){filter\x26\x26filter(group.mark)\x26\x26intersectItem(group,\nbox,Marks.group.isect)\x26\x26hits.push(group);var marks\x3dgroup.items,n\x3dmarks\x26\x26marks.length;if(n){var x$549\x3dgroup.x||0;group\x3dgroup.y||0;box.translate(-x$549,-group);for(var i\x3d0;i\x3cn;++i)intersectMark(marks[i],box,filter,hits);box.translate(x$549,group)}return hits}function intersectItem(item,box,test){var bounds\x3ditem.bounds;return box.encloses(bounds)||box.intersects(bounds)\x26\x26test(item,box)}function sceneEqual(a,b,key){return a\x3d\x3d\x3db?!0:\x22path\x22\x3d\x3d\x3dkey?pathEqual(a,b):a instanceof Date\x26\x26b instanceof Date?+a\x3d\x3d\x3d\n+b:vegaUtil.isNumber(a)\x26\x26vegaUtil.isNumber(b)?1E-9\x3e\x3dMath.abs(a-b):a\x26\x26b\x26\x26(vegaUtil.isObject(a)||vegaUtil.isObject(b))?objectEqual(a,b):a\x3d\x3db}function pathEqual(a,b){return sceneEqual(pathParse(a),pathParse(b))}function objectEqual(a,b){var ka\x3dObject.keys(a),kb\x3dObject.keys(b),i;if(ka.length!\x3d\x3dkb.length)return!1;ka.sort();kb.sort();for(i\x3dka.length-1;0\x3c\x3di;i--)if(ka[i]!\x3dkb[i])return!1;for(i\x3dka.length-1;0\x3c\x3di;i--)if(kb\x3dka[i],!sceneEqual(a[kb],b[kb],kb))return!1;return typeof a\x3d\x3d\x3dtypeof b}var gradient_id\x3d\n0,lookup\x3d{basis:{curve:d3Shape.curveBasis},\x22basis-closed\x22:{curve:d3Shape.curveBasisClosed},\x22basis-open\x22:{curve:d3Shape.curveBasisOpen},bundle:{curve:d3Shape.curveBundle,tension:\x22beta\x22,value:.85},cardinal:{curve:d3Shape.curveCardinal,tension:\x22tension\x22,value:0},\x22cardinal-open\x22:{curve:d3Shape.curveCardinalOpen,tension:\x22tension\x22,value:0},\x22cardinal-closed\x22:{curve:d3Shape.curveCardinalClosed,tension:\x22tension\x22,value:0},\x22catmull-rom\x22:{curve:d3Shape.curveCatmullRom,tension:\x22alpha\x22,value:.5},\x22catmull-rom-closed\x22:{curve:d3Shape.curveCatmullRomClosed,\ntension:\x22alpha\x22,value:.5},\x22catmull-rom-open\x22:{curve:d3Shape.curveCatmullRomOpen,tension:\x22alpha\x22,value:.5},linear:{curve:d3Shape.curveLinear},\x22linear-closed\x22:{curve:d3Shape.curveLinearClosed},monotone:{horizontal:d3Shape.curveMonotoneY,vertical:d3Shape.curveMonotoneX},natural:{curve:d3Shape.curveNatural},step:{curve:d3Shape.curveStep},\x22step-after\x22:{curve:d3Shape.curveStepAfter},\x22step-before\x22:{curve:d3Shape.curveStepBefore}},cmdlen\x3d{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},regexp\x3d[/([MLHVCSQTAZmlhvcsqtaz])/g,\n/###/,/(\\.\\d+)(\\.\\d)/g,/(\\d)([-+])/g,/\\s|,|###/],DegToRad\x3dMath.PI/180,HalfPi\x3dMath.PI/2,Tau\x3d2*Math.PI,HalfSqrt3\x3dMath.sqrt(3)/2,segmentCache\x3d{},bezierCache\x3d{},join\x3d[].join,temp\x3d[\x22l\x22,0,0,0,0,0,0,0],builtins\x3d{circle:{draw:function(context,size){size\x3dMath.sqrt(size)/2;context.moveTo(size,0);context.arc(0,0,size,0,Tau)}},cross:{draw:function(context,size){size\x3dMath.sqrt(size)/2;var s\x3dsize/2.5;context.moveTo(-size,-s);context.lineTo(-size,s);context.lineTo(-s,s);context.lineTo(-s,size);context.lineTo(s,\nsize);context.lineTo(s,s);context.lineTo(size,s);context.lineTo(size,-s);context.lineTo(s,-s);context.lineTo(s,-size);context.lineTo(-s,-size);context.lineTo(-s,-s);context.closePath()}},diamond:{draw:function(context,size){size\x3dMath.sqrt(size)/2;context.moveTo(-size,0);context.lineTo(0,-size);context.lineTo(size,0);context.lineTo(0,size);context.closePath()}},square:{draw:function(context,size){size\x3dMath.sqrt(size);var x\x3d-size/2;context.rect(x,x,size,size)}},arrow:{draw:function(context,size){size\x3d\nMath.sqrt(size)/2;var s\x3dsize/7,t\x3dsize/2.5,v\x3dsize/8;context.moveTo(-s,size);context.lineTo(s,size);context.lineTo(s,-v);context.lineTo(t,-v);context.lineTo(0,-size);context.lineTo(-t,-v);context.lineTo(-s,-v);context.closePath()}},wedge:{draw:function(context,size){var r\x3dMath.sqrt(size)/2;size\x3dHalfSqrt3*r;var o\x3dsize-.5773502691896257*r;r/\x3d4;context.moveTo(0,-size-o);context.lineTo(-r,size-o);context.lineTo(r,size-o);context.closePath()}},triangle:{draw:function(context,size){size\x3dMath.sqrt(size)/2;\nvar h\x3dHalfSqrt3*size,o\x3dh-.5773502691896257*size;context.moveTo(0,-h-o);context.lineTo(-size,h-o);context.lineTo(size,h-o);context.closePath()}},\x22triangle-up\x22:{draw:function(context,size){size\x3dMath.sqrt(size)/2;var h\x3dHalfSqrt3*size;context.moveTo(0,-h);context.lineTo(-size,h);context.lineTo(size,h);context.closePath()}},\x22triangle-down\x22:{draw:function(context,size){size\x3dMath.sqrt(size)/2;var h\x3dHalfSqrt3*size;context.moveTo(0,h);context.lineTo(-size,-h);context.lineTo(size,-h);context.closePath()}},\n\x22triangle-right\x22:{draw:function(context,size){size\x3dMath.sqrt(size)/2;var h\x3dHalfSqrt3*size;context.moveTo(h,0);context.lineTo(-h,-size);context.lineTo(-h,size);context.closePath()}},\x22triangle-left\x22:{draw:function(context,size){size\x3dMath.sqrt(size)/2;var h\x3dHalfSqrt3*size;context.moveTo(-h,0);context.lineTo(h,-size);context.lineTo(h,size);context.closePath()}},stroke:{draw:function(context,size){size\x3dMath.sqrt(size)/2;context.moveTo(-size,0);context.lineTo(size,0)}}},custom\x3d{},x$jscomp$0\x3dfunction(item){return item.x||\n0},y$jscomp$0\x3dfunction(item){return item.y||0},def$jscomp$0\x3dfunction(item){return!1!\x3d\x3ditem.defined},arcShape\x3dd3Shape.arc().startAngle(function(item){return item.startAngle||0}).endAngle(function(item){return item.endAngle||0}).padAngle(function(item){return item.padAngle||0}).innerRadius(function(item){return item.innerRadius||0}).outerRadius(function(item){return item.outerRadius||0}).cornerRadius(function(item){return item.cornerRadius||0}),areavShape\x3dd3Shape.area().x(x$jscomp$0).y1(y$jscomp$0).y0(function(item){return(item.y||\n0)+(item.height||0)}).defined(def$jscomp$0),areahShape\x3dd3Shape.area().y(y$jscomp$0).x1(x$jscomp$0).x0(function(item){return(item.x||0)+(item.width||0)}).defined(def$jscomp$0),lineShape\x3dd3Shape.line().x(x$jscomp$0).y(y$jscomp$0).defined(def$jscomp$0),rectShape\x3dvg_rect().x(x$jscomp$0).y(y$jscomp$0).width(function(item){return item.width||0}).height(function(item){return item.height||0}).cornerRadius(function(item){return value$jscomp$0(item.cornerRadiusTopLeft,item.cornerRadius)||0},function(item){return value$jscomp$0(item.cornerRadiusTopRight,\nitem.cornerRadius)||0},function(item){return value$jscomp$0(item.cornerRadiusBottomRight,item.cornerRadius)||0},function(item){return value$jscomp$0(item.cornerRadiusBottomLeft,item.cornerRadius)||0}),symbolShape\x3dd3Shape.symbol().type(function(item){return symbols(item.shape||\x22circle\x22)}).size(function(item){return value$jscomp$0(item.size,64)}),trailShape\x3dvg_trail().x(x$jscomp$0).y(y$jscomp$0).defined(def$jscomp$0).size(function(item){return item.size||1}),clip_id\x3d1;Bounds.prototype\x3d{clone:function(){return new Bounds(this)},\nclear:function(){this.x1\x3d+Number.MAX_VALUE;this.y1\x3d+Number.MAX_VALUE;this.x2\x3d-Number.MAX_VALUE;this.y2\x3d-Number.MAX_VALUE;return this},empty:function(){return this.x1\x3d\x3d\x3d+Number.MAX_VALUE\x26\x26this.y1\x3d\x3d\x3d+Number.MAX_VALUE\x26\x26this.x2\x3d\x3d\x3d-Number.MAX_VALUE\x26\x26this.y2\x3d\x3d\x3d-Number.MAX_VALUE},equals:function(b){return this.x1\x3d\x3d\x3db.x1\x26\x26this.y1\x3d\x3d\x3db.y1\x26\x26this.x2\x3d\x3d\x3db.x2\x26\x26this.y2\x3d\x3d\x3db.y2},set:function(x1,y1,x2,y2){x2\x3cx1?(this.x2\x3dx1,this.x1\x3dx2):(this.x1\x3dx1,this.x2\x3dx2);y2\x3cy1?(this.y2\x3dy1,this.y1\x3dy2):(this.y1\x3dy1,this.y2\x3dy2);return this},\nadd:function(x,y){x\x3cthis.x1\x26\x26(this.x1\x3dx);y\x3cthis.y1\x26\x26(this.y1\x3dy);x\x3ethis.x2\x26\x26(this.x2\x3dx);y\x3ethis.y2\x26\x26(this.y2\x3dy);return this},expand:function(d){this.x1-\x3dd;this.y1-\x3dd;this.x2+\x3dd;this.y2+\x3dd;return this},round:function(){this.x1\x3dMath.floor(this.x1);this.y1\x3dMath.floor(this.y1);this.x2\x3dMath.ceil(this.x2);this.y2\x3dMath.ceil(this.y2);return this},scale:function(s){this.x1*\x3ds;this.y1*\x3ds;this.x2*\x3ds;this.y2*\x3ds;return this},translate:function(dx,dy){this.x1+\x3ddx;this.x2+\x3ddx;this.y1+\x3ddy;this.y2+\x3ddy;return this},\nrotate:function(angle,x,y){angle\x3dthis.rotatedPoints(angle,x,y);return this.clear().add(angle[0],angle[1]).add(angle[2],angle[3]).add(angle[4],angle[5]).add(angle[6],angle[7])},rotatedPoints:function(angle,x,y){var x1\x3dthis.x1,y1\x3dthis.y1,x2\x3dthis.x2,y2\x3dthis.y2,cos\x3dMath.cos(angle);angle\x3dMath.sin(angle);var cx\x3dx-x*cos+y*angle;x\x3dy-x*angle-y*cos;return[cos*x1-angle*y1+cx,angle*x1+cos*y1+x,cos*x1-angle*y2+cx,angle*x1+cos*y2+x,cos*x2-angle*y1+cx,angle*x2+cos*y1+x,cos*x2-angle*y2+cx,angle*x2+cos*y2+x]},union:function(b){b.x1\x3c\nthis.x1\x26\x26(this.x1\x3db.x1);b.y1\x3cthis.y1\x26\x26(this.y1\x3db.y1);b.x2\x3ethis.x2\x26\x26(this.x2\x3db.x2);b.y2\x3ethis.y2\x26\x26(this.y2\x3db.y2);return this},intersect:function(b){b.x1\x3ethis.x1\x26\x26(this.x1\x3db.x1);b.y1\x3ethis.y1\x26\x26(this.y1\x3db.y1);b.x2\x3cthis.x2\x26\x26(this.x2\x3db.x2);b.y2\x3cthis.y2\x26\x26(this.y2\x3db.y2);return this},encloses:function(b){return b\x26\x26this.x1\x3c\x3db.x1\x26\x26this.x2\x3e\x3db.x2\x26\x26this.y1\x3c\x3db.y1\x26\x26this.y2\x3e\x3db.y2},alignsWith:function(b){return b\x26\x26(this.x1\x3d\x3db.x1||this.x2\x3d\x3db.x2||this.y1\x3d\x3db.y1||this.y2\x3d\x3db.y2)},intersects:function(b){return b\x26\x26!(this.x2\x3c\nb.x1||this.x1\x3eb.x2||this.y2\x3cb.y1||this.y1\x3eb.y2)},contains:function(x,y){return!(x\x3cthis.x1||x\x3ethis.x2||y\x3cthis.y1||y\x3ethis.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}};vegaUtil.inherits(GroupItem,Item);ResourceLoader.prototype\x3d{pending:function(){return this._pending},sanitizeURL:function(uri){var loader\x3dthis;loader._pending+\x3d1;return loader._loader.sanitize(uri,{context:\x22href\x22}).then(function(opt){--loader._pending;return opt}).catch(function(){--loader._pending;\nreturn null})},loadImage:function(uri){var loader\x3dthis,Image\x3dvegaCanvas.image();loader._pending+\x3d1;return loader._loader.sanitize(uri,{context:\x22image\x22}).then(function(opt){var url\x3dopt.href;if(!url||!Image)throw{url:url};var img\x3dnew Image;opt\x3dvegaUtil.hasOwnProperty(opt,\x22crossOrigin\x22)?opt.crossOrigin:\x22anonymous\x22;null!\x3dopt\x26\x26(img.crossOrigin\x3dopt);img.onload\x3dfunction(){--loader._pending};img.onerror\x3dfunction(){--loader._pending};img.src\x3durl;return img}).catch(function(e){--loader._pending;return{complete:!1,\nwidth:0,height:0,src:e\x26\x26e.url||\x22\x22}})},ready:function(){var loader\x3dthis;return new Promise(function(accept){function poll(value){loader.pending()?setTimeout(function(){poll(!0)},10):accept(value)}poll(!1)})}};var circleThreshold\x3dTau-1E-8,bounds,lx,ly,rot,ma,mb,mc,md,addL\x3dfunction(x,y){x\x3dlx\x3dx;y\x3dly\x3dy;return bounds.add(x,y)},addX\x3dfunction(x){return bounds.add(x,bounds.y1)},addY\x3dfunction(y){return bounds.add(bounds.x1,y)},addp\x3dfunction(x,y){return bounds.add(ma*x+mc*y,mb*x+md*y)},addpL\x3dfunction(x,y){return addL(ma*\nx+mc*y,mb*x+md*y)},context$jscomp$0\x3d{beginPath:function(){},closePath:function(){},moveTo:addpL,lineTo:addpL,rect:function(x,y,w,h){rot?(addp(x+w,y),addp(x+w,y+h),addp(x,y+h),addpL(x,y)):(bounds.add(x+w,y+h),addL(x,y))},quadraticCurveTo:function(x1,y1,x2,y2){var py1\x3dmb*x1+md*y1,px2\x3dma*x2+mc*y2;x2\x3dmb*x2+md*y2;quadExtrema(lx,ma*x1+mc*y1,px2,addX);quadExtrema(ly,py1,x2,addY);addL(px2,x2)},bezierCurveTo:function(x1,y1,x2,y2,x3,y3){var py1\x3dmb*x1+md*y1,py2\x3dmb*x2+md*y2,px3\x3dma*x3+mc*y3;x3\x3dmb*x3+md*y3;cubicExtrema(lx,\nma*x1+mc*y1,ma*x2+mc*y2,px3,addX);cubicExtrema(ly,py1,py2,x3,addY);addL(px3,x3)},arc:function(cx,cy,r,sa,ea,ccw){sa+\x3drot;ea+\x3drot;lx\x3dr*Math.cos(ea)+cx;ly\x3dr*Math.sin(ea)+cy;if(Math.abs(ea-sa)\x3ecircleThreshold)bounds.add(cx-r,cy-r),bounds.add(cx+r,cy+r);else{var update\x3dfunction(a){return bounds.add(r*Math.cos(a)+cx,r*Math.sin(a)+cy)};update(sa);update(ea);if(ea!\x3d\x3dsa){sa%\x3dTau;0\x3esa\x26\x26(sa+\x3dTau);ea%\x3dTau;0\x3eea\x26\x26(ea+\x3dTau);if(ea\x3csa){ccw\x3d!ccw;var s\x3dsa;sa\x3dea;ea\x3ds}if(ccw)for(ea-\x3dTau,s\x3dsa-sa%HalfPi,sa\x3d0;4\x3esa\x26\x26s\x3eea;++sa,\ns-\x3dHalfPi)update(s);else for(s\x3dsa-sa%HalfPi+HalfPi,sa\x3d0;4\x3esa\x26\x26s\x3cea;++sa,s+\x3dHalfPi)update(s)}}}},context$1\x3d(context$1\x3dvegaCanvas.canvas(1,1))?context$1.getContext(\x222d\x22):null,b$jscomp$0\x3dnew Bounds,Empty\x3d[],arc$1\x3dmarkItemPath(\x22arc\x22,function(context,item){return arcShape.context(context)(item)}),area$1\x3dmarkMultiItemPath(\x22area\x22,function(context,items){var item\x3ditems[0];return(\x22horizontal\x22\x3d\x3d\x3ditem.orient?areahShape:areavShape).curve(curves(item.interpolate||\x22linear\x22,item.orient,item.tension)).context(context)(items)},\nfunction(a,p){p\x3d\x22horizontal\x22\x3d\x3d\x3da[0].orient?p[1]:p[0];for(var z\x3d\x22horizontal\x22\x3d\x3d\x3da[0].orient?\x22y\x22:\x22x\x22,i\x3da.length,min\x3dInfinity,hit,d;0\x3c\x3d--i;)!1!\x3d\x3da[i].defined\x26\x26(d\x3dMath.abs(a[i][z]-p),d\x3cmin\x26\x26(min\x3dd,hit\x3da[i]));return hit}),hitBackground\x3dhitPath(rectanglePath),hitForeground\x3dhitPath(rectanglePath,!1),hitCorner\x3dhitPath(rectanglePath,!0),group$jscomp$0\x3d{type:\x22group\x22,tag:\x22g\x22,nested:!1,attr:function(emit,item){emit(\x22transform\x22,translate(item.x||0,item.y||0))},bound:function(bounds,group){if(!group.clip\x26\x26group.items)for(var items\x3d\ngroup.items,m\x3ditems.length,j\x3d0;j\x3cm;++j)bounds.union(items[j].bounds);(group.clip||group.width||group.height)\x26\x26!group.noBound\x26\x26bounds.add(0,0).add(group.width||0,group.height||0);boundStroke(bounds,group);return bounds.translate(group.x||0,group.y||0)},draw:function(context,scene,bounds){var $jscomp$this\x3dthis;visit(scene,function(group){var gx\x3dgroup.x||0,gy\x3dgroup.y||0,fore\x3dgroup.strokeForeground,opacity\x3dnull\x3d\x3dgroup.opacity?1:group.opacity;(group.stroke||group.fill)\x26\x26opacity\x26\x26(rectanglePath(context,\ngroup,gx,gy),blend(context,group),group.fill\x26\x26fill$jscomp$0(context,group,opacity)\x26\x26context.fill(),group.stroke\x26\x26!fore\x26\x26stroke$jscomp$0(context,group,opacity)\x26\x26context.stroke());context.save();context.translate(gx,gy);group.clip\x26\x26clipGroup(context,group);bounds\x26\x26bounds.translate(-gx,-gy);visit(group,function(item){$jscomp$this.draw(context,item,bounds)});bounds\x26\x26bounds.translate(gx,gy);context.restore();fore\x26\x26group.stroke\x26\x26opacity\x26\x26(rectanglePath(context,group,gx,gy),blend(context,group),stroke$jscomp$0(context,\ngroup,opacity)\x26\x26context.stroke())})},pick:function(context,scene,x,y,gx,gy){var $jscomp$this\x3dthis;if(scene.bounds\x26\x26!scene.bounds.contains(gx,gy)||!scene.items)return null;var cx\x3dx*context.pixelRatio,cy\x3dy*context.pixelRatio;return pickVisit(scene,function(group){var hit\x3dgroup.bounds;if(!hit||hit.contains(gx,gy)){var dx\x3dgroup.x||0;var dy\x3dgroup.y||0;hit\x3ddx+(group.width||0);var dh\x3ddy+(group.height||0),c\x3dgroup.clip;if(!c||!(gx\x3cdx||gx\x3ehit||gy\x3cdy||gy\x3edh)){context.save();context.translate(dx,dy);dx\x3dgx-dx;\ndy\x3dgy-dy;if(c\x26\x26hasCornerRadius(group)\x26\x26!hitCorner(context,group,cx,cy))return context.restore(),null;dh\x3dgroup.strokeForeground;if((c\x3d!1!\x3d\x3dscene.interactive)\x26\x26dh\x26\x26group.stroke\x26\x26hitForeground(context,group,cx,cy))return context.restore(),group;hit\x3dpickVisit(group,function(mark){return(!1!\x3d\x3dmark.interactive||\x22group\x22\x3d\x3d\x3dmark.marktype)\x26\x26mark.bounds\x26\x26mark.bounds.contains(dx,dy)?$jscomp$this.pick(mark,x,y,dx,dy):null});!hit\x26\x26c\x26\x26(group.fill||!dh\x26\x26group.stroke)\x26\x26hitBackground(context,group,cx,cy)\x26\x26(hit\x3dgroup);\ncontext.restore();return hit||null}}})},isect:intersectRect,content:function(emit,item,renderer){item\x3ditem.clip?clip$jscomp$0(renderer,item,item):null;emit(\x22clip-path\x22,item)},background:function(emit,item){emit(\x22class\x22,\x22background\x22);emit(\x22aria-hidden\x22,!0);var off\x3doffset$jscomp$0(item);emit(\x22d\x22,rectangle(null,item,off,off))},foreground:function(emit,item){emit(\x22class\x22,\x22foreground\x22);emit(\x22aria-hidden\x22,!0);if(item.strokeForeground){var off\x3doffset$jscomp$0(item);emit(\x22d\x22,rectangle(null,item,off,off))}else emit(\x22d\x22,\n\x22\x22)}},metadata\x3d{xmlns:\x22http://www.w3.org/2000/svg\x22,\x22xmlns:xlink\x22:\x22http://www.w3.org/1999/xlink\x22,version:\x221.1\x22},image$jscomp$1\x3d{type:\x22image\x22,tag:\x22image\x22,nested:!1,attr:function(emit,item,renderer){var img\x3dgetImage(item,renderer);renderer\x3dimageWidth(item,img);var h\x3dimageHeight(item,img),x\x3d(item.x||0)-imageXOffset(item.align,renderer),y\x3d(item.y||0)-imageYOffset(item.baseline,h);img\x3d!img.src\x26\x26img.toDataURL?img.toDataURL():img.src||\x22\x22;emit(\x22href\x22,img,metadata[\x22xmlns:xlink\x22],\x22xlink:href\x22);emit(\x22transform\x22,\ntranslate(x,y));emit(\x22width\x22,renderer);emit(\x22height\x22,h);emit(\x22preserveAspectRatio\x22,!1\x3d\x3d\x3ditem.aspect?\x22none\x22:\x22xMidYMid\x22)},bound:function(bounds,item){var img\x3ditem.image,w\x3dimageWidth(item,img);img\x3dimageHeight(item,img);var x\x3d(item.x||0)-imageXOffset(item.align,w);item\x3d(item.y||0)-imageYOffset(item.baseline,img);return bounds.set(x,item,x+w,item+img)},draw:function(context,scene,bounds){var $jscomp$this\x3dthis;visit(scene,function(item){if(!bounds||bounds.intersects(item.bounds)){var img\x3dgetImage(item,\n$jscomp$this),w\x3dimageWidth(item,img),h\x3dimageHeight(item,img),x\x3d(item.x||0)-imageXOffset(item.align,w),y\x3d(item.y||0)-imageYOffset(item.baseline,h),opacity;if(!1!\x3d\x3ditem.aspect){var ar0\x3dimg.width/img.height;var ar1\x3ditem.width/item.height;ar0\x3d\x3d\x3dar0\x26\x26ar1\x3d\x3d\x3dar1\x26\x26ar0!\x3d\x3dar1\x26\x26(ar1\x3car0?(ar0\x3dw/ar0,y+\x3d(h-ar0)/2,h\x3dar0):(ar0*\x3dh,x+\x3d(w-ar0)/2,w\x3dar0))}if(img.complete||img.toDataURL)blend(context,item),context.globalAlpha\x3dnull!\x3d(opacity\x3ditem.opacity)?opacity:1,context.imageSmoothingEnabled\x3d!1!\x3d\x3ditem.smooth,context.drawImage(img,\nx,y,w,h)}})},pick:pick(),isect:vegaUtil.truthy,get:getImage,xOffset:imageXOffset,yOffset:imageYOffset},line$1\x3dmarkMultiItemPath(\x22line\x22,function(context,items){var item\x3ditems[0];return lineShape.curve(curves(item.interpolate||\x22linear\x22,item.orient,item.tension)).context(context)(items)},function(a,p){for(var t\x3dMath.pow(a[0].strokeWidth||1,2),i\x3da.length,dx,dy;0\x3c\x3d--i;)if(!1!\x3d\x3da[i].defined\x26\x26(dx\x3da[i].x-p[0],dy\x3da[i].y-p[1],dx\x3ddx*dx+dy*dy,dx\x3ct))return a[i];return null}),path$1\x3d{type:\x22path\x22,tag:\x22path\x22,nested:!1,\nattr:function(emit,item){var sy\x3ditem.scaleY||1;1\x3d\x3d\x3d(item.scaleX||1)\x26\x261\x3d\x3d\x3dsy||emit(\x22vector-effect\x22,\x22non-scaling-stroke\x22);sy\x3dtranslate(item.x||0,item.y||0)+(item.angle?\x22 rotate(\x22+(item.angle+\x22)\x22):\x22\x22)+(item.scaleX||item.scaleY?\x22 scale(\x22+((item.scaleX||1)+\x22,\x22+(item.scaleY||1)+\x22)\x22):\x22\x22);emit(\x22transform\x22,sy);emit(\x22d\x22,item.path)},bound:function(bounds,item){return path$jscomp$0(boundContext(bounds,item.angle),item)?bounds.set(0,0,0,0):boundStroke(bounds,item,!0)},draw:drawAll(path$jscomp$0),pick:pick(hitPath(path$jscomp$0)),\nisect:intersectPath(path$jscomp$0)},rect$jscomp$0\x3d{type:\x22rect\x22,tag:\x22path\x22,nested:!1,attr:function(emit,item){emit(\x22d\x22,rectangle(null,item))},bound:function(bounds,item){var x,y;return boundStroke(bounds.set(x\x3ditem.x||0,y\x3ditem.y||0,x+item.width||0,y+item.height||0),item)},draw:drawAll(draw$2),pick:pick(hitPath(draw$2)),isect:intersectRect},rule\x3d{type:\x22rule\x22,tag:\x22line\x22,nested:!1,attr:function(emit,item){emit(\x22transform\x22,translate(item.x||0,item.y||0));emit(\x22x2\x22,null!\x3ditem.x2?item.x2-(item.x||0):0);\nemit(\x22y2\x22,null!\x3ditem.y2?item.y2-(item.y||0):0)},bound:function(bounds,item){var x1,y1;return boundStroke(bounds.set(x1\x3ditem.x||0,y1\x3ditem.y||0,null!\x3ditem.x2?item.x2:x1,null!\x3ditem.y2?item.y2:y1),item)},draw:function(context,scene,bounds){visit(scene,function(item){if(!bounds||bounds.intersects(item.bounds)){var opacity\x3dnull\x3d\x3ditem.opacity?1:item.opacity;opacity\x26\x26path$2(context,item,opacity)\x26\x26(blend(context,item),context.stroke())}})},pick:pick(function(context,item,x,y){return context.isPointInStroke?\npath$2(context,item,1)\x26\x26context.isPointInStroke(x,y):!1}),isect:intersectRule},shape$1\x3dmarkItemPath(\x22shape\x22,function(context,item){return(item.mark.shape||item.shape).context(context)(item)}),symbol$1\x3dmarkItemPath(\x22symbol\x22,function(context,item){return symbolShape.context(context)(item)},intersectPoint),widthCache\x3dvegaUtil.lruCache(),textMetrics\x3d{height:fontSize,measureWidth:measureWidth,estimateWidth:estimateWidth,width:estimateWidth,canvas:useCanvas};useCanvas(!0);var textAlign\x3d{left:\x22start\x22,center:\x22middle\x22,\nright:\x22end\x22},tempBounds\x3dnew Bounds,text$jscomp$0\x3d{type:\x22text\x22,tag:\x22text\x22,nested:!1,attr:function(emit,item){var dx\x3ditem.dx||0,dy\x3d(item.dy||0)+offset$1(item),p\x3danchorPoint(item),x\x3dp.x1;p\x3dp.y1;var a\x3ditem.angle||0;emit(\x22text-anchor\x22,textAlign[item.align]||\x22start\x22);if(a){if(item\x3dtranslate(x,p)+\x22 rotate(\x22+(a+\x22)\x22),dx||dy)item+\x3d\x22 \x22+translate(dx,dy)}else item\x3dtranslate(x+dx,p+dy);emit(\x22transform\x22,item)},bound:bound$5,draw:function(context,scene,bounds){visit(scene,function(item){var opacity\x3dnull\x3d\x3ditem.opacity?\n1:item.opacity,i;if(!(bounds\x26\x26!bounds.intersects(item.bounds)||0\x3d\x3d\x3dopacity||0\x3e\x3ditem.fontSize||null\x3d\x3ditem.text||0\x3d\x3d\x3ditem.text.length)){context.font\x3dfont(item);context.textAlign\x3ditem.align||\x22left\x22;var p\x3danchorPoint(item);var x\x3dp.x1;p\x3dp.y1;item.angle\x26\x26(context.save(),context.translate(x,p),context.rotate(item.angle*DegToRad),x\x3dp\x3d0);x+\x3ditem.dx||0;p+\x3d(item.dy||0)+offset$1(item);var tl\x3dtextLines(item);blend(context,item);if(vegaUtil.isArray(tl)){var lh\x3dlineHeight(item);for(i\x3d0;i\x3ctl.length;++i){var str\x3d\ntextValue(item,tl[i]);item.fill\x26\x26fill$jscomp$0(context,item,opacity)\x26\x26context.fillText(str,x,p);item.stroke\x26\x26stroke$jscomp$0(context,item,opacity)\x26\x26context.strokeText(str,x,p);p+\x3dlh}}else str\x3dtextValue(item,tl),item.fill\x26\x26fill$jscomp$0(context,item,opacity)\x26\x26context.fillText(str,x,p),item.stroke\x26\x26stroke$jscomp$0(context,item,opacity)\x26\x26context.strokeText(str,x,p);item.angle\x26\x26context.restore()}})},pick:pick(function(context,item,x,y,gx,gy){if(0\x3e\x3ditem.fontSize)return!1;if(!item.angle)return!0;x\x3danchorPoint(item);\ncontext\x3dx.x1;x\x3dx.y1;y\x3dbound$5(tempBounds,item,1);var a\x3d-item.angle*DegToRad;item\x3dMath.cos(a);a\x3dMath.sin(a);return y.contains(item*gx-a*gy+(context-item*context+a*x),a*gx+item*gy+(x-a*context-item*x))}),isect:function(item,box){item\x3dbound$5(tempBounds,item,2);return intersectBoxLine(box,item[0],item[1],item[2],item[3])||intersectBoxLine(box,item[0],item[1],item[4],item[5])||intersectBoxLine(box,item[4],item[5],item[6],item[7])||intersectBoxLine(box,item[2],item[3],item[6],item[7])}},trail$1\x3dmarkMultiItemPath(\x22trail\x22,\nfunction(context,items){return trailShape.context(context)(items)},function(a,p){for(var i\x3da.length,dx,dy;0\x3c\x3d--i;)if(!1!\x3d\x3da[i].defined\x26\x26(dx\x3da[i].x-p[0],dy\x3da[i].y-p[1],dy\x3ddx*dx+dy*dy,dx\x3da[i].size||1,dy\x3cdx*dx))return a[i];return null}),Marks\x3d{arc:arc$1,area:area$1,group:group$jscomp$0,image:image$jscomp$1,line:line$1,path:path$1,rect:rect$jscomp$0,rule:rule,shape:shape$1,symbol:symbol$1,text:text$jscomp$0,trail:trail$1},DUMMY\x3d{mark:null},keys\x3d\x22marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription\x22.split(\x22 \x22);\nScenegraph.prototype\x3d{toJSON:function(indent){return sceneToJSON(this.root,indent||0)},mark:function(markdef,group,index){group\x3dgroup||this.root.items[0];markdef\x3dcreateMark(markdef,group);group.items[index]\x3dmarkdef;markdef.zindex\x26\x26(markdef.group.zdirty\x3d!0);return markdef}};Handler.prototype\x3d{initialize:function(el,origin,obj){this._el\x3del;this._obj\x3dobj||null;return this.origin(origin)},element:function(){return this._el},canvas:function(){return this._el\x26\x26this._el.firstChild},origin:function(origin){return arguments.length?\n(this._origin\x3dorigin||[0,0],this):this._origin.slice()},scene:function(scene){if(!arguments.length)return this._scene;this._scene\x3dscene;return this},on:function(){},off:function(){},_handlerIndex:function(h,type,handler){for(var i\x3dh?h.length:0;0\x3c\x3d--i;)if(h[i].type\x3d\x3d\x3dtype\x26\x26(!handler||h[i].handler\x3d\x3d\x3dhandler))return i;return-1},handlers:function(type){var h\x3dthis._handlers,a\x3d[];if(type)a.push.apply(a,h[this.eventName(type)]);else for(var k in h)a.push.apply(a,h[k]);return a},eventName:function(name){var i\x3d\nname.indexOf(\x22.\x22);return 0\x3ei?name:name.slice(0,i)},handleHref:function(event,item,href){this._loader.sanitize(href,{context:\x22href\x22}).then(function(opt){var e\x3dnew MouseEvent(event.type,event),a\x3ddomCreate(null,\x22a\x22),name;for(name in opt)a.setAttribute(name,opt[name]);a.dispatchEvent(e)}).catch(function(){})},handleTooltip:function(event,item,show){if(item\x26\x26null!\x3ditem.tooltip){var el\x3dthis.canvas(),origin\x3dthis._origin,mark\x3ditem\x26\x26item.mark,mdef;if(mark\x26\x26(mdef\x3dMarks[mark.marktype]).tip){el\x3dpoint(event,el);\nel[0]-\x3dorigin[0];for(el[1]-\x3dorigin[1];item\x3ditem.mark.group;)el[0]-\x3ditem.x||0,el[1]-\x3ditem.y||0;item\x3dmdef.tip(mark.items,el)}this._tooltip.call(this._obj,this,event,item,show\x26\x26item\x26\x26item.tooltip||null)}},getItemBoundingClientRect:function(item){var el\x3dthis.canvas();if(el){var rect\x3del.getBoundingClientRect(),origin\x3dthis._origin,bounds\x3ditem.bounds;el\x3dbounds.width();var height\x3dbounds.height(),x\x3dbounds.x1+origin[0]+rect.left;for(rect\x3dbounds.y1+origin[1]+rect.top;item.mark\x26\x26(item\x3ditem.mark.group);)x+\x3ditem.x||\n0,rect+\x3ditem.y||0;return{x:x,y:rect,width:el,height:height,left:x,top:rect,right:x+el,bottom:rect+height}}}};Renderer.prototype\x3d{initialize:function(el,width,height,origin,scaleFactor){this._el\x3del;return this.resize(width,height,origin,scaleFactor)},element:function(){return this._el},canvas:function(){return this._el\x26\x26this._el.firstChild},background:function(bgcolor){if(0\x3d\x3d\x3darguments.length)return this._bgcolor;this._bgcolor\x3dbgcolor;return this},resize:function(width,height,origin,scaleFactor){this._width\x3d\nwidth;this._height\x3dheight;this._origin\x3dorigin||[0,0];this._scale\x3dscaleFactor||1;return this},dirty:function(){},render:function(scene){var r\x3dthis;r._call\x3dfunction(){r._render(scene)};r._call();r._call\x3dnull;return r},_render:function(){},renderAsync:function(scene){var r\x3dthis.render(scene);return this._ready?this._ready.then(function(){return r}):Promise.resolve(r)},_load:function(method,uri){var r\x3dthis;method\x3dr._loader[method](uri);if(!r._ready){var call\x3dr._call;r._ready\x3dr._loader.ready().then(function(redraw){redraw\x26\x26\ncall();r._ready\x3dnull})}return method},sanitizeURL:function(uri){return this._load(\x22sanitizeURL\x22,uri)},loadImage:function(uri){return this._load(\x22loadImage\x22,uri)}};vegaUtil.inherits(CanvasHandler,Handler,{initialize:function(el,origin,obj){var $jscomp$this\x3dthis;this._canvas\x3del\x26\x26domFind(el,\x22canvas\x22);[\x22click\x22,\x22mousedown\x22,\x22mousemove\x22,\x22mouseout\x22,\x22dragleave\x22].forEach(function(type){return eventListenerCheck($jscomp$this,type)});return Handler.prototype.initialize.call(this,el,origin,obj)},canvas:function(){return this._canvas},\ncontext:function(){return this._canvas.getContext(\x222d\x22)},events:\x22keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend\x22.split(\x22 \x22),DOMMouseScroll:function(evt){this.fire(\x22mousewheel\x22,evt)},mousemove:move(\x22mousemove\x22,\x22mouseover\x22,\x22mouseout\x22),dragover:move(\x22dragover\x22,\x22dragenter\x22,\x22dragleave\x22),mouseout:inactive(\x22mouseout\x22),dragleave:inactive(\x22dragleave\x22),mousedown:function(evt){this._down\x3dthis._active;\nthis.fire(\x22mousedown\x22,evt)},click:function(evt){this._down\x3d\x3d\x3dthis._active\x26\x26(this.fire(\x22click\x22,evt),this._down\x3dnull)},touchstart:function(evt){this._touch\x3dthis.pickEvent(evt.changedTouches[0]);this._first\x26\x26(this._active\x3dthis._touch,this._first\x3d!1);this.fire(\x22touchstart\x22,evt,!0)},touchmove:function(evt){this.fire(\x22touchmove\x22,evt,!0)},touchend:function(evt){this.fire(\x22touchend\x22,evt,!0);this._touch\x3dnull},fire:function(type,evt,touch){touch\x3dtouch?this._touch:this._active;var h\x3dthis._handlers[type];evt.vegaType\x3d\ntype;\x22click\x22\x3d\x3d\x3dtype\x26\x26touch\x26\x26touch.href?this.handleHref(evt,touch,touch.href):(\x22mousemove\x22\x3d\x3d\x3dtype||\x22mouseout\x22\x3d\x3d\x3dtype)\x26\x26this.handleTooltip(evt,touch,\x22mouseout\x22!\x3d\x3dtype);if(h){type\x3d0;for(var len\x3dh.length;type\x3clen;++type)h[type].handler.call(this._obj,evt,touch)}},on:function(type,handler){var name\x3dthis.eventName(type),h\x3dthis._handlers;0\x3ethis._handlerIndex(h[name],type,handler)\x26\x26(eventListenerCheck(this,type),(h[name]||(h[name]\x3d[])).push({type:type,handler:handler}));return this},off:function(type,handler){var name\x3d\nthis.eventName(type);name\x3dthis._handlers[name];type\x3dthis._handlerIndex(name,type,handler);0\x3c\x3dtype\x26\x26name.splice(type,1);return this},pickEvent:function(evt){evt\x3dpoint(evt,this._canvas);var o\x3dthis._origin;return this.pick(this._scene,evt[0],evt[1],evt[0]-o[0],evt[1]-o[1])},pick:function(scene,x,y,gx,gy){var g\x3dthis.context();return Marks[scene.marktype].pick.call(this,g,scene,x,y,gx,gy)}});var pixelRatio\x3d\x22undefined\x22!\x3d\x3dtypeof window?window.devicePixelRatio||1:1,base$jscomp$0\x3dRenderer.prototype;vegaUtil.inherits(CanvasRenderer,\nRenderer,{initialize:function(el,width,height,origin,scaleFactor,options){this._options\x3doptions||{};this._canvas\x3dthis._options.externalContext?null:vegaCanvas.canvas(1,1,this._options.type);el\x26\x26this._canvas\x26\x26(domClear(el,0).appendChild(this._canvas),this._canvas.setAttribute(\x22class\x22,\x22marks\x22));return base$jscomp$0.initialize.call(this,el,width,height,origin,scaleFactor)},resize:function(width,height,origin,scaleFactor$jscomp$0){base$jscomp$0.resize.call(this,width,height,origin,scaleFactor$jscomp$0);\nif(this._canvas){width\x3dthis._canvas;height\x3dthis._width;origin\x3dthis._height;scaleFactor$jscomp$0\x3dthis._origin;var scaleFactor\x3dthis._scale,opt\x3dthis._options.context,inDOM\x3d\x22undefined\x22!\x3d\x3dtypeof HTMLElement\x26\x26width instanceof HTMLElement\x26\x26null!\x3dwidth.parentNode,context\x3dwidth.getContext(\x222d\x22);scaleFactor\x3dinDOM?pixelRatio:scaleFactor;width.width\x3dheight*scaleFactor;width.height\x3dorigin*scaleFactor;for(var key in opt)context[key]\x3dopt[key];inDOM\x26\x261!\x3d\x3dscaleFactor\x26\x26(width.style.width\x3dheight+\x22px\x22,width.style.height\x3d\norigin+\x22px\x22);context.pixelRatio\x3dscaleFactor;context.setTransform(scaleFactor,0,0,scaleFactor,scaleFactor*scaleFactor$jscomp$0[0],scaleFactor*scaleFactor$jscomp$0[1])}else(key\x3dthis._options.externalContext)||vegaUtil.error(\x22CanvasRenderer is missing a valid canvas or context\x22),key.scale(this._scale,this._scale),key.translate(this._origin[0],this._origin[1]);this._redraw\x3d!0;return this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext(\x222d\x22):\nnull)},dirty:function(item){var b\x3dthis._tempb.clear().union(item.bounds);for(item\x3ditem.mark.group;item;)b.translate(item.x||0,item.y||0),item\x3ditem.mark.group;this._dirty.union(b)},_render:function(scene){var g\x3dthis.context(),o\x3dthis._origin,w\x3dthis._width,h\x3dthis._height,db\x3dthis._dirty,vb\x3d(new Bounds).set(0,0,w,h).translate(-o[0],-o[1]);g.save();this._redraw||db.empty()?vb\x3d(this._redraw\x3d!1,vb.expand(1)):(vb\x3dvb.intersect(db),vb.expand(1).round(),g.pixelRatio%1\x26\x26vb.scale(g.pixelRatio).round().scale(1/\ng.pixelRatio),vb.translate(-(o[0]%1),-(o[1]%1)),g.beginPath(),g.rect(vb.x1,vb.y1,vb.width(),vb.height()),g.clip());this.clear(-o[0],-o[1],w,h);this.draw(g,scene,vb);g.restore();db.clear();return this},draw:function(ctx,scene,bounds){var mark\x3dMarks[scene.marktype];if(scene.clip){var clip\x3dscene.clip;ctx.save();vegaUtil.isFunction(clip)?(ctx.beginPath(),clip(ctx),ctx.clip()):clipGroup(ctx,scene.group)}mark.draw.call(this,ctx,scene,bounds);scene.clip\x26\x26ctx.restore()},clear:function(x,y,w,h){var opt\x3dthis._options,\ng\x3dthis.context();\x22pdf\x22\x3d\x3d\x3dopt.type||opt.externalContext||g.clearRect(x,y,w,h);null!\x3dthis._bgcolor\x26\x26(g.fillStyle\x3dthis._bgcolor,g.fillRect(x,y,w,h))}});var listener\x3dfunction(context,handler){return function(evt){var item\x3devt.target.__data__;item\x3dArray.isArray(item)?item[0]:item;evt.vegaType\x3devt.type;handler.call(context._obj,evt,item)}};vegaUtil.inherits(SVGHandler,Handler,{initialize:function(el,origin,obj){var svg\x3dthis._svg;svg\x26\x26(svg.removeEventListener(\x22click\x22,this._hrefHandler),svg.removeEventListener(\x22mousemove\x22,\nthis._tooltipHandler),svg.removeEventListener(\x22mouseout\x22,this._tooltipHandler));if(this._svg\x3dsvg\x3del\x26\x26domFind(el,\x22svg\x22))svg.addEventListener(\x22click\x22,this._hrefHandler),svg.addEventListener(\x22mousemove\x22,this._tooltipHandler),svg.addEventListener(\x22mouseout\x22,this._tooltipHandler);return Handler.prototype.initialize.call(this,el,origin,obj)},canvas:function(){return this._svg},on:function(type,handler){var name\x3dthis.eventName(type),h\x3dthis._handlers;0\x3ethis._handlerIndex(h[name],type,handler)\x26\x26(type\x3d{type:type,\nhandler:handler,listener:listener(this,handler)},(h[name]||(h[name]\x3d[])).push(type),this._svg\x26\x26this._svg.addEventListener(name,type.listener));return this},off:function(type,handler){var name\x3dthis.eventName(type),h\x3dthis._handlers[name];type\x3dthis._handlerIndex(h,type,handler);0\x3c\x3dtype\x26\x26(this._svg\x26\x26this._svg.removeEventListener(name,h[type].listener),h.splice(type,1));return this}});var bundle\x3dfunction(role,roledesc,label){var $jscomp$compprop48\x3d{};return $jscomp$compprop48.role\x3drole,$jscomp$compprop48[\x22aria-roledescription\x22]\x3d\nroledesc,$jscomp$compprop48[\x22aria-label\x22]\x3dlabel||void 0,$jscomp$compprop48},AriaIgnore\x3dvegaUtil.toSet(\x22axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title\x22.split(\x22 \x22)),AriaGuides\x3d{axis:{desc:\x22axis\x22,caption:function(item){var datum\x3ditem.datum,orient\x3ditem.orient,title\x3ddatum.title?extractTitle(item):null,ctx\x3ditem.context;datum\x3dctx.scales[datum.scale].value;ctx\x3dctx.dataflow.locale();var type\x3ddatum.type;return(\x22left\x22\x3d\x3d\x3d\norient||\x22right\x22\x3d\x3d\x3dorient?\x22Y\x22:\x22X\x22)+\x22-axis\x22+(title?\x22 titled \x27\x22+title+\x22\x27\x22:\x22\x22)+(\x22 for a \x22+(vegaScale.isDiscrete(type)?\x22discrete\x22:type)+\x22 scale with \x22)+vegaScale.domainCaption(ctx,datum,item)}},legend:{desc:\x22legend\x22,caption:function(item){var datum\x3ditem.datum,title\x3ddatum.title?extractTitle(item):null,type\x3d((datum.type||\x22\x22)+\x22 legend\x22).trim(),scales\x3ddatum.scales;datum\x3dObject.keys(scales);var ctx\x3ditem.context;scales\x3dctx.scales[scales[datum[0]]].value;ctx\x3dctx.dataflow.locale();return(type.length?type[0].toUpperCase()+\ntype.slice(1):type)+(title?\x22 titled \x27\x22+title+\x22\x27\x22:\x22\x22)+(\x22 for \x22+channelCaption(datum))+(\x22 with \x22+vegaScale.domainCaption(ctx,scales,item))}},\x22title-text\x22:{desc:\x22title\x22,caption:function(item){return\x22Title text \x27\x22+vegaUtil.array(item.text).join(\x22 \x22)+\x22\x27\x22}},\x22title-subtitle\x22:{desc:\x22subtitle\x22,caption:function(item){return\x22Subtitle text \x27\x22+vegaUtil.array(item.text).join(\x22 \x22)+\x22\x27\x22}}},AriaEncode\x3d{ariaRole:\x22role\x22,ariaRoleDescription:\x22aria-roledescription\x22,description:\x22aria-label\x22},innerText\x3dfunction(val){return(val+\n\x22\x22).replace(/\x26/g,\x22\\x26amp;\x22).replace(/\x3c/g,\x22\\x26lt;\x22).replace(/\x3e/g,\x22\\x26gt;\x22)},serializeXML\x3dfunction(node){return _serialize(markup(),node)+\x22\x22},styles\x3d{fill:\x22fill\x22,fillOpacity:\x22fill-opacity\x22,stroke:\x22stroke\x22,strokeOpacity:\x22stroke-opacity\x22,strokeWidth:\x22stroke-width\x22,strokeCap:\x22stroke-linecap\x22,strokeJoin:\x22stroke-linejoin\x22,strokeDash:\x22stroke-dasharray\x22,strokeDashOffset:\x22stroke-dashoffset\x22,strokeMiterLimit:\x22stroke-miterlimit\x22,opacity:\x22opacity\x22,blend:\x22mix-blend-mode\x22},rootAttributes\x3d{fill:\x22none\x22,\x22stroke-miterlimit\x22:10},\nns\x3dmetadata.xmlns,base$1\x3dRenderer.prototype;vegaUtil.inherits(SVGRenderer,Renderer,{initialize:function(el,width,height,origin,scaleFactor){this._defs\x3d{};this._clearDefs();el\x26\x26(this._svg\x3ddomChild(el,0,\x22svg\x22,ns),setAttributes(this._svg,metadata),this._svg.setAttribute(\x22class\x22,\x22marks\x22),domClear(el,1),this._root\x3ddomChild(this._svg,0,\x22g\x22,ns),setAttributes(this._root,rootAttributes),domClear(this._svg,1));this.background(this._bgcolor);return base$1.initialize.call(this,el,width,height,origin,scaleFactor)},\nbackground:function(bgcolor){arguments.length\x26\x26this._svg\x26\x26this._svg.style.setProperty(\x22background-color\x22,bgcolor);return base$1.background.apply(this,arguments)},resize:function(width,height,origin,scaleFactor){base$1.resize.call(this,width,height,origin,scaleFactor);this._svg\x26\x26(setAttributes(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:\x220 0 \x22+this._width+\x22 \x22+this._height}),this._root.setAttribute(\x22transform\x22,\x22translate(\x22+this._origin+\x22)\x22));this._dirty\x3d[];return this},\ncanvas:function(){return this._svg},svg:function(){var svg\x3dthis._svg,bg\x3dthis._bgcolor;if(!svg)return null;if(bg){svg.removeAttribute(\x22style\x22);var node\x3ddomChild(svg,0,\x22rect\x22,ns);setAttributes(node,{width:this._width,height:this._height,fill:bg})}var text\x3dserializeXML(svg);bg\x26\x26(svg.removeChild(node),this._svg.style.setProperty(\x22background-color\x22,bg));return text},_render:function(scene){this._dirtyCheck()\x26\x26(this._dirtyAll\x26\x26this._clearDefs(),this.mark(this._root,scene),domClear(this._root,1));this.defs();\nthis._dirty\x3d[];++this._dirtyID;return this},dirty:function(item){item.dirty!\x3d\x3dthis._dirtyID\x26\x26(item.dirty\x3dthis._dirtyID,this._dirty.push(item))},isDirty:function(item){return this._dirtyAll||!item._svg||item.dirty\x3d\x3d\x3dthis._dirtyID},_dirtyCheck:function(){this._dirtyAll\x3d!0;var items\x3dthis._dirty;if(!items.length||!this._dirtyID)return!0;var id\x3d++this._dirtyID,n;var i$jscomp$0\x3d0;for(n\x3ditems.length;i$jscomp$0\x3cn;++i$jscomp$0){var item\x3ditems[i$jscomp$0];var mark\x3ditem.mark;if(mark.marktype!\x3d\x3dtype){var type\x3d\nmark.marktype;var mdef\x3dMarks[type]}mark.zdirty\x26\x26mark.dirty!\x3d\x3did\x26\x26(this._dirtyAll\x3d!1,dirtyParents(item,id),mark.items.forEach(function(i){i.dirty\x3did}));mark.zdirty||(item.exit?(mdef.nested\x26\x26mark.items.length?(mark\x3dmark.items[0],mark._svg\x26\x26this._update(mdef,mark._svg,mark)):item._svg\x26\x26(mark\x3ditem._svg.parentNode)\x26\x26mark.removeChild(item._svg),item._svg\x3dnull):(item\x3dmdef.nested?mark.items[0]:item,item._update!\x3d\x3did\x26\x26(item._svg\x26\x26item._svg.ownerSVGElement?this._update(mdef,item._svg,item):(this._dirtyAll\x3d\n!1,dirtyParents(item,id)),item._update\x3did)))}return!this._dirtyAll},mark:function(el,scene,prev){var $jscomp$this\x3dthis;if(!this.isDirty(scene))return scene._svg;var svg\x3dthis._svg,mdef\x3dMarks[scene.marktype],events\x3d!1\x3d\x3d\x3dscene.interactive?\x22none\x22:null,isGroup\x3d\x22g\x22\x3d\x3d\x3dmdef.tag,sibling\x3dnull,i\x3d0,parent\x3dbind(scene,el,prev,\x22g\x22,svg);parent.setAttribute(\x22class\x22,cssClass(scene));el\x3dariaMarkAttributes(scene);for(var key in el)setAttribute(parent,key,el[key]);isGroup||setAttribute(parent,\x22pointer-events\x22,events);\nsetAttribute(parent,\x22clip-path\x22,scene.clip?clip$jscomp$0(this,scene,scene.group):null);events\x3dfunction(item){var dirty\x3d$jscomp$this.isDirty(item),node\x3dbind(item,parent,sibling,mdef.tag,svg);dirty\x26\x26($jscomp$this._update(mdef,node,item),isGroup\x26\x26recurse$jscomp$0($jscomp$this,node,item));sibling\x3dnode;++i};mdef.nested?scene.items.length\x26\x26events(scene.items[0]):visit(scene,events);domClear(parent,i);return parent},_update:function(mdef,el,item){element\x3del;values\x3del.__values__;ariaItemAttributes(emit,item);\nmdef.attr(emit,item,this);var extra\x3dmark_extras[mdef.type];extra\x26\x26extra.call(this,mdef,el,item);element\x26\x26this.style(element,item)},style:function(el,item){if(null!\x3ditem)for(var prop in styles){var value$538\x3d\x22font\x22\x3d\x3d\x3dprop?fontFamily(item):item[prop];if(value$538!\x3d\x3dvalues[prop]){var name\x3dstyles[prop];null\x3d\x3dvalue$538?el.removeAttribute(name):(value$538\x26\x26value$538.gradient\x26\x26(value$538\x3dgradientRef(value$538,this._defs.gradient,href())),el.setAttribute(name,value$538+\x22\x22));values[prop]\x3dvalue$538}}},defs:function(){var svg\x3d\nthis._svg,defs\x3dthis._defs,el\x3ddefs.el,index\x3d0;for(id in defs.gradient){el||(defs.el\x3del\x3ddomChild(svg,1,\x22defs\x22,ns));var n,el$jscomp$0\x3del,grad\x3ddefs.gradient[id];if(\x22radial\x22\x3d\x3d\x3dgrad.gradient){var stop\x3ddomChild(el$jscomp$0,index++,\x22pattern\x22,ns);setAttributes(stop,{id:\x22p_\x22+grad.id,viewBox:\x220,0,1,1\x22,width:\x22100%\x22,height:\x22100%\x22,preserveAspectRatio:\x22xMidYMid slice\x22});stop\x3ddomChild(stop,0,\x22rect\x22,ns);setAttributes(stop,{width:1,height:1,fill:\x22url(\x22+href()+\x22#\x22+grad.id+\x22)\x22});el$jscomp$0\x3ddomChild(el$jscomp$0,index++,\n\x22radialGradient\x22,ns);setAttributes(el$jscomp$0,{id:grad.id,fx:grad.x1,fy:grad.y1,fr:grad.r1,cx:grad.x2,cy:grad.y2,r:grad.r2})}else el$jscomp$0\x3ddomChild(el$jscomp$0,index++,\x22linearGradient\x22,ns),setAttributes(el$jscomp$0,{id:grad.id,x1:grad.x1,x2:grad.x2,y1:grad.y1,y2:grad.y2});var i\x3d0;for(n\x3dgrad.stops.length;i\x3cn;++i)stop\x3ddomChild(el$jscomp$0,i,\x22stop\x22,ns),stop.setAttribute(\x22offset\x22,grad.stops[i].offset),stop.setAttribute(\x22stop-color\x22,grad.stops[i].color);domClear(el$jscomp$0,i)}for(var id$539 in defs.clipping){el||\n(defs.el\x3del\x3ddomChild(svg,1,\x22defs\x22,ns));var id\x3del;el$jscomp$0\x3ddefs.clipping[id$539];id\x3ddomChild(id,index,\x22clipPath\x22,ns);id.setAttribute(\x22id\x22,el$jscomp$0.id);el$jscomp$0.path?(grad\x3ddomChild(id,0,\x22path\x22,ns),grad.setAttribute(\x22d\x22,el$jscomp$0.path)):(grad\x3ddomChild(id,0,\x22rect\x22,ns),setAttributes(grad,{x:0,y:0,width:el$jscomp$0.width,height:el$jscomp$0.height}));domClear(id,1);index+\x3d1}el\x26\x26(0\x3d\x3d\x3dindex?(svg.removeChild(el),defs.el\x3dnull):domClear(el,index))},_clearDefs:function(){var def\x3dthis._defs;def.gradient\x3d\n{};def.clipping\x3d{}}});var element\x3dnull,values\x3dnull,mark_extras\x3d{group:function(mdef,el,item){var fg\x3delement\x3del.childNodes[2];values\x3dfg.__values__;mdef.foreground(emit,item,this);values\x3del.__values__;element\x3del.childNodes[1];mdef.content(emit,item,this);el\x3delement\x3del.childNodes[0];mdef.background(emit,item,this);mdef\x3d!1\x3d\x3d\x3ditem.mark.interactive?\x22none\x22:null;mdef!\x3d\x3dvalues.events\x26\x26(setAttribute(fg,\x22pointer-events\x22,mdef),setAttribute(el,\x22pointer-events\x22,mdef),values.events\x3dmdef);item.strokeForeground\x26\x26\nitem.stroke?(mdef\x3ditem.fill,setAttribute(fg,\x22display\x22,null),this.style(el,item),setAttribute(el,\x22stroke\x22,null),mdef\x26\x26(item.fill\x3dnull),values\x3dfg.__values__,this.style(fg,item),mdef\x26\x26(item.fill\x3dmdef),element\x3dnull):setAttribute(fg,\x22display\x22,\x22none\x22)},image:function(mdef,el,item){!1\x3d\x3d\x3ditem.smooth?(setStyle(el,\x22image-rendering\x22,\x22optimizeSpeed\x22),setStyle(el,\x22image-rendering\x22,\x22pixelated\x22)):setStyle(el,\x22image-rendering\x22,null)},text:function(mdef,el,item){mdef\x3dtextLines(item);if(vegaUtil.isArray(mdef)){var value\x3d\nmdef.map(function(_){return textValue(item,_)});mdef\x3dvalue.join(\x22\\n\x22);if(mdef!\x3d\x3dvalues.text){domClear(el,0);var doc\x3del.ownerDocument;var lh\x3dlineHeight(item);value.forEach(function(t,i){var ts\x3ddomCreate(doc,\x22tspan\x22,ns);ts.__data__\x3ditem;ts.textContent\x3dt;i\x26\x26(ts.setAttribute(\x22x\x22,0),ts.setAttribute(\x22dy\x22,lh));el.appendChild(ts)});values.text\x3dmdef}}else value\x3dtextValue(item,mdef),value!\x3d\x3dvalues.text\x26\x26(el.textContent\x3dvalue,values.text\x3dvalue);setAttribute(el,\x22font-family\x22,fontFamily(item));setAttribute(el,\n\x22font-size\x22,fontSize(item)+\x22px\x22);setAttribute(el,\x22font-style\x22,item.fontStyle);setAttribute(el,\x22font-variant\x22,item.fontVariant);setAttribute(el,\x22font-weight\x22,item.fontWeight)}};vegaUtil.inherits(SVGStringRenderer,Renderer,{svg:function(){return this._text},_render:function(scene){var m\x3dmarkup();m.open(\x22svg\x22,vegaUtil.extend({},metadata,{class:\x22marks\x22,width:this._width*this._scale,height:this._height*this._scale,viewBox:\x220 0 \x22+this._width+\x22 \x22+this._height}));var bg\x3dthis._bgcolor;bg\x26\x26\x22transparent\x22!\x3d\x3d\nbg\x26\x26\x22none\x22!\x3d\x3dbg\x26\x26m.open(\x22rect\x22,{width:this._width,height:this._height,fill:bg}).close();m.open(\x22g\x22,rootAttributes,{transform:\x22translate(\x22+this._origin+\x22)\x22});this.mark(m,scene);m.close();this.defs(m);this._text\x3dm.close()+\x22\x22;return this},mark:function(m,scene$jscomp$0){var $jscomp$this\x3dthis,mdef\x3dMarks[scene$jscomp$0.marktype],tag\x3dmdef.tag,attrList\x3d[ariaItemAttributes,mdef.attr];m.open(\x22g\x22,{\x22class\x22:cssClass(scene$jscomp$0),\x22clip-path\x22:scene$jscomp$0.clip?clip$jscomp$0(this,scene$jscomp$0,scene$jscomp$0.group):\nnull},ariaMarkAttributes(scene$jscomp$0),{\x22pointer-events\x22:\x22g\x22!\x3d\x3dtag\x26\x26!1\x3d\x3d\x3dscene$jscomp$0.interactive?\x22none\x22:null});var process\x3dfunction(item){var href\x3d$jscomp$this.href(item);href\x26\x26m.open(\x22a\x22,href);m.open(tag,$jscomp$this.attr(scene$jscomp$0,item,attrList,\x22g\x22!\x3d\x3dtag?tag:null));if(\x22text\x22\x3d\x3d\x3dtag){var tl$541\x3dtextLines(item);if(vegaUtil.isArray(tl$541))for(var attrs\x3d{x:0,dy:lineHeight(item)},i\x3d0;i\x3ctl$541.length;++i)m.open(\x22tspan\x22,i?attrs:null).text(textValue(item,tl$541[i])).close();else m.text(textValue(item,\ntl$541))}else\x22g\x22\x3d\x3d\x3dtag\x26\x26(tl$541\x3ditem.strokeForeground,attrs\x3ditem.fill,i\x3ditem.stroke,tl$541\x26\x26i\x26\x26(item.stroke\x3dnull),m.open(\x22path\x22,$jscomp$this.attr(scene$jscomp$0,item,mdef.background,\x22bgrect\x22)).close(),m.open(\x22g\x22,$jscomp$this.attr(scene$jscomp$0,item,mdef.content)),visit(item,function(scene){return $jscomp$this.mark(m,scene)}),m.close(),tl$541\x26\x26i?(attrs\x26\x26(item.fill\x3dnull),item.stroke\x3di,m.open(\x22path\x22,$jscomp$this.attr(scene$jscomp$0,item,mdef.foreground,\x22bgrect\x22)).close(),attrs\x26\x26(item.fill\x3dattrs)):m.open(\x22path\x22,\n$jscomp$this.attr(scene$jscomp$0,item,mdef.foreground,\x22bgfore\x22)).close());m.close();href\x26\x26m.close()};mdef.nested?scene$jscomp$0.items\x26\x26scene$jscomp$0.items.length\x26\x26process(scene$jscomp$0.items[0]):visit(scene$jscomp$0,process);return m.close()},href:function(item){var $jscomp$this\x3dthis,href\x3ditem.href;if(href){if(item\x3dthis._hrefs\x26\x26this._hrefs[href])return item;this.sanitizeURL(href).then(function(attr){attr[\x22xlink:href\x22]\x3dattr.href;attr.href\x3dnull;($jscomp$this._hrefs||($jscomp$this._hrefs\x3d{}))[href]\x3d\nattr})}return null},attr:function(scene,item,attrs,tag){var $jscomp$this\x3dthis,object\x3d{},emit\x3dfunction(name,value,ns,prefixed){object[prefixed||name]\x3dvalue};Array.isArray(attrs)?attrs.forEach(function(fn){return fn(emit,item,$jscomp$this)}):attrs(emit,item,this);tag\x26\x26style(object,item,scene,tag,this._defs);return object},defs:function(m){var gradient\x3dthis._defs.gradient,clipping\x3dthis._defs.clipping;if(0!\x3d\x3dObject.keys(gradient).length+Object.keys(clipping).length){m.open(\x22defs\x22);for(var id in gradient){var def$544\x3d\ngradient[id],stops\x3ddef$544.stops;\x22radial\x22\x3d\x3d\x3ddef$544.gradient?(m.open(\x22pattern\x22,{id:\x22p_\x22+id,viewBox:\x220,0,1,1\x22,width:\x22100%\x22,height:\x22100%\x22,preserveAspectRatio:\x22xMidYMid slice\x22}),m.open(\x22rect\x22,{width:\x221\x22,height:\x221\x22,fill:\x22url(#\x22+id+\x22)\x22}).close(),m.close(),m.open(\x22radialGradient\x22,{id:id,fx:def$544.x1,fy:def$544.y1,fr:def$544.r1,cx:def$544.x2,cy:def$544.y2,r:def$544.r2})):m.open(\x22linearGradient\x22,{id:id,x1:def$544.x1,x2:def$544.x2,y1:def$544.y1,y2:def$544.y2});for(def$544\x3d0;def$544\x3cstops.length;++def$544)m.open(\x22stop\x22,\n{offset:stops[def$544].offset,\x22stop-color\x22:stops[def$544].color}).close();m.close()}for(var id$545 in clipping)gradient\x3dclipping[id$545],m.open(\x22clipPath\x22,{id:id$545}),gradient.path?m.open(\x22path\x22,{d:gradient.path}).close():m.open(\x22rect\x22,{x:0,y:0,width:gradient.width,height:gradient.height}).close(),m.close();m.close()}}});var modules\x3d{};modules.canvas\x3dmodules.png\x3d{renderer:CanvasRenderer,headless:CanvasRenderer,handler:CanvasHandler};modules.svg\x3d{renderer:SVGRenderer,headless:SVGStringRenderer,handler:SVGHandler};\nmodules.none\x3d{};var clipBounds\x3dnew Bounds;exports.Bounds\x3dBounds;exports.CanvasHandler\x3dCanvasHandler;exports.CanvasRenderer\x3dCanvasRenderer;exports.Gradient\x3dfunction(p0,p1){var stops\x3d[],gradient;return gradient\x3d{gradient:\x22linear\x22,x1:p0?p0[0]:0,y1:p0?p0[1]:0,x2:p1?p1[0]:1,y2:p1?p1[1]:0,stops:stops,stop:function(offset,color){stops.push({offset:offset,color:color});return gradient}}};exports.GroupItem\x3dGroupItem;exports.Handler\x3dHandler;exports.Item\x3dItem;exports.Marks\x3dMarks;exports.RenderType\x3d{Canvas:\x22canvas\x22,\nPNG:\x22png\x22,SVG:\x22svg\x22,None:\x22none\x22};exports.Renderer\x3dRenderer;exports.ResourceLoader\x3dResourceLoader;exports.SVGHandler\x3dSVGHandler;exports.SVGRenderer\x3dSVGRenderer;exports.SVGStringRenderer\x3dSVGStringRenderer;exports.Scenegraph\x3dScenegraph;exports.boundClip\x3dfunction(mark){var clip\x3dmark.clip;if(vegaUtil.isFunction(clip))clip(boundContext(clipBounds.clear()));else if(clip)clipBounds.set(0,0,mark.group.width,mark.group.height);else return;mark.bounds.intersect(clipBounds)};exports.boundContext\x3dboundContext;\nexports.boundItem\x3dboundItem;exports.boundMark\x3dboundMark;exports.boundStroke\x3dboundStroke;exports.domChild\x3ddomChild;exports.domClear\x3ddomClear;exports.domCreate\x3ddomCreate;exports.domFind\x3ddomFind;exports.font\x3dfont;exports.fontFamily\x3dfontFamily;exports.fontSize\x3dfontSize;exports.intersect\x3dfunction(scene,bounds,filter){var hits\x3d[];bounds\x3d(new Bounds).union(bounds);var type\x3dscene.marktype;return type?intersectMark(scene,bounds,filter,hits):\x22group\x22\x3d\x3d\x3dtype?intersectGroup(scene,bounds,filter,hits):vegaUtil.error(\x22Intersect scene must be mark node or group item.\x22)};\nexports.intersectBoxLine\x3dintersectBoxLine;exports.intersectPath\x3dintersectPath;exports.intersectPoint\x3dintersectPoint;exports.intersectRule\x3dintersectRule;exports.lineHeight\x3dlineHeight;exports.markup\x3dmarkup;exports.multiLineOffset\x3dfunction(item){var tl\x3dtextLines(item);return(vegaUtil.isArray(tl)?tl.length-1:0)*lineHeight(item)};exports.pathCurves\x3dcurves;exports.pathEqual\x3dpathEqual;exports.pathParse\x3dpathParse;exports.pathRectangle\x3dvg_rect;exports.pathRender\x3dpathRender;exports.pathSymbols\x3dsymbols;exports.pathTrail\x3d\nvg_trail;exports.point\x3dpoint;exports.renderModule\x3dfunction(name,_){name\x3dString(name||\x22\x22).toLowerCase();return 1\x3carguments.length?(modules[name]\x3d_,this):modules[name]};exports.resetSVGClipId\x3dfunction(){clip_id\x3d1};exports.resetSVGDefIds\x3dfunction(){clip_id\x3d1;gradient_id\x3d0};exports.sceneEqual\x3dsceneEqual;exports.sceneFromJSON\x3dsceneFromJSON;exports.scenePickVisit\x3dpickVisit;exports.sceneToJSON\x3dsceneToJSON;exports.sceneVisit\x3dvisit;exports.sceneZOrder\x3dzorder;exports.serializeXML\x3dserializeXML;exports.textMetrics\x3d\ntextMetrics;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_view_transforms$build$vega_view_transforms.js", true , "shadow$provide.module$node_modules$vega_view_transforms$build$vega_view_transforms\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_scenegraph$build$vega_scenegraph\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\n\x22vega-dataflow\x22,\x22vega-scenegraph\x22,\x22vega-util\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.vega))})(this,function(exports,vegaDataflow,vegaScenegraph,vegaUtil){function Bound(params){vegaDataflow.Transform.call(this,null,params)}function boundItem(item,bound,opt){return bound(item.bounds.clear(),item,opt)}function Identifier(params){vegaDataflow.Transform.call(this,0,params)}\nfunction getCounter(view){return view._signals[\x22:vega_identifier:\x22]||(view._signals[\x22:vega_identifier:\x22]\x3dview.add(0))}function Mark(params){vegaDataflow.Transform.call(this,null,params)}function lookup(_){var g\x3d_.groups;_\x3d_.parent;return g\x26\x261\x3d\x3d\x3dg.size?g.get(Object.keys(g.object)[0]):g\x26\x26_?g.lookup(_):null}function Overlap(params){vegaDataflow.Transform.call(this,null,params)}function Render(params){vegaDataflow.Transform.call(this,null,params)}function set(item,property,value){return item[property]\x3d\x3d\x3d\nvalue?0:(item[property]\x3dvalue,1)}function isYAxis(mark){mark\x3dmark.items[0].orient;return\x22left\x22\x3d\x3d\x3dmark||\x22right\x22\x3d\x3d\x3dmark}function axisLayout(view,axis,width,height){axis\x3daxis.items[0];var datum\x3daxis.datum,delta\x3dnull!\x3daxis.translate?axis.translate:.5,orient\x3daxis.orient,index\x3d+datum.grid;var indices\x3d[datum.ticks?index++:-1,datum.labels?index++:-1,index+ +datum.domain];index\x3daxis.range;var offset\x3daxis.offset,position\x3daxis.position,minExtent\x3daxis.minExtent,maxExtent\x3daxis.maxExtent;datum\x3ddatum.title\x26\x26axis.items[indices[2]].items[0];\nvar titlePadding\x3daxis.titlePadding,bounds\x3daxis.bounds,dl\x3ddatum\x26\x26vegaScenegraph.multiLineOffset(datum),i;tempBounds.clear().union(bounds);bounds.clear();-1\x3c(i\x3dindices[0])\x26\x26bounds.union(axis.items[i].bounds);-1\x3c(i\x3dindices[1])\x26\x26bounds.union(axis.items[i].bounds);switch(orient){case \x22top\x22:width\x3dposition||0;height\x3d-offset;minExtent\x3dMath.max(minExtent,Math.min(maxExtent,-bounds.y1));bounds.add(0,-minExtent).add(index,0);datum\x26\x26axisTitleLayout(view,datum,minExtent,titlePadding,dl,0,-1,bounds);break;case \x22left\x22:width\x3d\n-offset;height\x3dposition||0;minExtent\x3dMath.max(minExtent,Math.min(maxExtent,-bounds.x1));bounds.add(-minExtent,0).add(0,index);datum\x26\x26axisTitleLayout(view,datum,minExtent,titlePadding,dl,1,-1,bounds);break;case \x22right\x22:width+\x3doffset;height\x3dposition||0;minExtent\x3dMath.max(minExtent,Math.min(maxExtent,bounds.x2));bounds.add(0,0).add(minExtent,index);datum\x26\x26axisTitleLayout(view,datum,minExtent,titlePadding,dl,1,1,bounds);break;case \x22bottom\x22:width\x3dposition||0;height+\x3doffset;minExtent\x3dMath.max(minExtent,\nMath.min(maxExtent,bounds.y2));bounds.add(0,0).add(index,minExtent);datum\x26\x26axisTitleLayout(view,datum,minExtent,titlePadding,0,0,1,bounds);break;default:width\x3daxis.x,height\x3daxis.y}vegaScenegraph.boundStroke(bounds.translate(width,height),axis);set(axis,\x22x\x22,width+delta)|set(axis,\x22y\x22,height+delta)\x26\x26(axis.bounds\x3dtempBounds,view.dirty(axis),axis.bounds\x3dbounds,view.dirty(axis));return axis.mark.bounds.clear().union(bounds)}function axisTitleLayout(view,title,offset,pad,dl,isYAxis,sign,bounds){var b\x3dtitle.bounds;\ntitle.auto\x26\x26(offset\x3dsign*(offset+dl+pad),dl\x3dpad\x3d0,view.dirty(title),isYAxis?pad\x3d(title.x||0)-(title.x\x3doffset):dl\x3d(title.y||0)-(title.y\x3doffset),title.mark.bounds.clear().union(b.translate(-pad,-dl)),view.dirty(title));bounds.union(b)}function bboxFlush(item){return(new vegaScenegraph.Bounds).set(0,0,item.width||0,item.height||0)}function bboxFull(item){var b\x3ditem.bounds.clone();return b.empty()?b.set(0,0,0,0):b.translate(-(item.x||0),-(item.y||0))}function get(opt,key,d){opt\x3dvegaUtil.isObject(opt)?\nopt[key]:opt;return null!\x3dopt?opt:void 0!\x3d\x3dd?d:0}function offsetValue(v){return 0\x3ev?Math.ceil(-v):0}function gridLayout(view,groups,opt){var dirty\x3d!opt.nodirty,bbox\x3d\x22flush\x22\x3d\x3d\x3dopt.bounds?bboxFlush:bboxFull,bounds\x3dtempBounds.set(0,0,0,0),alignCol\x3dget(opt.align,\x22column\x22),alignRow\x3dget(opt.align,\x22row\x22),padCol\x3dget(opt.padding,\x22column\x22),padRow\x3dget(opt.padding,\x22row\x22),ncols\x3dopt.columns||groups.length,nrows\x3d0\x3e\x3dncols?1:Math.ceil(groups.length/ncols),n\x3dgroups.length,xOffset\x3dArray(n),xExtent\x3dArray(ncols),xMax\x3d\n0,yOffset\x3dArray(n),yExtent\x3dArray(nrows),yMax\x3d0,dx\x3dArray(n),dy\x3dArray(n),boxes\x3dArray(n),i,px,py;for(i\x3d0;i\x3cncols;++i)xExtent[i]\x3d0;for(i\x3d0;i\x3cnrows;++i)yExtent[i]\x3d0;for(i\x3d0;i\x3cn;++i){var m\x3dgroups[i];var b\x3dboxes[i]\x3dbbox(m);m.x\x3dm.x||0;dx[i]\x3d0;m.y\x3dm.y||0;dy[i]\x3d0;m\x3di%ncols;var r\x3d~~(i/ncols);xMax\x3dMath.max(xMax,px\x3dMath.ceil(b.x2));yMax\x3dMath.max(yMax,py\x3dMath.ceil(b.y2));xExtent[m]\x3dMath.max(xExtent[m],px);yExtent[r]\x3dMath.max(yExtent[r],py);xOffset[i]\x3dpadCol+offsetValue(b.x1);yOffset[i]\x3dpadRow+offsetValue(b.y1);\ndirty\x26\x26view.dirty(groups[i])}for(i\x3d0;i\x3cn;++i)0\x3d\x3d\x3di%ncols\x26\x26(xOffset[i]\x3d0),i\x3cncols\x26\x26(yOffset[i]\x3d0);if(\x22each\x22\x3d\x3d\x3dalignCol)for(m\x3d1;m\x3cncols;++m){bbox\x3d0;for(i\x3dm;i\x3cn;i+\x3dncols)bbox\x3cxOffset[i]\x26\x26(bbox\x3dxOffset[i]);for(i\x3dm;i\x3cn;i+\x3dncols)xOffset[i]\x3dbbox+xExtent[m-1]}else if(\x22all\x22\x3d\x3d\x3dalignCol){for(i\x3dbbox\x3d0;i\x3cn;++i)i%ncols\x26\x26bbox\x3cxOffset[i]\x26\x26(bbox\x3dxOffset[i]);for(i\x3d0;i\x3cn;++i)i%ncols\x26\x26(xOffset[i]\x3dbbox+xMax)}else for(alignCol\x3d!1,m\x3d1;m\x3cncols;++m)for(i\x3dm;i\x3cn;i+\x3dncols)xOffset[i]+\x3dxExtent[m-1];if(\x22each\x22\x3d\x3d\x3dalignRow)for(r\x3d\n1;r\x3cnrows;++r){bbox\x3d0;i\x3dr*ncols;for(m\x3di+ncols;i\x3cm;++i)bbox\x3cyOffset[i]\x26\x26(bbox\x3dyOffset[i]);for(i\x3dr*ncols;i\x3cm;++i)yOffset[i]\x3dbbox+yExtent[r-1]}else if(\x22all\x22\x3d\x3d\x3dalignRow){bbox\x3d0;for(i\x3dncols;i\x3cn;++i)bbox\x3cyOffset[i]\x26\x26(bbox\x3dyOffset[i]);for(i\x3dncols;i\x3cn;++i)yOffset[i]\x3dbbox+yMax}else for(alignRow\x3d!1,r\x3d1;r\x3cnrows;++r)for(i\x3dr*ncols,m\x3di+ncols;i\x3cm;++i)yOffset[i]+\x3dyExtent[r-1];for(i\x3dr\x3d0;i\x3cn;++i)r\x3dxOffset[i]+(i%ncols?r:0),dx[i]+\x3dr-groups[i].x;for(m\x3d0;m\x3cncols;++m)for(xOffset\x3d0,i\x3dm;i\x3cn;i+\x3dncols)xOffset+\x3dyOffset[i],dy[i]+\x3d\nxOffset-groups[i].y;if(alignCol\x26\x26get(opt.center,\x22column\x22)\x26\x261\x3cnrows)for(i\x3d0;i\x3cn;++i)b\x3d\x22all\x22\x3d\x3d\x3dalignCol?xMax:xExtent[i%ncols],r\x3db-boxes[i].x2-groups[i].x-dx[i],0\x3cr\x26\x26(dx[i]+\x3dr/2);if(alignRow\x26\x26get(opt.center,\x22row\x22)\x26\x261!\x3d\x3dncols)for(i\x3d0;i\x3cn;++i)b\x3d\x22all\x22\x3d\x3d\x3dalignRow?yMax:yExtent[~~(i/ncols)],xOffset\x3db-boxes[i].y2-groups[i].y-dy[i],0\x3cxOffset\x26\x26(dy[i]+\x3dxOffset/2);for(i\x3d0;i\x3cn;++i)bounds.union(boxes[i].translate(dx[i],dy[i]));r\x3dget(opt.anchor,\x22x\x22);xOffset\x3dget(opt.anchor,\x22y\x22);switch(get(opt.anchor,\x22column\x22)){case \x22end\x22:r-\x3d\nbounds.width();break;case \x22middle\x22:r-\x3dbounds.width()/2}switch(get(opt.anchor,\x22row\x22)){case \x22end\x22:xOffset-\x3dbounds.height();break;case \x22middle\x22:xOffset-\x3dbounds.height()/2}r\x3dMath.round(r);xOffset\x3dMath.round(xOffset);bounds.clear();for(i\x3d0;i\x3cn;++i)groups[i].mark.bounds.clear();for(i\x3d0;i\x3cn;++i)m\x3dgroups[i],m.x+\x3ddx[i]+\x3dr,m.y+\x3ddy[i]+\x3dxOffset,bounds.union(m.mark.bounds.union(m.bounds.translate(dx[i],dy[i]))),dirty\x26\x26view.dirty(m);return bounds}function boundFlush(item,field){return\x22x1\x22\x3d\x3d\x3dfield?item.x||0:\x22y1\x22\x3d\x3d\x3d\nfield?item.y||0:\x22x2\x22\x3d\x3d\x3dfield?(item.x||0)+(item.width||0):\x22y2\x22\x3d\x3d\x3dfield?(item.y||0)+(item.height||0):void 0}function boundFull(item,field){return item.bounds[field]}function layoutHeaders(view,headers,groups,ncols,limit,offset,agg,isX,bound,bf,start,stride,back,band){var n\x3dgroups.length,edge\x3dncols\x3d0,i,g;if(!n)return ncols;for(i\x3dstart;i\x3cn;i+\x3dstride)groups[i]\x26\x26(ncols\x3dagg(ncols,bound(groups[i],bf)));if(!headers.length)return ncols;headers.length\x3elimit\x26\x26(view.warn(\x22Grid headers exceed limit: \x22+limit),headers\x3d\nheaders.slice(0,limit));ncols+\x3doffset;limit\x3d0;for(offset\x3dheaders.length;limit\x3coffset;++limit)view.dirty(headers[limit]),headers[limit].mark.bounds.clear();i\x3dstart;limit\x3d0;for(offset\x3dheaders.length;limit\x3coffset;++limit,i+\x3dstride){bound\x3dheaders[limit];start\x3dbound.mark.bounds;for(n\x3di;0\x3c\x3dn\x26\x26null\x3d\x3d(g\x3dgroups[n]);n-\x3dback);if(isX){n\x3dnull\x3d\x3dband?g.x:Math.round(g.bounds.x1+band*g.bounds.width());var y\x3dncols}else n\x3dncols,y\x3dnull\x3d\x3dband?g.y:Math.round(g.bounds.y1+band*g.bounds.height());start.union(bound.bounds.translate(n-\n(bound.x||0),y-(bound.y||0)));bound.x\x3dn;bound.y\x3dy;view.dirty(bound);edge\x3dagg(edge,start[bf])}return edge}function layoutTitle(view,g,offset,isX,bounds,band){if(g){view.dirty(g);var x\x3doffset;isX?x\x3dMath.round(bounds.x1+band*bounds.width()):offset\x3dMath.round(bounds.y1+band*bounds.height());g.bounds.translate(x-(g.x||0),offset-(g.y||0));g.mark.bounds.clear().union(g.bounds);g.x\x3dx;g.y\x3doffset;view.dirty(g)}}function lookup$1(config,orient){var opt\x3dconfig[orient]||{};return function(key,d){return null!\x3d\nopt[key]?opt[key]:null!\x3dconfig[key]?config[key]:d}}function offsets(legends,value){var max\x3d-Infinity;legends.forEach(function(item){null!\x3ditem.offset\x26\x26(max\x3dMath.max(max,item.offset))});return-Infinity\x3cmax?max:value}function legendParams(g,orient,config,xb,yb,w,h){var _\x3dlookup$1(config,orient);config\x3doffsets(g,_(\x22offset\x22,0));var anchor\x3d_(\x22anchor\x22,\x22start\x22),mult\x3d\x22end\x22\x3d\x3d\x3danchor?1:\x22middle\x22\x3d\x3d\x3danchor?.5:0;g\x3d{align:\x22each\x22,bounds:_(\x22bounds\x22,\x22flush\x22),columns:\x22vertical\x22\x3d\x3d\x3d_(\x22direction\x22)?1:g.length,padding:_(\x22margin\x22,\n8),center:_(\x22center\x22),nodirty:!0};switch(orient){case \x22left\x22:g.anchor\x3d{x:Math.floor(xb.x1)-config,column:\x22end\x22,y:mult*(h||xb.height()+2*xb.y1),row:anchor};break;case \x22right\x22:g.anchor\x3d{x:Math.ceil(xb.x2)+config,y:mult*(h||xb.height()+2*xb.y1),row:anchor};break;case \x22top\x22:g.anchor\x3d{y:Math.floor(yb.y1)-config,row:\x22end\x22,x:mult*(w||yb.width()+2*yb.x1),column:anchor};break;case \x22bottom\x22:g.anchor\x3d{y:Math.ceil(yb.y2)+config,x:mult*(w||yb.width()+2*yb.x1),column:anchor};break;case \x22top-left\x22:g.anchor\x3d{x:config,\ny:config};break;case \x22top-right\x22:g.anchor\x3d{x:w-config,y:config,column:\x22end\x22};break;case \x22bottom-left\x22:g.anchor\x3d{x:config,y:h-config,row:\x22end\x22};break;case \x22bottom-right\x22:g.anchor\x3d{x:w-config,y:h-config,column:\x22end\x22,row:\x22end\x22}}return g}function legendLayout(view,legend){legend\x3dlegend.items[0];var datum\x3dlegend.datum,orient\x3dlegend.orient,bounds\x3dlegend.bounds,x\x3dlegend.x,y\x3dlegend.y;legend._bounds?legend._bounds.clear().union(bounds):legend._bounds\x3dbounds.clone();bounds.clear();var h\x3dlegend.items[0].items[0];\nvar pad\x3dlegend.padding,ex\x3dpad-h.x,ey\x3dpad-h.y;if(legend.datum.title){var title\x3dlegend.items[1].items[0],anchor\x3dtitle.anchor,tpad\x3dlegend.titlePadding||0,tx\x3dpad-title.x,ty\x3dpad-title.y;switch(title.orient){case \x22left\x22:ex+\x3dMath.ceil(title.bounds.width())+tpad;break;case \x22right\x22:case \x22bottom\x22:break;default:ey+\x3dtitle.bounds.height()+tpad}(ex||ey)\x26\x26translate(view,h,ex,ey);switch(title.orient){case \x22left\x22:ty+\x3dlegendTitleOffset(legend,h,title,anchor,1,1);break;case \x22right\x22:tx+\x3dlegendTitleOffset(legend,h,title,\n\x22end\x22,0,0)+tpad;ty+\x3dlegendTitleOffset(legend,h,title,anchor,1,1);break;case \x22bottom\x22:tx+\x3dlegendTitleOffset(legend,h,title,anchor,0,0);ty+\x3dlegendTitleOffset(legend,h,title,\x22end\x22,-1,0,1)+tpad;break;default:tx+\x3dlegendTitleOffset(legend,h,title,anchor,0,0)}(tx||ty)\x26\x26translate(view,title,tx,ty);0\x3e(tx\x3dMath.round(title.bounds.x1-pad))\x26\x26(translate(view,h,-tx,0),translate(view,title,-tx,0))}else(ex||ey)\x26\x26translate(view,h,ex,ey);bounds\x3dlegendBounds(legend,bounds);view\x3d2*legend.padding;h\x3d2*legend.padding;bounds.empty()||\n(view\x3dMath.ceil(bounds.width()+view),h\x3dMath.ceil(bounds.height()+h));\x22symbol\x22\x3d\x3d\x3ddatum.type\x26\x26legendEntryLayout(legend.items[0].items[0].items[0].items);\x22none\x22!\x3d\x3dorient\x26\x26(legend.x\x3dx\x3d0,legend.y\x3dy\x3d0);legend.width\x3dview;legend.height\x3dh;vegaScenegraph.boundStroke(bounds.set(x,y,x+view,y+h),legend);legend.mark.bounds.clear().union(bounds);return legend}function legendBounds(item,b){item.items.forEach(function(_){return b.union(_.bounds)});b.x1\x3ditem.padding;b.y1\x3ditem.padding;return b}function legendTitleOffset(item,\nentry,title,anchor,y,lr,noBar){var vgrad\x3dtitle.datum.vgrad;item\x3d(\x22symbol\x22\x3d\x3d\x3ditem.datum.type||!lr\x26\x26vgrad||noBar?entry:entry.items[0]).bounds[y?\x22y2\x22:\x22x2\x22]-item.padding;entry\x3dvgrad\x26\x26lr?item:0;lr\x3dvgrad\x26\x26lr?0:item;title\x3d0\x3e\x3dy?0:vegaScenegraph.multiLineOffset(title);return Math.round(\x22start\x22\x3d\x3d\x3danchor?entry:\x22end\x22\x3d\x3d\x3danchor?lr-title:.5*(item-title))}function translate(view,item,dx,dy){item.x+\x3ddx;item.y+\x3ddy;item.bounds.translate(dx,dy);item.mark.bounds.translate(dx,dy);view.dirty(item)}function legendEntryLayout(entries){var widths\x3d\nentries.reduce(function(w,g){w[g.column]\x3dMath.max(g.bounds.x2-g.x,w[g.column]||0);return w},{});entries.forEach(function(g){g.width\x3dwidths[g.column];g.height\x3dg.bounds.y2-g.y})}function titleLayout(view,mark,width,height,viewBounds){var group\x3dmark.items[0],orient\x3dgroup.orient,anchor\x3dgroup.anchor,offset\x3dgroup.offset,padding\x3dgroup.padding,title\x3dgroup.items[0].items[0],subtitle\x3dgroup.items[1]\x26\x26group.items[1].items[0],end\x3d\x22left\x22\x3d\x3d\x3dorient||\x22right\x22\x3d\x3d\x3dorient?height:width,start\x3d0,sy\x3dwidth\x3d0;\x22group\x22!\x3d\x3dgroup.frame?\n\x22left\x22\x3d\x3d\x3dorient?(start\x3dviewBounds.y2,end\x3dviewBounds.y1):\x22right\x22\x3d\x3d\x3dorient?(start\x3dviewBounds.y1,end\x3dviewBounds.y2):(start\x3dviewBounds.x1,end\x3dviewBounds.x2):\x22left\x22\x3d\x3d\x3dorient\x26\x26(start\x3dheight,end\x3d0);height\x3d\x22start\x22\x3d\x3d\x3danchor?start:\x22end\x22\x3d\x3d\x3danchor?end:(start+end)/2;if(subtitle\x26\x26subtitle.text){switch(orient){case \x22top\x22:case \x22bottom\x22:sy\x3dtitle.bounds.height()+padding;break;case \x22left\x22:width\x3dtitle.bounds.width()+padding;break;case \x22right\x22:width\x3d-title.bounds.width()-padding}tempBounds.clear().union(subtitle.bounds);\ntempBounds.translate(width-(subtitle.x||0),sy-(subtitle.y||0));set(subtitle,\x22x\x22,width)|set(subtitle,\x22y\x22,sy)\x26\x26(view.dirty(subtitle),subtitle.bounds.clear().union(tempBounds),subtitle.mark.bounds.clear().union(tempBounds),view.dirty(subtitle));tempBounds.clear().union(subtitle.bounds)}else tempBounds.clear();tempBounds.union(title.bounds);switch(orient){case \x22top\x22:orient\x3dheight;viewBounds\x3dviewBounds.y1-tempBounds.height()-offset;break;case \x22left\x22:orient\x3dviewBounds.x1-tempBounds.width()-offset;viewBounds\x3d\nheight;break;case \x22right\x22:orient\x3dviewBounds.x2+tempBounds.width()+offset;viewBounds\x3dheight;break;case \x22bottom\x22:orient\x3dheight;viewBounds\x3dviewBounds.y2+offset;break;default:orient\x3dgroup.x,viewBounds\x3dgroup.y}set(group,\x22x\x22,orient)|set(group,\x22y\x22,viewBounds)\x26\x26(tempBounds.translate(orient,viewBounds),view.dirty(group),group.bounds.clear().union(tempBounds),mark.bounds.clear().union(tempBounds),view.dirty(group));return group.bounds}function ViewLayout(params){vegaDataflow.Transform.call(this,null,params)}\nfunction shouldReflow(group){return group\x26\x26\x22legend-entry\x22!\x3d\x3dgroup.mark.role}function layoutGroup(view,group,_){var items\x3dgroup.items,width\x3dMath.max(0,group.width||0),height\x3dMath.max(0,group.height||0),viewBounds\x3d(new vegaScenegraph.Bounds).set(0,0,width,height),xBounds\x3dviewBounds.clone(),yBounds\x3dviewBounds.clone(),legends\x3d[],orient,n;var i\x3d0;for(n\x3ditems.length;i\x3cn;++i){var mark\x3ditems[i];switch(mark.role){case \x22axis\x22:var b$jscomp$0\x3disYAxis(mark)?xBounds:yBounds;b$jscomp$0.union(axisLayout(view,mark,\nwidth,height));break;case \x22title\x22:var title\x3dmark;break;case \x22legend\x22:legends.push(legendLayout(view,mark));break;case \x22frame\x22:case \x22scope\x22:case \x22row-header\x22:case \x22row-footer\x22:case \x22row-title\x22:case \x22column-header\x22:case \x22column-footer\x22:case \x22column-title\x22:xBounds.union(mark.bounds);yBounds.union(mark.bounds);break;default:viewBounds.union(mark.bounds)}}if(legends.length){var l\x3d{};legends.forEach(function(item){orient\x3ditem.orient||\x22right\x22;\x22none\x22!\x3d\x3dorient\x26\x26(l[orient]||(l[orient]\x3d[])).push(item)});for(var orient$551 in l)items\x3d\nl[orient$551],gridLayout(view,items,legendParams(items,orient$551,_.legends,xBounds,yBounds,width,height));legends.forEach(function(item){var b\x3ditem.bounds;b.equals(item._bounds)||(item.bounds\x3ditem._bounds,view.dirty(item),item.bounds\x3db,view.dirty(item));if(_.autosize\x26\x26\x22fit\x22\x3d\x3d\x3d_.autosize.type)switch(item.orient){case \x22left\x22:case \x22right\x22:viewBounds.add(b.x1,0).add(b.x2,0);break;case \x22top\x22:case \x22bottom\x22:viewBounds.add(0,b.y1).add(0,b.y2)}else viewBounds.union(b)})}viewBounds.union(xBounds).union(yBounds);\ntitle\x26\x26viewBounds.union(titleLayout(view,title,width,height,viewBounds));group.clip\x26\x26viewBounds.set(0,0,group.width||0,group.height||0);viewSizeLayout(view,group,viewBounds,_)}function viewSizeLayout(view,group,viewBounds,_){_\x3d_.autosize||{};var type\x3d_.type;if(!(1\x3eview._autosize)\x26\x26type){var viewWidth\x3dview._width,viewHeight\x3dview._height,width\x3dMath.max(0,group.width||0),left\x3dMath.max(0,Math.ceil(-viewBounds.x1));group\x3dMath.max(0,group.height||0);var top\x3dMath.max(0,Math.ceil(-viewBounds.y1)),right\x3dMath.max(0,\nMath.ceil(viewBounds.x2-width));viewBounds\x3dMath.max(0,Math.ceil(viewBounds.y2-group));if(\x22padding\x22\x3d\x3d\x3d_.contains){var padding\x3dview.padding();viewWidth-\x3dpadding.left+padding.right;viewHeight-\x3dpadding.top+padding.bottom}\x22none\x22\x3d\x3d\x3dtype?(top\x3dleft\x3d0,width\x3dviewWidth,group\x3dviewHeight):\x22fit\x22\x3d\x3d\x3dtype?(width\x3dMath.max(0,viewWidth-left-right),group\x3dMath.max(0,viewHeight-top-viewBounds)):\x22fit-x\x22\x3d\x3d\x3dtype?(width\x3dMath.max(0,viewWidth-left-right),viewHeight\x3dgroup+top+viewBounds):\x22fit-y\x22\x3d\x3d\x3dtype?(viewWidth\x3dwidth+left+right,\ngroup\x3dMath.max(0,viewHeight-top-viewBounds)):\x22pad\x22\x3d\x3d\x3dtype\x26\x26(viewWidth\x3dwidth+left+right,viewHeight\x3dgroup+top+viewBounds);view._resizeView(viewWidth,viewHeight,width,group,[left,top],_.resize)}}vegaUtil.inherits(Bound,vegaDataflow.Transform,{transform:function(_,pulse){var view\x3dpulse.dataflow,mark\x3d_.mark,type\x3dmark.marktype,entry\x3dvegaScenegraph.Marks[type],bound\x3dentry.bound,markBounds\x3dmark.bounds;if(entry.nested)mark.items.length\x26\x26view.dirty(mark.items[0]),markBounds\x3dboundItem(mark,bound),mark.items.forEach(function(item){item.bounds.clear().union(markBounds)});\nelse if(\x22group\x22\x3d\x3d\x3dtype||_.modified())switch(pulse.visit(pulse.MOD,function(item){return view.dirty(item)}),markBounds.clear(),mark.items.forEach(function(item){return markBounds.union(boundItem(item,bound))}),mark.role){case \x22axis\x22:case \x22legend\x22:case \x22title\x22:pulse.reflow()}else{var rebound\x3dpulse.changed(pulse.REM);pulse.visit(pulse.ADD,function(item){markBounds.union(boundItem(item,bound))});pulse.visit(pulse.MOD,function(item){rebound\x3drebound||markBounds.alignsWith(item.bounds);view.dirty(item);\nmarkBounds.union(boundItem(item,bound))});rebound\x26\x26(markBounds.clear(),mark.items.forEach(function(item){return markBounds.union(item.bounds)}))}vegaScenegraph.boundClip(mark);return pulse.modifies(\x22bounds\x22)}});Identifier.Definition\x3d{type:\x22Identifier\x22,metadata:{modifies:!0},params:[{name:\x22as\x22,type:\x22string\x22,required:!0}]};vegaUtil.inherits(Identifier,vegaDataflow.Transform,{transform:function(_,pulse){var counter\x3dgetCounter(pulse.dataflow),as\x3d_.as,id\x3dcounter.value;pulse.visit(pulse.ADD,function(t){return t[as]\x3d\nt[as]||++id});counter.set(this.value\x3did);return pulse}});vegaUtil.inherits(Mark,vegaDataflow.Transform,{transform:function(_,pulse){var mark\x3dthis.value;mark||(mark\x3dpulse.dataflow.scenegraph().mark(_.markdef,lookup(_),_.index),mark.group.context\x3d_.context,_.context.group||(_.context.group\x3dmark.group),mark.source\x3dthis.source,mark.clip\x3d_.clip,mark.interactive\x3d_.interactive,this.value\x3dmark);var Init\x3d\x22group\x22\x3d\x3d\x3dmark.marktype?vegaScenegraph.GroupItem:vegaScenegraph.Item;pulse.visit(pulse.ADD,function(item){return Init.call(item,\nmark)});if(_.modified(\x22clip\x22)||_.modified(\x22interactive\x22))mark.clip\x3d_.clip,mark.interactive\x3d!!_.interactive,mark.zdirty\x3d!0,pulse.reflow();mark.items\x3dpulse.source;return pulse}});var methods\x3d{parity:function(items){return items.filter(function(item,i){return i%2?item.opacity\x3d0:1})},greedy:function(items,sep){var a;return items.filter(function(b,i){return i\x26\x26intersect(a.bounds,b.bounds,sep)?b.opacity\x3d0:(a\x3db,1)})}},intersect\x3dfunction(a,b,sep){return sep\x3eMath.max(b.x1-a.x2,a.x1-b.x2,b.y1-a.y2,a.y1-b.y2)},\nhasOverlap\x3dfunction(items,pad){for(var i\x3d1,n\x3ditems.length,a\x3ditems[0].bounds;i\x3cn;++i)if(intersect(a,a\x3ditems[i].bounds,pad))return!0},hasBounds\x3dfunction(item){item\x3ditem.bounds;return 1\x3citem.width()\x26\x261\x3citem.height()},boundTest\x3dfunction(scale,orient,tolerance){scale\x3dscale.range();var b\x3dnew vegaScenegraph.Bounds;\x22top\x22\x3d\x3d\x3dorient||\x22bottom\x22\x3d\x3d\x3dorient?b.set(scale[0],-Infinity,scale[1],Infinity):b.set(-Infinity,scale[0],Infinity,scale[1]);b.expand(tolerance||1);return function(item){return b.encloses(item.bounds)}},\nreset\x3dfunction(source){source.forEach(function(item){return item.opacity\x3d1});return source};vegaUtil.inherits(Overlap,vegaDataflow.Transform,{transform:function(_,pulse){var reduce\x3dmethods[_.method]||methods.parity,sep\x3d_.separation||0,source\x3dpulse.materialize(pulse.SOURCE).source;if(source\x26\x26source.length){if(!_.method)return _.modified(\x22method\x22)\x26\x26(reset(source),pulse\x3dpulse.reflow(_.modified()).modifies(\x22opacity\x22)),pulse;source\x3dsource.filter(hasBounds);if(source.length){_.sort\x26\x26(source\x3dsource.slice().sort(_.sort));\nvar items\x3dreset(source);pulse\x3dpulse.reflow(_.modified()).modifies(\x22opacity\x22);if(3\x3c\x3ditems.length\x26\x26hasOverlap(items,sep)){do items\x3dreduce(items,sep);while(3\x3c\x3ditems.length\x26\x26hasOverlap(items,sep));3\x3eitems.length\x26\x26!vegaUtil.peek(source).opacity\x26\x26(1\x3citems.length\x26\x26(vegaUtil.peek(items).opacity\x3d0),vegaUtil.peek(source).opacity\x3d1)}if(_.boundScale\x26\x260\x3c\x3d_.boundTolerance){var test\x3dboundTest(_.boundScale,_.boundOrient,+_.boundTolerance);source.forEach(function(item){test(item)||(item.opacity\x3d0)})}var bounds\x3ditems[0].mark.bounds.clear();\nsource.forEach(function(item){item.opacity\x26\x26bounds.union(item.bounds)});return pulse}}}});vegaUtil.inherits(Render,vegaDataflow.Transform,{transform:function(_,pulse){var view\x3dpulse.dataflow;pulse.visit(pulse.ALL,function(item){return view.dirty(item)});pulse.fields\x26\x26pulse.fields.zindex\x26\x26(_\x3dpulse.source\x26\x26pulse.source[0])\x26\x26(_.mark.zdirty\x3d!0)}});var tempBounds\x3dnew vegaScenegraph.Bounds,min\x3dfunction(a,b){return Math.floor(Math.min(a,b))},max$jscomp$0\x3dfunction(a,b){return Math.ceil(Math.max(a,b))};vegaUtil.inherits(ViewLayout,\nvegaDataflow.Transform,{transform:function(_,pulse){var view\x3dpulse.dataflow;_.mark.items.forEach(function(group){if(_.layout){for(var opt\x3d_.layout,groups\x3dgroup.items,n\x3dgroups.length,i\x3d0,mark,items,JSCompiler_object_inline_marks_3392\x3d[],JSCompiler_object_inline_rowheaders_3393\x3d[],JSCompiler_object_inline_rowfooters_3394\x3d[],JSCompiler_object_inline_colheaders_3395\x3d[],JSCompiler_object_inline_colfooters_3396\x3d[],JSCompiler_object_inline_rowtitle_3397\x3dnull,JSCompiler_object_inline_coltitle_3398\x3dnull;i\x3c\nn;++i)if(mark\x3dgroups[i],items\x3dmark.items,\x22group\x22\x3d\x3d\x3dmark.marktype)switch(mark.role){case \x22axis\x22:case \x22legend\x22:case \x22title\x22:break;case \x22row-header\x22:JSCompiler_object_inline_rowheaders_3393.push.apply(JSCompiler_object_inline_rowheaders_3393,$jscomp.arrayFromIterable(items));break;case \x22row-footer\x22:JSCompiler_object_inline_rowfooters_3394.push.apply(JSCompiler_object_inline_rowfooters_3394,$jscomp.arrayFromIterable(items));break;case \x22column-header\x22:JSCompiler_object_inline_colheaders_3395.push.apply(JSCompiler_object_inline_colheaders_3395,\n$jscomp.arrayFromIterable(items));break;case \x22column-footer\x22:JSCompiler_object_inline_colfooters_3396.push.apply(JSCompiler_object_inline_colfooters_3396,$jscomp.arrayFromIterable(items));break;case \x22row-title\x22:JSCompiler_object_inline_rowtitle_3397\x3ditems[0];break;case \x22column-title\x22:JSCompiler_object_inline_coltitle_3398\x3ditems[0];break;default:JSCompiler_object_inline_marks_3392.push.apply(JSCompiler_object_inline_marks_3392,$jscomp.arrayFromIterable(items))}mark\x3d\x22flush\x22\x3d\x3d\x3dopt.bounds?boundFlush:\nboundFull;groups\x3dopt.offset;items\x3dopt.columns||JSCompiler_object_inline_marks_3392.length;var nrows\x3d0\x3e\x3ditems?1:Math.ceil(JSCompiler_object_inline_marks_3392.length/items),cells\x3dnrows*items;n\x3dgridLayout(view,JSCompiler_object_inline_marks_3392,opt);n.empty()\x26\x26n.set(0,0,0,0);if(JSCompiler_object_inline_rowheaders_3393){i\x3dget(opt.headerBand,\x22row\x22,null);var x\x3dlayoutHeaders(view,JSCompiler_object_inline_rowheaders_3393,JSCompiler_object_inline_marks_3392,items,nrows,-get(groups,\x22rowHeader\x22),min,0,mark,\n\x22x1\x22,0,items,1,i)}if(JSCompiler_object_inline_colheaders_3395){i\x3dget(opt.headerBand,\x22column\x22,null);var y\x3dlayoutHeaders(view,JSCompiler_object_inline_colheaders_3395,JSCompiler_object_inline_marks_3392,items,items,-get(groups,\x22columnHeader\x22),min,1,mark,\x22y1\x22,0,1,items,i)}if(JSCompiler_object_inline_rowfooters_3394){i\x3dget(opt.footerBand,\x22row\x22,null);var x2\x3dlayoutHeaders(view,JSCompiler_object_inline_rowfooters_3394,JSCompiler_object_inline_marks_3392,items,nrows,get(groups,\x22rowFooter\x22),max$jscomp$0,0,\nmark,\x22x2\x22,items-1,items,1,i)}if(JSCompiler_object_inline_colfooters_3396){i\x3dget(opt.footerBand,\x22column\x22,null);var y2\x3dlayoutHeaders(view,JSCompiler_object_inline_colfooters_3396,JSCompiler_object_inline_marks_3392,items,items,get(groups,\x22columnFooter\x22),max$jscomp$0,1,mark,\x22y2\x22,cells-items,1,items,i)}JSCompiler_object_inline_rowtitle_3397\x26\x26(JSCompiler_object_inline_rowheaders_3393\x3dget(opt.titleAnchor,\x22row\x22),JSCompiler_object_inline_marks_3392\x3dget(groups,\x22rowTitle\x22),JSCompiler_object_inline_marks_3392\x3d\n\x22end\x22\x3d\x3d\x3dJSCompiler_object_inline_rowheaders_3393?x2+JSCompiler_object_inline_marks_3392:x-JSCompiler_object_inline_marks_3392,i\x3dget(opt.titleBand,\x22row\x22,.5),layoutTitle(view,JSCompiler_object_inline_rowtitle_3397,JSCompiler_object_inline_marks_3392,0,n,i));JSCompiler_object_inline_coltitle_3398\x26\x26(JSCompiler_object_inline_rowheaders_3393\x3dget(opt.titleAnchor,\x22column\x22),JSCompiler_object_inline_marks_3392\x3dget(groups,\x22columnTitle\x22),JSCompiler_object_inline_marks_3392\x3d\x22end\x22\x3d\x3d\x3dJSCompiler_object_inline_rowheaders_3393?\ny2+JSCompiler_object_inline_marks_3392:y-JSCompiler_object_inline_marks_3392,i\x3dget(opt.titleBand,\x22column\x22,.5),layoutTitle(view,JSCompiler_object_inline_coltitle_3398,JSCompiler_object_inline_marks_3392,1,n,i))}layoutGroup(view,group,_)});return shouldReflow(_.mark.group)?pulse.reflow():pulse}});exports.bound\x3dBound;exports.identifier\x3dIdentifier;exports.mark\x3dMark;exports.overlap\x3dOverlap;exports.render\x3dRender;exports.viewlayout\x3dViewLayout;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_encode$build$vega_encode.js", true , "shadow$provide.module$node_modules$vega_encode$build$vega_encode\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_scale$build$vega_scale\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$d3_interpolate$dist$d3_interpolate\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-dataflow vega-scale vega-util d3-array d3-interpolate\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.vega,global.d3,global.d3))})(this,function(exports,vegaDataflow,vegaScale,vegaUtil,d3Array,d3Interpolate){function AxisTicks(params){vegaDataflow.Transform.call(this,null,params)}function DataJoin(params){vegaDataflow.Transform.call(this,\nnull,params)}function defaultItemCreate(){return vegaDataflow.ingest({})}function newMap(key){var map\x3dvegaUtil.fastmap().test(function(t){return t.exit});map.lookup\x3dfunction(t){return map.get(key(t))};return map}function Encode(params){vegaDataflow.Transform.call(this,null,params)}function LegendEntries(params){vegaDataflow.Transform.call(this,[],params)}function LinkPath(params){vegaDataflow.Transform.call(this,{},params)}function Pie(params){vegaDataflow.Transform.call(this,null,params)}function includePad(type){return vegaScale.isContinuous(type)\x26\x26\ntype!\x3d\x3dvegaScale.Sequential}function Scale(params){vegaDataflow.Transform.call(this,null,params);this.modified(!0)}function domainCheck(type,domain,df){vegaScale.isLogarithmic(type)\x26\x26Math.abs(domain.reduce(function(s,v){return s+(0\x3ev?-1:0\x3cv?1:0)},0))!\x3d\x3ddomain.length\x26\x26df.warn(\x22Log scale domain includes zero: \x22+vegaUtil.stringValue(domain));return domain}function adjustScheme(scheme,extent,reverse){return vegaUtil.isFunction(scheme)\x26\x26(extent||reverse)?vegaScale.interpolateRange(scheme,flip(extent||\n[0,1],reverse)):scheme}function flip(array,reverse){return reverse?array.slice().reverse():array}function SortItems(params){vegaDataflow.Transform.call(this,null,params)}function Stack(params){vegaDataflow.Transform.call(this,null,params)}function stackCenter(group,max,field,y0,y1){max\x3d(max-group.sum)/2;for(var m\x3dgroup.length,j\x3d0,t;j\x3cm;++j)t\x3dgroup[j],t[y0]\x3dmax,t[y1]\x3dmax+\x3dMath.abs(field(t))}function stackNormalize(group,max,field,y0,y1){max\x3d1/group.sum;for(var last\x3d0,m\x3dgroup.length,j\x3d0,v\x3d0,t;j\x3cm;++j)t\x3d\ngroup[j],t[y0]\x3dlast,t[y1]\x3dlast\x3dmax*(v+\x3dMath.abs(field(t)))}function stackZero(group,max,field,y0,y1){for(var lastNeg\x3dmax\x3d0,m\x3dgroup.length,j\x3d0,v,t;j\x3cm;++j)t\x3dgroup[j],v\x3d+field(t),0\x3ev?(t[y0]\x3dlastNeg,t[y1]\x3dlastNeg+\x3dv):(t[y0]\x3dmax,t[y1]\x3dmax+\x3dv)}function partition(data,groupby,sort,field){var groups\x3d[],get\x3dfunction(f){return f(t)},n;if(null\x3d\x3dgroupby)groups.push(data.slice());else{var map\x3d{};var i\x3d0;for(n\x3ddata.length;i\x3cn;++i){var t\x3ddata[i];var k\x3dgroupby.map(get);var g\x3dmap[k];g||(map[k]\x3dg\x3d[],groups.push(g));\ng.push(t)}}get\x3dk\x3d0;for(data\x3dgroups.length;k\x3cdata;++k){g\x3dgroups[k];groupby\x3di\x3d0;for(n\x3dg.length;i\x3cn;++i)groupby+\x3dMath.abs(field(g[i]));g.sum\x3dgroupby;groupby\x3eget\x26\x26(get\x3dgroupby);sort\x26\x26g.sort(sort)}groups.max\x3dget;return groups}vegaUtil.inherits(AxisTicks,vegaDataflow.Transform,{transform:function(_,pulse){if(this.value\x26\x26!_.modified())return pulse.StopPropagation;var locale\x3dpulse.dataflow.locale();pulse\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);var ticks\x3dthis.value,scale\x3d_.scale,count\x3dvegaScale.tickCount(scale,\nnull\x3d\x3d_.count?_.values?_.values.length:10:_.count,_.minstep),format\x3d_.format||vegaScale.tickFormat(locale,scale,count,_.formatSpecifier,_.formatType,!!_.values),values\x3d_.values?vegaScale.validTicks(scale,_.values,count):vegaScale.tickValues(scale,count);ticks\x26\x26(pulse.rem\x3dticks);ticks\x3dvalues.map(function(value,i){return vegaDataflow.ingest({index:i/(values.length-1||1),value:value,label:format(value)})});_.extra\x26\x26ticks.length\x26\x26ticks.push(vegaDataflow.ingest({index:-1,extra:{value:ticks[0].value},label:\x22\x22}));\npulse.source\x3dticks;this.value\x3dpulse.add\x3dticks;return pulse}});vegaUtil.inherits(DataJoin,vegaDataflow.Transform,{transform:function(_,pulse){var df\x3dpulse.dataflow,out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),item\x3d_.item||defaultItemCreate,key\x3d_.key||vegaDataflow.tupleid,map\x3dthis.value;vegaUtil.isArray(out.encode)\x26\x26(out.encode\x3dnull);map\x26\x26(_.modified(\x22key\x22)||pulse.modified(key))\x26\x26vegaUtil.error(\x22DataJoin does not support modified key function or fields.\x22);map||(pulse\x3dpulse.addAll(),this.value\x3dmap\x3d\nnewMap(key));pulse.visit(pulse.ADD,function(t){var k\x3dkey(t),x\x3dmap.get(k);x?x.exit?(map.empty--,out.add.push(x)):out.mod.push(x):(x\x3ditem(t),map.set(k,x),out.add.push(x));x.datum\x3dt;x.exit\x3d!1});pulse.visit(pulse.MOD,function(t){var k\x3dkey(t);if(k\x3dmap.get(k))k.datum\x3dt,out.mod.push(k)});pulse.visit(pulse.REM,function(t){var k\x3dkey(t);k\x3dmap.get(k);t!\x3d\x3dk.datum||k.exit||(out.rem.push(k),k.exit\x3d!0,++map.empty)});pulse.changed(pulse.ADD_MOD)\x26\x26out.modifies(\x22datum\x22);(pulse.clean()||_.clean\x26\x26map.empty\x3edf.cleanThreshold)\x26\x26\ndf.runAfter(map.clean);return out}});vegaUtil.inherits(Encode,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.ADD_REM),fmod\x3d_.mod||!1,encoders\x3d_.encoders,encode\x3dpulse.encode;if(vegaUtil.isArray(encode))if(out.changed()||encode.every(function(e){return encoders[e]}))encode\x3dencode[0],out.encode\x3dnull;else return pulse.StopPropagation;var reenter\x3d\x22enter\x22\x3d\x3d\x3dencode,update\x3dencoders.update||vegaUtil.falsy,enter\x3dencoders.enter||vegaUtil.falsy,exit\x3dencoders.exit||vegaUtil.falsy,\nset\x3d(encode\x26\x26!reenter?encoders[encode]:update)||vegaUtil.falsy;pulse.changed(pulse.ADD)\x26\x26(pulse.visit(pulse.ADD,function(t){enter(t,_);update(t,_)}),out.modifies(enter.output),out.modifies(update.output),set!\x3d\x3dvegaUtil.falsy\x26\x26set!\x3d\x3dupdate\x26\x26(pulse.visit(pulse.ADD,function(t){set(t,_)}),out.modifies(set.output)));pulse.changed(pulse.REM)\x26\x26exit!\x3d\x3dvegaUtil.falsy\x26\x26(pulse.visit(pulse.REM,function(t){exit(t,_)}),out.modifies(exit.output));if(reenter||set!\x3d\x3dvegaUtil.falsy)encode\x3dpulse.MOD|(_.modified()?pulse.REFLOW:\n0),reenter?(pulse.visit(encode,function(t){var mod\x3denter(t,_)||fmod;(set(t,_)||mod)\x26\x26out.mod.push(t)}),out.mod.length\x26\x26out.modifies(enter.output)):pulse.visit(encode,function(t){(set(t,_)||fmod)\x26\x26out.mod.push(t)}),out.mod.length\x26\x26out.modifies(set.output);return out.changed()?out:pulse.StopPropagation}});vegaUtil.inherits(LegendEntries,vegaDataflow.Transform,{transform:function(_,pulse){if(null!\x3dthis.value\x26\x26!_.modified())return pulse.StopPropagation;var locale\x3dpulse.dataflow.locale(),out\x3dpulse.fork(pulse.NO_SOURCE|\npulse.NO_FIELDS),items\x3dthis.value,type\x3d_.type||vegaScale.SymbolLegend,scale\x3d_.scale,limit\x3d+_.limit,count\x3dvegaScale.tickCount(scale,null\x3d\x3d_.count?5:_.count,_.minstep),lskip\x3d!!_.values||type\x3d\x3d\x3dvegaScale.SymbolLegend,format\x3d_.format||vegaScale.labelFormat(locale,scale,count,type,_.formatSpecifier,_.formatType,lskip),values\x3d_.values||vegaScale.labelValues(scale,count),size;items\x26\x26(out.rem\x3ditems);if(type\x3d\x3d\x3dvegaScale.SymbolLegend){if(limit\x26\x26values.length\x3elimit){pulse.dataflow.warn(\x22Symbol legend count exceeds limit, filtering items.\x22);\nitems\x3dvalues.slice(0,limit-1);var ellipsis\x3d!0}else items\x3dvalues;if(vegaUtil.isFunction(size\x3d_.size)){_.values||0!\x3d\x3dscale(items[0])||(items\x3ditems.slice(1));var offset\x3ditems.reduce(function(max,value){return Math.max(max,size(value,_))},0)}else size\x3dvegaUtil.constant(offset\x3dsize||8);items\x3ditems.map(function(value,index){return vegaDataflow.ingest({index:index,label:format(value,index,items),value:value,offset:offset,size:size(value,_)})});ellipsis\x26\x26(ellipsis\x3dvalues[items.length],items.push(vegaDataflow.ingest({index:items.length,\nlabel:\x22\u2026\x22+(values.length-items.length)+\x22 entries\x22,value:ellipsis,offset:offset,size:size(ellipsis,_)})))}else if(type\x3d\x3d\x3dvegaScale.GradientLegend){pulse\x3dscale.domain();var fraction\x3dvegaScale.scaleFraction(scale,pulse[0],vegaUtil.peek(pulse));3\x3evalues.length\x26\x26!_.values\x26\x26pulse[0]!\x3d\x3dvegaUtil.peek(pulse)\x26\x26(values\x3d[pulse[0],vegaUtil.peek(pulse)]);items\x3dvalues.map(function(value,index){return vegaDataflow.ingest({index:index,label:format(value,index,values),value:value,perc:fraction(value)})})}else size\x3d\nvalues.length-1,fraction\x3dvegaScale.labelFraction(scale),items\x3dvalues.map(function(value,index){return vegaDataflow.ingest({index:index,label:format(value,index,values),value:value,perc:index?fraction(value):0,perc2:index\x3d\x3d\x3dsize?1:fraction(values[index+1])})});out.source\x3ditems;this.value\x3dout.add\x3ditems;return out}});var sourceX\x3dfunction(t){return t.source.x},sourceY\x3dfunction(t){return t.source.y},targetX\x3dfunction(t){return t.target.x},targetY\x3dfunction(t){return t.target.y};LinkPath.Definition\x3d{type:\x22LinkPath\x22,\nmetadata:{modifies:!0},params:[{name:\x22sourceX\x22,type:\x22field\x22,\x22default\x22:\x22source.x\x22},{name:\x22sourceY\x22,type:\x22field\x22,\x22default\x22:\x22source.y\x22},{name:\x22targetX\x22,type:\x22field\x22,\x22default\x22:\x22target.x\x22},{name:\x22targetY\x22,type:\x22field\x22,\x22default\x22:\x22target.y\x22},{name:\x22orient\x22,type:\x22enum\x22,\x22default\x22:\x22vertical\x22,values:[\x22horizontal\x22,\x22vertical\x22,\x22radial\x22]},{name:\x22shape\x22,type:\x22enum\x22,\x22default\x22:\x22line\x22,values:[\x22line\x22,\x22arc\x22,\x22curve\x22,\x22diagonal\x22,\x22orthogonal\x22]},{name:\x22require\x22,type:\x22signal\x22},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22path\x22}]};vegaUtil.inherits(LinkPath,\nvegaDataflow.Transform,{transform:function(_,pulse){var sx\x3d_.sourceX||sourceX,sy\x3d_.sourceY||sourceY,tx\x3d_.targetX||targetX,ty\x3d_.targetY||targetY,as\x3d_.as||\x22path\x22,shape\x3d_.shape||\x22line\x22,path\x3dPaths.get(shape+\x22-\x22+(_.orient||\x22vertical\x22))||Paths.get(shape);path||vegaUtil.error(\x22LinkPath unsupported type: \x22+_.shape+(_.orient?\x22-\x22+_.orient:\x22\x22));pulse.visit(pulse.SOURCE,function(t){t[as]\x3dpath(sx(t),sy(t),tx(t),ty(t))});return pulse.reflow(_.modified()).modifies(as)}});var line\x3dfunction(sx,sy,tx,ty){return\x22M\x22+\nsx+\x22,\x22+sy+\x22L\x22+tx+\x22,\x22+ty},arc\x3dfunction(sx,sy,tx,ty){var dx\x3dtx-sx,dy\x3dty-sy,rr\x3dMath.sqrt(dx*dx+dy*dy)/2;return\x22M\x22+sx+\x22,\x22+sy+\x22A\x22+rr+\x22,\x22+rr+\x22 \x22+180*Math.atan2(dy,dx)/Math.PI+\x22 0 1 \x22+tx+\x22,\x22+ty},curve\x3dfunction(sx,sy,tx,ty){var dx\x3dtx-sx,dy\x3dty-sy,ix\x3d.2*(dx+dy);dx\x3d.2*(dy-dx);return\x22M\x22+sx+\x22,\x22+sy+\x22C\x22+(sx+ix)+\x22,\x22+(sy+dx)+\x22 \x22+(tx+dx)+\x22,\x22+(ty-ix)+\x22 \x22+tx+\x22,\x22+ty},Paths\x3dvegaUtil.fastmap({line:line,\x22line-radial\x22:function(sa,sr,ta,tr){return line(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta))},arc:arc,\n\x22arc-radial\x22:function(sa,sr,ta,tr){return arc(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta))},curve:curve,\x22curve-radial\x22:function(sa,sr,ta,tr){return curve(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta))},\x22orthogonal-horizontal\x22:function(sx,sy,tx,ty){return\x22M\x22+sx+\x22,\x22+sy+\x22V\x22+ty+\x22H\x22+tx},\x22orthogonal-vertical\x22:function(sx,sy,tx,ty){return\x22M\x22+sx+\x22,\x22+sy+\x22H\x22+tx+\x22V\x22+ty},\x22orthogonal-radial\x22:function(sa,sr,ta,tr){var tc\x3dMath.cos(ta),ts\x3dMath.sin(ta);return\x22M\x22+sr*Math.cos(sa)+\n\x22,\x22+sr*Math.sin(sa)+\x22A\x22+sr+\x22,\x22+sr+\x22 0 0,\x22+((Math.abs(ta-sa)\x3eMath.PI?ta\x3c\x3dsa:ta\x3esa)?1:0)+\x22 \x22+sr*tc+\x22,\x22+sr*ts+\x22L\x22+tr*tc+\x22,\x22+tr*ts},\x22diagonal-horizontal\x22:function(sx,sy,tx,ty){var m\x3d(sx+tx)/2;return\x22M\x22+sx+\x22,\x22+sy+\x22C\x22+m+\x22,\x22+sy+\x22 \x22+m+\x22,\x22+ty+\x22 \x22+tx+\x22,\x22+ty},\x22diagonal-vertical\x22:function(sx,sy,tx,ty){var m\x3d(sy+ty)/2;return\x22M\x22+sx+\x22,\x22+sy+\x22C\x22+sx+\x22,\x22+m+\x22 \x22+tx+\x22,\x22+m+\x22 \x22+tx+\x22,\x22+ty},\x22diagonal-radial\x22:function(sa,sr,ta,tr){var sc\x3dMath.cos(sa);sa\x3dMath.sin(sa);var tc\x3dMath.cos(ta);ta\x3dMath.sin(ta);var mr\x3d(sr+tr)/2;return\x22M\x22+\nsr*sc+\x22,\x22+sr*sa+\x22C\x22+mr*sc+\x22,\x22+mr*sa+\x22 \x22+mr*tc+\x22,\x22+mr*ta+\x22 \x22+tr*tc+\x22,\x22+tr*ta}});Pie.Definition\x3d{type:\x22Pie\x22,metadata:{modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22startAngle\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22endAngle\x22,type:\x22number\x22,\x22default\x22:6.283185307179586},{name:\x22sort\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:[\x22startAngle\x22,\x22endAngle\x22]}]};vegaUtil.inherits(Pie,vegaDataflow.Transform,{transform:function(_,pulse){var as\x3d_.as||[\x22startAngle\x22,\x22endAngle\x22],\nstartAngle\x3das[0],endAngle\x3das[1],start\x3d_.startAngle||0,stop\x3dnull!\x3d_.endAngle?_.endAngle:2*Math.PI,data\x3dpulse.source,values\x3ddata.map(_.field||vegaUtil.one),n\x3dvalues.length,a$jscomp$0\x3dstart;start\x3d(stop-start)/d3Array.sum(values);stop\x3dd3Array.range(n);var i;_.sort\x26\x26stop.sort(function(a,b){return values[a]-values[b]});for(i\x3d0;i\x3cn;++i){var v\x3dvalues[stop[i]];var t\x3ddata[stop[i]];t[startAngle]\x3da$jscomp$0;t[endAngle]\x3da$jscomp$0+\x3dv*start}this.value\x3dvalues;return pulse.reflow(_.modified()).modifies(as)}});var SKIP\x3d\nvegaUtil.toSet(\x22set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma\x22.split(\x22 \x22));vegaUtil.inherits(Scale,vegaDataflow.Transform,{transform:function(_,pulse){var df\x3dpulse.dataflow,scale\x3dthis.value;var key\x3d_.type;var d\x3d\x22\x22;if(key\x3d\x3d\x3dvegaScale.Sequential)key\x3dvegaScale.Sequential+\x22-\x22+vegaScale.Linear;else{var t\x3d_.type;vegaScale.isContinuous(t)\x26\x26t!\x3d\x3dvegaScale.Time\x26\x26\nt!\x3d\x3dvegaScale.UTC\x26\x26(_.scheme||_.range\x26\x26_.range.length\x26\x26_.range.every(vegaUtil.isString))\x26\x26(d\x3d_.rawDomain?_.rawDomain.length:_.domain?_.domain.length+ +(null!\x3d_.domainMid):0,d\x3d2\x3d\x3d\x3dd?vegaScale.Sequential+\x22-\x22:3\x3d\x3d\x3dd?vegaScale.Diverging+\x22-\x22:\x22\x22);key\x3d(d+key||vegaScale.Linear).toLowerCase()}scale\x26\x26key\x3d\x3d\x3dscale.type||(this.value\x3dscale\x3dvegaScale.scale(key)());for(key in _)SKIP[key]||\x22padding\x22\x3d\x3d\x3dkey\x26\x26includePad(scale.type)||(vegaUtil.isFunction(scale[key])?scale[key](_[key]):df.warn(\x22Unsupported scale property: \x22+\nkey));d\x3dkey\x3dscale;(t\x3d_.domainRaw)?(scale.domain(domainCheck(scale.type,t,df)),t\x3dt.length):t\x3d-1;if(-1\x3ct)df\x3dt;else{var domain\x3d_.domain;t\x3dscale.type;var JSCompiler_temp;!(JSCompiler_temp\x3d_.zero)\x26\x26(JSCompiler_temp\x3dvoid 0\x3d\x3d\x3d_.zero)\x26\x26(JSCompiler_temp\x3dscale.type,JSCompiler_temp\x3d!scale.bins\x26\x26(JSCompiler_temp\x3d\x3d\x3dvegaScale.Linear||JSCompiler_temp\x3d\x3d\x3dvegaScale.Pow||JSCompiler_temp\x3d\x3d\x3dvegaScale.Sqrt));if(domain){if(includePad(t)\x26\x26_.padding\x26\x26domain[0]!\x3d\x3dvegaUtil.peek(domain)){var range\x3d_.range,pad\x3d_.padding;var n\x3d\n_.exponent;var constant\x3d_.constant;range\x3dMath.abs(vegaUtil.peek(range)-range[0]);pad\x3drange/(range-2*pad);n\x3dt\x3d\x3d\x3dvegaScale.Log?vegaUtil.zoomLog(domain,null,pad):t\x3d\x3d\x3dvegaScale.Sqrt?vegaUtil.zoomPow(domain,null,pad,.5):t\x3d\x3d\x3dvegaScale.Pow?vegaUtil.zoomPow(domain,null,pad,n||1):t\x3d\x3d\x3dvegaScale.Symlog?vegaUtil.zoomSymlog(domain,null,pad,constant||1):vegaUtil.zoomLinear(domain,null,pad);domain\x3ddomain.slice();domain[0]\x3dn[0];domain[domain.length-1]\x3dn[1]}if(JSCompiler_temp||null!\x3d_.domainMin||null!\x3d_.domainMax||\nnull!\x3d_.domainMid)n\x3d(domain\x3ddomain.slice()).length-1||1,JSCompiler_temp\x26\x26(0\x3cdomain[0]\x26\x26(domain[0]\x3d0),0\x3edomain[n]\x26\x26(domain[n]\x3d0)),null!\x3d_.domainMin\x26\x26(domain[0]\x3d_.domainMin),null!\x3d_.domainMax\x26\x26(domain[n]\x3d_.domainMax),null!\x3d_.domainMid\x26\x26(JSCompiler_temp\x3d_.domainMid,constant\x3dJSCompiler_temp\x3edomain[n]?n+1:JSCompiler_temp\x3cdomain[0]?0:n,constant!\x3d\x3dn\x26\x26df.warn(\x22Scale domainMid exceeds domain min or max.\x22,JSCompiler_temp),domain.splice(constant,0,JSCompiler_temp));scale.domain(domainCheck(t,domain,df));t\x3d\x3d\x3d\nvegaScale.Ordinal\x26\x26scale.unknown(_.domainImplicit?vegaScale.scaleImplicit:void 0);_.nice\x26\x26scale.nice\x26\x26scale.nice(!0!\x3d\x3d_.nice\x26\x26vegaScale.tickCount(scale,_.nice)||null);df\x3ddomain.length}else df\x3d0}(t\x3d_.bins)\x26\x26!vegaUtil.isArray(t)\x26\x26(JSCompiler_temp\x3dd.domain(),scale\x3dJSCompiler_temp[0],JSCompiler_temp\x3dvegaUtil.peek(JSCompiler_temp),domain\x3dt.step,n\x3dnull\x3d\x3dt.start?scale:t.start,t\x3dnull\x3d\x3dt.stop?JSCompiler_temp:t.stop,domain||vegaUtil.error(\x22Scale bins parameter missing step property.\x22),n\x3cscale\x26\x26(n\x3ddomain*Math.ceil(scale/\ndomain)),t\x3eJSCompiler_temp\x26\x26(t\x3ddomain*Math.floor(JSCompiler_temp/domain)),t\x3dd3Array.range(n,t+domain/2,domain));t?d.bins\x3dt:d.bins\x26\x26delete d.bins;d.type\x3d\x3d\x3dvegaScale.BinOrdinal\x26\x26(t?_.domain||_.domainRaw||(d.domain(t),df\x3dt.length):d.bins\x3dd.domain());scale\x3ddf;a:{d\x3dkey.type;df\x3d_.round||!1;t\x3d_.range;if(null!\x3d_.rangeStep)d!\x3d\x3dvegaScale.Band\x26\x26d!\x3d\x3dvegaScale.Point\x26\x26vegaUtil.error(\x22Only band and point scales support rangeStep.\x22),t\x3d[0,_.rangeStep*vegaScale.bandSpace(scale,d\x3d\x3d\x3dvegaScale.Point?1:(null!\x3d_.paddingInner?\n_.paddingInner:_.padding)||0,(null!\x3d_.paddingOuter?_.paddingOuter:_.padding)||0)];else if(_.scheme\x26\x26(t\x3d_.schemeExtent,vegaUtil.isArray(_.scheme)?JSCompiler_temp\x3dvegaScale.interpolateColors(_.scheme,_.interpolate,_.interpolateGamma):(JSCompiler_temp\x3d_.scheme.toLowerCase(),(JSCompiler_temp\x3dvegaScale.scheme(JSCompiler_temp))||vegaUtil.error(\x22Unrecognized scheme name: \x22+_.scheme)),scale\x3dd\x3d\x3d\x3dvegaScale.Threshold?scale+1:d\x3d\x3d\x3dvegaScale.BinOrdinal?scale-1:d\x3d\x3d\x3dvegaScale.Quantile||d\x3d\x3d\x3dvegaScale.Quantize?+_.schemeCount||\n5:scale,t\x3dvegaScale.isInterpolating(d)?adjustScheme(JSCompiler_temp,t,_.reverse):vegaUtil.isFunction(JSCompiler_temp)?vegaScale.quantizeInterpolator(adjustScheme(JSCompiler_temp,t),scale):d\x3d\x3d\x3dvegaScale.Ordinal?JSCompiler_temp:JSCompiler_temp.slice(0,scale),vegaUtil.isFunction(t)))if(key.interpolator){key.interpolator(t);break a}else vegaUtil.error(\x22Scale type \x22+d+\x22 does not support interpolating color schemes.\x22);t\x26\x26vegaScale.isInterpolating(d)?key.interpolator(vegaScale.interpolateColors(flip(t,_.reverse),\n_.interpolate,_.interpolateGamma)):(t\x26\x26_.interpolate\x26\x26key.interpolate?key.interpolate(vegaScale.interpolate(_.interpolate,_.interpolateGamma)):vegaUtil.isFunction(key.round)?key.round(df):vegaUtil.isFunction(key.rangeRound)\x26\x26key.interpolate(df?d3Interpolate.interpolateRound:d3Interpolate.interpolate),t\x26\x26key.range(flip(t,_.reverse)))}return pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)}});vegaUtil.inherits(SortItems,vegaDataflow.Transform,{transform:function(_,pulse){var mod\x3d_.modified(\x22sort\x22)||pulse.changed(pulse.ADD)||\npulse.modified(_.sort.fields)||pulse.modified(\x22datum\x22);mod\x26\x26pulse.source.sort(vegaDataflow.stableCompare(_.sort));this.modified(mod);return pulse}});var DefOutput\x3d[\x22y0\x22,\x22y1\x22];Stack.Definition\x3d{type:\x22Stack\x22,metadata:{modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22sort\x22,type:\x22compare\x22},{name:\x22offset\x22,type:\x22enum\x22,\x22default\x22:\x22zero\x22,values:[\x22zero\x22,\x22center\x22,\x22normalize\x22]},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:DefOutput}]};vegaUtil.inherits(Stack,\nvegaDataflow.Transform,{transform:function(_,pulse){var as\x3d_.as||DefOutput,y0\x3das[0],y1\x3das[1],sort\x3dvegaDataflow.stableCompare(_.sort),field\x3d_.field||vegaUtil.one,stack\x3d\x22center\x22\x3d\x3d\x3d_.offset?stackCenter:\x22normalize\x22\x3d\x3d\x3d_.offset?stackNormalize:stackZero,max;sort\x3dpartition(pulse.source,_.groupby,sort,field);var i\x3d0;var n\x3dsort.length;for(max\x3dsort.max;i\x3cn;++i)stack(sort[i],max,field,y0,y1);return pulse.reflow(_.modified()).modifies(as)}});exports.axisticks\x3dAxisTicks;exports.datajoin\x3dDataJoin;exports.encode\x3d\nEncode;exports.legendentries\x3dLegendEntries;exports.linkpath\x3dLinkPath;exports.pie\x3dPie;exports.scale\x3dScale;exports.sortitems\x3dSortItems;exports.stack\x3dStack;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_geo$dist$d3_geo.js", true , "shadow$provide.module$node_modules$d3_geo$dist$d3_geo\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_array$dist$d3_array\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-array\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{},global.d3))})(this,function(exports,d3Array){function acos(x){return 1\x3cx?0:-1\x3ex?pi:Math.acos(x)}\nfunction asin(x){return 1\x3cx?halfPi:-1\x3ex?-halfPi:Math.asin(x)}function haversin(x){return(x\x3dsin(x/2))*x}function noop(){}function streamGeometry(geometry,stream){if(geometry\x26\x26streamGeometryType.hasOwnProperty(geometry.type))streamGeometryType[geometry.type](geometry,stream)}function streamLine(coordinates,stream,closed){var i\x3d-1;closed\x3dcoordinates.length-closed;for(stream.lineStart();++i\x3cclosed;){var coordinate\x3dcoordinates[i];stream.point(coordinate[0],coordinate[1],coordinate[2])}stream.lineEnd()}\nfunction streamPolygon(coordinates,stream){var i\x3d-1,n\x3dcoordinates.length;for(stream.polygonStart();++i\x3cn;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function geoStream(object,stream){if(object\x26\x26streamObjectType.hasOwnProperty(object.type))streamObjectType[object.type](object,stream);else streamGeometry(object,stream)}function areaRingStart(){areaStream.point\x3dareaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point\x3dareaPoint;\nlambda00\x3dlambda;phi00\x3dphi;lambda*\x3dradians;phi*\x3dradians;lambda0\x3dlambda;cosPhi0\x3dcos(phi\x3dphi/2+quarterPi);sinPhi0\x3dsin(phi)}function areaPoint(lambda,phi){lambda*\x3dradians;phi*\x3dradians;phi\x3dphi/2+quarterPi;var dLambda\x3dlambda-lambda0,sdLambda\x3d0\x3c\x3ddLambda?1:-1,adLambda\x3dsdLambda*dLambda;dLambda\x3dcos(phi);phi\x3dsin(phi);var k\x3dsinPhi0*phi,u\x3dcosPhi0*dLambda+k*cos(adLambda);sdLambda\x3dk*sdLambda*sin(adLambda);areaRingSum.add(atan2(sdLambda,u));lambda0\x3dlambda;cosPhi0\x3ddLambda;sinPhi0\x3dphi}function spherical(cartesian){return[atan2(cartesian[1],\ncartesian[0]),asin(cartesian[2])]}function cartesian(spherical){var lambda\x3dspherical[0];spherical\x3dspherical[1];var cosPhi\x3dcos(spherical);return[cosPhi*cos(lambda),cosPhi*sin(lambda),sin(spherical)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+\x3db[0];a[1]+\x3db[1];a[2]+\x3db[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*\nk]}function cartesianNormalizeInPlace(d){var l\x3dsqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/\x3dl;d[1]/\x3dl;d[2]/\x3dl}function boundsPoint(lambda,phi){ranges.push(range$jscomp$0\x3d[lambda0$1\x3dlambda,lambda1\x3dlambda]);phi\x3cphi0\x26\x26(phi0\x3dphi);phi\x3ephi1\x26\x26(phi1\x3dphi)}function linePoint(lambda,phi){var p\x3dcartesian([lambda*radians,phi*radians]);if(p0$jscomp$0){var normal\x3dcartesianCross(p0$jscomp$0,p);normal\x3dcartesianCross([normal[1],-normal[0],0],normal);cartesianNormalizeInPlace(normal);normal\x3dspherical(normal);var delta\x3d\nlambda-lambda2,sign\x3d0\x3cdelta?1:-1,lambdai\x3dnormal[0]*degrees*sign;delta\x3d180\x3cabs(delta);delta^(sign*lambda2\x3clambdai\x26\x26lambdai\x3csign*lambda)?(normal\x3dnormal[1]*degrees,normal\x3ephi1\x26\x26(phi1\x3dnormal)):(lambdai\x3d(lambdai+360)%360-180,delta^(sign*lambda2\x3clambdai\x26\x26lambdai\x3csign*lambda))?(normal\x3d-normal[1]*degrees,normal\x3cphi0\x26\x26(phi0\x3dnormal)):(phi\x3cphi0\x26\x26(phi0\x3dphi),phi\x3ephi1\x26\x26(phi1\x3dphi));delta?lambda\x3clambda2?angle$jscomp$0(lambda0$1,lambda)\x3eangle$jscomp$0(lambda0$1,lambda1)\x26\x26(lambda1\x3dlambda):angle$jscomp$0(lambda,lambda1)\x3e\nangle$jscomp$0(lambda0$1,lambda1)\x26\x26(lambda0$1\x3dlambda):lambda1\x3e\x3dlambda0$1?(lambda\x3clambda0$1\x26\x26(lambda0$1\x3dlambda),lambda\x3elambda1\x26\x26(lambda1\x3dlambda)):lambda\x3elambda2?angle$jscomp$0(lambda0$1,lambda)\x3eangle$jscomp$0(lambda0$1,lambda1)\x26\x26(lambda1\x3dlambda):angle$jscomp$0(lambda,lambda1)\x3eangle$jscomp$0(lambda0$1,lambda1)\x26\x26(lambda0$1\x3dlambda)}else ranges.push(range$jscomp$0\x3d[lambda0$1\x3dlambda,lambda1\x3dlambda]);phi\x3cphi0\x26\x26(phi0\x3dphi);phi\x3ephi1\x26\x26(phi1\x3dphi);p0$jscomp$0\x3dp;lambda2\x3dlambda}function boundsLineStart(){boundsStream.point\x3d\nlinePoint}function boundsLineEnd(){range$jscomp$0[0]\x3dlambda0$1;range$jscomp$0[1]\x3dlambda1;boundsStream.point\x3dboundsPoint;p0$jscomp$0\x3dnull}function boundsRingPoint(lambda,phi){if(p0$jscomp$0){var delta\x3dlambda-lambda2;deltaSum.add(180\x3cabs(delta)?delta+(0\x3cdelta?360:-360):delta)}else lambda00$1\x3dlambda,phi00$1\x3dphi;areaStream.point(lambda,phi);linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1);areaStream.lineEnd();1E-6\x3cabs(deltaSum)\x26\x26\n(lambda0$1\x3d-(lambda1\x3d180));range$jscomp$0[0]\x3dlambda0$1;range$jscomp$0[1]\x3dlambda1;p0$jscomp$0\x3dnull}function angle$jscomp$0(lambda0,lambda1){return 0\x3e(lambda1-\x3dlambda0)?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]\x3c\x3drange[1]?range[0]\x3c\x3dx\x26\x26x\x3c\x3drange[1]:x\x3crange[0]||range[1]\x3cx}function centroidPoint(lambda,phi){lambda*\x3dradians;phi*\x3dradians;var cosPhi\x3dcos(phi);centroidPointCartesian(cosPhi*cos(lambda),cosPhi*sin(lambda),sin(phi))}function centroidPointCartesian(x,\ny,z){++W0;X0+\x3d(x-X0)/W0;Y0+\x3d(y-Y0)/W0;Z0+\x3d(z-Z0)/W0}function centroidLineStart(){centroidStream.point\x3dcentroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*\x3dradians;phi*\x3dradians;var cosPhi\x3dcos(phi);x0$jscomp$0\x3dcosPhi*cos(lambda);y0$jscomp$0\x3dcosPhi*sin(lambda);z0\x3dsin(phi);centroidStream.point\x3dcentroidLinePoint;centroidPointCartesian(x0$jscomp$0,y0$jscomp$0,z0)}function centroidLinePoint(lambda,phi){lambda*\x3dradians;phi*\x3dradians;var cosPhi\x3dcos(phi),x\x3dcosPhi*cos(lambda);lambda\x3dcosPhi*\nsin(lambda);phi\x3dsin(phi);var w\x3datan2(sqrt((w\x3dy0$jscomp$0*phi-z0*lambda)*w+(w\x3dz0*x-x0$jscomp$0*phi)*w+(w\x3dx0$jscomp$0*lambda-y0$jscomp$0*x)*w),x0$jscomp$0*x+y0$jscomp$0*lambda+z0*phi);W1+\x3dw;X1+\x3dw*(x0$jscomp$0+(x0$jscomp$0\x3dx));Y1+\x3dw*(y0$jscomp$0+(y0$jscomp$0\x3dlambda));Z1+\x3dw*(z0+(z0\x3dphi));centroidPointCartesian(x0$jscomp$0,y0$jscomp$0,z0)}function centroidLineEnd(){centroidStream.point\x3dcentroidPoint}function centroidRingStart(){centroidStream.point\x3dcentroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(lambda00$2,\nphi00$2);centroidStream.point\x3dcentroidPoint}function centroidRingPointFirst(lambda,phi){lambda00$2\x3dlambda;phi00$2\x3dphi;lambda*\x3dradians;phi*\x3dradians;centroidStream.point\x3dcentroidRingPoint;var cosPhi\x3dcos(phi);x0$jscomp$0\x3dcosPhi*cos(lambda);y0$jscomp$0\x3dcosPhi*sin(lambda);z0\x3dsin(phi);centroidPointCartesian(x0$jscomp$0,y0$jscomp$0,z0)}function centroidRingPoint(lambda,phi){lambda*\x3dradians;phi*\x3dradians;var cosPhi\x3dcos(phi),x\x3dcosPhi*cos(lambda);lambda\x3dcosPhi*sin(lambda);phi\x3dsin(phi);cosPhi\x3dy0$jscomp$0*phi-\nz0*lambda;var cy\x3dz0*x-x0$jscomp$0*phi,cz\x3dx0$jscomp$0*lambda-y0$jscomp$0*x,m\x3dhypot(cosPhi,cy,cz),w\x3dasin(m);m\x3dm\x26\x26-w/m;X2.add(m*cosPhi);Y2.add(m*cy);Z2.add(m*cz);W1+\x3dw;X1+\x3dw*(x0$jscomp$0+(x0$jscomp$0\x3dx));Y1+\x3dw*(y0$jscomp$0+(y0$jscomp$0\x3dlambda));Z1+\x3dw*(z0+(z0\x3dphi));centroidPointCartesian(x0$jscomp$0,y0$jscomp$0,z0)}function constant(x){return function(){return x}}function compose(a,b){function compose(x,y){return x\x3da(x,y),b(x[0],x[1])}a.invert\x26\x26b.invert\x26\x26(compose.invert\x3dfunction(x,y){return x\x3db.invert(x,\ny),x\x26\x26a.invert(x[0],x[1])});return compose}function rotationIdentity(lambda,phi){return[abs(lambda)\x3epi?lambda+Math.round(-lambda/tau)*tau:lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%\x3dtau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return lambda+\x3d\ndeltaLambda,[lambda\x3epi?lambda-tau:lambda\x3c-pi?lambda+tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation\x3dforwardRotationLambda(deltaLambda);rotation.invert\x3dforwardRotationLambda(-deltaLambda);return rotation}function rotationPhiGamma(deltaPhi,deltaGamma){function rotation(lambda,phi){var cosPhi\x3dcos(phi),x\x3dcos(lambda)*cosPhi;lambda\x3dsin(lambda)*cosPhi;phi\x3dsin(phi);cosPhi\x3dphi*cosDeltaPhi+x*sinDeltaPhi;return[atan2(lambda*cosDeltaGamma-cosPhi*sinDeltaGamma,x*cosDeltaPhi-phi*sinDeltaPhi),\nasin(cosPhi*cosDeltaGamma+lambda*sinDeltaGamma)]}var cosDeltaPhi\x3dcos(deltaPhi),sinDeltaPhi\x3dsin(deltaPhi),cosDeltaGamma\x3dcos(deltaGamma),sinDeltaGamma\x3dsin(deltaGamma);rotation.invert\x3dfunction(lambda,phi){var cosPhi\x3dcos(phi),x\x3dcos(lambda)*cosPhi;lambda\x3dsin(lambda)*cosPhi;phi\x3dsin(phi);cosPhi\x3dphi*cosDeltaGamma-lambda*sinDeltaGamma;return[atan2(lambda*cosDeltaGamma+phi*sinDeltaGamma,x*cosDeltaPhi+cosPhi*sinDeltaPhi),asin(cosPhi*cosDeltaPhi-x*sinDeltaPhi)]};return rotation}function rotation$jscomp$0(rotate){function forward(coordinates){coordinates\x3d\nrotate(coordinates[0]*radians,coordinates[1]*radians);return coordinates[0]*\x3ddegrees,coordinates[1]*\x3ddegrees,coordinates}rotate\x3drotateRadians(rotate[0]*radians,rotate[1]*radians,2\x3crotate.length?rotate[2]*radians:0);forward.invert\x3dfunction(coordinates){coordinates\x3drotate.invert(coordinates[0]*radians,coordinates[1]*radians);return coordinates[0]*\x3ddegrees,coordinates[1]*\x3ddegrees,coordinates};return forward}function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius\x3dcos(radius),\nsinRadius\x3dsin(radius);delta*\x3ddirection;if(null\x3d\x3dt0)t0\x3dradius+direction*tau,t1\x3dradius-delta/2;else if(t0\x3dcircleRadius(cosRadius,t0),t1\x3dcircleRadius(cosRadius,t1),0\x3cdirection?t0\x3ct1:t0\x3et1)t0+\x3ddirection*tau;for(;0\x3cdirection?t0\x3et1:t0\x3ct1;t0-\x3ddelta)radius\x3dspherical([cosRadius,-sinRadius*cos(t0),-sinRadius*sin(t0)]),stream.point(radius[0],radius[1])}}function circleRadius(cosRadius,point){point\x3dcartesian(point);point[0]-\x3dcosRadius;cartesianNormalizeInPlace(point);cosRadius\x3dacos(-point[1]);return((0\x3e-point[2]?\n-cosRadius:cosRadius)+tau-1E-6)%tau}function clipBuffer(){var lines\x3d[],line;return{point:function(x,y,m){line.push([x,y,m])},lineStart:function(){lines.push(line\x3d[])},lineEnd:noop,rejoin:function(){1\x3clines.length\x26\x26lines.push(lines.pop().concat(lines.shift()))},result:function(){var result\x3dlines;lines\x3d[];line\x3dnull;return result}}}function pointEqual(a,b){return 1E-6\x3eabs(a[0]-b[0])\x26\x261E-6\x3eabs(a[1]-b[1])}function Intersection(point,points,other,entry){this.x\x3dpoint;this.z\x3dpoints;this.o\x3dother;this.e\x3dentry;\nthis.v\x3d!1;this.n\x3dthis.p\x3dnull}function clipRejoin(segments,compareIntersection,startInside,interpolate,stream){var subject\x3d[],clip\x3d[];segments.forEach(function(segment){if(!(0\x3e\x3d(n\x3dsegment.length-1))){var n,p0\x3dsegment[0],p1\x3dsegment[n];if(pointEqual(p0,p1)){if(!p0[2]\x26\x26!p1[2]){stream.lineStart();for(i\x3d0;i\x3cn;++i)stream.point((p0\x3dsegment[i])[0],p0[1]);stream.lineEnd();return}p1[0]+\x3d2E-6}subject.push(n\x3dnew Intersection(p0,segment,null,!0));clip.push(n.o\x3dnew Intersection(p0,null,n,!1));subject.push(n\x3dnew Intersection(p1,\nsegment,null,!1));clip.push(n.o\x3dnew Intersection(p1,null,n,!0))}});if(subject.length){clip.sort(compareIntersection);link(subject);link(clip);var i\x3d0;for(segments\x3dclip.length;i\x3csegments;++i)clip[i].e\x3dstartInside\x3d!startInside;startInside\x3dsubject[0];for(var point;;){for(var current\x3dstartInside,isSubject\x3d!0;current.v;)if((current\x3dcurrent.n)\x3d\x3d\x3dstartInside)return;compareIntersection\x3dcurrent.z;stream.lineStart();do{current.v\x3dcurrent.o.v\x3d!0;if(current.e){if(isSubject)for(i\x3d0,segments\x3dcompareIntersection.length;i\x3c\nsegments;++i)stream.point((point\x3dcompareIntersection[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current\x3dcurrent.n}else{if(isSubject)for(compareIntersection\x3dcurrent.p.z,i\x3dcompareIntersection.length-1;0\x3c\x3di;--i)stream.point((point\x3dcompareIntersection[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current\x3dcurrent.p}current\x3dcurrent.o;compareIntersection\x3dcurrent.z;isSubject\x3d!isSubject}while(!current.v);stream.lineEnd()}}}function link(array){if(n\x3darray.length){for(var n,\ni\x3d0,a\x3darray[0],b;++i\x3cn;)a.n\x3db\x3darray[i],b.p\x3da,a\x3db;a.n\x3db\x3darray[0];b.p\x3da}}function longitude(point){return abs(point[0])\x3c\x3dpi?point[0]:sign$jscomp$0(point[0])*((abs(point[0])+pi)%tau-pi)}function polygonContains(polygon,point){var lambda\x3dlongitude(point);point\x3dpoint[1];var sinPhi\x3dsin(point),normal\x3d[sin(lambda),-cos(lambda),0],angle\x3d0,winding\x3d0,sum\x3dnew d3Array.Adder;1\x3d\x3d\x3dsinPhi?point\x3dhalfPi+1E-6:-1\x3d\x3d\x3dsinPhi\x26\x26(point\x3d-halfPi-1E-6);sinPhi\x3d0;for(var n\x3dpolygon.length;sinPhi\x3cn;++sinPhi)if(m\x3d(ring\x3dpolygon[sinPhi]).length){var ring,\nm,point0\x3dring[m-1],lambda0\x3dlongitude(point0),phi0\x3dpoint0[1]/2+quarterPi,sinPhi0\x3dsin(phi0),cosPhi0\x3dcos(phi0);for(phi0\x3d0;phi0\x3cm;++phi0,lambda0\x3dlambda1,sinPhi0\x3dsinPhi1,cosPhi0\x3dcosPhi1,point0\x3dpoint1){var point1\x3dring[phi0],lambda1\x3dlongitude(point1);cosPhi1\x3dpoint1[1]/2+quarterPi;var sinPhi1\x3dsin(cosPhi1),cosPhi1\x3dcos(cosPhi1),delta\x3dlambda1-lambda0,sign\x3d0\x3c\x3ddelta?1:-1,absDelta\x3dsign*delta,antimeridian\x3dabsDelta\x3epi;sinPhi0*\x3dsinPhi1;sum.add(atan2(sinPhi0*sign*sin(absDelta),cosPhi0*cosPhi1+sinPhi0*cos(absDelta)));\nangle+\x3dantimeridian?delta+sign*tau:delta;antimeridian^lambda0\x3e\x3dlambda^lambda1\x3e\x3dlambda\x26\x26(point0\x3dcartesianCross(cartesian(point0),cartesian(point1)),cartesianNormalizeInPlace(point0),lambda0\x3dcartesianCross(normal,point0),cartesianNormalizeInPlace(lambda0),lambda0\x3d(antimeridian^0\x3c\x3ddelta?-1:1)*asin(lambda0[2]),point\x3elambda0||point\x3d\x3d\x3dlambda0\x26\x26(point0[0]||point0[1]))\x26\x26(winding+\x3dantimeridian^0\x3c\x3ddelta?1:-1)}}return(-1E-6\x3eangle||1E-6\x3eangle\x26\x26-1E-12\x3esum)^winding\x261}function clip$jscomp$0(pointVisible,clipLine,\ninterpolate,start){return function(sink){function point$jscomp$0(lambda,phi){pointVisible(lambda,phi)\x26\x26sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point\x3dpointLine;line.lineStart()}function lineEnd(){clip.point\x3dpoint$jscomp$0;line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]);ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart();ring\x3d[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]);ringSink.lineEnd();\nvar clean\x3dringSink.clean(),ringSegments\x3dringBuffer.result(),n\x3dringSegments.length,point;ring.pop();polygon.push(ring);ring\x3dnull;if(n)if(clean\x261){if(n\x3dringSegments[0],0\x3c(ringSegments\x3dn.length-1)){polygonStarted||(sink.polygonStart(),polygonStarted\x3d!0);sink.lineStart();for(clean\x3d0;clean\x3cringSegments;++clean)sink.point((point\x3dn[clean])[0],point[1]);sink.lineEnd()}}else 1\x3cn\x26\x26clean\x262\x26\x26ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}var line\x3d\nclipLine(sink),ringBuffer\x3dclipBuffer(),ringSink\x3dclipLine(ringBuffer),polygonStarted\x3d!1,polygon,segments,ring,clip\x3d{point:point$jscomp$0,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point\x3dpointRing;clip.lineStart\x3dringStart;clip.lineEnd\x3dringEnd;segments\x3d[];polygon\x3d[]},polygonEnd:function(){clip.point\x3dpoint$jscomp$0;clip.lineStart\x3dlineStart;clip.lineEnd\x3dlineEnd;segments\x3dd3Array.merge(segments);var startInside\x3dpolygonContains(polygon,start);segments.length?(polygonStarted||(sink.polygonStart(),\npolygonStarted\x3d!0),clipRejoin(segments,compareIntersection,startInside,interpolate,sink)):startInside\x26\x26(polygonStarted||(sink.polygonStart(),polygonStarted\x3d!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd());polygonStarted\x26\x26(sink.polygonEnd(),polygonStarted\x3d!1);segments\x3dpolygon\x3dnull},sphere:function(){sink.polygonStart();sink.lineStart();interpolate(null,null,1,sink);sink.lineEnd();sink.polygonEnd()}};return clip}}function validSegment(segment){return 1\x3csegment.length}function compareIntersection(a,\nb){return(0\x3e(a\x3da.x)[0]?a[1]-halfPi-1E-6:halfPi-a[1])-(0\x3e(b\x3db.x)[0]?b[1]-halfPi-1E-6:halfPi-b[1])}function clipCircle(radius){function visible(lambda,phi){return cos(lambda)*cos(phi)\x3ecr}function intersect(a,b,two){var pa\x3dcartesian(a),pb\x3dcartesian(b),n1\x3d[1,0,0];pb\x3dcartesianCross(pa,pb);var n2n2\x3dcartesianDot(pb,pb);pa\x3dpb[0];var determinant\x3dn2n2-pa*pa;if(!determinant)return!two\x26\x26a;n2n2\x3dcr*n2n2/determinant;determinant\x3d-cr*pa/determinant;pa\x3dcartesianCross(n1,pb);n1\x3dcartesianScale(n1,n2n2);pb\x3dcartesianScale(pb,\ndeterminant);cartesianAddInPlace(n1,pb);pb\x3dcartesianDot(n1,pa);n2n2\x3dcartesianDot(pa,pa);determinant\x3dpb*pb-n2n2*(cartesianDot(n1,n1)-1);if(!(0\x3edeterminant)){var t\x3dsqrt(determinant);determinant\x3dcartesianScale(pa,(-pb-t)/n2n2);cartesianAddInPlace(determinant,n1);determinant\x3dspherical(determinant);if(!two)return determinant;two\x3da[0];var lambda1\x3db[0];a\x3da[1];b\x3db[1];if(lambda1\x3ctwo){var z\x3dtwo;two\x3dlambda1;lambda1\x3dz}var delta\x3dlambda1-two,polar\x3d1E-6\x3eabs(delta-pi);!polar\x26\x26b\x3ca\x26\x26(z\x3da,a\x3db,b\x3dz);if(polar||1E-6\x3edelta?\npolar?0\x3ca+b^determinant[1]\x3c(1E-6\x3eabs(determinant[0]-two)?a:b):a\x3c\x3ddeterminant[1]\x26\x26determinant[1]\x3c\x3db:delta\x3epi^(two\x3c\x3ddeterminant[0]\x26\x26determinant[0]\x3c\x3dlambda1))return b\x3dcartesianScale(pa,(-pb+t)/n2n2),cartesianAddInPlace(b,n1),[determinant,spherical(b)]}}function code$jscomp$0(lambda,phi){var r\x3dsmallRadius?radius:pi-radius,code\x3d0;lambda\x3c-r?code|\x3d1:lambda\x3er\x26\x26(code|\x3d2);phi\x3c-r?code|\x3d4:phi\x3er\x26\x26(code|\x3d8);return code}var cr\x3dcos(radius),delta$jscomp$0\x3d6*radians,smallRadius\x3d0\x3ccr,notHemisphere\x3d1E-6\x3cabs(cr);return clip$jscomp$0(visible,\nfunction(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00\x3dv0\x3d!1;clean\x3d1},point:function(lambda,phi){var point1\x3d[lambda,phi],v\x3dvisible(lambda,phi);phi\x3dsmallRadius?v?0:code$jscomp$0(lambda,phi):v?code$jscomp$0(lambda+(0\x3elambda?pi:-pi),phi):0;!point0\x26\x26(v00\x3dv0\x3dv)\x26\x26stream.lineStart();v!\x3d\x3dv0\x26\x26(lambda\x3dintersect(point0,point1),!lambda||pointEqual(point0,lambda)||pointEqual(point1,lambda))\x26\x26(point1[2]\x3d1);if(v!\x3d\x3dv0)clean\x3d0,v?(stream.lineStart(),lambda\x3dintersect(point1,point0),stream.point(lambda[0],\nlambda[1])):(lambda\x3dintersect(point0,point1),stream.point(lambda[0],lambda[1],2),stream.lineEnd()),point0\x3dlambda;else if(notHemisphere\x26\x26point0\x26\x26smallRadius^v){var t;phi\x26c0||!(t\x3dintersect(point1,point0,!0))||(clean\x3d0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1],3)))}!v||point0\x26\x26pointEqual(point0,point1)||stream.point(point1[0],point1[1]);point0\x3d\npoint1;v0\x3dv;c0\x3dphi},lineEnd:function(){v0\x26\x26stream.lineEnd();point0\x3dnull},clean:function(){return clean|(v00\x26\x26v0)\x3c\x3c1}}},function(from,to,direction,stream){circleStream(stream,radius,delta$jscomp$0,direction,from,to)},smallRadius?[0,-radius]:[-pi,radius-pi])}function clipLine(a,b,x0,y0,x1,y1){var ax\x3da[0],ay\x3da[1],t0\x3d0,t1\x3d1,dx\x3db[0]-ax,dy\x3db[1]-ay;x0-\x3dax;if(dx||!(0\x3cx0)){x0/\x3ddx;if(0\x3edx){if(x0\x3ct0)return;x0\x3ct1\x26\x26(t1\x3dx0)}else if(0\x3cdx){if(x0\x3et1)return;x0\x3et0\x26\x26(t0\x3dx0)}x0\x3dx1-ax;if(dx||!(0\x3ex0)){x0/\x3ddx;if(0\x3edx){if(x0\x3e\nt1)return;x0\x3et0\x26\x26(t0\x3dx0)}else if(0\x3cdx){if(x0\x3ct0)return;x0\x3ct1\x26\x26(t1\x3dx0)}x0\x3dy0-ay;if(dy||!(0\x3cx0)){x0/\x3ddy;if(0\x3edy){if(x0\x3ct0)return;x0\x3ct1\x26\x26(t1\x3dx0)}else if(0\x3cdy){if(x0\x3et1)return;x0\x3et0\x26\x26(t0\x3dx0)}x0\x3dy1-ay;if(dy||!(0\x3ex0)){x0/\x3ddy;if(0\x3edy){if(x0\x3et1)return;x0\x3et0\x26\x26(t0\x3dx0)}else if(0\x3cdy){if(x0\x3ct0)return;x0\x3ct1\x26\x26(t1\x3dx0)}0\x3ct0\x26\x26(a[0]\x3dax+t0*dx,a[1]\x3day+t0*dy);1\x3et1\x26\x26(b[0]\x3dax+t1*dx,b[1]\x3day+t1*dy);return!0}}}}}function clipRectangle(x0,y0,x1,y1){function interpolate(from,to,direction,stream){var a\x3d0,a1\x3d0;if(null\x3d\x3dfrom||(a\x3d\ncorner(from,direction))!\x3d\x3d(a1\x3dcorner(to,direction))||0\x3ecomparePoint(from,to)^0\x3cdirection){do stream.point(0\x3d\x3d\x3da||3\x3d\x3d\x3da?x0:x1,1\x3ca?y1:y0);while((a\x3d(a+direction+4)%4)!\x3d\x3da1)}else stream.point(to[0],to[1])}function corner(p,direction){return 1E-6\x3eabs(p[0]-x0)?0\x3cdirection?0:3:1E-6\x3eabs(p[0]-x1)?0\x3cdirection?2:1:1E-6\x3eabs(p[1]-y0)?0\x3cdirection?1:0:0\x3cdirection?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca\x3dcorner(a,1),cb\x3dcorner(b,1);return ca!\x3d\x3dcb?ca-cb:0\x3d\x3d\x3d\nca?b[1]-a[1]:1\x3d\x3d\x3dca?a[0]-b[0]:2\x3d\x3d\x3dca?a[1]-b[1]:b[0]-a[0]}return function(stream){function point$jscomp$0(x,y){x0\x3c\x3dx\x26\x26x\x3c\x3dx1\x26\x26y0\x3c\x3dy\x26\x26y\x3c\x3dy1\x26\x26activeStream.point(x,y)}function linePoint(x,y){var v\x3dx0\x3c\x3dx\x26\x26x\x3c\x3dx1\x26\x26y0\x3c\x3dy\x26\x26y\x3c\x3dy1;polygon\x26\x26ring$jscomp$0.push([x,y]);if(first)x__\x3dx,y__\x3dy,v__\x3dv,first\x3d!1,v\x26\x26(activeStream.lineStart(),activeStream.point(x,y));else if(v\x26\x26v_)activeStream.point(x,y);else{var a\x3d[x_\x3dMath.max(-1E9,Math.min(1E9,x_)),y_\x3dMath.max(-1E9,Math.min(1E9,y_))],b\x3d[x\x3dMath.max(-1E9,Math.min(1E9,x)),\ny\x3dMath.max(-1E9,Math.min(1E9,y))];clipLine(a,b,x0,y0,x1,y1)?(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean\x3d!1):v\x26\x26(activeStream.lineStart(),activeStream.point(x,y),clean\x3d!1)}x_\x3dx;y_\x3dy;v_\x3dv}var activeStream\x3dstream,bufferStream\x3dclipBuffer(),segments,polygon,ring$jscomp$0,x__,y__,v__,x_,y_,v_,first,clean,clipStream\x3d{point:point$jscomp$0,lineStart:function(){clipStream.point\x3dlinePoint;polygon\x26\x26polygon.push(ring$jscomp$0\x3d[]);\nfirst\x3d!0;v_\x3d!1;x_\x3dy_\x3dNaN},lineEnd:function(){segments\x26\x26(linePoint(x__,y__),v__\x26\x26v_\x26\x26bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point\x3dpoint$jscomp$0;v_\x26\x26activeStream.lineEnd()},polygonStart:function(){activeStream\x3dbufferStream;segments\x3d[];polygon\x3d[];clean\x3d!0},polygonEnd:function(){for(var startInside,i\x3dstartInside\x3d0,n\x3dpolygon.length;i\x3cn;++i){var ring\x3dpolygon[i],j\x3d1,m\x3dring.length,point\x3dring[0],b0\x3dpoint[0];for(point\x3dpoint[1];j\x3cm;++j){var a0\x3db0;var a1\x3dpoint;point\x3dring[j];b0\x3d\npoint[0];point\x3dpoint[1];a1\x3c\x3dy1?point\x3ey1\x26\x26(b0-a0)*(y1-a1)\x3e(point-a1)*(x0-a0)\x26\x26++startInside:point\x3c\x3dy1\x26\x26(b0-a0)*(y1-a1)\x3c(point-a1)*(x0-a0)\x26\x26--startInside}}i\x3dclean\x26\x26startInside;n\x3d(segments\x3dd3Array.merge(segments)).length;if(i||n)stream.polygonStart(),i\x26\x26(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),n\x26\x26clipRejoin(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd();activeStream\x3dstream;segments\x3dpolygon\x3dring$jscomp$0\x3dnull}};return clipStream}}function lengthLineEnd(){lengthStream.point\x3d\nlengthStream.lineEnd\x3dnoop}function lengthPointFirst(lambda,phi){lambda*\x3dradians;phi*\x3dradians;lambda0$2\x3dlambda;sinPhi0$1\x3dsin(phi);cosPhi0$1\x3dcos(phi);lengthStream.point\x3dlengthPoint}function lengthPoint(lambda,phi){lambda*\x3dradians;phi*\x3dradians;var sinPhi\x3dsin(phi);phi\x3dcos(phi);var delta\x3dabs(lambda-lambda0$2),cosDelta\x3dcos(delta);delta\x3dsin(delta);delta*\x3dphi;var y\x3dcosPhi0$1*sinPhi-sinPhi0$1*phi*cosDelta;cosDelta\x3dsinPhi0$1*sinPhi+cosPhi0$1*phi*cosDelta;lengthSum.add(atan2(sqrt(delta*delta+y*y),cosDelta));\nlambda0$2\x3dlambda;sinPhi0$1\x3dsinPhi;cosPhi0$1\x3dphi}function length$jscomp$0(object){lengthSum\x3dnew d3Array.Adder;geoStream(object,lengthStream);return+lengthSum}function distance(a,b){coordinates$jscomp$0[0]\x3da;coordinates$jscomp$0[1]\x3db;return length$jscomp$0(object$jscomp$0)}function containsGeometry(geometry,point){return geometry\x26\x26containsGeometryType.hasOwnProperty(geometry.type)?containsGeometryType[geometry.type](geometry,point):!1}function containsLine(coordinates,point){for(var ao,bo,ab,i\x3d0,n\x3d\ncoordinates.length;i\x3cn;i++){bo\x3ddistance(coordinates[i],point);if(0\x3d\x3d\x3dbo||0\x3ci\x26\x26(ab\x3ddistance(coordinates[i],coordinates[i-1]),0\x3cab\x26\x26ao\x3c\x3dab\x26\x26bo\x3c\x3dab\x26\x26(ao+bo-ab)*(1-Math.pow((ao-bo)/ab,2))\x3c1E-12*ab))return!0;ao\x3dbo}return!1}function containsPolygon(coordinates,point){return!!polygonContains(coordinates.map(ringRadians),pointRadians(point))}function ringRadians(ring){return ring\x3dring.map(pointRadians),ring.pop(),ring}function pointRadians(point){return[point[0]*radians,point[1]*radians]}function graticuleX(y0,\ny1,dy){var y$jscomp$0\x3dd3Array.range(y0,y1-1E-6,dy).concat(y1);return function(x){return y$jscomp$0.map(function(y){return[x,y]})}}function graticuleY(x0,x1,dx){var x$jscomp$0\x3dd3Array.range(x0,x1-1E-6,dx).concat(x1);return function(y){return x$jscomp$0.map(function(x){return[x,y]})}}function graticule$jscomp$0(){function graticule(){return{type:\x22MultiLineString\x22,coordinates:lines()}}function lines(){return d3Array.range(ceil(X0/DX)*DX,X1,DX).map(X).concat(d3Array.range(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(d3Array.range(ceil(x0/\ndx)*dx,x1,dx).filter(function(x){return 1E-6\x3cabs(x%DX)}).map(x$jscomp$0)).concat(d3Array.range(ceil(y0/dy)*dy,y1,dy).filter(function(y){return 1E-6\x3cabs(y%DY)}).map(y$jscomp$0))}var x1,x0,X1,X0,y1,y0,Y1,Y0,dx\x3d10,dy\x3ddx,DX\x3d90,DY\x3d360,x$jscomp$0,y$jscomp$0,X,Y,precision\x3d2.5;graticule.lines\x3dfunction(){return lines().map(function(coordinates){return{type:\x22LineString\x22,coordinates:coordinates}})};graticule.outline\x3dfunction(){return{type:\x22Polygon\x22,coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),\nY(Y0).reverse().slice(1))]}};graticule.extent\x3dfunction(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()};graticule.extentMajor\x3dfunction(_){if(!arguments.length)return[[X0,Y0],[X1,Y1]];X0\x3d+_[0][0];X1\x3d+_[1][0];Y0\x3d+_[0][1];Y1\x3d+_[1][1];X0\x3eX1\x26\x26(_\x3dX0,X0\x3dX1,X1\x3d_);Y0\x3eY1\x26\x26(_\x3dY0,Y0\x3dY1,Y1\x3d_);return graticule.precision(precision)};graticule.extentMinor\x3dfunction(_){if(!arguments.length)return[[x0,y0],[x1,y1]];x0\x3d+_[0][0];x1\x3d+_[1][0];y0\x3d+_[0][1];y1\x3d+_[1][1];x0\x3ex1\x26\x26(_\x3dx0,\nx0\x3dx1,x1\x3d_);y0\x3ey1\x26\x26(_\x3dy0,y0\x3dy1,y1\x3d_);return graticule.precision(precision)};graticule.step\x3dfunction(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()};graticule.stepMajor\x3dfunction(_){if(!arguments.length)return[DX,DY];DX\x3d+_[0];DY\x3d+_[1];return graticule};graticule.stepMinor\x3dfunction(_){if(!arguments.length)return[dx,dy];dx\x3d+_[0];dy\x3d+_[1];return graticule};graticule.precision\x3dfunction(_){if(!arguments.length)return precision;precision\x3d+_;x$jscomp$0\x3dgraticuleX(y0,y1,\n90);y$jscomp$0\x3dgraticuleY(x0,x1,precision);X\x3dgraticuleX(Y0,Y1,90);Y\x3dgraticuleY(X0,X1,precision);return graticule};return graticule.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function areaRingStart$1(){areaStream$1.point\x3dareaPointFirst$1}function areaPointFirst$1(x,y){areaStream$1.point\x3dareaPoint$1;x00$jscomp$0\x3dx0$1\x3dx;y00$jscomp$0\x3dy0$1\x3dy}function areaPoint$1(x,y){areaRingSum$1.add(y0$1*x-x0$1*y);x0$1\x3dx;y0$1\x3dy}function areaRingEnd$1(){areaPoint$1(x00$jscomp$0,\ny00$jscomp$0)}function centroidPoint$1(x,y){X0$1+\x3dx;Y0$1+\x3dy;++Z0$1}function centroidLineStart$1(){centroidStream$1.point\x3dcentroidPointFirstLine}function centroidPointFirstLine(x,y){centroidStream$1.point\x3dcentroidPointLine;centroidPoint$1(x0$3\x3dx,y0$3\x3dy)}function centroidPointLine(x,y){var dx\x3dx-x0$3,dy\x3dy-y0$3;dx\x3dsqrt(dx*dx+dy*dy);X1$1+\x3ddx*(x0$3+x)/2;Y1$1+\x3ddx*(y0$3+y)/2;Z1$1+\x3ddx;centroidPoint$1(x0$3\x3dx,y0$3\x3dy)}function centroidLineEnd$1(){centroidStream$1.point\x3dcentroidPoint$1}function centroidRingStart$1(){centroidStream$1.point\x3d\ncentroidPointFirstRing}function centroidRingEnd$1(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(x,y){centroidStream$1.point\x3dcentroidPointRing;centroidPoint$1(x00$1\x3dx0$3\x3dx,y00$1\x3dy0$3\x3dy)}function centroidPointRing(x,y){var dx\x3dx-x0$3,dy\x3dy-y0$3;dx\x3dsqrt(dx*dx+dy*dy);X1$1+\x3ddx*(x0$3+x)/2;Y1$1+\x3ddx*(y0$3+y)/2;Z1$1+\x3ddx;dx\x3dy0$3*x-x0$3*y;X2$1+\x3ddx*(x0$3+x);Y2$1+\x3ddx*(y0$3+y);Z2$1+\x3d3*dx;centroidPoint$1(x0$3\x3dx,y0$3\x3dy)}function PathContext(context){this._context\x3dcontext}function lengthPointFirst$1(x,\ny){lengthStream$1.point\x3dlengthPoint$1;x00$2\x3dx0$4\x3dx;y00$2\x3dy0$4\x3dy}function lengthPoint$1(x,y){x0$4-\x3dx;y0$4-\x3dy;lengthSum$1.add(sqrt(x0$4*x0$4+y0$4*y0$4));x0$4\x3dx;y0$4\x3dy}function PathString(){this._string\x3d[]}function circle$1(radius){return\x22m0,\x22+radius+\x22a\x22+radius+\x22,\x22+radius+\x22 0 1,1 0,\x22+-2*radius+\x22a\x22+radius+\x22,\x22+radius+\x22 0 1,1 0,\x22+2*radius+\x22z\x22}function transformer(methods){return function(stream){var s\x3dnew TransformStream,key;for(key in methods)s[key]\x3dmethods[key];s.stream\x3dstream;return s}}function TransformStream(){}\nfunction fit(projection,fitBounds,object){var clip\x3dprojection.clipExtent\x26\x26projection.clipExtent();projection.scale(150).translate([0,0]);null!\x3dclip\x26\x26projection.clipExtent(null);geoStream(object,projection.stream(boundsStream$1));fitBounds(boundsStream$1.result());null!\x3dclip\x26\x26projection.clipExtent(clip);return projection}function fitExtent(projection,extent,object){return fit(projection,function(b){var w\x3dextent[1][0]-extent[0][0],h\x3dextent[1][1]-extent[0][1],k\x3dMath.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-\nb[0][1]));w\x3d+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2;b\x3d+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([w,b])},object)}function fitWidth(projection,width,object){return fit(projection,function(b){var w\x3d+width,k\x3dw/(b[1][0]-b[0][0]);w\x3d(w-k*(b[1][0]+b[0][0]))/2;b\x3d-k*b[0][1];projection.scale(150*k).translate([w,b])},object)}function fitHeight(projection,height,object){return fit(projection,function(b){var h\x3d+height,k\x3dh/(b[1][1]-b[0][1]),x\x3d-k*b[0][0];b\x3d(h-k*(b[1][1]+b[0][1]))/\n2;projection.scale(150*k).translate([x,b])},object)}function resampleNone(project){return transformer({point:function(x,y){x\x3dproject(x,y);this.stream.point(x[0],x[1])}})}function resample$1(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx\x3dx1-x0,dy\x3dy1-y0,d2\x3ddx*dx+dy*dy;if(d2\x3e4*delta2\x26\x26depth--){var a\x3da0+a1,b\x3db0+b1,c\x3dc0+c1,m\x3dsqrt(a*a+b*b+c*c),phi2\x3dasin(c/\x3dm),lambda2\x3d1E-6\x3eabs(abs(c)-1)||1E-6\x3eabs(lambda0-lambda1)?(lambda0+lambda1)/2:atan2(b,a),\np\x3dproject(lambda2,phi2);phi2\x3dp[0];p\x3dp[1];var dx2\x3dphi2-x0,dy2\x3dp-y0,dz\x3ddy*dx2-dx*dy2;if(dz*dz/d2\x3edelta2||.3\x3cabs((dx*dx2+dy*dy2)/d2-.5)||a0*a1+b0*b1+c0*c1\x3ccosMinDistance)resampleLineTo(x0,y0,lambda0,a0,b0,c0,phi2,p,lambda2,a/\x3dm,b/\x3dm,c,depth,stream),stream.point(phi2,p),resampleLineTo(phi2,p,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream)}}return function(stream){function point(x,y){x\x3dproject(x,y);stream.point(x[0],x[1])}function lineStart(){x0\x3dNaN;resampleStream.point\x3dlinePoint;stream.lineStart()}\nfunction linePoint(lambda,phi){var c\x3dcartesian([lambda,phi]);phi\x3dproject(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0\x3dphi[0],y0\x3dphi[1],lambda0\x3dlambda,a0\x3dc[0],b0\x3dc[1],c0\x3dc[2],16,stream);stream.point(x0,y0)}function lineEnd(){resampleStream.point\x3dpoint;stream.lineEnd()}function ringStart(){lineStart();resampleStream.point\x3dringPoint;resampleStream.lineEnd\x3dringEnd}function ringPoint(lambda,phi){linePoint(lambda00\x3dlambda,phi);x00\x3dx0;y00\x3dy0;a00\x3da0;b00\x3db0;c00\x3dc0;resampleStream.point\x3dlinePoint}function ringEnd(){resampleLineTo(x0,\ny0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,16,stream);resampleStream.lineEnd\x3dlineEnd;lineEnd()}var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream\x3d{point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart();resampleStream.lineStart\x3dringStart},polygonEnd:function(){stream.polygonEnd();resampleStream.lineStart\x3dlineStart}};return resampleStream}}function transformRotate(rotate){return transformer({point:function(x,y){x\x3drotate(x,y);return this.stream.point(x[0],\nx[1])}})}function scaleTranslate(k,dx,dy,sx,sy){function transform(x,y){x*\x3dsx;y*\x3dsy;return[dx+k*x,dy-k*y]}transform.invert\x3dfunction(x,y){return[(x-dx)/k*sx,(dy-y)/k*sy]};return transform}function scaleTranslateRotate(k,dx,dy,sx,sy,alpha){function transform(x,y){x*\x3dsx;y*\x3dsy;return[a*x-b*y+dx,dy-b*x-a*y]}if(!alpha)return scaleTranslate(k,dx,dy,sx,sy);var cosAlpha\x3dcos(alpha);alpha\x3dsin(alpha);var a\x3dcosAlpha*k,b\x3dalpha*k,ai\x3dcosAlpha/k,bi\x3dalpha/k,ci\x3d(alpha*dy-cosAlpha*dx)/k,fi\x3d(alpha*dx+cosAlpha*dy)/k;transform.invert\x3d\nfunction(x,y){return[sx*(ai*x-bi*y+ci),sy*(fi-bi*x-ai*y)]};return transform}function projection$jscomp$0(project){return projectionMutator(function(){return project})()}function projectionMutator(projectAt){function projection(point){return projectRotateTransform(point[0]*radians,point[1]*radians)}function invert(point){return(point\x3dprojectRotateTransform.invert(point[0],point[1]))\x26\x26[point[0]*degrees,point[1]*degrees]}function recenter(){var center\x3dscaleTranslateRotate(k,0,0,sx,sy,alpha).apply(null,\nproject(lambda,phi));center\x3dscaleTranslateRotate(k,x-center[0],y-center[1],sx,sy,alpha);rotate\x3drotateRadians(deltaLambda,deltaPhi,deltaGamma);projectTransform\x3dcompose(project,center);projectRotateTransform\x3dcompose(rotate,projectTransform);center\x3dprojectTransform;projectResample\x3d+delta2$jscomp$0?resample$1(center,delta2$jscomp$0):resampleNone(center);return reset()}function reset(){cache\x3dcacheStream\x3dnull;return projection}var project,k\x3d150,x\x3d480,y\x3d250,lambda\x3d0,phi\x3d0,deltaLambda\x3d0,deltaPhi\x3d0,deltaGamma\x3d\n0,rotate,alpha\x3d0,sx\x3d1,sy\x3d1,theta\x3dnull,preclip\x3dclipAntimeridian,x0\x3dnull,y0,x1,y1,postclip\x3didentity,delta2$jscomp$0\x3d.5,projectResample,projectTransform,projectRotateTransform,cache,cacheStream;projection.stream\x3dfunction(stream){return cache\x26\x26cacheStream\x3d\x3d\x3dstream?cache:cache\x3dtransformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream\x3dstream)))))};projection.preclip\x3dfunction(_){return arguments.length?(preclip\x3d_,theta\x3dvoid 0,reset()):preclip};projection.postclip\x3dfunction(_){return arguments.length?\n(postclip\x3d_,x0\x3dy0\x3dx1\x3dy1\x3dnull,reset()):postclip};projection.clipAngle\x3dfunction(_){return arguments.length?(preclip\x3d+_?clipCircle(theta\x3d_*radians):(theta\x3dnull,clipAntimeridian),reset()):theta*degrees};projection.clipExtent\x3dfunction(_){return arguments.length?(postclip\x3dnull\x3d\x3d_?(x0\x3dy0\x3dx1\x3dy1\x3dnull,identity):clipRectangle(x0\x3d+_[0][0],y0\x3d+_[0][1],x1\x3d+_[1][0],y1\x3d+_[1][1]),reset()):null\x3d\x3dx0?null:[[x0,y0],[x1,y1]]};projection.scale\x3dfunction(_){return arguments.length?(k\x3d+_,recenter()):k};projection.translate\x3d\nfunction(_){return arguments.length?(x\x3d+_[0],y\x3d+_[1],recenter()):[x,y]};projection.center\x3dfunction(_){return arguments.length?(lambda\x3d_[0]%360*radians,phi\x3d_[1]%360*radians,recenter()):[lambda*degrees,phi*degrees]};projection.rotate\x3dfunction(_){return arguments.length?(deltaLambda\x3d_[0]%360*radians,deltaPhi\x3d_[1]%360*radians,deltaGamma\x3d2\x3c_.length?_[2]%360*radians:0,recenter()):[deltaLambda*degrees,deltaPhi*degrees,deltaGamma*degrees]};projection.angle\x3dfunction(_){return arguments.length?(alpha\x3d_%360*\nradians,recenter()):alpha*degrees};projection.reflectX\x3dfunction(_){return arguments.length?(sx\x3d_?-1:1,recenter()):0\x3esx};projection.reflectY\x3dfunction(_){return arguments.length?(sy\x3d_?-1:1,recenter()):0\x3esy};projection.precision\x3dfunction(_){if(arguments.length){var JSCompiler_temp\x3dprojectTransform;var delta2\x3ddelta2$jscomp$0\x3d_*_;JSCompiler_temp\x3d(projectResample\x3d+delta2?resample$1(JSCompiler_temp,delta2):resampleNone(JSCompiler_temp),reset())}else JSCompiler_temp\x3dsqrt(delta2$jscomp$0);return JSCompiler_temp};\nprojection.fitExtent\x3dfunction(extent,object){return fitExtent(projection,extent,object)};projection.fitSize\x3dfunction(size,object){return fitExtent(projection,[[0,0],size],object)};projection.fitWidth\x3dfunction(width,object){return fitWidth(projection,width,object)};projection.fitHeight\x3dfunction(height,object){return fitHeight(projection,height,object)};return function(){project\x3dprojectAt.apply(this,arguments);projection.invert\x3dproject.invert\x26\x26invert;return recenter()}}function conicProjection(projectAt){var phi0\x3d\n0,phi1\x3dpi/3,m\x3dprojectionMutator(projectAt);projectAt\x3dm(phi0,phi1);projectAt.parallels\x3dfunction(_){return arguments.length?m(phi0\x3d_[0]*radians,phi1\x3d_[1]*radians):[phi0*degrees,phi1*degrees]};return projectAt}function cylindricalEqualAreaRaw(phi0){function forward(lambda,phi){return[lambda*cosPhi0,sin(phi)/cosPhi0]}var cosPhi0\x3dcos(phi0);forward.invert\x3dfunction(x,y){return[x/cosPhi0,asin(y*cosPhi0)]};return forward}function conicEqualAreaRaw(y0,y1){function project(x,y){y\x3dsqrt(c-2*n*sin(y))/n;return[y*\nsin(x*\x3dn),r0-y*cos(x)]}var sy0\x3dsin(y0),n\x3d(sy0+sin(y1))/2;if(1E-6\x3eabs(n))return cylindricalEqualAreaRaw(y0);var c\x3d1+sy0*(2*n-sy0),r0\x3dsqrt(c)/n;project.invert\x3dfunction(x,y){y\x3dr0-y;var l\x3datan2(x,abs(y))*sign$jscomp$0(y);0\x3ey*n\x26\x26(l-\x3dpi*sign$jscomp$0(x)*sign$jscomp$0(y));return[l/n,asin((c-(x*x+y*y)*n*n)/(2*n))]};return project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,\n250]).rotate([96,0]).center([-.6,38.7])}function multiplex(streams){var n\x3dstreams.length;return{point:function(x,y){for(var i\x3d-1;++i\x3cn;)streams[i].point(x,y)},sphere:function(){for(var i\x3d-1;++i\x3cn;)streams[i].sphere()},lineStart:function(){for(var i\x3d-1;++i\x3cn;)streams[i].lineStart()},lineEnd:function(){for(var i\x3d-1;++i\x3cn;)streams[i].lineEnd()},polygonStart:function(){for(var i\x3d-1;++i\x3cn;)streams[i].polygonStart()},polygonEnd:function(){for(var i\x3d-1;++i\x3cn;)streams[i].polygonEnd()}}}function azimuthalRaw(scale){return function(x,\ny){var cx\x3dcos(x),cy\x3dcos(y);cx\x3dscale(cx*cy);return Infinity\x3d\x3d\x3dcx?[2,0]:[cx*cy*sin(x),cx*sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z\x3dsqrt(x*x+y*y),c\x3dangle(z),sc\x3dsin(c);c\x3dcos(c);return[atan2(x*sc,z*c),asin(z\x26\x26y*sc/z)]}}function mercatorRaw(lambda,phi){return[lambda,log(tan((halfPi+phi)/2))]}function mercatorProjection(project){function reclip(){var k\x3dpi*scale(),t\x3dm(rotation$jscomp$0(m.rotate()).invert([0,0]));return clipExtent(null\x3d\x3dx0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project\x3d\x3d\x3d\nmercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}var m\x3dprojection$jscomp$0(project),center\x3dm.center,scale\x3dm.scale,translate\x3dm.translate,clipExtent\x3dm.clipExtent,x0\x3dnull,y0,x1,y1;m.scale\x3dfunction(_){return arguments.length?(scale(_),reclip()):scale()};m.translate\x3dfunction(_){return arguments.length?(translate(_),reclip()):translate()};m.center\x3dfunction(_){return arguments.length?(center(_),reclip()):center()};m.clipExtent\x3dfunction(_){return arguments.length?\n(null\x3d\x3d_?x0\x3dy0\x3dx1\x3dy1\x3dnull:(x0\x3d+_[0][0],y0\x3d+_[0][1],x1\x3d+_[1][0],y1\x3d+_[1][1]),reclip()):null\x3d\x3dx0?null:[[x0,y0],[x1,y1]]};return reclip()}function conicConformalRaw(y0,y1){function project(x,y){0\x3cf?y\x3c-halfPi+1E-6\x26\x26(y\x3d-halfPi+1E-6):y\x3ehalfPi-1E-6\x26\x26(y\x3dhalfPi-1E-6);y\x3df/pow(tan((halfPi+y)/2),n);return[y*sin(n*x),f-y*cos(n*x)]}var cy0\x3dcos(y0),n\x3dy0\x3d\x3d\x3dy1?sin(y0):log(cy0/cos(y1))/log(tan((halfPi+y1)/2)/tan((halfPi+y0)/2)),f\x3dcy0*pow(tan((halfPi+y0)/2),n)/n;if(!n)return mercatorRaw;project.invert\x3dfunction(x,y){y\x3d\nf-y;var r\x3dsign$jscomp$0(n)*sqrt(x*x+y*y),l\x3datan2(x,abs(y))*sign$jscomp$0(y);0\x3ey*n\x26\x26(l-\x3dpi*sign$jscomp$0(x)*sign$jscomp$0(y));return[l/n,2*atan(pow(f/r,1/n))-halfPi]};return project}function equirectangularRaw(lambda,phi){return[lambda,phi]}function conicEquidistantRaw(y0,y1){function project(x,y){y\x3dg-y;x*\x3dn;return[y*sin(x),g-y*cos(x)]}var cy0\x3dcos(y0),n\x3dy0\x3d\x3d\x3dy1?sin(y0):(cy0-cos(y1))/(y1-y0),g\x3dcy0/n+y0;if(1E-6\x3eabs(n))return equirectangularRaw;project.invert\x3dfunction(x,y){y\x3dg-y;var l\x3datan2(x,abs(y))*\nsign$jscomp$0(y);0\x3ey*n\x26\x26(l-\x3dpi*sign$jscomp$0(x)*sign$jscomp$0(y));return[l/n,g-sign$jscomp$0(n)*sqrt(x*x+y*y)]};return project}function equalEarthRaw(lambda,phi){phi\x3dasin(M*sin(phi));var l2\x3dphi*phi,l6\x3dl2*l2*l2;return[lambda*cos(phi)/(M*(1.340264+3*-.081106*l2+l6*(7*8.93E-4+.034164*l2))),phi*(1.340264+-.081106*l2+l6*(8.93E-4+.003796*l2))]}function gnomonicRaw(x,y){var cy\x3dcos(y),k\x3dcos(x)*cy;return[cy*sin(x)/k,sin(y)/k]}function naturalEarth1Raw(lambda,phi){var phi2\x3dphi*phi,phi4\x3dphi2*phi2;return[lambda*\n(.8707-.131979*phi2+phi4*(-.013791+phi4*(.003971*phi2-.001529*phi4))),phi*(1.007226+phi2*(.015085+phi4*(-.044475+.028874*phi2-.005916*phi4)))]}function orthographicRaw(x,y){return[cos(y)*sin(x),sin(y)]}function stereographicRaw(x,y){var cy\x3dcos(y),k\x3d1+cos(x)*cy;return[cy*sin(x)/k,sin(y)/k]}function transverseMercatorRaw(lambda,phi){return[log(tan((halfPi+phi)/2)),-lambda]}var pi\x3dMath.PI,halfPi\x3dpi/2,quarterPi\x3dpi/4,tau\x3d2*pi,degrees\x3d180/pi,radians\x3dpi/180,abs\x3dMath.abs,atan\x3dMath.atan,atan2\x3dMath.atan2,cos\x3d\nMath.cos,ceil\x3dMath.ceil,exp\x3dMath.exp,hypot\x3dMath.hypot,log\x3dMath.log,pow\x3dMath.pow,sin\x3dMath.sin,sign$jscomp$0\x3dMath.sign||function(x){return 0\x3cx?1:0\x3ex?-1:0},sqrt\x3dMath.sqrt,tan\x3dMath.tan,streamObjectType\x3d{Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){object\x3dobject.features;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)streamGeometry(object[i].geometry,stream)}},streamGeometryType\x3d{Sphere:function(object,stream){stream.sphere()},Point:function(object,\nstream){object\x3dobject.coordinates;stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates\x3dobject.coordinates,i\x3d-1,n\x3dcoordinates.length;++i\x3cn;)object\x3dcoordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){object\x3dobject.coordinates;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)streamLine(object[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,\nstream)},MultiPolygon:function(object,stream){object\x3dobject.coordinates;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)streamPolygon(object[i],stream)},GeometryCollection:function(object,stream){object\x3dobject.geometries;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)streamGeometry(object[i],stream)}},areaRingSum\x3dnew d3Array.Adder,areaSum\x3dnew d3Array.Adder,lambda00,phi00,lambda0,cosPhi0,sinPhi0,areaStream\x3d{point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){areaRingSum\x3dnew d3Array.Adder;areaStream.lineStart\x3d\nareaRingStart;areaStream.lineEnd\x3dareaRingEnd},polygonEnd:function(){var areaRing\x3d+areaRingSum;areaSum.add(0\x3eareaRing?tau+areaRing:areaRing);this.lineStart\x3dthis.lineEnd\x3dthis.point\x3dnoop},sphere:function(){areaSum.add(tau)}},lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0$jscomp$0,deltaSum,ranges,range$jscomp$0,boundsStream\x3d{point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point\x3dboundsRingPoint;boundsStream.lineStart\x3dboundsRingStart;boundsStream.lineEnd\x3d\nboundsRingEnd;deltaSum\x3dnew d3Array.Adder;areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd();boundsStream.point\x3dboundsPoint;boundsStream.lineStart\x3dboundsLineStart;boundsStream.lineEnd\x3dboundsLineEnd;0\x3eareaRingSum?(lambda0$1\x3d-(lambda1\x3d180),phi0\x3d-(phi1\x3d90)):1E-6\x3cdeltaSum?phi1\x3d90:-1E-6\x3edeltaSum\x26\x26(phi0\x3d-90);range$jscomp$0[0]\x3dlambda0$1;range$jscomp$0[1]\x3dlambda1},sphere:function(){lambda0$1\x3d-(lambda1\x3d180);phi0\x3d-(phi1\x3d90)}},W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,lambda00$2,phi00$2,x0$jscomp$0,\ny0$jscomp$0,z0,centroidStream\x3d{sphere:noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart\x3dcentroidRingStart;centroidStream.lineEnd\x3dcentroidRingEnd},polygonEnd:function(){centroidStream.lineStart\x3dcentroidLineStart;centroidStream.lineEnd\x3dcentroidLineEnd}};rotationIdentity.invert\x3drotationIdentity;var clipAntimeridian\x3dclip$jscomp$0(function(){return!0},function(stream){var lambda0\x3dNaN,phi0$jscomp$0\x3dNaN,sign0\x3dNaN,clean;return{lineStart:function(){stream.lineStart();\nclean\x3d1},point:function(lambda1$jscomp$0,phi1){var sign1\x3d0\x3clambda1$jscomp$0?pi:-pi,delta\x3dabs(lambda1$jscomp$0-lambda0);if(1E-6\x3eabs(delta-pi))stream.point(lambda0,phi0$jscomp$0\x3d0\x3c(phi0$jscomp$0+phi1)/2?halfPi:-halfPi),stream.point(sign0,phi0$jscomp$0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0$jscomp$0),stream.point(lambda1$jscomp$0,phi0$jscomp$0),clean\x3d0;else if(sign0!\x3d\x3dsign1\x26\x26delta\x3e\x3dpi){1E-6\x3eabs(lambda0-sign0)\x26\x26(lambda0-\x3d1E-6*sign0);1E-6\x3eabs(lambda1$jscomp$0-sign1)\x26\x26(lambda1$jscomp$0-\x3d\n1E-6*sign1);delta\x3dlambda0;var phi0\x3dphi0$jscomp$0,lambda1\x3dlambda1$jscomp$0,cosPhi0,cosPhi1,sinLambda0Lambda1\x3dsin(delta-lambda1);phi0$jscomp$0\x3d1E-6\x3cabs(sinLambda0Lambda1)?atan((sin(phi0)*(cosPhi1\x3dcos(phi1))*sin(lambda1)-sin(phi1)*(cosPhi0\x3dcos(phi0))*sin(delta))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2;stream.point(sign0,phi0$jscomp$0);stream.lineEnd();stream.lineStart();stream.point(sign1,phi0$jscomp$0);clean\x3d0}stream.point(lambda0\x3dlambda1$jscomp$0,phi0$jscomp$0\x3dphi1);sign0\x3dsign1},lineEnd:function(){stream.lineEnd();\nlambda0\x3dphi0$jscomp$0\x3dNaN},clean:function(){return 2-clean}}},function(from,to,direction,stream){null\x3d\x3dfrom?(direction*\x3dhalfPi,stream.point(-pi,direction),stream.point(0,direction),stream.point(pi,direction),stream.point(pi,0),stream.point(pi,-direction),stream.point(0,-direction),stream.point(-pi,-direction),stream.point(-pi,0),stream.point(-pi,direction)):1E-6\x3cabs(from[0]-to[0])?(from\x3dfrom[0]\x3cto[0]?pi:-pi,direction\x3ddirection*from/2,stream.point(-from,direction),stream.point(0,direction),stream.point(from,\ndirection)):stream.point(to[0],to[1])},[-pi,-halfPi]),lengthSum,lambda0$2,sinPhi0$1,cosPhi0$1,lengthStream\x3d{sphere:noop,point:noop,lineStart:function(){lengthStream.point\x3dlengthPointFirst;lengthStream.lineEnd\x3dlengthLineEnd},lineEnd:noop,polygonStart:noop,polygonEnd:noop},coordinates$jscomp$0\x3d[null,null],object$jscomp$0\x3d{type:\x22LineString\x22,coordinates:coordinates$jscomp$0},containsObjectType\x3d{Feature:function(object,point){return containsGeometry(object.geometry,point)},FeatureCollection:function(object,\npoint){object\x3dobject.features;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)if(containsGeometry(object[i].geometry,point))return!0;return!1}},containsGeometryType\x3d{Sphere:function(){return!0},Point:function(object,point){return 0\x3d\x3d\x3ddistance(object.coordinates,point)},MultiPoint:function(object,point){object\x3dobject.coordinates;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)if(0\x3d\x3d\x3ddistance(object[i],point))return!0;return!1},LineString:function(object,point){return containsLine(object.coordinates,point)},MultiLineString:function(object,\npoint){object\x3dobject.coordinates;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)if(containsLine(object[i],point))return!0;return!1},Polygon:function(object,point){return containsPolygon(object.coordinates,point)},MultiPolygon:function(object,point){object\x3dobject.coordinates;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)if(containsPolygon(object[i],point))return!0;return!1},GeometryCollection:function(object,point){object\x3dobject.geometries;for(var i\x3d-1,n\x3dobject.length;++i\x3cn;)if(containsGeometry(object[i],point))return!0;\nreturn!1}},identity\x3dfunction(x){return x},areaSum$1\x3dnew d3Array.Adder,areaRingSum$1\x3dnew d3Array.Adder,x00$jscomp$0,y00$jscomp$0,x0$1,y0$1,areaStream$1\x3d{point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){areaStream$1.lineStart\x3dareaRingStart$1;areaStream$1.lineEnd\x3dareaRingEnd$1},polygonEnd:function(){areaStream$1.lineStart\x3dareaStream$1.lineEnd\x3dareaStream$1.point\x3dnoop;areaSum$1.add(abs(areaRingSum$1));areaRingSum$1\x3dnew d3Array.Adder},result:function(){var area\x3dareaSum$1/2;areaSum$1\x3dnew d3Array.Adder;\nreturn area}},x0$2\x3dInfinity,y0$2\x3dx0$2,x1$jscomp$0\x3d-x0$2,y1$jscomp$0\x3dx1$jscomp$0,boundsStream$1\x3d{point:function(x,y){x\x3cx0$2\x26\x26(x0$2\x3dx);x\x3ex1$jscomp$0\x26\x26(x1$jscomp$0\x3dx);y\x3cy0$2\x26\x26(y0$2\x3dy);y\x3ey1$jscomp$0\x26\x26(y1$jscomp$0\x3dy)},lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var bounds\x3d[[x0$2,y0$2],[x1$jscomp$0,y1$jscomp$0]];x1$jscomp$0\x3dy1$jscomp$0\x3d-(y0$2\x3dx0$2\x3dInfinity);return bounds}},X0$1\x3d0,Y0$1\x3d0,Z0$1\x3d0,X1$1\x3d0,Y1$1\x3d0,Z1$1\x3d0,X2$1\x3d0,Y2$1\x3d0,Z2$1\x3d0,x00$1,y00$1,x0$3,y0$3,centroidStream$1\x3d\n{point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart\x3dcentroidRingStart$1;centroidStream$1.lineEnd\x3dcentroidRingEnd$1},polygonEnd:function(){centroidStream$1.point\x3dcentroidPoint$1;centroidStream$1.lineStart\x3dcentroidLineStart$1;centroidStream$1.lineEnd\x3dcentroidLineEnd$1},result:function(){var centroid\x3dZ2$1?[X2$1/Z2$1,Y2$1/Z2$1]:Z1$1?[X1$1/Z1$1,Y1$1/Z1$1]:Z0$1?[X0$1/Z0$1,Y0$1/Z0$1]:[NaN,NaN];X0$1\x3dY0$1\x3dZ0$1\x3dX1$1\x3dY1$1\x3dZ1$1\x3dX2$1\x3d\nY2$1\x3dZ2$1\x3d0;return centroid}};PathContext.prototype\x3d{_radius:4.5,pointRadius:function(_){return this._radius\x3d_,this},polygonStart:function(){this._line\x3d0},polygonEnd:function(){this._line\x3dNaN},lineStart:function(){this._point\x3d0},lineEnd:function(){0\x3d\x3d\x3dthis._line\x26\x26this._context.closePath();this._point\x3dNaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y);this._point\x3d1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,\ny,this._radius,0,tau)}},result:noop};var lengthSum$1\x3dnew d3Array.Adder,lengthRing,x00$2,y00$2,x0$4,y0$4,lengthStream$1\x3d{point:noop,lineStart:function(){lengthStream$1.point\x3dlengthPointFirst$1},lineEnd:function(){lengthRing\x26\x26lengthPoint$1(x00$2,y00$2);lengthStream$1.point\x3dnoop},polygonStart:function(){lengthRing\x3d!0},polygonEnd:function(){lengthRing\x3dnull},result:function(){var length\x3d+lengthSum$1;lengthSum$1\x3dnew d3Array.Adder;return length}};PathString.prototype\x3d{_radius:4.5,_circle:circle$1(4.5),pointRadius:function(_){(_\x3d\n+_)!\x3d\x3dthis._radius\x26\x26(this._radius\x3d_,this._circle\x3dnull);return this},polygonStart:function(){this._line\x3d0},polygonEnd:function(){this._line\x3dNaN},lineStart:function(){this._point\x3d0},lineEnd:function(){0\x3d\x3d\x3dthis._line\x26\x26this._string.push(\x22Z\x22);this._point\x3dNaN},point:function(x,y){switch(this._point){case 0:this._string.push(\x22M\x22,x,\x22,\x22,y);this._point\x3d1;break;case 1:this._string.push(\x22L\x22,x,\x22,\x22,y);break;default:null\x3d\x3dthis._circle\x26\x26(this._circle\x3dcircle$1(this._radius)),this._string.push(\x22M\x22,x,\x22,\x22,y,this._circle)}},\nresult:function(){if(this._string.length){var result\x3dthis._string.join(\x22\x22);this._string\x3d[];return result}return null}};TransformStream.prototype\x3d{constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var cosMinDistance\x3dcos(30*radians),transformRadians\x3dtransformer({point:function(x,\ny){this.stream.point(x*radians,y*radians)}}),azimuthalEqualAreaRaw\x3dazimuthalRaw(function(cxcy){return sqrt(2/(1+cxcy))});azimuthalEqualAreaRaw.invert\x3dazimuthalInvert(function(z){return 2*asin(z/2)});var azimuthalEquidistantRaw\x3dazimuthalRaw(function(c){return(c\x3dacos(c))\x26\x26c/sin(c)});azimuthalEquidistantRaw.invert\x3dazimuthalInvert(function(z){return z});mercatorRaw.invert\x3dfunction(x,y){return[x,2*atan(exp(y))-halfPi]};equirectangularRaw.invert\x3dequirectangularRaw;var M\x3dsqrt(3)/2;equalEarthRaw.invert\x3dfunction(x,\ny){for(var l\x3dy,l2\x3dl*l,l6\x3dl2*l2*l2,i\x3d0,delta;12\x3ei\x26\x26!(delta\x3dl*(1.340264+-.081106*l2+l6*(8.93E-4+.003796*l2))-y,l2\x3d1.340264+3*-.081106*l2+l6*(7*8.93E-4+.034164*l2),l-\x3ddelta/\x3dl2,l2\x3dl*l,l6\x3dl2*l2*l2,1E-12\x3eabs(delta));++i);return[M*x*(1.340264+3*-.081106*l2+l6*(7*8.93E-4+.034164*l2))/cos(l),asin(sin(l)/M)]};gnomonicRaw.invert\x3dazimuthalInvert(atan);naturalEarth1Raw.invert\x3dfunction(x,y){var phi\x3dy,i\x3d25;do{var phi2\x3dphi*phi;var delta\x3dphi2*phi2;phi-\x3ddelta\x3d(phi*(1.007226+phi2*(.015085+delta*(-.044475+.028874*phi2-\n.005916*delta)))-y)/(1.007226+phi2*(.045255+delta*(-.311325+.259866*phi2-.005916*11*delta)))}while(1E-6\x3cabs(delta)\x26\x260\x3c--i);return[x/(.8707+(phi2\x3dphi*phi)*(-.131979+phi2*(-.013791+phi2*phi2*phi2*(.003971-.001529*phi2)))),phi]};orthographicRaw.invert\x3dazimuthalInvert(asin);stereographicRaw.invert\x3dazimuthalInvert(function(z){return 2*atan(z)});transverseMercatorRaw.invert\x3dfunction(x,y){return[-y,2*atan(exp(x))-halfPi]};exports.geoAlbers\x3dalbers;exports.geoAlbersUsa\x3dfunction(){function albersUsa(coordinates){var x\x3d\ncoordinates[0];coordinates\x3dcoordinates[1];return point\x3dnull,(lower48Point.point(x,coordinates),point)||(alaskaPoint.point(x,coordinates),point)||(hawaiiPoint.point(x,coordinates),point)}function reset(){cache\x3dcacheStream\x3dnull;return albersUsa}var cache,cacheStream,lower48\x3dalbers(),lower48Point,alaska\x3dconicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),alaskaPoint,hawaii\x3dconicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),hawaiiPoint,point,pointStream\x3d{point:function(x,\ny){point\x3d[x,y]}};albersUsa.invert\x3dfunction(coordinates){var k\x3dlower48.scale(),t\x3dlower48.translate(),x\x3d(coordinates[0]-t[0])/k;k\x3d(coordinates[1]-t[1])/k;return(.12\x3c\x3dk\x26\x26.234\x3ek\x26\x26-.425\x3c\x3dx\x26\x26-.214\x3ex?alaska:.166\x3c\x3dk\x26\x26.234\x3ek\x26\x26-.214\x3c\x3dx\x26\x26-.115\x3ex?hawaii:lower48).invert(coordinates)};albersUsa.stream\x3dfunction(stream){return cache\x26\x26cacheStream\x3d\x3d\x3dstream?cache:cache\x3dmultiplex([lower48.stream(cacheStream\x3dstream),alaska.stream(stream),hawaii.stream(stream)])};albersUsa.precision\x3dfunction(_){if(!arguments.length)return lower48.precision();\nlower48.precision(_);alaska.precision(_);hawaii.precision(_);return reset()};albersUsa.scale\x3dfunction(_){if(!arguments.length)return lower48.scale();lower48.scale(_);alaska.scale(.35*_);hawaii.scale(_);return albersUsa.translate(lower48.translate())};albersUsa.translate\x3dfunction(_){if(!arguments.length)return lower48.translate();var k\x3dlower48.scale(),x\x3d+_[0],y\x3d+_[1];lower48Point\x3dlower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream);alaskaPoint\x3dalaska.translate([x-\n.307*k,y+.201*k]).clipExtent([[x-.425*k+1E-6,y+.12*k+1E-6],[x-.214*k-1E-6,y+.234*k-1E-6]]).stream(pointStream);hawaiiPoint\x3dhawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+1E-6,y+.166*k+1E-6],[x-.115*k-1E-6,y+.234*k-1E-6]]).stream(pointStream);return reset()};albersUsa.fitExtent\x3dfunction(extent,object){return fitExtent(albersUsa,extent,object)};albersUsa.fitSize\x3dfunction(size,object){return fitExtent(albersUsa,[[0,0],size],object)};albersUsa.fitWidth\x3dfunction(width,object){return fitWidth(albersUsa,\nwidth,object)};albersUsa.fitHeight\x3dfunction(height,object){return fitHeight(albersUsa,height,object)};return albersUsa.scale(1070)};exports.geoArea\x3dfunction(object){areaSum\x3dnew d3Array.Adder;geoStream(object,areaStream);return 2*areaSum};exports.geoAzimuthalEqualArea\x3dfunction(){return projection$jscomp$0(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)};exports.geoAzimuthalEqualAreaRaw\x3dazimuthalEqualAreaRaw;exports.geoAzimuthalEquidistant\x3dfunction(){return projection$jscomp$0(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)};\nexports.geoAzimuthalEquidistantRaw\x3dazimuthalEquidistantRaw;exports.geoBounds\x3dfunction(feature){var n,merged,delta;phi1\x3dlambda1\x3d-(lambda0$1\x3dphi0\x3dInfinity);ranges\x3d[];geoStream(feature,boundsStream);if(n\x3dranges.length){ranges.sort(rangeCompare);feature\x3d1;var a\x3dranges[0];for(merged\x3d[a];feature\x3cn;++feature){var b\x3dranges[feature];rangeContains(a,b[0])||rangeContains(a,b[1])?(angle$jscomp$0(a[0],b[1])\x3eangle$jscomp$0(a[0],a[1])\x26\x26(a[1]\x3db[1]),angle$jscomp$0(b[0],a[1])\x3eangle$jscomp$0(a[0],a[1])\x26\x26(a[0]\x3db[0])):\nmerged.push(a\x3db)}var deltaMax\x3d-Infinity;n\x3dmerged.length-1;feature\x3d0;for(a\x3dmerged[n];feature\x3c\x3dn;a\x3db,++feature)b\x3dmerged[feature],(delta\x3dangle$jscomp$0(a[1],b[0]))\x3edeltaMax\x26\x26(deltaMax\x3ddelta,lambda0$1\x3db[0],lambda1\x3da[1])}ranges\x3drange$jscomp$0\x3dnull;return Infinity\x3d\x3d\x3dlambda0$1||Infinity\x3d\x3d\x3dphi0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]};exports.geoCentroid\x3dfunction(object){W0\x3dW1\x3dX0\x3dY0\x3dZ0\x3dX1\x3dY1\x3dZ1\x3d0;X2\x3dnew d3Array.Adder;Y2\x3dnew d3Array.Adder;Z2\x3dnew d3Array.Adder;geoStream(object,centroidStream);\nobject\x3d+X2;var y\x3d+Y2,z\x3d+Z2,m\x3dhypot(object,y,z);return 1E-12\x3em\x26\x26(object\x3dX1,y\x3dY1,z\x3dZ1,1E-6\x3eW1\x26\x26(object\x3dX0,y\x3dY0,z\x3dZ0),m\x3dhypot(object,y,z),1E-12\x3em)?[NaN,NaN]:[atan2(y,object)*degrees,asin(z/m)*degrees]};exports.geoCircle\x3dfunction(){function circle(){var c\x3dcenter.apply(this,arguments),r\x3dradius.apply(this,arguments)*radians,p\x3dprecision.apply(this,arguments)*radians;ring\x3d[];rotate\x3drotateRadians(-c[0]*radians,-c[1]*radians,0).invert;circleStream(stream,r,p,1);c\x3d{type:\x22Polygon\x22,coordinates:[ring]};ring\x3drotate\x3d\nnull;return c}var center\x3dconstant([0,0]),radius\x3dconstant(90),precision\x3dconstant(6),ring,rotate,stream\x3d{point:function(x,y){ring.push(x\x3drotate(x,y));x[0]*\x3ddegrees;x[1]*\x3ddegrees}};circle.center\x3dfunction(_){return arguments.length?(center\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant([+_[0],+_[1]]),circle):center};circle.radius\x3dfunction(_){return arguments.length?(radius\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),circle):radius};circle.precision\x3dfunction(_){return arguments.length?(precision\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),\ncircle):precision};return circle};exports.geoClipAntimeridian\x3dclipAntimeridian;exports.geoClipCircle\x3dclipCircle;exports.geoClipExtent\x3dfunction(){var x0\x3d0,y0\x3d0,x1\x3d960,y1\x3d500,cache,cacheStream,clip;return clip\x3d{stream:function(stream){return cache\x26\x26cacheStream\x3d\x3d\x3dstream?cache:cache\x3dclipRectangle(x0,y0,x1,y1)(cacheStream\x3dstream)},extent:function(_){return arguments.length?(x0\x3d+_[0][0],y0\x3d+_[0][1],x1\x3d+_[1][0],y1\x3d+_[1][1],cache\x3dcacheStream\x3dnull,clip):[[x0,y0],[x1,y1]]}}};exports.geoClipRectangle\x3dclipRectangle;\nexports.geoConicConformal\x3dfunction(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])};exports.geoConicConformalRaw\x3dconicConformalRaw;exports.geoConicEqualArea\x3dconicEqualArea;exports.geoConicEqualAreaRaw\x3dconicEqualAreaRaw;exports.geoConicEquidistant\x3dfunction(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])};exports.geoConicEquidistantRaw\x3dconicEquidistantRaw;exports.geoContains\x3dfunction(object,point){return(object\x26\x26containsObjectType.hasOwnProperty(object.type)?\ncontainsObjectType[object.type]:containsGeometry)(object,point)};exports.geoDistance\x3ddistance;exports.geoEqualEarth\x3dfunction(){return projection$jscomp$0(equalEarthRaw).scale(177.158)};exports.geoEqualEarthRaw\x3dequalEarthRaw;exports.geoEquirectangular\x3dfunction(){return projection$jscomp$0(equirectangularRaw).scale(152.63)};exports.geoEquirectangularRaw\x3dequirectangularRaw;exports.geoGnomonic\x3dfunction(){return projection$jscomp$0(gnomonicRaw).scale(144.049).clipAngle(60)};exports.geoGnomonicRaw\x3dgnomonicRaw;\nexports.geoGraticule\x3dgraticule$jscomp$0;exports.geoGraticule10\x3dfunction(){return graticule$jscomp$0()()};exports.geoIdentity\x3dfunction(){function reset(){kx\x3dk*sx;ky\x3dk*sy;cache\x3dcacheStream\x3dnull;return projection}function projection(p){var x\x3dp[0]*kx;p\x3dp[1]*ky;if(alpha){var t\x3dp*ca-x*sa;x\x3dx*ca+p*sa;p\x3dt}return[x+tx,p+ty]}var k\x3d1,tx\x3d0,ty\x3d0,sx\x3d1,sy\x3d1,alpha\x3d0,ca,sa,x0\x3dnull,y0,x1,y1,kx\x3d1,ky\x3d1,transform\x3dtransformer({point:function(x,y){x\x3dprojection([x,y]);this.stream.point(x[0],x[1])}}),postclip\x3didentity,cache,\ncacheStream;projection.invert\x3dfunction(p){var x\x3dp[0]-tx;p\x3dp[1]-ty;if(alpha){var t\x3dp*ca+x*sa;x\x3dx*ca-p*sa;p\x3dt}return[x/kx,p/ky]};projection.stream\x3dfunction(stream){return cache\x26\x26cacheStream\x3d\x3d\x3dstream?cache:cache\x3dtransform(postclip(cacheStream\x3dstream))};projection.postclip\x3dfunction(_){return arguments.length?(postclip\x3d_,x0\x3dy0\x3dx1\x3dy1\x3dnull,reset()):postclip};projection.clipExtent\x3dfunction(_){return arguments.length?(postclip\x3dnull\x3d\x3d_?(x0\x3dy0\x3dx1\x3dy1\x3dnull,identity):clipRectangle(x0\x3d+_[0][0],y0\x3d+_[0][1],x1\x3d+_[1][0],\ny1\x3d+_[1][1]),reset()):null\x3d\x3dx0?null:[[x0,y0],[x1,y1]]};projection.scale\x3dfunction(_){return arguments.length?(k\x3d+_,reset()):k};projection.translate\x3dfunction(_){return arguments.length?(tx\x3d+_[0],ty\x3d+_[1],reset()):[tx,ty]};projection.angle\x3dfunction(_){return arguments.length?(alpha\x3d_%360*radians,sa\x3dsin(alpha),ca\x3dcos(alpha),reset()):alpha*degrees};projection.reflectX\x3dfunction(_){return arguments.length?(sx\x3d_?-1:1,reset()):0\x3esx};projection.reflectY\x3dfunction(_){return arguments.length?(sy\x3d_?-1:1,reset()):\n0\x3esy};projection.fitExtent\x3dfunction(extent,object){return fitExtent(projection,extent,object)};projection.fitSize\x3dfunction(size,object){return fitExtent(projection,[[0,0],size],object)};projection.fitWidth\x3dfunction(width,object){return fitWidth(projection,width,object)};projection.fitHeight\x3dfunction(height,object){return fitHeight(projection,height,object)};return projection};exports.geoInterpolate\x3dfunction(a,b){var x0\x3da[0]*radians,y0\x3da[1]*radians;a\x3db[0]*radians;b\x3db[1]*radians;var cy0\x3dcos(y0),sy0\x3d\nsin(y0),cy1\x3dcos(b),sy1\x3dsin(b),kx0\x3dcy0*cos(x0),ky0\x3dcy0*sin(x0),kx1\x3dcy1*cos(a),ky1\x3dcy1*sin(a),d\x3d2*asin(sqrt(haversin(b-y0)+cy0*cy1*haversin(a-x0))),k\x3dsin(d);a\x3dd?function(t){var B\x3dsin(t*\x3dd)/k,A\x3dsin(d-t)/k;t\x3dA*kx0+B*kx1;var y\x3dA*ky0+B*ky1;B\x3dA*sy0+B*sy1;return[atan2(y,t)*degrees,atan2(B,sqrt(t*t+y*y))*degrees]}:function(){return[x0*degrees,y0*degrees]};a.distance\x3dd;return a};exports.geoLength\x3dlength$jscomp$0;exports.geoMercator\x3dfunction(){return mercatorProjection(mercatorRaw).scale(961/tau)};exports.geoMercatorRaw\x3d\nmercatorRaw;exports.geoNaturalEarth1\x3dfunction(){return projection$jscomp$0(naturalEarth1Raw).scale(175.295)};exports.geoNaturalEarth1Raw\x3dnaturalEarth1Raw;exports.geoOrthographic\x3dfunction(){return projection$jscomp$0(orthographicRaw).scale(249.5).clipAngle(90.000001)};exports.geoOrthographicRaw\x3dorthographicRaw;exports.geoPath\x3dfunction(projection,context){function path(object){object\x26\x26(\x22function\x22\x3d\x3d\x3dtypeof pointRadius\x26\x26contextStream.pointRadius(+pointRadius.apply(this,arguments)),geoStream(object,projectionStream(contextStream)));\nreturn contextStream.result()}var pointRadius\x3d4.5,projectionStream,contextStream;path.area\x3dfunction(object){geoStream(object,projectionStream(areaStream$1));return areaStream$1.result()};path.measure\x3dfunction(object){geoStream(object,projectionStream(lengthStream$1));return lengthStream$1.result()};path.bounds\x3dfunction(object){geoStream(object,projectionStream(boundsStream$1));return boundsStream$1.result()};path.centroid\x3dfunction(object){geoStream(object,projectionStream(centroidStream$1));return centroidStream$1.result()};\npath.projection\x3dfunction(_){return arguments.length?(projectionStream\x3dnull\x3d\x3d_?(projection\x3dnull,identity):(projection\x3d_).stream,path):projection};path.context\x3dfunction(_){if(!arguments.length)return context;contextStream\x3dnull\x3d\x3d_?(context\x3dnull,new PathString):new PathContext(context\x3d_);\x22function\x22!\x3d\x3dtypeof pointRadius\x26\x26contextStream.pointRadius(pointRadius);return path};path.pointRadius\x3dfunction(_){if(!arguments.length)return pointRadius;pointRadius\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:(contextStream.pointRadius(+_),\n+_);return path};return path.projection(projection).context(context)};exports.geoProjection\x3dprojection$jscomp$0;exports.geoProjectionMutator\x3dprojectionMutator;exports.geoRotation\x3drotation$jscomp$0;exports.geoStereographic\x3dfunction(){return projection$jscomp$0(stereographicRaw).scale(250).clipAngle(142)};exports.geoStereographicRaw\x3dstereographicRaw;exports.geoStream\x3dgeoStream;exports.geoTransform\x3dfunction(methods){return{stream:transformer(methods)}};exports.geoTransverseMercator\x3dfunction(){var m\x3d\nmercatorProjection(transverseMercatorRaw),center\x3dm.center,rotate\x3dm.rotate;m.center\x3dfunction(_){return arguments.length?center([-_[1],_[0]]):(_\x3dcenter(),[_[1],-_[0]])};m.rotate\x3dfunction(_){return arguments.length?rotate([_[0],_[1],2\x3c_.length?_[2]+90:90]):(_\x3drotate(),[_[0],_[1],_[2]-90])};return rotate([0,0,90]).scale(159.155)};exports.geoTransverseMercatorRaw\x3dtransverseMercatorRaw;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_geo_projection$dist$d3_geo_projection.js", true , "shadow$provide.module$node_modules$d3_geo_projection$dist$d3_geo_projection\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_geo$dist$d3_geo\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-geo\x22,\x22d3-array\x22],factory):factory(global.d3\x3dglobal.d3||{},global.d3,global.d3)})(this,\nfunction(exports,d3Geo,d3Array){function asin(x){return 1\x3cx?halfPi:-1\x3ex?-halfPi:Math.asin(x)}function acos(x){return 1\x3cx?0:-1\x3ex?pi$jscomp$0:Math.acos(x)}function sqrt(x){return 0\x3cx?Math.sqrt(x):0}function sinh(x){return(exp(x)-exp(-x))/2}function cosh(x){return(exp(x)+exp(-x))/2}function airyRaw(beta){function forward(x,y){var cosx\x3dcos(x),cosy\x3dcos(y);y\x3dsin(y);cosx*\x3dcosy;cosx\x3d-((1-cosx?log((1+cosx)/2)/(1-cosx):-.5)+b/(1+cosx));return[cosx*cosy*sin(x),cosx*y]}var tanBeta_2\x3dtan(beta/2),b\x3d2*log(cos(beta/\n2))/(tanBeta_2*tanBeta_2);forward.invert\x3dfunction(x,y){var r\x3dsqrt(x*x+y*y),z\x3d-beta/2,i\x3d50;if(!r)return[0,0];do{var z_2\x3dz/2;var delta\x3dcos(z_2);z_2\x3dsin(z_2);var tanz_2\x3dz_2/delta,lnsecz_2\x3d-log(abs(delta));z-\x3ddelta\x3d(2/tanz_2*lnsecz_2-b*tanz_2-r)/(-lnsecz_2/(z_2*z_2)+1-b/(2*delta*delta))*(0\x3edelta?.7:1)}while(1E-6\x3cabs(delta)\x26\x260\x3c--i);i\x3dsin(z);return[atan2(x*i,r*cos(z)),asin(y*i/r)]};return forward}function aitoffRaw(x,y){var cosy\x3dcos(y);var sincia\x3d(sincia\x3dacos(cosy*cos(x/\x3d2)))?sincia/Math.sin(sincia):1;\nreturn[2*cosy*sin(x)*sincia,sin(y)*sincia]}function armadilloRaw(phi0){function forward(lambda,phi){var cosPhi\x3dcos(phi),cosLambda\x3dcos(lambda/\x3d2);return[(1+cosPhi)*sin(lambda),(sPhi0*phi\x3e-atan2(cosLambda,tanPhi0)-.001?0:10*-sPhi0)+k+sin(phi)*cosPhi0-(1+cosPhi)*sinPhi0*cosLambda]}var sinPhi0\x3dsin(phi0),cosPhi0\x3dcos(phi0),sPhi0\x3d0\x3c\x3dphi0?1:-1,tanPhi0\x3dtan(sPhi0*phi0),k\x3d(1+sinPhi0-cosPhi0)/2;forward.invert\x3dfunction(x,y){var lambda\x3d0,phi\x3d0,i\x3d50;do{var cosLambda\x3dcos(lambda),sinLambda\x3dsin(lambda),cosPhi\x3dcos(phi),\nsinPhi\x3dsin(phi),A\x3d1+cosPhi,fx\x3dA*sinLambda-x,fy\x3dk+sinPhi*cosPhi0-A*sinPhi0*cosLambda-y,dxdLambda\x3dA*cosLambda/2,dxdPhi\x3d-sinLambda*sinPhi;sinLambda\x3dsinPhi0*A*sinLambda/2;cosPhi\x3dcosPhi0*cosPhi+sinPhi0*cosLambda*sinPhi;cosLambda\x3ddxdPhi*sinLambda-cosPhi*dxdLambda;dxdPhi\x3d(fy*dxdPhi-fx*cosPhi)/cosLambda/2;fx\x3d(fx*sinLambda-fy*dxdLambda)/cosLambda;2\x3cabs(fx)\x26\x26(fx/\x3d2);lambda-\x3ddxdPhi;phi-\x3dfx}while((1E-6\x3cabs(dxdPhi)||1E-6\x3cabs(fx))\x26\x260\x3c--i);return sPhi0*phi\x3e-atan2(cos(lambda),tanPhi0)-.001?[2*lambda,phi]:null};return forward}\nfunction augustRaw(lambda,phi){phi\x3dtan(phi/2);var k\x3dsqrt(1-phi*phi),c\x3d1+k*cos(lambda/\x3d2);lambda\x3dsin(lambda)*k/c;phi/\x3dc;c\x3dlambda*lambda;k\x3dphi*phi;return[4/3*lambda*(3+c-3*k),4/3*phi*(3+3*c-k)]}function bakerRaw(lambda,phi){var phi0\x3dabs(phi);return phi0\x3cquarterPi?[lambda,log(tan(quarterPi+phi/2))]:[lambda*cos(phi0)*(2*sqrt2-1/sin(phi0)),sign(phi)*(2*sqrt2*(phi0-quarterPi)-log(tan(phi0/2)))]}function berghausRaw(lobes){function forward(lambda,phi){phi\x3dd3Geo.geoAzimuthalEquidistantRaw(lambda,phi);if(abs(lambda)\x3e\nhalfPi){lambda\x3datan2(phi[1],phi[0]);var r\x3dsqrt(phi[0]*phi[0]+phi[1]*phi[1]),theta0\x3dk*round((lambda-halfPi)/k)+halfPi,alpha\x3datan2(sin(lambda-\x3dtheta0),2-cos(lambda));lambda\x3dtheta0+asin(pi$jscomp$0/r*sin(alpha))-alpha;phi[0]\x3dr*cos(lambda);phi[1]\x3dr*sin(lambda)}return phi}var k\x3d2*pi$jscomp$0/lobes;forward.invert\x3dfunction(x,y){var r\x3dsqrt(x*x+y*y);if(r\x3ehalfPi){var theta\x3datan2(y,x);x\x3dk*round((theta-halfPi)/k)+halfPi;y\x3dtheta\x3ex?-1:1;theta\x3dr*cos(x-theta);theta\x3d1/tan(y*acos((theta-pi$jscomp$0)/sqrt(pi$jscomp$0*\n(pi$jscomp$0-2*theta)+r*r)));theta\x3dx+2*atan((theta+y*sqrt(theta*theta-3))/3);x\x3dr*cos(theta);y\x3dr*sin(theta)}return d3Geo.geoAzimuthalEquidistantRaw.invert(x,y)};return forward}function hammerRaw(A,B){function forward(lambda,phi){lambda\x3dd3Geo.geoAzimuthalEqualAreaRaw(lambda/B,phi);lambda[0]*\x3dA;return lambda}2\x3earguments.length\x26\x26(B\x3dA);if(1\x3d\x3d\x3dB)return d3Geo.geoAzimuthalEqualAreaRaw;if(Infinity\x3d\x3d\x3dB)return hammerQuarticAuthalicRaw;forward.invert\x3dfunction(x,y){x\x3dd3Geo.geoAzimuthalEqualAreaRaw.invert(x/A,\ny);x[0]*\x3dB;return x};return forward}function hammerQuarticAuthalicRaw(lambda,phi){return[lambda*cos(phi)/cos(phi/\x3d2),2*sin(phi)]}function solve(f,y,x){var steps\x3d100;x\x3dvoid 0\x3d\x3d\x3dx?0:+x;y\x3d+y;do{var delta\x3df(x);var f1\x3df(x+1E-6);delta\x3d\x3d\x3df1\x26\x26(f1\x3ddelta+1E-6);x-\x3ddelta\x3d-1E-6*(delta-y)/(delta-f1)}while(0\x3csteps--\x26\x261E-6\x3cabs(delta));return 0\x3esteps?NaN:x}function solve2d(f,MAX_ITERATIONS,eps){void 0\x3d\x3d\x3dMAX_ITERATIONS\x26\x26(MAX_ITERATIONS\x3d40);void 0\x3d\x3d\x3deps\x26\x26(eps\x3d1E-12);return function(x,y,a,b){a\x3dvoid 0\x3d\x3d\x3da?0:+a;b\x3dvoid 0\x3d\x3d\x3d\nb?0:+b;for(var i\x3d0;i\x3cMAX_ITERATIONS;i++){var p\x3df(a,b),tx\x3dp[0]-x,ty\x3dp[1]-y;if(abs(tx)\x3ceps\x26\x26abs(ty)\x3ceps)break;var h\x3dtx*tx+ty*ty;if(h\x3eerr2)a-\x3dda/\x3d2,b-\x3ddb/\x3d2;else{var err2\x3dh;h\x3d(0\x3ca?-1:1)*eps;var eb\x3d(0\x3cb?-1:1)*eps;var da\x3df(a+h,b);var pb\x3df(a,b+eb);var db\x3d(da[0]-p[0])/h;h\x3d(da[1]-p[1])/h;da\x3d(pb[0]-p[0])/eb;p\x3d(pb[1]-p[1])/eb;eb\x3dp*db-h*da;eb\x3d(.5\x3eabs(eb)?.5:1)/eb;da\x3d(ty*da-tx*p)*eb;db\x3d(tx*h-ty*db)*eb;a+\x3dda;b+\x3ddb;if(abs(da)\x3ceps\x26\x26abs(db)\x3ceps)break}}return[a,b]}}function bertin1953Raw(){function forward(lambda,\nphi){if(-1.4\x3elambda+phi){var u\x3d(lambda-phi+1.6)*(lambda+phi+1.4)/8;lambda+\x3du;phi-\x3d.8*u*sin(phi+pi$jscomp$0/2)}u\x3dhammer$$1(lambda,phi);lambda\x3d(1-cos(lambda*phi))/12;0\x3eu[1]\x26\x26(u[0]*\x3d1+lambda);0\x3cu[1]\x26\x26(u[1]*\x3d1+lambda/1.5*u[0]*u[0]);return u}var hammer$$1\x3dhammerRaw(1.68,2);forward.invert\x3dsolve2d(forward);return forward}function mollweideBromleyTheta(cp,phi){cp*\x3dsin(phi);var i\x3d30,delta;do phi-\x3ddelta\x3d(phi+sin(phi)-cp)/(1+cos(phi));while(1E-6\x3cabs(delta)\x26\x260\x3c--i);return phi/2}function mollweideBromleyRaw(cx,\ncy,cp){function forward(lambda,phi){return[cx*lambda*cos(phi\x3dmollweideBromleyTheta(cp,phi)),cy*sin(phi)]}forward.invert\x3dfunction(x,y){return y\x3dasin(y/cy),[x/(cx*cos(y)),asin((2*y+sin(2*y))/cp)]};return forward}function boggsRaw(lambda,phi){var theta\x3dmollweideBromleyTheta(pi$jscomp$0,phi);return[2.00276*lambda/(1/cos(phi)+1.11072/cos(theta)),(phi+sqrt2*sin(theta))/2.00276]}function parallel1(projectAt){var phi0\x3d0,m\x3dd3Geo.geoProjectionMutator(projectAt);projectAt\x3dm(phi0);projectAt.parallel\x3dfunction(_){return arguments.length?\nm(phi0\x3d_*radians):phi0*degrees};return projectAt}function sinusoidalRaw(lambda,phi){return[lambda*cos(phi),phi]}function bonneRaw(phi0){function forward(lambda,phi){var rho\x3dcotPhi0+phi0-phi;lambda\x3drho?lambda*cos(phi)/rho:rho;return[rho*sin(lambda),cotPhi0-rho*cos(lambda)]}if(!phi0)return sinusoidalRaw;var cotPhi0\x3d1/tan(phi0);forward.invert\x3dfunction(x,y){var rho\x3dsqrt(x*x+(y\x3dcotPhi0-y)*y),phi\x3dcotPhi0+phi0-rho;return[rho/cos(phi)*atan2(x,y),phi]};return forward}function bottomleyRaw(sinPsi){function forward(lambda,\nphi){lambda\x3d(phi\x3dhalfPi-phi)?lambda*sinPsi*sin(phi)/phi:phi;return[phi*sin(lambda)/sinPsi,halfPi-phi*cos(lambda)]}forward.invert\x3dfunction(x,y){x*\x3dsinPsi;var y1\x3dhalfPi-y;y\x3dsqrt(x*x+y1*y1);x\x3datan2(x,y1);return[(y?y/sin(y):1)*x/sinPsi,halfPi-y]};return forward}function distance$jscomp$0(dPhi,c1,s1,c2,s2,dLambda){var cosdLambda\x3dcos(dLambda);if(1\x3cabs(dPhi)||1\x3cabs(dLambda))dPhi\x3dacos(s1*s2+c1*c2*cosdLambda);else{dPhi\x3dsin(dPhi/2);var sindLambda\x3dsin(dLambda/2);dPhi\x3d2*asin(sqrt(dPhi*dPhi+c1*c2*sindLambda*sindLambda))}return 1E-6\x3c\nabs(dPhi)?[dPhi,atan2(c2*sin(dLambda),c1*s2-s1*c2*cosdLambda)]:[0,0]}function angle(b,c,a){return acos((b*b+c*c-a*a)/(2*b*c))}function chamberlinRaw(p0,p1,p2){var points\x3d[[p0[0],p0[1],sin(p0[1]),cos(p0[1])],[p1[0],p1[1],sin(p1[1]),cos(p1[1])],[p2[0],p2[1],sin(p2[1]),cos(p2[1])]];p0\x3dpoints[2];for(p2\x3d0;3\x3ep2;++p2,p0\x3dp1)p1\x3dpoints[p2],p0.v\x3ddistance$jscomp$0(p1[1]-p0[1],p0[3],p0[2],p1[3],p1[2],p1[0]-p0[0]),p0.point\x3d[0,0];p0\x3dangle(points[0].v[0],points[2].v[0],points[1].v[0]);var beta1\x3dangle(points[0].v[0],\npoints[1].v[0],points[2].v[0]),beta2\x3dpi$jscomp$0-p0;points[2].point[1]\x3d0;points[0].point[0]\x3d-(points[1].point[0]\x3dpoints[0].v[0]/2);var mean\x3d[points[2].point[0]\x3dpoints[0].point[0]+points[2].v[0]*cos(p0),2*(points[0].point[1]\x3dpoints[1].point[1]\x3dpoints[2].v[0]*sin(p0))];return function(lambda,phi){var sinPhi\x3dsin(phi),cosPhi\x3dcos(phi),v\x3dArray(3),i;for(i\x3d0;3\x3ei;++i){var p\x3dpoints[i];v[i]\x3ddistance$jscomp$0(phi-p[1],p[3],p[2],cosPhi,sinPhi,lambda-p[0]);if(!v[i][0])return p.point;var JSCompiler_temp_const\x3dv[i];\np\x3dv[i][1]-p.v[1];p-\x3d2*pi$jscomp$0*floor((p+pi$jscomp$0)/(2*pi$jscomp$0));JSCompiler_temp_const[1]\x3dp}lambda\x3dmean.slice();for(i\x3d0;3\x3ei;++i)phi\x3dangle(points[i].v[0],v[i][0],v[2\x3d\x3di?0:i+1][0]),0\x3ev[i][1]\x26\x26(phi\x3d-phi),i?1\x3d\x3di?(phi\x3dbeta1-phi,lambda[0]-\x3dv[i][0]*cos(phi),lambda[1]-\x3dv[i][0]*sin(phi)):(phi\x3dbeta2-phi,lambda[0]+\x3dv[i][0]*cos(phi),lambda[1]+\x3dv[i][0]*sin(phi)):(lambda[0]+\x3dv[i][0]*cos(phi),lambda[1]-\x3dv[i][0]*sin(phi));lambda[0]/\x3d3;lambda[1]/\x3d3;return lambda}}function pointRadians(p){return p[0]*\x3dradians,\np[1]*\x3dradians,p}function chamberlin(p0,p1,p2){var c\x3dd3Geo.geoCentroid({type:\x22MultiPoint\x22,coordinates:[p0,p1,p2]});c\x3d[-c[0],-c[1]];var r\x3dd3Geo.geoRotation(c);p0\x3dchamberlinRaw(pointRadians(r(p0)),pointRadians(r(p1)),pointRadians(r(p2)));p0.invert\x3dsolve2d(p0);p0\x3dd3Geo.geoProjection(p0).rotate(c);var center\x3dp0.center;delete p0.rotate;p0.center\x3dfunction(_){return arguments.length?center(r(_)):r.invert(center())};return p0.clipAngle(90)}function collignonRaw(lambda,phi){phi\x3dsqrt(1-sin(phi));return[2/sqrtPi*\nlambda*phi,sqrtPi*(1-phi)]}function craigRaw(phi0){function forward(lambda,phi){return[lambda,(lambda?lambda/sin(lambda):1)*(sin(phi)*cos(lambda)-tanPhi0*cos(phi))]}var tanPhi0\x3dtan(phi0);forward.invert\x3dtanPhi0?function(x,y){x\x26\x26(y*\x3dsin(x)/x);var cosLambda\x3dcos(x);return[x,2*atan2(sqrt(cosLambda*cosLambda+tanPhi0*tanPhi0-y*y)-cosLambda,tanPhi0-y)]}:function(x,y){return[x,asin(x?y*tan(x)/x:y)]};return forward}function crasterRaw(lambda,phi){return[sqrt3*lambda*(2*cos(2*phi/3)-1)/sqrtPi,sqrt3*sqrtPi*sin(phi/\n3)]}function cylindricalEqualAreaRaw(phi0){function forward(lambda,phi){return[lambda*cosPhi0,sin(phi)/cosPhi0]}var cosPhi0\x3dcos(phi0);forward.invert\x3dfunction(x,y){return[x/cosPhi0,asin(y*cosPhi0)]};return forward}function cylindricalStereographicRaw(phi0){function forward(lambda,phi){return[lambda*cosPhi0,(1+cosPhi0)*tan(phi/2)]}var cosPhi0\x3dcos(phi0);forward.invert\x3dfunction(x,y){return[x/cosPhi0,2*atan(y/(1+cosPhi0))]};return forward}function eckert1Raw(lambda,phi){var alpha\x3dsqrt(8/(3*pi$jscomp$0));\nreturn[alpha*lambda*(1-abs(phi)/pi$jscomp$0),alpha*phi]}function eckert2Raw(lambda,phi){var alpha\x3dsqrt(4-3*sin(abs(phi)));return[2/sqrt(6*pi$jscomp$0)*lambda*alpha,sign(phi)*sqrt(2*pi$jscomp$0/3)*(2-alpha)]}function eckert3Raw(lambda,phi){var k\x3dsqrt(pi$jscomp$0*(4+pi$jscomp$0));return[2/k*lambda*(1+sqrt(1-4*phi*phi/(pi$jscomp$0*pi$jscomp$0))),4/k*phi]}function eckert4Raw(lambda,phi){var k\x3d(2+halfPi)*sin(phi);phi/\x3d2;for(var i\x3d0,delta\x3dInfinity;10\x3ei\x26\x261E-6\x3cabs(delta);i++)delta\x3dcos(phi),phi-\x3ddelta\x3d(phi+\nsin(phi)*(delta+2)-k)/(2*delta*(1+delta));return[2/sqrt(pi$jscomp$0*(4+pi$jscomp$0))*lambda*(1+cos(phi)),2*sqrt(pi$jscomp$0/(4+pi$jscomp$0))*sin(phi)]}function eckert5Raw(lambda,phi){return[lambda*(1+cos(phi))/sqrt(2+pi$jscomp$0),2*phi/sqrt(2+pi$jscomp$0)]}function eckert6Raw(lambda,phi){for(var k\x3d(1+halfPi)*sin(phi),i\x3d0,delta\x3dInfinity;10\x3ei\x26\x261E-6\x3cabs(delta);i++)phi-\x3ddelta\x3d(phi+sin(phi)-k)/(1+cos(phi));k\x3dsqrt(2+pi$jscomp$0);return[lambda*(1+cos(phi))/k,2*phi/k]}function eisenlohrRaw(lambda,phi){var s0\x3d\nsin(lambda/\x3d2);lambda\x3dcos(lambda);var k\x3dsqrt(cos(phi)),c1\x3dcos(phi/\x3d2);phi\x3dsin(phi)/(c1+sqrt2*lambda*k);var c\x3dsqrt(2/(1+phi*phi));s0\x3dsqrt((sqrt2*c1+(lambda+s0)*k)/(sqrt2*c1+(lambda-s0)*k));return[eisenlohrK*(c*(s0-1/s0)-2*log(s0)),eisenlohrK*(c*phi*(s0+1/s0)-2*atan(phi))]}function faheyRaw(lambda,phi){phi\x3dtan(phi/2);return[lambda*faheyK*sqrt(1-phi*phi),(1+faheyK)*phi]}function foucautRaw(lambda,phi){var k\x3dphi/2,cosk\x3dcos(k);return[2*lambda/sqrtPi*cos(phi)*cosk*cosk,sqrtPi*tan(k)]}function foucautSinusoidalRaw(alpha){function raw(lambda,\nphi){var cosphi\x3dcos(phi),sinphi\x3dsin(phi);return[cosphi/(beta+alpha*cosphi)*lambda,beta*phi+alpha*sinphi]}function forward(lambda,phi){lambda\x3draw(lambda,phi);return[lambda[0]*ratio,lambda[1]/ratio]}function forwardMeridian(phi){return forward(0,phi)[1]}var beta\x3d1-alpha,equatorial\x3draw(pi$jscomp$0,0)[0]-raw(-pi$jscomp$0,0)[0],polar\x3draw(0,halfPi)[1]-raw(0,-halfPi)[1],ratio\x3dsqrt(2*polar/equatorial);forward.invert\x3dfunction(x,y){y\x3dsolve(forwardMeridian,y);return[x/ratio*(alpha+beta/cos(y)),y]};return forward}\nfunction gilbertInvert(point){return[2*point[0],2*atan(sin(point[1]*radians))*degrees]}function gingeryRaw(rho,n){function forward(lambda,phi){lambda\x3dd3Geo.geoAzimuthalEquidistantRaw(lambda,phi);phi\x3dlambda[0];var y\x3dlambda[1],r2\x3dphi*phi+y*y;if(r2\x3erho2){var r\x3dsqrt(r2);phi\x3datan2(y,phi);r2\x3dk*round(phi/k);y\x3dphi-r2;var rhoCosAlpha\x3drho*cos(y),k_\x3d(rho*sin(y)-y*sin(rhoCosAlpha))/(halfPi-rhoCosAlpha),s_\x3dgingeryLength(y,k_),e\x3d(pi$jscomp$0-rho)/gingeryIntegrate(s_,rhoCosAlpha,pi$jscomp$0);phi\x3dr;var i\x3d50,delta;\ndo phi-\x3ddelta\x3d(rho+gingeryIntegrate(s_,rhoCosAlpha,phi)*e-r)/(s_(phi)*e);while(1E-6\x3cabs(delta)\x26\x260\x3c--i);y*\x3dsin(phi);phi\x3chalfPi\x26\x26(y-\x3dk_*(phi-halfPi));r\x3dsin(r2);r2\x3dcos(r2);lambda[0]\x3dphi*r2-y*r;lambda[1]\x3dphi*r+y*r2}return lambda}var k\x3d2*pi$jscomp$0/n,rho2\x3drho*rho;forward.invert\x3dfunction(x,y){var r2\x3dx*x+y*y;if(r2\x3erho2){var r\x3dsqrt(r2);y\x3datan2(y,x);r2\x3dk*round(y/k);y-\x3dr2;x\x3dr*cos(y);y\x3dr*sin(y);r\x3dx-halfPi;for(var sinx\x3dsin(x),alpha\x3dy/sinx,delta\x3dx\x3chalfPi?Infinity:0,i\x3d10;;){var rhosinAlpha\x3drho*sin(alpha),rhoCosAlpha\x3d\nrho*cos(alpha),sinRhoCosAlpha\x3dsin(rhoCosAlpha),halfPi_RhoCosAlpha\x3dhalfPi-rhoCosAlpha,k_\x3d(rhosinAlpha-alpha*sinRhoCosAlpha)/halfPi_RhoCosAlpha,s_\x3dgingeryLength(alpha,k_);if(1E-12\x3eabs(delta)||!--i)break;alpha-\x3ddelta\x3d(alpha*sinx-k_*r-y)/(sinx-2*r*(halfPi_RhoCosAlpha*(rhoCosAlpha+alpha*rhosinAlpha*cos(rhoCosAlpha)-sinRhoCosAlpha)-rhosinAlpha*(rhosinAlpha-alpha*sinRhoCosAlpha))/(halfPi_RhoCosAlpha*halfPi_RhoCosAlpha))}r\x3drho+gingeryIntegrate(s_,rhoCosAlpha,x)*(pi$jscomp$0-rho)/gingeryIntegrate(s_,rhoCosAlpha,\npi$jscomp$0);y\x3dr2+alpha;x\x3dr*cos(y);y\x3dr*sin(y)}return d3Geo.geoAzimuthalEquidistantRaw.invert(x,y)};return forward}function gingeryLength(alpha,k){return function(x){var y_\x3dalpha*cos(x);x\x3chalfPi\x26\x26(y_-\x3dk);return sqrt(1+y_*y_)}}function gingeryIntegrate(f,a,b){var h\x3d(b-a)/50;b\x3df(a)+f(b);for(var i\x3d1;50\x3ei;++i)b+\x3d2*f(a+\x3dh);return.5*b*h}function ginzburgPolyconicRaw(a,b,c,d,e,f,g,h){function forward(lambda,phi){if(!phi)return[a*lambda/pi$jscomp$0,0];var phi2\x3dphi*phi,xB\x3da+phi2*(b+phi2*(c+phi2*d)),yB\x3dphi*\n(e-1+phi2*(f-h+phi2*g));yB\x3d(xB*xB+yB*yB)/(2*yB);lambda\x3dlambda*asin(xB/yB)/pi$jscomp$0;return[yB*sin(lambda),phi*(1+phi2*h)+yB*(1-cos(lambda))]}8\x3earguments.length\x26\x26(h\x3d0);forward.invert\x3dfunction(x,y){var lambda\x3dpi$jscomp$0*x/a,phi\x3dy,i\x3d50;do{var phi2\x3dphi*phi,xB\x3da+phi2*(b+phi2*(c+phi2*d)),yB\x3dphi*(e-1+phi2*(f-h+phi2*g)),p\x3dxB*xB+yB*yB,q\x3d2*yB;var deltaLambda\x3dp/q;var m2\x3ddeltaLambda*deltaLambda;var deltaPhi\x3dasin(xB/deltaLambda)/pi$jscomp$0;var alpha\x3dlambda*deltaPhi,xB2\x3dxB*xB,dxBdPhi\x3d(2*b+phi2*(4*c+6*phi2*\nd))*phi,dyBdPhi\x3de+phi2*(3*f+5*phi2*g);yB\x3d(2*(xB*dxBdPhi+yB*(dyBdPhi-1))*q-2*p*(dyBdPhi-1))/(q*q);p\x3dcos(alpha);dyBdPhi\x3dsin(alpha);q\x3ddeltaLambda*p;alpha\x3ddeltaLambda*dyBdPhi;m2\x3dlambda/pi$jscomp$0*(1/sqrt(1-xB2/m2))*(dxBdPhi*deltaLambda-xB*yB)/m2;xB\x3dalpha-x;phi2\x3dphi*(1+phi2*h)+deltaLambda-q-y;deltaLambda\x3dyB*dyBdPhi+q*m2;xB2\x3dq*deltaPhi;yB\x3d1+yB-(yB*p-alpha*m2);deltaPhi*\x3dalpha;p\x3ddeltaLambda*deltaPhi-yB*xB2;if(!p)break;lambda-\x3ddeltaLambda\x3d(phi2*deltaLambda-xB*yB)/p;phi-\x3ddeltaPhi\x3d(xB*deltaPhi-phi2*xB2)/p}while((1E-6\x3c\nabs(deltaLambda)||1E-6\x3cabs(deltaPhi))\x26\x260\x3c--i);return[lambda,phi]};return forward}function ginzburg8Raw(lambda,phi){var lambda2\x3dlambda*lambda,phi2\x3dphi*phi;return[lambda*(1-.162388*phi2)*(.87-9.52426E-4*lambda2*lambda2),phi*(1+phi2/12)]}function squareRaw(project){function projectSquare(lambda,phi){var s\x3d0\x3clambda?-.5:.5;lambda\x3dproject(lambda+s*pi$jscomp$0,phi);lambda[0]-\x3ds*dx;return lambda}var dx\x3dproject(halfPi,0)[0]-project(-halfPi,0)[0];project.invert\x26\x26(projectSquare.invert\x3dfunction(x,y){var s\x3d0\x3c\nx?-.5:.5;x\x3dproject.invert(x+s*dx,y);s\x3dx[0]-s*pi$jscomp$0;s\x3c-pi$jscomp$0?s+\x3d2*pi$jscomp$0:s\x3epi$jscomp$0\x26\x26(s-\x3d2*pi$jscomp$0);x[0]\x3ds;return x});return projectSquare}function gringortenRaw(lambda,phi){var sLambda\x3dsign(lambda),sPhi\x3dsign(phi),cosPhi\x3dcos(phi),x\x3dcos(lambda)*cosPhi;lambda\x3dsin(lambda)*cosPhi;phi\x3dsin(sPhi*phi);lambda\x3dabs(atan2(lambda,phi));phi\x3dasin(x);1E-6\x3cabs(lambda-halfPi)\x26\x26(lambda%\x3dhalfPi);x\x3dgringortenHexadecant(lambda\x3epi$jscomp$0/4?halfPi-lambda:lambda,phi);lambda\x3epi$jscomp$0/4\x26\x26(phi\x3dx[0],\nx[0]\x3d-x[1],x[1]\x3d-phi);return x[0]*\x3dsLambda,x[1]*\x3d-sPhi,x}function gringortenHexadecant(lambda,phi){if(phi\x3d\x3d\x3dhalfPi)return[0,0];var sinPhi\x3dsin(phi),r\x3dsinPhi*sinPhi,r2\x3dr*r,j\x3d1+r2,k\x3d1+3*r2,q\x3d1-r2,z\x3dasin(1/sqrt(j)),v\x3dq+r*j*z,p2\x3d(1-sinPhi)/v,p\x3dsqrt(p2),a2\x3dp2*j,a\x3dsqrt(a2),h\x3dp*q;if(0\x3d\x3d\x3dlambda)return[0,-(h+r*a)];var cosPhi\x3dcos(phi),secPhi\x3d1/cosPhi,drdPhi\x3d2*sinPhi*cosPhi;z\x3d(-v*cosPhi-(1-sinPhi)*(-3*r+z*k)*drdPhi)/(v*v);sinPhi\x3d-secPhi*drdPhi;j\x3d-secPhi*(r*j*z+p2*k*drdPhi);q\x3d-2*secPhi*(.5*z/p*q-2*r*p*drdPhi);\np\x3d4*lambda/pi$jscomp$0;if(lambda\x3e.222*pi$jscomp$0||phi\x3cpi$jscomp$0/4\x26\x26lambda\x3e.175*pi$jscomp$0){phi\x3d(h+r*sqrt(a2*(1+r2)-h*h))/(1+r2);if(lambda\x3epi$jscomp$0/4)return[phi,phi];r2\x3dphi;secPhi\x3d.5*phi;phi\x3d.5*(secPhi+r2);lambda\x3d50;do{drdPhi\x3dsqrt(a2-phi*phi);drdPhi\x3dphi*(q+sinPhi*drdPhi)+j*asin(phi/a)-p;if(!drdPhi)break;0\x3edrdPhi?secPhi\x3dphi:r2\x3dphi;phi\x3d.5*(secPhi+r2)}while(1E-6\x3cabs(r2-secPhi)\x26\x260\x3c--lambda)}else{phi\x3d1E-6;lambda\x3d25;do drdPhi\x3dphi*phi,r2\x3dsqrt(a2-drdPhi),k\x3dq+sinPhi*r2,secPhi\x3dphi*k+j*asin(phi/a)-p,drdPhi\x3d\nk+(j-sinPhi*drdPhi)/r2,phi-\x3dr2\x3dr2?secPhi/drdPhi:0;while(1E-6\x3cabs(r2)\x26\x260\x3c--lambda)}return[phi,-h-r*sqrt(a2-phi*phi)]}function ellipticJ(u,m){if(1E-6\x3em){var t\x3dsin(u);var b\x3dcos(u);var ai\x3dm*(u-t*b)/4;return[t-ai*b,b+ai*t,1-m*t*t/2,u-ai]}if(.999999\x3c\x3dm){ai\x3d(1-m)/4;b\x3dcosh(u);t\x3dexp(2*u);t\x3d(t-1)/(t+1);m\x3d1/b;var twon\x3db*sinh(u);return[t+ai*(twon-u)/(b*b),m-ai*t*m*(twon-u),m+ai*t*m*(twon+u),2*atan(exp(u))-halfPi+ai*(twon-u)/b]}var a\x3d[1,0,0,0,0,0,0,0,0],c\x3d[sqrt(m),0,0,0,0,0,0,0,0],i\x3d0;b\x3dsqrt(1-m);for(twon\x3d1;1E-6\x3c\nabs(c[i]/a[i])\x26\x268\x3ei;)ai\x3da[i++],c[i]\x3d(ai-b)/2,a[i]\x3d(ai+b)/2,b\x3dsqrt(ai*b),twon*\x3d2;m\x3dtwon*a[i]*u;do t\x3dc[i]*sin(b\x3dm)/a[i],m\x3d(asin(t)+m)/2;while(--i);return[sin(m),t\x3dcos(m),t/cos(m-b),m]}function ellipticF(phi,m){if(!m)return phi;if(1\x3d\x3d\x3dm)return log(tan(phi/2+quarterPi));var a\x3d1,b\x3dsqrt(1-m),c\x3dsqrt(m);for(m\x3d0;1E-6\x3cabs(c);m++)phi%pi$jscomp$0?(c\x3datan(b*tan(phi)/a),0\x3ec\x26\x26(c+\x3dpi$jscomp$0),phi+\x3dc+~~(phi/pi$jscomp$0)*pi$jscomp$0):phi+\x3dphi,c\x3d(a+b)/2,b\x3dsqrt(a*b),c\x3d((a\x3dc)-b)/2;return phi/(pow(2,m)*a)}function guyouRaw(lambda,\nphi){var k_\x3d(sqrt2-1)/(sqrt2+1),k\x3dsqrt(1-k_*k_),K\x3dellipticF(halfPi,k*k),psi\x3dlog(tan(pi$jscomp$0/4+abs(phi)/2));psi\x3dexp(-1*psi)/sqrt(k_);k_\x3dpsi*cos(-1*lambda);var y\x3dpsi*sin(-1*lambda);lambda\x3dk_*k_;psi\x3dy+1;y\x3d1-lambda-y*y;lambda\x3d[.5*((0\x3c\x3dk_?halfPi:-halfPi)-atan2(y,2*k_)),-.25*log(y*y+4*lambda)+.5*log(psi*psi+lambda)];k_\x3dlambda[0];lambda\x3dlambda[1];k*\x3dk;psi\x3dabs(k_);y\x3dabs(lambda);y\x3dsinh(y);if(psi){var cscPhi\x3d1/sin(psi);psi\x3d1/(tan(psi)*tan(psi));y\x3d-(psi+k*y*y*cscPhi*cscPhi-1+k);y\x3d(-y+sqrt(y*y-4*(k-1)*psi))/\n2;k\x3d[ellipticF(atan(1/sqrt(y)),k)*sign(k_),ellipticF(atan(sqrt((y/psi-1)/k)),1-k)*sign(lambda)]}else k\x3d[0,ellipticF(atan(y),1-k)*sign(lambda)];return[-k[1],(0\x3c\x3dphi?1:-1)*(.5*K-k[0])]}function hammerRetroazimuthalRaw(phi0){function forward(lambda,phi){var p\x3drotate(lambda,phi);lambda\x3dp[0];phi\x3dp[1];p\x3dsin(phi);phi\x3dcos(phi);var cosLambda\x3dcos(lambda),z\x3dacos(sinPhi0*p+cosPhi0*phi*cosLambda),sinz\x3dsin(z);z\x3d1E-6\x3cabs(sinz)?z/sinz:1;return[z*cosPhi0*sin(lambda),(abs(lambda)\x3ehalfPi?z:-z)*(sinPhi0*phi-cosPhi0*\np*cosLambda)]}var sinPhi0\x3dsin(phi0),cosPhi0\x3dcos(phi0),rotate\x3dhammerRetroazimuthalRotation(phi0);rotate.invert\x3dhammerRetroazimuthalRotation(-phi0);forward.invert\x3dfunction(x,y){var rho\x3dsqrt(x*x+y*y),sinz\x3d-sin(rho),cosz\x3dcos(rho),a\x3drho*cosz,b\x3d-y*sinz,c\x3drho*sinPhi0,d\x3dsqrt(a*a+b*b-c*c);a\x3datan2(a*c+b*d,b*c-a*d);x\x3d(rho\x3ehalfPi?-1:1)*atan2(x*sinz,rho*cos(a)*cosz+y*sin(a)*sinz);return rotate.invert(x,a)};return forward}function hammerRetroazimuthalRotation(phi0){var sinPhi0\x3dsin(phi0),cosPhi0\x3dcos(phi0);return function(lambda,\nphi){var cosPhi\x3dcos(phi),x\x3dcos(lambda)*cosPhi;lambda\x3dsin(lambda)*cosPhi;phi\x3dsin(phi);return[atan2(lambda,x*cosPhi0-phi*sinPhi0),asin(phi*cosPhi0+x*sinPhi0)]}}function healpixRaw(H){function forward(lambda,phi){var phi2\x3dabs(phi);if(phi2\x3ephi0){var i\x3dmin(H-1,max(0,floor((lambda+pi$jscomp$0)/k)));lambda+\x3dpi$jscomp$0*(H-1)/H-i*k;lambda\x3dcollignonRaw(lambda,phi2);lambda[0]\x3dlambda[0]*tau/dx-tau*(H-1)/(2*H)+i*tau/H;lambda[1]\x3dy0+4*(lambda[1]-y1)*dy1/tau;0\x3ephi\x26\x26(lambda[1]\x3d-lambda[1])}else lambda\x3dhealpixLambert(lambda,\nphi);lambda[0]*\x3dw;lambda[1]/\x3dh;return lambda}var phi0\x3dhealpixParallel*radians,dx\x3dcollignonRaw(pi$jscomp$0,phi0)[0]-collignonRaw(-pi$jscomp$0,phi0)[0],y0\x3dhealpixLambert(0,phi0)[1],y1\x3dcollignonRaw(0,phi0)[1],dy1\x3dsqrtPi-y1,k\x3dtau/H,w\x3d4/tau,h\x3dy0+dy1*dy1*4/tau;forward.invert\x3dfunction(x,y){x/\x3dw;y*\x3dh;var y2\x3dabs(y);if(y2\x3ey0){var i\x3dmin(H-1,max(0,floor((x+pi$jscomp$0)/k)));x\x3d(x+pi$jscomp$0*(H-1)/H-i*k)*dx/tau;x\x3dcollignonRaw.invert(x,.25*(y2-y0)*tau/dy1+y1);x[0]-\x3dpi$jscomp$0*(H-1)/H-i*k;0\x3ey\x26\x26(x[1]\x3d-x[1]);return x}return healpixLambert.invert(x,\ny)};return forward}function sphereTop(x,i){return[x,i\x261?89.999999:healpixParallel]}function sphereBottom(x,i){return[x,i\x261?-89.999999:-healpixParallel]}function sphereNudge(d){return[.999999*d[0],d[1]]}function sphere(step){var c\x3d[].concat(d3Array.range(-180,180+step/2,step).map(sphereTop),d3Array.range(180,-180-step/2,-step).map(sphereBottom));return{type:\x22Polygon\x22,coordinates:[180\x3d\x3d\x3dstep?c.map(sphereNudge):c]}}function hillRaw(K){function forward(lambda,phi){var t\x3d1-sin(phi);if(t\x26\x262\x3et){var theta\x3d\nhalfPi-phi,i\x3d25;do{var delta\x3dsin(theta);var cosTheta\x3dcos(theta);phi\x3dBt+atan2(delta,L-cosTheta);cosTheta\x3d1+L2-2*L*cosTheta;theta-\x3ddelta\x3d(theta-K2*Bt-L*delta+cosTheta*phi-.5*t*B)/(2*L*delta*phi)}while(1E-12\x3cabs(delta)\x26\x260\x3c--i);t\x3dA*sqrt(cosTheta);lambda\x3dlambda*phi/pi$jscomp$0}else t\x3dA*(K+t),lambda\x3dlambda*Bt/pi$jscomp$0;return[t*sin(lambda),rho0-t*cos(lambda)]}var L\x3d1+K,sinBt\x3dsin(1/L),Bt\x3dasin(sinBt),A\x3d2*sqrt(pi$jscomp$0/(B\x3dpi$jscomp$0+4*Bt*L)),B,rho0\x3d.5*A*(L+sqrt(K*(2+K))),K2\x3dK*K,L2\x3dL*L;forward.invert\x3d\nfunction(x,y){var rho2\x3dx*x+(y-\x3drho0)*y;y\x3d(1+L2-rho2/(A*A))/(2*L);var theta\x3dacos(y),sinTheta\x3dsin(theta),Bt_Bt1\x3dBt+atan2(sinTheta,L-y);return[asin(x/sqrt(rho2))*pi$jscomp$0/Bt_Bt1,asin(1-2*(theta-K2*Bt-L*sinTheta+(1+L2-2*L*y)*Bt_Bt1)/B)]};return forward}function sinuMollweideRaw(lambda,phi){return-.7109889596207567\x3cphi?(lambda\x3dmollweideRaw(lambda,phi),lambda[1]+\x3d.0528035274542,lambda):sinusoidalRaw(lambda,phi)}function homolosineRaw(lambda,phi){return.7109889596207567\x3cabs(phi)?(lambda\x3dmollweideRaw(lambda,\nphi),lambda[1]-\x3d0\x3cphi?.0528035274542:-.0528035274542,lambda):sinusoidalRaw(lambda,phi)}function hufnagelRaw(a,b,psiMax,ratio){function radius(psi){return sqrt(1+a*cos(2*psi)+b*cos(4*psi))}function mapping(t){t*\x3dpsiMax;return(2*t+(1+a-b/2)*sin(2*t)+(a+b)/2*sin(4*t)+b/2*sin(6*t))/psiMax}function inversemapping(psi){return radius(psi)*sin(psi)}var k\x3dsqrt(4*pi$jscomp$0/(2*psiMax+(1+a-b/2)*sin(2*psiMax)+(a+b)/2*sin(4*psiMax)+b/2*sin(6*psiMax))),c\x3dsqrt(ratio*sin(psiMax)*sqrt((1+a*cos(2*psiMax)+b*cos(4*\npsiMax))/(1+a+b))),M\x3dpsiMax*mapping(1),forward\x3dfunction(lambda,phi){var psi\x3dpsiMax*solve(mapping,M*sin(phi)/psiMax,phi/pi$jscomp$0);isNaN(psi)\x26\x26(psi\x3dpsiMax*sign(phi));phi\x3dk*radius(psi);return[phi*c*lambda/pi$jscomp$0*cos(psi),phi/c*sin(psi)]};forward.invert\x3dfunction(x,y){y\x3dsolve(inversemapping,y*c/k);return[x*pi$jscomp$0/(cos(y)*k*c*radius(y)),asin(psiMax*mapping(y/psiMax)/M)]};0\x3d\x3d\x3dpsiMax\x26\x26(k\x3dsqrt(ratio/pi$jscomp$0),forward\x3dfunction(lambda,phi){return[lambda*k,sin(phi)/k]},forward.invert\x3dfunction(x,\ny){return[x/k,asin(y*k)]});return forward}function adsimp(f,a,b,fa,fm,fb,V0,tol,maxdepth,depth,state){if(state.nanEncountered)return NaN;var h\x3db-a;var f1\x3df(a+.25*h);var f2\x3df(b-.25*h);if(isNaN(f1))state.nanEncountered\x3d!0;else if(isNaN(f2))state.nanEncountered\x3d!0;else{var sl\x3dh*(fa+4*f1+fm)/12;var sr\x3dh*(fm+4*f2+fb)/12;var s2\x3dsl+sr;V0\x3d(s2-V0)/15;if(depth\x3emaxdepth)return state.maxDepthCount++,s2+V0;if(Math.abs(V0)\x3ctol)return s2+V0;h\x3da+.5*h;a\x3dadsimp(f,a,h,fa,f1,fm,sl,.5*tol,maxdepth,depth+1,state);if(isNaN(a))return state.nanEncountered\x3d\n!0,NaN;f\x3dadsimp(f,h,b,fm,f2,fb,sr,.5*tol,maxdepth,depth+1,state);return isNaN(f)?(state.nanEncountered\x3d!0,NaN):a+f}}function integrate(f,a,b,tol,maxdepth){void 0\x3d\x3d\x3dtol\x26\x26(tol\x3d1E-8);void 0\x3d\x3d\x3dmaxdepth\x26\x26(maxdepth\x3d20);var fa\x3df(a),fm\x3df(.5*(a+b)),fb\x3df(b);return adsimp(f,a,b,fa,fm,fb,(fa+4*fm+fb)*(b-a)/6,tol,maxdepth,1,{maxDepthCount:0,nanEncountered:!1})}function hyperellipticalRaw(alpha,k,gamma){function elliptic(f){return alpha+(1-alpha)*pow(1-pow(f,k),1/k)}function Y(sinphi){var rmin\x3d0,rmax\x3d1E3,r\x3d500;\ndo approx[r]\x3esinphi?rmax\x3dr:rmin\x3dr,r\x3drmin+rmax\x3e\x3e1;while(r\x3ermin);(rmin\x3dapprox[r+1]-approx[r])\x26\x26(rmin\x3d(sinphi-approx[r+1])/rmin);return(r+1+rmin)/1E3}for(var G\x3d1/integrate(elliptic,0,1,1E-4),m\x3d1.00000001*G,approx\x3d[],i\x3d0;1E3\x3e\x3di;i++)approx.push(integrate(elliptic,0,i/1E3,1E-4)*m);var ratio\x3d2*Y(1)/pi$jscomp$0*G/gamma;gamma\x3dfunction(lambda,phi){var y\x3dY(abs(sin(phi)));lambda*\x3delliptic(y);y/\x3dratio;return[lambda,0\x3c\x3dphi?y:-y]};gamma.invert\x3dfunction(x,y){var phi;y*\x3dratio;1\x3eabs(y)\x26\x26(phi\x3dsign(y)*asin(integrate(elliptic,\n0,abs(y),1E-4)*G));return[x/elliptic(abs(y)),phi]};return gamma}function interpolateLine(coordinates,m){for(var i\x3d-1,n\x3dcoordinates.length,p0\x3dcoordinates[0],p1,dx,dy,resampled\x3d[];++i\x3cn;){p1\x3dcoordinates[i];dx\x3d(p1[0]-p0[0])/m;dy\x3d(p1[1]-p0[1])/m;for(var j\x3d0;j\x3cm;++j)resampled.push([p0[0]+j*dx,p0[1]+j*dy]);p0\x3dp1}resampled.push(p1);return resampled}function interpolateSphere(lobes){var coordinates\x3d[],i,n\x3dlobes[0].length;for(i\x3d0;i\x3cn;++i){var lobe\x3dlobes[0][i];var lambda0\x3dlobe[0][0];var phi0\x3dlobe[0][1];var phi1\x3d\nlobe[1][1];var lambda2\x3dlobe[2][0];lobe\x3dlobe[2][1];coordinates.push(interpolateLine([[lambda0+1E-6,phi0+1E-6],[lambda0+1E-6,phi1-1E-6],[lambda2-1E-6,phi1-1E-6],[lambda2-1E-6,lobe+1E-6]],30))}for(i\x3dlobes[1].length-1;0\x3c\x3di;--i)lobe\x3dlobes[1][i],lambda0\x3dlobe[0][0],phi0\x3dlobe[0][1],phi1\x3dlobe[1][1],lambda2\x3dlobe[2][0],lobe\x3dlobe[2][1],coordinates.push(interpolateLine([[lambda2-1E-6,lobe-1E-6],[lambda2-1E-6,phi1+1E-6],[lambda0+1E-6,phi1+1E-6],[lambda0+1E-6,phi0-1E-6]],30));return{type:\x22Polygon\x22,coordinates:[d3Array.merge(coordinates)]}}\nfunction interrupt(project,lobes,inverse){function forward(lambda,phi){for(var sign$$1\x3d0\x3ephi?-1:1,lobe\x3dlobes[+(0\x3ephi)],i\x3d0,n\x3dlobe.length-1;i\x3cn\x26\x26lambda\x3elobe[i][2][0];++i);lambda\x3dproject(lambda-lobe[i][1][0],phi);lambda[0]+\x3dproject(lobe[i][1][0],sign$$1*phi\x3esign$$1*lobe[i][0][1]?lobe[i][0][1]:phi)[0];return lambda}var sphere,bounds;inverse?forward.invert\x3dinverse(forward):project.invert\x26\x26(forward.invert\x3dfunction(x,y){for(var bound\x3dbounds[+(0\x3ey)],lobe\x3dlobes[+(0\x3ey)],i\x3d0,n\x3dbound.length;i\x3cn;++i){var b\x3dbound[i];\nif(b[0][0]\x3c\x3dx\x26\x26x\x3cb[1][0]\x26\x26b[0][1]\x3c\x3dy\x26\x26y\x3cb[1][1])return bound\x3dproject.invert(x-project(lobe[i][1][0],0)[0],y),bound[0]+\x3dlobe[i][1][0],lobe\x3dforward(bound[0],bound[1]),x\x3d[x,y],1E-6\x3eabs(lobe[0]-x[0])\x26\x261E-6\x3eabs(lobe[1]-x[1])?bound:null}});var p\x3dd3Geo.geoProjection(forward),stream_\x3dp.stream;p.stream\x3dfunction(stream){var rotate\x3dp.rotate(),rotateStream\x3dstream_(stream),sphereStream\x3d(p.rotate([0,0]),stream_(stream));p.rotate(rotate);rotateStream.sphere\x3dfunction(){d3Geo.geoStream(sphere,sphereStream)};return rotateStream};\np.lobes\x3dfunction(_){if(!arguments.length)return lobes.map(function(lobe){return lobe.map(function(l){return[[l[0][0]*degrees,l[0][1]*degrees],[l[1][0]*degrees,l[1][1]*degrees],[l[2][0]*degrees,l[2][1]*degrees]]})});sphere\x3dinterpolateSphere(_);lobes\x3d_.map(function(lobe){return lobe.map(function(l){return[[l[0][0]*radians,l[0][1]*radians],[l[1][0]*radians,l[1][1]*radians],[l[2][0]*radians,l[2][1]*radians]]})});bounds\x3dlobes.map(function(lobe){return lobe.map(function(l){var x0\x3dproject(l[0][0],l[0][1])[0],\nx1\x3dproject(l[2][0],l[2][1])[0],y0\x3dproject(l[1][0],l[0][1])[1];l\x3dproject(l[1][0],l[1][1])[1];if(y0\x3el){var t\x3dy0;y0\x3dl;l\x3dt}return[[x0,y0],[x1,l]]})});return p};null!\x3dlobes\x26\x26p.lobes(lobes);return p}function kavrayskiy7Raw(lambda,phi){return[3/tau*lambda*sqrt(pi$jscomp$0*pi$jscomp$0/3-phi*phi),phi]}function lagrangeRaw(n){function forward(lambda,phi){if(1E-6\x3eabs(abs(phi)-halfPi))return[0,0\x3ephi?-2:2];phi\x3dsin(phi);phi\x3dpow((1+phi)/(1-phi),n/2);var c\x3d.5*(phi+1/phi)+cos(lambda*\x3dn);return[2*sin(lambda)/c,(phi-\n1/phi)/c]}forward.invert\x3dfunction(x,y){var y0\x3dabs(y);if(1E-6\x3eabs(y0-2))return x?null:[0,sign(y)*halfPi];if(2\x3cy0)return null;x/\x3d2;y/\x3d2;y0\x3dx*x;var y2\x3dy*y;y\x3d2*y/(1+y0+y2);y\x3dpow((1+y)/(1-y),1/n);return[atan2(2*x,1-y0-y2)/n,asin((y-1)/(y+1))]};return forward}function larriveeRaw(lambda,phi){return[lambda*(1+sqrt(cos(phi)))/2,phi/(cos(phi/2)*cos(lambda/6))]}function laskowskiRaw(lambda,phi){var lambda2\x3dlambda*lambda,phi2\x3dphi*phi;return[lambda*(.975534+phi2*(-.119161+-.0143059*lambda2+-.0547009*phi2)),phi*\n(1.00384+lambda2*(.0802894+-.02855*phi2+1.99025E-4*lambda2)+phi2*(.0998909+-.0491032*phi2))]}function littrowRaw(lambda,phi){return[sin(lambda)/cos(phi),tan(phi)*cos(lambda)]}function loximuthalRaw(phi0){function forward(lambda,phi){var y\x3dphi-phi0,x\x3d1E-6\x3eabs(y)?lambda*cosPhi0:1E-6\x3eabs(x\x3dquarterPi+phi/2)||1E-6\x3eabs(abs(x)-halfPi)?0:lambda*y/log(tan(x)/tanPhi0);return[x,y]}var cosPhi0\x3dcos(phi0),tanPhi0\x3dtan(quarterPi+phi0/2);forward.invert\x3dfunction(x,y){var lambda,phi\x3dy+phi0;return[1E-6\x3eabs(y)?x/cosPhi0:\n1E-6\x3eabs(lambda\x3dquarterPi+phi/2)||1E-6\x3eabs(abs(lambda)-halfPi)?0:x*log(tan(lambda)/tanPhi0)/y,phi]};return forward}function millerRaw(lambda,phi){return[lambda,1.25*log(tan(quarterPi+.4*phi))]}function modifiedStereographicRaw(C){function forward(lambda,phi){var cosPhi\x3dcos(phi),k\x3d2/(1+cosPhi*cos(lambda));lambda\x3dk*cosPhi*sin(lambda);phi\x3dk*sin(phi);k\x3dm;cosPhi\x3dC[k];for(var ar\x3dcosPhi[0],ai\x3dcosPhi[1],t;0\x3c\x3d--k;)cosPhi\x3dC[k],ar\x3dcosPhi[0]+lambda*(t\x3dar)-phi*ai,ai\x3dcosPhi[1]+lambda*ai+phi*t;ar\x3dlambda*(t\x3dar)-\nphi*ai;return[ar,lambda*ai+phi*t]}var m\x3dC.length-1;forward.invert\x3dfunction(x,y){var i\x3d20,zr\x3dx,zi\x3dy;do{for(var j\x3dm,w\x3dC[j],ar\x3dw[0],ai\x3dw[1],br\x3d0,bi\x3d0,t;0\x3c\x3d--j;)w\x3dC[j],br\x3dar+zr*(t\x3dbr)-zi*bi,bi\x3dai+zr*bi+zi*t,ar\x3dw[0]+zr*(t\x3dar)-zi*ai,ai\x3dw[1]+zr*ai+zi*t;br\x3dar+zr*(t\x3dbr)-zi*bi;bi\x3dai+zr*bi+zi*t;ar\x3dzr*(t\x3dar)-zi*ai-x;ai\x3dzr*ai+zi*t-y;w\x3dbr*br+bi*bi;zr-\x3dj\x3d(ar*br+ai*bi)/w;zi-\x3dar\x3d(ai*br-ar*bi)/w}while(1E-12\x3cabs(j)+abs(ar)\x26\x260\x3c--i);if(i)return x\x3dsqrt(zr*zr+zi*zi),y\x3d2*atan(.5*x),i\x3dsin(y),[atan2(zr*i,x*cos(y)),x?asin(zi*\ni/x):0]};return forward}function modifiedStereographic(coefficients,rotate){coefficients\x3dd3Geo.geoProjection(modifiedStereographicRaw(coefficients)).rotate(rotate).clipAngle(90);var r\x3dd3Geo.geoRotation(rotate),center\x3dcoefficients.center;delete coefficients.rotate;coefficients.center\x3dfunction(_){return arguments.length?center(r(_)):r.invert(center())};return coefficients}function mtFlatPolarParabolicRaw(lambda,phi){phi\x3dasin(7*sin(phi)/(3*sqrt6));return[sqrt6*lambda*(2*cos(2*phi/3)-1)/sqrt7,9*sin(phi/\n3)/sqrt7]}function mtFlatPolarQuarticRaw(lambda,phi){for(var k\x3d(1+sqrt1_2)*sin(phi),i\x3d0,delta;25\x3ei\x26\x26!(phi-\x3ddelta\x3d(sin(phi/2)+sin(phi)-k)/(.5*cos(phi/2)+cos(phi)),1E-6\x3eabs(delta));i++);return[lambda*(1+2*cos(phi)/cos(phi/2))/(3*sqrt2),2*sqrt(3)*sin(phi/2)/sqrt(2+sqrt2)]}function mtFlatPolarSinusoidalRaw(lambda,phi){var A\x3dsqrt(6/(4+pi$jscomp$0)),k\x3d(1+pi$jscomp$0/4)*sin(phi);phi/\x3d2;for(var i\x3d0,delta;25\x3ei\x26\x26!(phi-\x3ddelta\x3d(phi/2+sin(phi)-k)/(.5+cos(phi)),1E-6\x3eabs(delta));i++);return[A*(.5+cos(phi))*lambda/\n1.5,A*phi]}function naturalEarth2Raw(lambda,phi){var phi2\x3dphi*phi,phi4\x3dphi2*phi2,phi6\x3dphi2*phi4;return[lambda*(.84719-.13063*phi2+phi6*phi6*(-.04515+.05494*phi2-.02326*phi4+.00331*phi6)),phi*(1.01183+phi4*phi4*(-.02625+.01926*phi2-.00396*phi4))]}function nellHammerRaw(lambda,phi){return[lambda*(1+cos(phi))/2,2*(phi-tan(phi/2))]}function nicolosiRaw(lambda,phi){var sinPhi\x3dsin(phi),q\x3dcos(phi),s\x3dsign(lambda);if(0\x3d\x3d\x3dlambda||abs(phi)\x3d\x3d\x3dhalfPi)return[0,phi];if(0\x3d\x3d\x3dphi)return[lambda,0];if(abs(lambda)\x3d\x3d\x3d\nhalfPi)return[lambda*q,halfPi*sinPhi];lambda\x3dpi$jscomp$0/(2*lambda)-2*lambda/pi$jscomp$0;var c\x3d2*phi/pi$jscomp$0,d\x3d(1-c*c)/(sinPhi-c),b2\x3dlambda*lambda,d2\x3dd*d;c\x3d1+b2/d2;var d2b2\x3d1+d2/b2,M\x3d(lambda*sinPhi/d-lambda/2)/c,N\x3d(d2*sinPhi/b2+d/2)/d2b2;sinPhi\x3dN*N-(d2*sinPhi*sinPhi/b2+d*sinPhi-1)/d2b2;return[halfPi*(M+sqrt(M*M+q*q/c)*s),halfPi*(N+sqrt(0\x3esinPhi?0:sinPhi)*sign(-phi*lambda)*s)]}function pattersonRaw(lambda,phi){var phi2\x3dphi*phi;return[lambda,phi*(1.0148+phi2*phi2*(.23185+phi2*(-.14499+.02406*phi2)))]}\nfunction polyconicRaw(lambda,phi){if(1E-6\x3eabs(phi))return[lambda,0];var tanPhi\x3dtan(phi);lambda*\x3dsin(phi);return[sin(lambda)/tanPhi,phi+(1-cos(lambda))/tanPhi]}function matrix(a,b){var u\x3dsubtract(a[1],a[0]),v\x3dsubtract(b[1],b[0]),phi\x3datan2(u[0]*v[1]-u[1]*v[0],u[0]*v[0]+u[1]*v[1]);u\x3dsqrt(u[0]*u[0]+u[1]*u[1])/sqrt(v[0]*v[0]+v[1]*v[1]);return multiply([1,0,a[0][0],0,1,a[0][1]],multiply([u,0,0,0,u,0],multiply([cos(phi),sin(phi),0,-sin(phi),cos(phi),0],[1,0,-b[0][0],0,1,-b[0][1]])))}function multiply(a,\nb){return[a[0]*b[0]+a[1]*b[3],a[0]*b[1]+a[1]*b[4],a[0]*b[2]+a[1]*b[5]+a[2],a[3]*b[0]+a[4]*b[3],a[3]*b[1]+a[4]*b[4],a[3]*b[2]+a[4]*b[5]+a[5]]}function subtract(a,b){return[a[0]-b[0],a[1]-b[1]]}function polyhedral(root,face){function recurse(node,parent){node.edges\x3dfaceEdges(node.face);if(parent.face){var shared\x3dnode.shared\x3dsharedEdge(node.face,parent.face),m\x3dmatrix(shared.map(parent.project),shared.map(node.project));node.transform\x3dparent.transform?multiply(parent.transform,m):m;m\x3dparent.edges;for(var i\x3d\n0,n\x3dm.length;i\x3cn;++i)pointEqual$1(shared[0],m[i][1])\x26\x26pointEqual$1(shared[1],m[i][0])\x26\x26(m[i]\x3dnode),pointEqual$1(shared[0],m[i][0])\x26\x26pointEqual$1(shared[1],m[i][1])\x26\x26(m[i]\x3dnode);m\x3dnode.edges;i\x3d0;for(n\x3dm.length;i\x3cn;++i)pointEqual$1(shared[0],m[i][0])\x26\x26pointEqual$1(shared[1],m[i][1])\x26\x26(m[i]\x3dparent),pointEqual$1(shared[0],m[i][1])\x26\x26pointEqual$1(shared[1],m[i][0])\x26\x26(m[i]\x3dparent)}else node.transform\x3dparent.transform;node.children\x26\x26node.children.forEach(function(child){recurse(child,node)});return node}\nfunction forward(lambda,phi){var node\x3dface(lambda,phi);lambda\x3dnode.project([lambda*degrees,phi*degrees]);if(node\x3dnode.transform)return[node[0]*lambda[0]+node[1]*lambda[1]+node[2],-(node[3]*lambda[0]+node[4]*lambda[1]+node[5])];lambda[1]\x3d-lambda[1];return lambda}function faceInvert(node,coordinates){var invert\x3dnode.project.invert,t\x3dnode.transform,point\x3dcoordinates;if(t){var k\x3d1/(t[0]*t[4]-t[1]*t[3]);t\x3d[k*t[4],-k*t[1],k*(t[1]*t[5]-t[2]*t[4]),-k*t[3],k*t[0],k*(t[2]*t[3]-t[0]*t[5])];point\x3d[t[0]*point[0]+\nt[1]*point[1]+t[2],t[3]*point[0]+t[4]*point[1]+t[5]]}if(t\x3dinvert)invert\x3dp\x3dinvert(point),invert\x3dface(invert[0]*radians,invert[1]*radians),t\x3dnode\x3d\x3d\x3dinvert;if(t)return p;var p;node\x3dnode.children;invert\x3d0;for(point\x3dnode\x26\x26node.length;invert\x3cpoint;++invert)if(p\x3dfaceInvert(node[invert],coordinates))return p}recurse(root,{transform:null});hasInverse(root)\x26\x26(forward.invert\x3dfunction(x,y){return(x\x3dfaceInvert(root,[x,-y]))\x26\x26(x[0]*\x3dradians,x[1]*\x3dradians,x)});var proj\x3dd3Geo.geoProjection(forward),stream_\x3dproj.stream;\nproj.stream\x3dfunction(stream){var rotate\x3dproj.rotate(),rotateStream\x3dstream_(stream),sphereStream\x3d(proj.rotate([0,0]),stream_(stream));proj.rotate(rotate);rotateStream.sphere\x3dfunction(){sphereStream.polygonStart();sphereStream.lineStart();outline(sphereStream,root);sphereStream.lineEnd();sphereStream.polygonEnd()};return rotateStream};return proj.angle(-30)}function outline(stream,node,parent){var point,edges\x3dnode.edges,n\x3dedges.length;var edge\x3d{type:\x22MultiPoint\x22,coordinates:node.face};var notPoles\x3d\nnode.face.filter(function(d){return 90!\x3d\x3dabs(d[1])}),b\x3dd3Geo.geoBounds({type:\x22MultiPoint\x22,coordinates:notPoles});notPoles\x3d!1;var j\x3d-1,dx\x3db[1][0]-b[0][0];b\x3d180\x3d\x3d\x3ddx||360\x3d\x3d\x3ddx?[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]:d3Geo.geoCentroid(edge);if(parent)for(;++j\x3cn\x26\x26edges[j]!\x3d\x3dparent;);++j;for(dx\x3d0;dx\x3cn;++dx)edge\x3dedges[(dx+j)%n],Array.isArray(edge)?(notPoles||(stream.point((point\x3dd3Geo.geoInterpolate(edge[0],b)(1E-6))[0],point[1]),notPoles\x3d!0),stream.point((point\x3dd3Geo.geoInterpolate(edge[1],b)(1E-6))[0],\npoint[1])):(notPoles\x3d!1,edge!\x3d\x3dparent\x26\x26outline(stream,edge,node))}function pointEqual$1(a,b){return a\x26\x26b\x26\x26a[0]\x3d\x3d\x3db[0]\x26\x26a[1]\x3d\x3d\x3db[1]}function sharedEdge(a,b){for(var x,y,n\x3da.length,found\x3dnull,i\x3d0;i\x3cn;++i){x\x3da[i];for(var j\x3db.length;0\x3c\x3d--j;)if(y\x3db[j],x[0]\x3d\x3d\x3dy[0]\x26\x26x[1]\x3d\x3d\x3dy[1]){if(found)return[found,x];found\x3dx}}}function faceEdges(face){for(var n\x3dface.length,edges\x3d[],a\x3dface[n-1],i\x3d0;i\x3cn;++i)edges.push([a,a\x3dface[i]]);return edges}function hasInverse(node){return node.project.invert||node.children\x26\x26node.children.some(hasInverse)}\nfunction collignonK(a,b){a\x3dcollignonRaw(a,b);return[a[0]*kx,a[1]]}function dot(a,b){for(var i\x3d0,n\x3da.length,s\x3d0;i\x3cn;++i)s+\x3da[i]*b[i];return s}function cross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0])*degrees,asin(max(-1,min(1,cartesian[2])))*degrees]}function cartesian$jscomp$0(coordinates){var lambda\x3dcoordinates[0]*radians;coordinates\x3dcoordinates[1]*radians;var cosphi\x3dcos(coordinates);return[cosphi*\ncos(lambda),cosphi*sin(lambda),sin(coordinates)]}function projectFeatureCollection(o,stream){return{type:\x22FeatureCollection\x22,features:o.features.map(function(f){return projectFeature(f,stream)})}}function projectFeature(o,stream){return{type:\x22Feature\x22,id:o.id,properties:o.properties,geometry:projectGeometry(o.geometry,stream)}}function projectGeometryCollection(o$jscomp$0,stream){return{type:\x22GeometryCollection\x22,geometries:o$jscomp$0.geometries.map(function(o){return projectGeometry(o,stream)})}}\nfunction projectGeometry(o,stream){if(!o)return null;if(\x22GeometryCollection\x22\x3d\x3d\x3do.type)return projectGeometryCollection(o,stream);switch(o.type){case \x22Point\x22:var sink\x3dsinkPoint;break;case \x22MultiPoint\x22:sink\x3dsinkPoint;break;case \x22LineString\x22:sink\x3dsinkLine;break;case \x22MultiLineString\x22:sink\x3dsinkLine;break;case \x22Polygon\x22:sink\x3dsinkPolygon;break;case \x22MultiPolygon\x22:sink\x3dsinkPolygon;break;case \x22Sphere\x22:sink\x3dsinkPolygon;break;default:return null}d3Geo.geoStream(o,stream(sink));return sink.result()}function quincuncial(project){function projectQuincuncial(lambda,\nphi){var t\x3dabs(lambda)\x3chalfPi;phi\x3dproject(t?lambda:0\x3clambda?lambda-pi$jscomp$0:lambda+pi$jscomp$0,phi);lambda\x3d(phi[0]-phi[1])*sqrt1_2;phi\x3d(phi[0]+phi[1])*sqrt1_2;if(t)return[lambda,phi];t\x3ddx*sqrt1_2;var s\x3d0\x3clambda^0\x3cphi?-1:1;return[s*lambda-sign(phi)*t,s*phi-sign(lambda)*t]}var dx\x3dproject(halfPi,0)[0]-project(-halfPi,0)[0];project.invert\x26\x26(projectQuincuncial.invert\x3dfunction(x0,y0){var x\x3d(x0+y0)*sqrt1_2,y\x3d(y0-x0)*sqrt1_2,t\x3dabs(x)\x3c.5*dx\x26\x26abs(y)\x3c.5*dx;if(!t){var d\x3ddx*sqrt1_2,s\x3d0\x3cx^0\x3cy?-1:1;x0\x3d-s*x0+\n(0\x3cy?1:-1)*d;y0\x3d-s*y0+(0\x3cx?1:-1)*d;x\x3d(-x0-y0)*sqrt1_2;y\x3d(x0-y0)*sqrt1_2}y0\x3dproject.invert(x,y);t||(y0[0]+\x3d0\x3cx?pi$jscomp$0:-pi$jscomp$0);return y0});return d3Geo.geoProjection(projectQuincuncial).rotate([-90,-90,45]).clipAngle(179.999)}function rectangularPolyconicRaw(phi0){function forward(lambda,phi){lambda\x3dsinPhi0?tan(lambda*sinPhi0/2)/sinPhi0:lambda/2;if(!phi)return[2*lambda,-phi0];lambda\x3d2*atan(lambda*sin(phi));var cotPhi\x3d1/tan(phi);return[sin(lambda)*cotPhi,phi+(1-cos(lambda))*cotPhi-phi0]}var sinPhi0\x3d\nsin(phi0);forward.invert\x3dfunction(x,y){if(1E-6\x3eabs(y+\x3dphi0))return[sinPhi0?2*atan(sinPhi0*x/2)/sinPhi0:x,0];var k\x3dx*x+y*y,phi\x3d0,i\x3d10;do{var delta\x3dtan(phi);var secPhi\x3d1/cos(phi),j\x3dk-2*y*phi+phi*phi;phi-\x3ddelta\x3d(delta*j+2*(phi-y))/(2+j*secPhi*secPhi+2*(phi-y)*delta)}while(1E-6\x3cabs(delta)\x26\x260\x3c--i);x*\x3ddelta\x3dtan(phi);y\x3dtan(abs(y)\x3cabs(phi+1/delta)?.5*asin(x):.5*acos(x)+pi$jscomp$0/4)/sin(phi);return[sinPhi0?2*atan(sinPhi0*y)/sinPhi0:2*y,phi]};return forward}function robinsonRaw(lambda,phi){var i\x3dmin(18,36*\nabs(phi)/pi$jscomp$0),i0\x3dfloor(i);i-\x3di0;var ax\x3d(k\x3dK$1[i0])[0],ay\x3dk[1],bx\x3d(k\x3dK$1[++i0])[0],by\x3dk[1];i0\x3d(k\x3dK$1[min(19,++i0)])[0];k\x3dk[1];var k;return[lambda*(bx+i*(i0-ax)/2+i*i*(i0-2*bx+ax)/2),(0\x3cphi?halfPi:-halfPi)*(by+i*(k-ay)/2+i*i*(k-2*by+ay)/2)]}function satelliteVerticalRaw(P){function forward(lambda,phi){var cosPhi\x3dcos(phi),k\x3d(P-1)/(P-cosPhi*cos(lambda));return[k*cosPhi*sin(lambda),k*sin(phi)]}forward.invert\x3dfunction(x,y){var rho2\x3dx*x+y*y,rho\x3dsqrt(rho2);rho2\x3d(P-sqrt(1-rho2*(P+1)/(P-1)))/((P-1)/\nrho+rho/(P-1));return[atan2(x*rho2,rho*sqrt(1-rho2*rho2)),rho?asin(y*rho2/rho):0]};return forward}function satelliteRaw(P,omega){function forward(lambda,phi){lambda\x3dvertical(lambda,phi);phi\x3dlambda[1];var A\x3dphi*sinOmega/(P-1)+cosOmega;return[lambda[0]*cosOmega/A,phi/A]}var vertical\x3dsatelliteVerticalRaw(P);if(!omega)return vertical;var cosOmega\x3dcos(omega),sinOmega\x3dsin(omega);forward.invert\x3dfunction(x,y){var k\x3d(P-1)/(P-1-y*sinOmega);return vertical.invert(k*x,k*y*cosOmega)};return forward}function nonempty(coordinates){return 0\x3c\ncoordinates.length}function normalizePoint(y){return-90\x3d\x3d\x3dy||90\x3d\x3d\x3dy?[0,y]:[-180,Math.floor(1E4*y)/1E4]}function clampPoint(p){var x\x3dp[0],y\x3dp[1],clamped\x3d!1;-179.9999\x3e\x3dx?(x\x3d-180,clamped\x3d!0):179.9999\x3c\x3dx\x26\x26(x\x3d180,clamped\x3d!0);-89.9999\x3e\x3dy?(y\x3d-90,clamped\x3d!0):89.9999\x3c\x3dy\x26\x26(y\x3d90,clamped\x3d!0);return clamped?[x,y]:p}function clampPoints(points){return points.map(clampPoint)}function extractFragments(rings,polygon,fragments){for(var j\x3d0,m\x3drings.length;j\x3cm;++j){var ring\x3drings[j].slice();fragments.push({index:-1,\npolygon:polygon,ring:ring});for(var i\x3d0,n\x3dring.length;i\x3cn;++i){var point\x3dring[i],x\x3dpoint[0],y\x3dpoint[1];if(-179.9999\x3e\x3dx||179.9999\x3c\x3dx||-89.9999\x3e\x3dy||89.9999\x3c\x3dy){ring[i]\x3dclampPoint(point);for(point\x3di+1;point\x3cn;++point){var pointk\x3dring[point];x\x3dpointk[0];pointk\x3dpointk[1];if(-179.9999\x3cx\x26\x26179.9999\x3ex\x26\x26-89.9999\x3cpointk\x26\x2689.9999\x3epointk)break}if(point!\x3d\x3di+1){i?(i\x3d{index:-1,polygon:polygon,ring:ring.slice(0,i+1)},i.ring[i.ring.length-1]\x3dnormalizePoint(y),fragments[fragments.length-1]\x3di):fragments.pop();if(point\x3e\x3d\nn)break;fragments.push({index:-1,polygon:polygon,ring:ring\x3dring.slice(point-1)});ring[0]\x3dnormalizePoint(ring[0][1]);i\x3d-1;n\x3dring.length}}}}}function stitchFragments(fragments){var i,n\x3dfragments.length,fragmentByStart\x3d{},fragmentByEnd\x3d{};for(i\x3d0;i\x3cn;++i){var fragment\x3dfragments[i];var start\x3dfragment.ring[0];var end\x3dfragment.ring[fragment.ring.length-1];start[0]\x3d\x3d\x3dend[0]\x26\x26start[1]\x3d\x3d\x3dend[1]?(fragment.polygon.push(fragment.ring),fragments[i]\x3dnull):(fragment.index\x3di,fragmentByStart[start]\x3dfragmentByEnd[end]\x3d\nfragment)}for(i\x3d0;i\x3cn;++i)if(fragment\x3dfragments[i]){start\x3dfragment.ring[0];end\x3dfragment.ring[fragment.ring.length-1];var startFragment\x3dfragmentByEnd[start];var endFragment\x3dfragmentByStart[end];delete fragmentByStart[start];delete fragmentByEnd[end];start[0]\x3d\x3d\x3dend[0]\x26\x26start[1]\x3d\x3d\x3dend[1]?fragment.polygon.push(fragment.ring):startFragment?(delete fragmentByEnd[start],delete fragmentByStart[startFragment.ring[0]],startFragment.ring.pop(),fragments[startFragment.index]\x3dnull,fragment\x3d{index:-1,polygon:startFragment.polygon,\nring:startFragment.ring.concat(fragment.ring)},startFragment\x3d\x3d\x3dendFragment?fragment.polygon.push(fragment.ring):(fragment.index\x3dn++,fragments.push(fragmentByStart[fragment.ring[0]]\x3dfragmentByEnd[fragment.ring[fragment.ring.length-1]]\x3dfragment))):endFragment?(delete fragmentByStart[end],delete fragmentByEnd[endFragment.ring[endFragment.ring.length-1]],fragment.ring.pop(),fragment\x3d{index:n++,polygon:endFragment.polygon,ring:fragment.ring.concat(endFragment.ring)},fragments[endFragment.index]\x3dnull,fragments.push(fragmentByStart[fragment.ring[0]]\x3d\nfragmentByEnd[fragment.ring[fragment.ring.length-1]]\x3dfragment)):(fragment.ring.push(fragment.ring[0]),fragment.polygon.push(fragment.ring))}}function stitchFeature(input){var output\x3d{type:\x22Feature\x22,geometry:stitchGeometry(input.geometry)};null!\x3dinput.id\x26\x26(output.id\x3dinput.id);null!\x3dinput.bbox\x26\x26(output.bbox\x3dinput.bbox);null!\x3dinput.properties\x26\x26(output.properties\x3dinput.properties);return output}function stitchGeometry(input){if(null\x3d\x3dinput)return input;switch(input.type){case \x22GeometryCollection\x22:var output\x3d\n{type:\x22GeometryCollection\x22,geometries:input.geometries.map(stitchGeometry)};break;case \x22Point\x22:output\x3d{type:\x22Point\x22,coordinates:clampPoint(input.coordinates)};break;case \x22MultiPoint\x22:case \x22LineString\x22:output\x3d{type:input.type,coordinates:clampPoints(input.coordinates)};break;case \x22MultiLineString\x22:output\x3d{type:\x22MultiLineString\x22,coordinates:input.coordinates.map(clampPoints)};break;case \x22Polygon\x22:var i\x3d[];extractFragments(input.coordinates,i,output\x3d[]);stitchFragments(output);output\x3d{type:\x22Polygon\x22,\ncoordinates:i};break;case \x22MultiPolygon\x22:output\x3d[];i\x3d-1;var n\x3dinput.coordinates.length;for(var polygons\x3dArray(n);++i\x3cn;)extractFragments(input.coordinates[i],polygons[i]\x3d[],output);stitchFragments(output);output\x3d{type:\x22MultiPolygon\x22,coordinates:polygons.filter(nonempty)};break;default:return input}null!\x3dinput.bbox\x26\x26(output.bbox\x3dinput.bbox);return output}function timesRaw(lambda,phi){phi\x3dtan(phi/2);var s\x3dsin(quarterPi*phi);return[lambda*(.74482-.34588*s*s),1.70711*phi]}function twoPoint(raw,p0,p1){var i\x3d\nd3Geo.geoInterpolate(p0,p1);p1\x3di(.5);p0\x3dd3Geo.geoRotation([-p1[0],-p1[1]])(p0);i\x3di.distance/2;var y\x3d-asin(sin(p0[1]*radians)/sin(i));p1\x3d[-p1[0],-p1[1],-(0\x3cp0[0]?pi$jscomp$0-y:y)*degrees];raw\x3dd3Geo.geoProjection(raw(i)).rotate(p1);var r\x3dd3Geo.geoRotation(p1),center\x3draw.center;delete raw.rotate;raw.center\x3dfunction(_){return arguments.length?center(r(_)):r.invert(center())};return raw.clipAngle(90)}function twoPointAzimuthalRaw(d){function forward(lambda,phi){lambda\x3dd3Geo.geoGnomonicRaw(lambda,phi);\nlambda[0]*\x3dcosd;return lambda}var cosd\x3dcos(d);forward.invert\x3dfunction(x,y){return d3Geo.geoGnomonicRaw.invert(x/cosd,y)};return forward}function twoPointAzimuthal(p0,p1){return twoPoint(twoPointAzimuthalRaw,p0,p1)}function twoPointEquidistantRaw(z0){function forward(lambda,phi){var za\x3dacos(cos(phi)*cos(lambda-lambdaa));lambda\x3dacos(cos(phi)*cos(lambda-lambdab));za*\x3dza;lambda*\x3dlambda;return[(za-lambda)/(2*z0),(0\x3ephi?-1:1)*sqrt(4*z02*lambda-(z02-za+lambda)*(z02-za+lambda))/(2*z0)]}if(!(z0*\x3d2))return d3Geo.geoAzimuthalEquidistantRaw;\nvar lambdaa\x3d-z0/2,lambdab\x3d-lambdaa,z02\x3dz0*z0,tanLambda0\x3dtan(lambdab),S\x3d.5/sin(lambdab);forward.invert\x3dfunction(x,y){var y2\x3dy*y,cosza\x3dcos(sqrt(y2+(t\x3dx+lambdaa)*t));x\x3dcos(sqrt(y2+(t\x3dx+lambdab)*t));var t,d;return[atan2(d\x3dcosza-x,t\x3d(cosza+x)*tanLambda0),(0\x3ey?-1:1)*acos(sqrt(t*t+d*d)*S)]};return forward}function twoPointEquidistant(p0,p1){return twoPoint(twoPointEquidistantRaw,p0,p1)}function vanDerGrintenRaw(lambda,phi){if(1E-6\x3eabs(phi))return[lambda,0];var sinTheta\x3dabs(phi/halfPi),theta\x3dasin(sinTheta);\nif(1E-6\x3eabs(lambda)||1E-6\x3eabs(abs(phi)-halfPi))return[0,sign(phi)*pi$jscomp$0*tan(theta/2)];var cosTheta\x3dcos(theta);theta\x3dabs(pi$jscomp$0/lambda-lambda/pi$jscomp$0)/2;var A2\x3dtheta*theta;cosTheta/\x3dsinTheta+cosTheta-1;sinTheta\x3dcosTheta*(2/sinTheta-1);var P2\x3dsinTheta*sinTheta,P2_A2\x3dP2+A2,G_P2\x3dcosTheta-P2,Q\x3dA2+cosTheta;return[sign(lambda)*pi$jscomp$0*(theta*G_P2+sqrt(A2*G_P2*G_P2-P2_A2*(cosTheta*cosTheta-P2)))/P2_A2,sign(phi)*pi$jscomp$0*(sinTheta*Q-theta*sqrt((A2+1)*P2_A2-Q*Q))/P2_A2]}function vanDerGrinten2Raw(lambda,\nphi){if(1E-6\x3eabs(phi))return[lambda,0];var sinTheta\x3dabs(phi/halfPi),theta\x3dasin(sinTheta);if(1E-6\x3eabs(lambda)||1E-6\x3eabs(abs(phi)-halfPi))return[0,sign(phi)*pi$jscomp$0*tan(theta/2)];var cosTheta\x3dcos(theta);theta\x3dabs(pi$jscomp$0/lambda-lambda/pi$jscomp$0)/2;var A2\x3dtheta*theta;sinTheta\x3dcosTheta*(sqrt(1+A2)-theta*cosTheta)/(1+A2*sinTheta*sinTheta);return[sign(lambda)*pi$jscomp$0*sinTheta,sign(phi)*pi$jscomp$0*sqrt(1-sinTheta*(2*theta+sinTheta))]}function vanDerGrinten3Raw(lambda,phi){if(1E-6\x3eabs(phi))return[lambda,\n0];var sinTheta\x3dphi/halfPi,theta\x3dasin(sinTheta);if(1E-6\x3eabs(lambda)||1E-6\x3eabs(abs(phi)-halfPi))return[0,pi$jscomp$0*tan(theta/2)];phi\x3d(pi$jscomp$0/lambda-lambda/pi$jscomp$0)/2;sinTheta/\x3d1+cos(theta);return[pi$jscomp$0*(sign(lambda)*sqrt(phi*phi+1-sinTheta*sinTheta)-phi),pi$jscomp$0*sinTheta]}function vanDerGrinten4Raw(lambda,phi){if(!phi)return[lambda,0];var phi0\x3dabs(phi);if(!lambda||phi0\x3d\x3d\x3dhalfPi)return[0,phi];var B\x3dphi0/halfPi;phi0\x3dB*B;var C\x3d(8*B-phi0*(phi0+2)-5)/(2*phi0*(B-1)),C2\x3dC*C,BC\x3dB*C,B_C2\x3d\nphi0+C2+2*BC;B+\x3d3*C;C\x3dlambda/halfPi;C+\x3d1/C;C\x3dsign(abs(lambda)-halfPi)*sqrt(C*C-4);var D2\x3dC*C;phi0\x3d(C*(B_C2+C2-1)+2*sqrt(B_C2*(phi0+C2*D2-1)+(1-phi0)*(phi0*(B*B+4*C2)+12*BC*C2+4*C2*C2)))/(4*B_C2+D2);return[sign(lambda)*halfPi*phi0,sign(phi)*halfPi*sqrt(1+C*abs(phi0)-phi0*phi0)]}function wagnerFormula(cx,cy,m1,m2,n){function forward(lambda,phi){phi\x3dm1*sin(m2*phi);var c0\x3dsqrt(1-phi*phi),c1\x3dsqrt(2/(1+c0*cos(lambda*\x3dn)));return[cx*c0*c1*sin(lambda),cy*phi*c1]}forward.invert\x3dfunction(x,y){var t1\x3dx/cx,t2\x3d\ny/cy;t1\x3dsqrt(t1*t1+t2*t2);t2\x3d2*asin(t1/2);return[atan2(x*tan(t2),cx*t1)/n,t1\x26\x26asin(y*sin(t2)/(cy*m1*t1))/m2]};return forward}function wagnerRaw(poleline,parallels,inflation,ratio){var phi1\x3dpi$jscomp$0/3;poleline\x3dmax(poleline,1E-6);parallels\x3dmax(parallels,1E-6);poleline\x3dmin(poleline,halfPi);parallels\x3dmin(parallels,pi$jscomp$0-1E-6);inflation\x3dmax(inflation,0);inflation\x3dmin(inflation,99.999999);ratio\x3dmax(ratio,1E-6);var vratio\x3dratio/100;inflation\x3dacos((inflation/100+1)*cos(phi1))/phi1;phi1\x3dsin(poleline)/\nsin(inflation*halfPi);ratio\x3dparallels/pi$jscomp$0;parallels\x3dsqrt(vratio*sin(poleline/2)/sin(parallels/2));poleline\x3dparallels/sqrt(ratio*phi1*inflation);parallels\x3d1/(parallels*sqrt(ratio*phi1*inflation));return wagnerFormula(poleline,parallels,phi1,inflation,ratio)}function wagner(){var poleline\x3d65*radians,parallels\x3d60*radians,inflation\x3d20,ratio\x3d200,mutate\x3dd3Geo.geoProjectionMutator(wagnerRaw),projection\x3dmutate(poleline,parallels,inflation,ratio);projection.poleline\x3dfunction(_){return arguments.length?\nmutate(poleline\x3d+_*radians,parallels,inflation,ratio):poleline*degrees};projection.parallels\x3dfunction(_){return arguments.length?mutate(poleline,parallels\x3d+_*radians,inflation,ratio):parallels*degrees};projection.inflation\x3dfunction(_){return arguments.length?mutate(poleline,parallels,inflation\x3d+_,ratio):inflation};projection.ratio\x3dfunction(_){return arguments.length?mutate(poleline,parallels,inflation,ratio\x3d+_):ratio};return projection.scale(163.775)}function wagner6Raw(lambda,phi){return[lambda*\nsqrt(1-3*phi*phi/(pi$jscomp$0*pi$jscomp$0)),phi]}function wiechelRaw(lambda,phi){var cosPhi\x3dcos(phi),sinPhi\x3dcos(lambda)*cosPhi,sin1_Phi\x3d1-sinPhi;phi\x3dcos(lambda\x3datan2(sin(lambda)*cosPhi,-sin(phi)));lambda\x3dsin(lambda);cosPhi\x3dsqrt(1-sinPhi*sinPhi);return[lambda*cosPhi-phi*sin1_Phi,-phi*cosPhi-lambda*sin1_Phi]}function winkel3Raw(lambda,phi){var coordinates\x3daitoffRaw(lambda,phi);return[(coordinates[0]+lambda/halfPi)/2,(coordinates[1]+phi)/2]}var abs\x3dMath.abs,atan\x3dMath.atan,atan2\x3dMath.atan2,cos\x3dMath.cos,\nexp\x3dMath.exp,floor\x3dMath.floor,log\x3dMath.log,max\x3dMath.max,min\x3dMath.min,pow\x3dMath.pow,round\x3dMath.round,sign\x3dMath.sign||function(x){return 0\x3cx?1:0\x3ex?-1:0},sin\x3dMath.sin,tan\x3dMath.tan,pi$jscomp$0\x3dMath.PI,halfPi\x3dpi$jscomp$0/2,quarterPi\x3dpi$jscomp$0/4,sqrt1_2\x3dMath.SQRT1_2,sqrt2\x3dsqrt(2),sqrtPi\x3dsqrt(pi$jscomp$0),tau\x3d2*pi$jscomp$0,degrees\x3d180/pi$jscomp$0,radians\x3dpi$jscomp$0/180;aitoffRaw.invert\x3dfunction(x,y){if(!(x*x+4*y*y\x3epi$jscomp$0*pi$jscomp$0+1E-6)){var x1\x3dx,y1\x3dy,i\x3d25;do{var sinx\x3dsin(x1),sinx_2\x3dsin(x1/2),cosx_2\x3d\ncos(x1/2),siny\x3dsin(y1),cosy\x3dcos(y1),sin_2y\x3dsin(2*y1),sin2y\x3dsiny*siny,cos2y\x3dcosy*cosy,sin2x_2\x3dsinx_2*sinx_2,c\x3d1-cos2y*cosx_2*cosx_2,e\x3dc?acos(cosy*cosx_2)*sqrt(f\x3d1/c):f\x3d0,f;c\x3d2*e*cosy*sinx_2-x;var fy\x3de*siny-y,dxdx\x3df*(cos2y*sin2x_2+e*cosy*cosx_2*sin2y),dxdy\x3df*(.5*sinx*sin_2y-2*e*siny*sinx_2);sinx\x3d.25*f*(sin_2y*sinx_2-e*siny*cos2y*sinx);cosy\x3df*(sin2y*cosx_2+e*sin2x_2*cosy);cosx_2\x3ddxdy*sinx-cosy*dxdx;if(!cosx_2)break;dxdy\x3d(fy*dxdy-c*cosy)/cosx_2;c\x3d(c*sinx-fy*dxdx)/cosx_2;x1-\x3ddxdy;y1-\x3dc}while((1E-6\x3cabs(dxdy)||\n1E-6\x3cabs(c))\x26\x260\x3c--i);return[x1,y1]}};augustRaw.invert\x3dfunction(x,y){x*\x3d.375;y*\x3d.375;if(!x\x26\x261\x3cabs(y))return null;var s\x3d1+x*x+y*y,sin3Eta\x3dsqrt((s-sqrt(s*s-4*y*y))/2);s\x3dasin(sin3Eta)/3;sin3Eta?(sin3Eta\x3dabs(y/sin3Eta),sin3Eta\x3dlog(sin3Eta+sqrt(sin3Eta*sin3Eta-1))/3):(sin3Eta\x3dabs(x),sin3Eta\x3dlog(sin3Eta+sqrt(sin3Eta*sin3Eta+1))/3);var cosEta\x3dcos(s),coshXi\x3dcosh(sin3Eta),d\x3dcoshXi*coshXi-cosEta*cosEta;return[2*sign(x)*atan2(sinh(sin3Eta)*cosEta,.25-d),2*sign(y)*atan2(coshXi*sin(s),.25+d)]};var sqrt8\x3dsqrt(8),\nphi0$jscomp$0\x3dlog(1+sqrt2);bakerRaw.invert\x3dfunction(x,y){if((y0\x3dabs(y))\x3cphi0$jscomp$0)return[x,2*atan(exp(y))-halfPi];var phi\x3dquarterPi,i\x3d25,y0;do{var delta\x3dcos(phi/2);var tanPhi_2\x3dtan(phi/2);phi-\x3ddelta\x3d(sqrt8*(phi-quarterPi)-log(tanPhi_2)-y0)/(sqrt8-delta*delta/(2*tanPhi_2))}while(1E-12\x3cabs(delta)\x26\x260\x3c--i);return[x/(cos(phi)*(sqrt8-1/sin(phi))),sign(y)*phi]};hammerQuarticAuthalicRaw.invert\x3dfunction(x,y){y\x3d2*asin(y/2);return[x*cos(y/2)/cos(y),y]};var mollweideRaw\x3dmollweideBromleyRaw(sqrt2/halfPi,sqrt2,\npi$jscomp$0);boggsRaw.invert\x3dfunction(x,y){var ky\x3d2.00276*y;y\x3d0\x3ey?-quarterPi:quarterPi;var i\x3d25;do{var delta\x3dky-sqrt2*sin(y);y-\x3ddelta\x3d(sin(2*y)+2*y-pi$jscomp$0*sin(delta))/(2*cos(2*y)+2+pi$jscomp$0*cos(delta)*sqrt2*cos(y))}while(1E-6\x3cabs(delta)\x26\x260\x3c--i);delta\x3dky-sqrt2*sin(y);return[x*(1/cos(delta)+1.11072/cos(y))/2.00276,delta]};sinusoidalRaw.invert\x3dfunction(x,y){return[x/cos(y),y]};var bromleyRaw\x3dmollweideBromleyRaw(1,4/pi$jscomp$0,pi$jscomp$0);collignonRaw.invert\x3dfunction(x,y){var lambda\x3d(lambda\x3d\ny/sqrtPi-1)*lambda;return[0\x3clambda?x*sqrt(pi$jscomp$0/lambda)/2:0,asin(1-lambda)]};var sqrt3\x3dsqrt(3);crasterRaw.invert\x3dfunction(x,y){y\x3d3*asin(y/(sqrt3*sqrtPi));return[sqrtPi*x/(sqrt3*(2*cos(2*y/3)-1)),y]};eckert1Raw.invert\x3dfunction(x,y){var alpha\x3dsqrt(8/(3*pi$jscomp$0));y/\x3dalpha;return[x/(alpha*(1-abs(y)/pi$jscomp$0)),y]};eckert2Raw.invert\x3dfunction(x,y){var alpha\x3d2-abs(y)/sqrt(2*pi$jscomp$0/3);return[x*sqrt(6*pi$jscomp$0)/(2*alpha),sign(y)*asin((4-alpha*alpha)/3)]};eckert3Raw.invert\x3dfunction(x,y){var k\x3d\nsqrt(pi$jscomp$0*(4+pi$jscomp$0))/2;return[x*k/(1+sqrt(1-y*y*(4+pi$jscomp$0)/(4*pi$jscomp$0))),y*k/2]};eckert4Raw.invert\x3dfunction(x,y){y\x3dy*sqrt((4+pi$jscomp$0)/pi$jscomp$0)/2;var k\x3dasin(y),c\x3dcos(k);return[x/(2/sqrt(pi$jscomp$0*(4+pi$jscomp$0))*(1+c)),asin((k+y*(c+2))/(2+halfPi))]};eckert5Raw.invert\x3dfunction(x,y){var k\x3dsqrt(2+pi$jscomp$0);y\x3dy*k/2;return[k*x/(1+cos(y)),y]};eckert6Raw.invert\x3dfunction(x,y){var j\x3d1+halfPi,k\x3dsqrt(j/2);return[2*x*k/(1+cos(y*\x3dk)),asin((y+sin(y))/j)]};var eisenlohrK\x3d3+2*sqrt2;\neisenlohrRaw.invert\x3dfunction(x,y){if(!(p\x3daugustRaw.invert(x/1.2,1.065*y)))return null;var lambda\x3dp[0];p\x3dp[1];var i\x3d20,p;x/\x3deisenlohrK;y/\x3deisenlohrK;do{var _0\x3dlambda/2,_1\x3dp/2,s0\x3dsin(_0),c0\x3dcos(_0),s1\x3dsin(_1),c1\x3dcos(_1),cos1\x3dcos(p),k\x3dsqrt(cos1),t\x3ds1/(c1+sqrt2*c0*k),t2\x3dt*t,c\x3dsqrt(2/(1+t2)),v2\x3d(sqrt2*c1+(c0+s0)*k)/(sqrt2*c1+(c0-s0)*k),v\x3dsqrt(v2),vm1v\x3dv-1/v,vp1v\x3dv+1/v;_1\x3dc*vm1v-2*log(v)-x;_0\x3dc*t*vp1v-2*atan(t)-y;var deltatDeltaLambda\x3ds1\x26\x26sqrt1_2*k*s0*t2/s1,deltatDeltaPhi\x3d(sqrt2*c0*c1+k)/(2*(c1+sqrt2*c0*\nk)*(c1+sqrt2*c0*k)*k),deltacDeltat\x3d-.5*t*c*c*c,deltacDeltaLambda\x3ddeltacDeltat*deltatDeltaLambda;deltacDeltat*\x3ddeltatDeltaPhi;var A\x3d(A\x3d2*c1+sqrt2*k*(c0-s0))*A*v;c0\x3d(sqrt2*c0*c1*k+cos1)/A;s1\x3d-(sqrt2*s0*s1)/(k*A);s0\x3dvm1v*deltacDeltaLambda-2*c0/v+c*(c0+c0/v2);v\x3dvm1v*deltacDeltat-2*s1/v+c*(s1+s1/v2);deltatDeltaLambda\x3dt*vp1v*deltacDeltaLambda-2*deltatDeltaLambda/(1+t2)+c*vp1v*deltatDeltaLambda+c*t*(c0-c0/v2);t2\x3dt*vp1v*deltacDeltat-2*deltatDeltaPhi/(1+t2)+c*vp1v*deltatDeltaPhi+c*t*(s1-s1/v2);t\x3dv*deltatDeltaLambda-\nt2*s0;if(!t)break;t2\x3d(_0*v-_1*t2)/t;_1\x3d(_1*deltatDeltaLambda-_0*s0)/t;lambda-\x3dt2;p\x3dmax(-halfPi,min(halfPi,p-_1))}while((1E-6\x3cabs(t2)||1E-6\x3cabs(_1))\x26\x260\x3c--i);return 1E-6\x3eabs(abs(p)-halfPi)?[0,p]:i\x26\x26[lambda,p]};var faheyK\x3dcos(35*radians);faheyRaw.invert\x3dfunction(x,y){y/\x3d1+faheyK;return[x\x26\x26x/(faheyK*sqrt(1-y*y)),2*atan(y)]};foucautRaw.invert\x3dfunction(x,y){var k\x3datan(y/sqrtPi);y\x3dcos(k);k*\x3d2;return[x*sqrtPi/2/(cos(k)*y*y),k]};var ginzburg4Raw\x3dginzburgPolyconicRaw(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,\n.042555),ginzburg5Raw\x3dginzburgPolyconicRaw(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),ginzburg6Raw\x3dginzburgPolyconicRaw(5/6*pi$jscomp$0,-.62636,-.0344,0,1.3493,-.05524,0,.045);ginzburg8Raw.invert\x3dfunction(x,y){var lambda\x3dx,phi\x3dy,i\x3d50,delta;do{var phi2\x3dphi*phi;phi-\x3ddelta\x3d(phi*(1+phi2/12)-y)/(1+phi2/4)}while(1E-6\x3cabs(delta)\x26\x260\x3c--i);i\x3d50;x/\x3d1-.162388*phi2;do{var lambda4\x3d(lambda4\x3dlambda*lambda)*lambda4;lambda-\x3ddelta\x3d(lambda*(.87-9.52426E-4*lambda4)-x)/(.87-.00476213*lambda4)}while(1E-6\x3c\nabs(delta)\x26\x260\x3c--i);return[lambda,phi]};var ginzburg9Raw\x3dginzburgPolyconicRaw(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);gringortenRaw.invert\x3dfunction(x,y$jscomp$0){1\x3cabs(x)\x26\x26(x\x3d2*sign(x)-x);1\x3cabs(y$jscomp$0)\x26\x26(y$jscomp$0\x3d2*sign(y$jscomp$0)-y$jscomp$0);var sx\x3dsign(x),sy\x3dsign(y$jscomp$0),x0\x3d-sx*x,y0\x3d-sy*y$jscomp$0;y$jscomp$0\x3d1\x3ey0/x0;x\x3dy$jscomp$0?y0:x0;var y\x3dy$jscomp$0?x0:y0,x0$jscomp$0\x3d0,x1\x3d1;x0\x3d.5;for(var i\x3d50;;){y0\x3dx0*x0;var sinPhi\x3dsqrt(x0),z\x3dasin(1/sqrt(1+y0)),v\x3d1-y0+x0*(1+y0)*z,p2\x3d\n(1-sinPhi)/v,p\x3dsqrt(p2),a2\x3dp2*(1+y0),h\x3dp*(1-y0),g\x3dsqrt(a2-x*x);h\x3dy+h+x0*g;if(1E-12\x3eabs(x1-x0$jscomp$0)||0\x3d\x3d\x3d--i||0\x3d\x3d\x3dh)break;0\x3ch?x0$jscomp$0\x3dx0:x1\x3dx0;x0\x3d.5*(x0$jscomp$0+x1)}i?(y\x3dasin(sinPhi),i\x3dcos(y),x0$jscomp$0\x3d1/i,x1\x3d2*sinPhi*i,sinPhi\x3d(-v*i-(1-sinPhi)*(-3*x0+z*(1+3*y0))*x1)/(v*v),x0\x3d[pi$jscomp$0/4*(x*(-2*x0$jscomp$0*(.5*sinPhi/p*(1-y0)-2*x0*p*x1)+-x0$jscomp$0*x1*g)+-x0$jscomp$0*(x0*(1+y0)*sinPhi+p2*(1+3*y0)*x1)*asin(x/sqrt(a2))),y]):x0\x3dnull;x\x3dx0[0];x0\x3dx0[1];y0\x3dcos(x0);y$jscomp$0\x26\x26(x\x3d-halfPi-x);\nreturn[sx*(atan2(sin(x)*y0,-sin(x0))+pi$jscomp$0),sy*asin(cos(x)*y0)]};guyouRaw.invert\x3dfunction(x,y){var k_\x3d(sqrt2-1)/(sqrt2+1),k\x3dsqrt(1-k_*k_);y\x3d.5*ellipticF(halfPi,k*k)-y;x\x3d-x;k*\x3dk;if(y)if(y\x3dellipticJ(y,k),x){x\x3dellipticJ(x,1-k);var c\x3dx[1]*x[1]+k*y[0]*y[0]*x[0]*x[0];y\x3d[[y[0]*x[2]/c,y[1]*y[2]*x[0]*x[1]/c],[y[1]*x[1]/c,-y[0]*y[2]*x[0]*x[2]/c],[y[2]*x[1]*x[2]/c,-k*y[0]*y[1]*x[0]/c]]}else y\x3d[[y[0],0],[y[1],0],[y[2],0]];else x\x3dellipticJ(x,1-k),y\x3d[[0,x[0]/x[1]],[1/x[1],0],[x[2]/x[1],0]];k\x3dy[0];y\x3dy[1];\nx\x3dy[0]*y[0]+y[1]*y[1];k\x3d[(k[0]*y[0]+k[1]*y[1])/x,(k[1]*y[0]-k[0]*y[1])/x];return[atan2(k[1],k[0])/-1,2*atan(exp(-.5*log(k_*k[0]*k[0]+k_*k[1]*k[1])))-halfPi]};var healpixParallel\x3dasin(1-1/3)*degrees,healpixLambert\x3dcylindricalEqualAreaRaw(0);sinuMollweideRaw.invert\x3dfunction(x,y){return-.7109889596207567\x3cy?mollweideRaw.invert(x,y-.0528035274542):sinusoidalRaw.invert(x,y)};homolosineRaw.invert\x3dfunction(x,y){return.7109889596207567\x3cabs(y)?mollweideRaw.invert(x,y+(0\x3cy?.0528035274542:-.0528035274542)):sinusoidalRaw.invert(x,\ny)};var lobes\x3d[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lobes$1\x3d[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lobes$2\x3d[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,\n0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lobes$3\x3d[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],lobes$4\x3d[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],lobes$5\x3d[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];\nkavrayskiy7Raw.invert\x3dfunction(x,y){return[tau/3*x/sqrt(pi$jscomp$0*pi$jscomp$0/3-y*y),y]};var pi_sqrt2\x3dpi$jscomp$0/sqrt2;larriveeRaw.invert\x3dfunction(x,y){var x0\x3dabs(x),y0\x3dabs(y),lambda\x3d1E-6,phi\x3dhalfPi;y0\x3cpi_sqrt2?phi*\x3dy0/pi_sqrt2:lambda+\x3d6*acos(pi_sqrt2/y0);for(var i\x3d0;25\x3ei;i++){var sinPhi\x3dsin(phi),sqrtcosPhi\x3dsqrt(cos(phi)),sinPhi_2\x3dsin(phi/2),cosPhi_2\x3dcos(phi/2),sinLambda_6\x3dsin(lambda/6),cosLambda_6\x3dcos(lambda/6),f0\x3d.5*lambda*(1+sqrtcosPhi)-x0,f1\x3dphi/(cosPhi_2*cosLambda_6)-y0;sinPhi\x3dsqrtcosPhi?\n-.25*lambda*sinPhi/sqrtcosPhi:0;sqrtcosPhi\x3d.5*(1+sqrtcosPhi);sinPhi_2\x3d(1+.5*phi*sinPhi_2/cosPhi_2)/(cosPhi_2*cosLambda_6);sinLambda_6\x3dphi/cosPhi_2*(sinLambda_6/6)/(cosLambda_6*cosLambda_6);cosPhi_2\x3dsinPhi*sinLambda_6-sinPhi_2*sqrtcosPhi;sinLambda_6\x3d(f0*sinLambda_6-f1*sqrtcosPhi)/cosPhi_2;f0\x3d(f1*sinPhi-f0*sinPhi_2)/cosPhi_2;phi-\x3dsinLambda_6;lambda-\x3df0;if(1E-6\x3eabs(sinLambda_6)\x26\x261E-6\x3eabs(f0))break}return[0\x3ex?-lambda:lambda,0\x3ey?-phi:phi]};laskowskiRaw.invert\x3dfunction(x,y){var lambda\x3dsign(x)*pi$jscomp$0,\nphi\x3dy/2,i\x3d50;do{var lambda2\x3dlambda*lambda,phi2\x3dphi*phi,lambdaPhi\x3dlambda*phi,fx\x3dlambda*(.975534+phi2*(-.119161+-.0143059*lambda2+-.0547009*phi2))-x,fy\x3dphi*(1.00384+lambda2*(.0802894+-.02855*phi2+1.99025E-4*lambda2)+phi2*(.0998909+-.0491032*phi2))-y,deltaxDeltaLambda\x3d.975534-phi2*(.119161+.0429177*lambda2+.0547009*phi2),deltaxDeltaPhi\x3d-lambdaPhi*(.238322+.2188036*phi2+.0286118*lambda2);lambdaPhi*\x3d.1605788+7.961E-4*lambda2+-.0571*phi2;phi2\x3d1.00384+lambda2*(.0802894+1.99025E-4*lambda2)+phi2*(3*(.0998909-\n.02855*lambda2)-.245516*phi2);lambda2\x3ddeltaxDeltaPhi*lambdaPhi-phi2*deltaxDeltaLambda;deltaxDeltaPhi\x3d(fy*deltaxDeltaPhi-fx*phi2)/lambda2;fx\x3d(fx*lambdaPhi-fy*deltaxDeltaLambda)/lambda2;lambda-\x3ddeltaxDeltaPhi;phi-\x3dfx}while((1E-6\x3cabs(deltaxDeltaPhi)||1E-6\x3cabs(fx))\x26\x260\x3c--i);return i\x26\x26[lambda,phi]};littrowRaw.invert\x3dfunction(x,y){var x2\x3dx*x,y2_1\x3dy*y+1,x2_y2_1\x3dx2+y2_1;x2\x3dx?sqrt1_2*sqrt((x2_y2_1-sqrt(x2_y2_1*x2_y2_1-4*x2))/x2):1/sqrt(y2_1);return[asin(x*x2),sign(y)*acos(x2)]};millerRaw.invert\x3dfunction(x,\ny){return[x,2.5*atan(exp(.8*y))-.625*pi$jscomp$0]};var alaska\x3d[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48\x3d[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50\x3d[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller$1\x3d[[.9245,0],[0,0],[.01943,0]],lee\x3d[[.721316,0],[0,\n0],[-.00881625,-.00617325]],sqrt6\x3dsqrt(6),sqrt7\x3dsqrt(7);mtFlatPolarParabolicRaw.invert\x3dfunction(x,y){y\x3d3*asin(y*sqrt7/9);return[x*sqrt7/(sqrt6*(2*cos(2*y/3)-1)),asin(3*sin(y)*sqrt6/7)]};mtFlatPolarQuarticRaw.invert\x3dfunction(x,y){y\x3dy*sqrt(2+sqrt2)/(2*sqrt(3));var theta\x3d2*asin(y);return[3*sqrt2*x/(1+2*cos(theta)/cos(theta/2)),asin((y+sin(theta))/(1+sqrt1_2))]};mtFlatPolarSinusoidalRaw.invert\x3dfunction(x,y){var A\x3dsqrt(6/(4+pi$jscomp$0));y/\x3dA;1E-6\x3eabs(abs(y)-halfPi)\x26\x26(y\x3d0\x3ey?-halfPi:halfPi);return[1.5*\nx/(A*(.5+cos(y))),asin((y/2+sin(y))/(1+pi$jscomp$0/4))]};naturalEarth2Raw.invert\x3dfunction(x,y){var phi\x3dy,i\x3d25;do{var delta\x3dphi*phi;var phi4\x3ddelta*delta;phi-\x3ddelta\x3d(phi*(1.01183+phi4*phi4*(-.02625+.01926*delta-.00396*phi4))-y)/(1.01183+phi4*phi4*(-.23625+.21186*delta+-.05148*phi4))}while(1E-12\x3cabs(delta)\x26\x260\x3c--i);delta\x3dphi*phi;phi4\x3ddelta*delta;y\x3ddelta*phi4;return[x/(.84719-.13063*delta+y*y*(-.04515+.05494*delta-.02326*phi4+.00331*y)),phi]};nellHammerRaw.invert\x3dfunction(x,y){for(var p\x3dy/2,i\x3d0,delta\x3d\nInfinity;10\x3ei\x26\x261E-6\x3cabs(delta);++i)delta\x3dcos(y/2),y-\x3ddelta\x3d(y-tan(y/2)-p)/(1-.5/(delta*delta));return[2*x/(1+cos(y)),y]};var lobes$6\x3d[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];nicolosiRaw.invert\x3dfunction(x,y){x/\x3dhalfPi;y/\x3dhalfPi;var x2\x3dx*x,x2y2\x3dx2+y*y,pi2\x3dpi$jscomp$0*pi$jscomp$0;return[x?(x2y2-1+sqrt((1-x2y2)*(1-x2y2)+4*x2))/(2*x)*halfPi:0,solve(function(phi){return x2y2*(pi$jscomp$0*sin(phi)-2*phi)*pi$jscomp$0+4*phi*phi*(y-sin(phi))+\n2*pi$jscomp$0*phi-pi2*y},0)]};var pattersonC2\x3d5*.23185;pattersonRaw.invert\x3dfunction(x,y){1.790857183\x3cy?y\x3d1.790857183:-1.790857183\x3ey\x26\x26(y\x3d-1.790857183);var yc\x3dy;do{var delta\x3dyc*yc;yc-\x3ddelta\x3d(yc*(1.0148+delta*delta*(.23185+delta*(-.14499+.02406*delta)))-y)/(1.0148+delta*delta*(pattersonC2+delta*(-1.01493+.21654*delta)))}while(1E-6\x3cabs(delta));return[x,yc]};polyconicRaw.invert\x3dfunction(x,y){if(1E-6\x3eabs(y))return[x,0];var k\x3dx*x+y*y,phi\x3d.5*y,i\x3d10;do{var delta\x3dtan(phi);var secPhi\x3d1/cos(phi),j\x3dk-2*y*phi+\nphi*phi;phi-\x3ddelta\x3d(delta*j+2*(phi-y))/(2+j*secPhi*secPhi+2*(phi-y)*delta)}while(1E-6\x3cabs(delta)\x26\x260\x3c--i);delta\x3dtan(phi);return[(abs(y)\x3cabs(phi+1/delta)?asin(x*delta):sign(y)*sign(x)*(acos(abs(x*delta))+halfPi))/sin(phi),phi]};var octahedron\x3d[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],octahedron$1\x3d[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(face){return face.map(function(i){return octahedron[i]})}),kx\x3d2/sqrt(3);collignonK.invert\x3dfunction(x,y){return collignonRaw.invert(x/\nkx,y)};var noop\x3dfunction(){},points$jscomp$0\x3d[],lines\x3d[],sinkPoint\x3d{point:function(x,y){points$jscomp$0.push([x,y])},result:function(){var result\x3dpoints$jscomp$0.length?2\x3epoints$jscomp$0.length?{type:\x22Point\x22,coordinates:points$jscomp$0[0]}:{type:\x22MultiPoint\x22,coordinates:points$jscomp$0}:null;points$jscomp$0\x3d[];return result}},sinkLine\x3d{lineStart:noop,point:function(x,y){points$jscomp$0.push([x,y])},lineEnd:function(){points$jscomp$0.length\x26\x26(lines.push(points$jscomp$0),points$jscomp$0\x3d[])},result:function(){var result\x3d\nlines.length?2\x3elines.length?{type:\x22LineString\x22,coordinates:lines[0]}:{type:\x22MultiLineString\x22,coordinates:lines}:null;lines\x3d[];return result}},sinkPolygon\x3d{polygonStart:noop,lineStart:noop,point:function(x,y){points$jscomp$0.push([x,y])},lineEnd:function(){var n\x3dpoints$jscomp$0.length;if(n){do points$jscomp$0.push(points$jscomp$0[0].slice());while(4\x3e++n);lines.push(points$jscomp$0);points$jscomp$0\x3d[]}},polygonEnd:noop,result:function(){if(!lines.length)return null;var polygons\x3d[],holes\x3d[];lines.forEach(function(ring){if(4\x3e\n(n\x3dring.length))var JSCompiler_inline_result\x3d!1;else{JSCompiler_inline_result\x3d0;for(var n,area\x3dring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];++JSCompiler_inline_result\x3cn;)area+\x3dring[JSCompiler_inline_result-1][1]*ring[JSCompiler_inline_result][0]-ring[JSCompiler_inline_result-1][0]*ring[JSCompiler_inline_result][1];JSCompiler_inline_result\x3d0\x3e\x3darea}JSCompiler_inline_result?polygons.push([ring]):holes.push(ring)});holes.forEach(function(hole){var point\x3dhole[0];polygons.some(function(polygon){for(var ring\x3d\npolygon[0],x\x3dpoint[0],y\x3dpoint[1],contains\x3d!1,i\x3d0,n\x3dring.length,j\x3dn-1;i\x3cn;j\x3di++){var pi\x3dring[i],xi\x3dpi[0];pi\x3dpi[1];var pj\x3dring[j];j\x3dpj[0];pj\x3dpj[1];pi\x3ey^pj\x3ey\x26\x26x\x3c(j-xi)*(y-pi)/(pj-pi)+xi\x26\x26(contains\x3d!contains)}if(contains)return polygon.push(hole),!0})||polygons.push([hole])});lines\x3d[];return polygons.length?1\x3cpolygons.length?{type:\x22MultiPolygon\x22,coordinates:polygons}:{type:\x22Polygon\x22,coordinates:polygons[0]}:null}},K$1\x3d[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,\n.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];K$1.forEach(function(d){d[1]*\x3d1.0144});robinsonRaw.invert\x3dfunction(x,y){var yy\x3dy/halfPi,phi\x3d90*yy,i\x3dmin(18,abs(phi/5)),i0\x3dmax(0,floor(i));do{var ay\x3dK$1[i0][1],by\x3dK$1[i0+1][1],cy\x3dK$1[min(19,i0+2)][1],u\x3dcy-ay;ay\x3dcy-2*by+ay;by\x3d2*(abs(yy)-by)/u;u\x3day/u;u\x3dby*(1-u*by*(1-2*u*by));if(0\x3c\x3du||1\x3d\x3d\x3di0){phi\x3d(0\x3c\x3dy?5:-5)*(u+i);yy\x3d50;do i\x3dmin(18,abs(phi)/\n5),i0\x3dfloor(i),u\x3di-i0,ay\x3dK$1[i0][1],by\x3dK$1[i0+1][1],cy\x3dK$1[min(19,i0+2)][1],phi-\x3d(i\x3d(0\x3c\x3dy?halfPi:-halfPi)*(by+u*(cy-ay)/2+u*u*(cy-2*by+ay)/2)-y)*degrees;while(1E-12\x3cabs(i)\x26\x260\x3c--yy);break}}while(0\x3c\x3d--i0);y\x3dK$1[i0][0];i\x3dK$1[i0+1][0];i0\x3dK$1[min(19,i0+2)][0];return[x/(i+u*(i0-y)/2+u*u*(i0-2*i+y)/2),phi*radians]};timesRaw.invert\x3dfunction(x,y){y/\x3d1.70711;var s\x3dsin(quarterPi*y);return[x/(.74482-.34588*s*s),2*atan(y)]};vanDerGrintenRaw.invert\x3dfunction(x,y){if(1E-6\x3eabs(y))return[x,0];if(1E-6\x3eabs(x))return[0,\nhalfPi*sin(2*atan(y/pi$jscomp$0))];var x2\x3d(x/\x3dpi$jscomp$0)*x,y2\x3d(y/\x3dpi$jscomp$0)*y,x2_y2\x3dx2+y2,z\x3dx2_y2*x2_y2,c1\x3d-abs(y)*(1+x2_y2),c2\x3dc1-2*y2+x2,c3\x3d-2*c1+1+2*y2+z,d\x3dy2/c3+(2*c2*c2*c2/(c3*c3*c3)-9*c1*c2/(c3*c3))/27,a1\x3d(c1-c2*c2/(3*c3))/c3;c1\x3d2*sqrt(-a1/3);d\x3dacos(3*d/(a1*c1))/3;return[pi$jscomp$0*(x2_y2-1+sqrt(1+2*(x2-y2)+z))/(2*x),sign(y)*pi$jscomp$0*(-c1*cos(d+pi$jscomp$0/3)-c2/(3*c3))]};vanDerGrinten2Raw.invert\x3dfunction(x,y){if(!x)return[0,halfPi*sin(2*atan(y/pi$jscomp$0))];var x1\x3dabs(x/pi$jscomp$0),\nA\x3d(1-x1*x1-(y/\x3dpi$jscomp$0)*y)/(2*x1),B\x3dsqrt(A*A+1);return[sign(x)*pi$jscomp$0*(B-A),sign(y)*halfPi*sin(2*atan2(sqrt((1-2*A*x1)*(A+B)-x1),sqrt(B+A+x1)))]};vanDerGrinten3Raw.invert\x3dfunction(x,y){if(!y)return[x,0];y/\x3dpi$jscomp$0;var A\x3d(pi$jscomp$0*pi$jscomp$0*(1-y*y)-x*x)/(2*pi$jscomp$0*x);return[x?pi$jscomp$0*(sign(x)*sqrt(A*A+1)-A):0,halfPi*sin(2*atan(y))]};vanDerGrinten4Raw.invert\x3dfunction(x,y){if(!x||!y)return[x,y];var sy\x3dsign(y);y\x3dabs(y)/pi$jscomp$0;var x1\x3dsign(x)*x/halfPi,D\x3d(x1*x1-1+4*y*y)/abs(x1),\nD2\x3dD*D,B\x3dy*(2-(.5\x3cy?min(y,abs(x)):0));y\x3dx*x+y*y;var i\x3d50;do{var B2\x3dB*B;var delta\x3d(8*B-B2*(B2+2)-5)/(2*B2*(B-1));var C_\x3d(3*B-B2*B-10)/(2*B2*B),C2\x3ddelta*delta,BC\x3dB*delta,B_C\x3dB+delta,B_C2\x3dB_C*B_C,B_3C\x3dB+3*delta,F_\x3d-2*B_C*(4*BC*C2+(1-4*B2+3*B2*B2)*(1+C_)+C2*(-6+14*B2-D2+(-8+8*B2-2*D2)*C_)+BC*(-8+12*B2+(-10+10*B2-D2)*C_));B2\x3dsqrt(B_C2*(B2+C2*D2-1)+(1-B2)*(B2*(B_3C*B_3C+4*C2)+C2*(12*BC+4*C2)));B-\x3ddelta\x3d(D*(B_C2+C2-1)+2*B2-x1*(4*B_C2+D2))/(D*(2*delta*C_+2*B_C*(1+C_))+F_/B2-8*B_C*(D*(-1+C2+B_C2)+2*B2)*(1+\nC_)/(D2+4*B_C2))}while(1E-6\x3cdelta*y*y\x26\x260\x3c--i);return[sign(x)*(sqrt(D*D+4)+D)*pi$jscomp$0/4,sy*halfPi*B]};var A$jscomp$0\x3d4*pi$jscomp$0+3*sqrt(3),B$jscomp$0\x3d2*sqrt(2*pi$jscomp$0*sqrt(3)/A$jscomp$0),wagner4Raw\x3dmollweideBromleyRaw(B$jscomp$0*sqrt(3)/pi$jscomp$0,B$jscomp$0,A$jscomp$0/6);wagner6Raw.invert\x3dfunction(x,y){return[x/sqrt(1-3*y*y/(pi$jscomp$0*pi$jscomp$0)),y]};wiechelRaw.invert\x3dfunction(x,y){var w\x3d(x*x+y*y)/-2,k\x3dsqrt(-w*(2+w)),b\x3dy*w+x*k;x\x3dx*w-y*k;y\x3dsqrt(x*x+b*b);return[atan2(k*b,y*(1+w)),y?-asin(k*\nx/y):0]};winkel3Raw.invert\x3dfunction(x,y){var lambda\x3dx,phi\x3dy,i\x3d25;do{var cosphi\x3dcos(phi),sinphi\x3dsin(phi),sin_2phi\x3dsin(2*phi),sin2phi\x3dsinphi*sinphi,cos2phi\x3dcosphi*cosphi,sinlambda\x3dsin(lambda),coslambda_2\x3dcos(lambda/2),sinlambda_2\x3dsin(lambda/2),sin2lambda_2\x3dsinlambda_2*sinlambda_2,C\x3d1-cos2phi*coslambda_2*coslambda_2,E\x3dC?acos(cosphi*coslambda_2)*sqrt(F\x3d1/C):F\x3d0,F;C\x3d.5*(2*E*cosphi*sinlambda_2+lambda/halfPi)-x;var fy\x3d.5*(E*sinphi+phi)-y,dxdlambda\x3d.5*F*(cos2phi*sin2lambda_2+E*cosphi*coslambda_2*sin2phi)+\n.5/halfPi,dxdphi\x3dF*(sinlambda*sin_2phi/4-E*sinphi*sinlambda_2);sinphi\x3d.125*F*(sin_2phi*sinlambda_2-E*sinphi*cos2phi*sinlambda);sin2phi\x3d.5*F*(sin2phi*coslambda_2+E*sin2lambda_2*cosphi)+.5;cosphi\x3ddxdphi*sinphi-sin2phi*dxdlambda;dxdphi\x3d(fy*dxdphi-C*sin2phi)/cosphi;C\x3d(C*sinphi-fy*dxdlambda)/cosphi;lambda-\x3ddxdphi;phi-\x3dC}while((1E-6\x3cabs(dxdphi)||1E-6\x3cabs(C))\x26\x260\x3c--i);return[lambda,phi]};exports.geoAiry\x3dfunction(){var beta\x3dhalfPi,m\x3dd3Geo.geoProjectionMutator(airyRaw),p\x3dm(beta);p.radius\x3dfunction(_){return arguments.length?\nm(beta\x3d_*radians):beta*degrees};return p.scale(179.976).clipAngle(147)};exports.geoAiryRaw\x3dairyRaw;exports.geoAitoff\x3dfunction(){return d3Geo.geoProjection(aitoffRaw).scale(152.63)};exports.geoAitoffRaw\x3daitoffRaw;exports.geoArmadillo\x3dfunction(){var phi0\x3d20*radians,sPhi0\x3d0\x3c\x3dphi0?1:-1,tanPhi0\x3dtan(sPhi0*phi0),m\x3dd3Geo.geoProjectionMutator(armadilloRaw),p\x3dm(phi0),stream_\x3dp.stream;p.parallel\x3dfunction(_){if(!arguments.length)return phi0*degrees;tanPhi0\x3dtan((sPhi0\x3d0\x3c\x3d(phi0\x3d_*radians)?1:-1)*phi0);return m(phi0)};\np.stream\x3dfunction(stream){var rotate\x3dp.rotate(),rotateStream\x3dstream_(stream),sphereStream\x3d(p.rotate([0,0]),stream_(stream)),precision\x3dp.precision();p.rotate(rotate);rotateStream.sphere\x3dfunction(){sphereStream.polygonStart();sphereStream.lineStart();for(var lambda\x3d-180*sPhi0;180\x3esPhi0*lambda;lambda+\x3d90*sPhi0)sphereStream.point(lambda,90*sPhi0);if(phi0)for(;-180\x3c\x3dsPhi0*(lambda-\x3d3*sPhi0*precision);)sphereStream.point(lambda,sPhi0*-atan2(cos(lambda*radians/2),tanPhi0)*degrees);sphereStream.lineEnd();\nsphereStream.polygonEnd()};return rotateStream};return p.scale(218.695).center([0,28.0974])};exports.geoArmadilloRaw\x3darmadilloRaw;exports.geoAugust\x3dfunction(){return d3Geo.geoProjection(augustRaw).scale(66.1603)};exports.geoAugustRaw\x3daugustRaw;exports.geoBaker\x3dfunction(){return d3Geo.geoProjection(bakerRaw).scale(112.314)};exports.geoBakerRaw\x3dbakerRaw;exports.geoBerghaus\x3dfunction(){var lobes\x3d5,m\x3dd3Geo.geoProjectionMutator(berghausRaw),p\x3dm(lobes),projectionStream\x3dp.stream,cr\x3d-cos(.01*radians),sr\x3dsin(.01*\nradians);p.lobes\x3dfunction(_){return arguments.length?m(lobes\x3d+_):lobes};p.stream\x3dfunction(stream){var rotate\x3dp.rotate(),rotateStream\x3dprojectionStream(stream),sphereStream\x3d(p.rotate([0,0]),projectionStream(stream));p.rotate(rotate);rotateStream.sphere\x3dfunction(){sphereStream.polygonStart();sphereStream.lineStart();for(var i\x3d0,delta\x3d360/lobes,delta0\x3d2*pi$jscomp$0/lobes,phi\x3d90-180/lobes,phi0\x3dhalfPi;i\x3clobes;++i,phi-\x3ddelta,phi0-\x3ddelta0)sphereStream.point(atan2(sr*cos(phi0),cr)*degrees,asin(sr*sin(phi0))*\ndegrees),-90\x3ephi?(sphereStream.point(-90,-180-phi-.01),sphereStream.point(-90,-180-phi+.01)):(sphereStream.point(90,phi+.01),sphereStream.point(90,phi-.01));sphereStream.lineEnd();sphereStream.polygonEnd()};return rotateStream};return p.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};exports.geoBerghausRaw\x3dberghausRaw;exports.geoBertin1953\x3dfunction(){return d3Geo.geoProjection(bertin1953Raw()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};exports.geoBertin1953Raw\x3dbertin1953Raw;exports.geoBoggs\x3d\nfunction(){return d3Geo.geoProjection(boggsRaw).scale(160.857)};exports.geoBoggsRaw\x3dboggsRaw;exports.geoBonne\x3dfunction(){return parallel1(bonneRaw).scale(123.082).center([0,26.1441]).parallel(45)};exports.geoBonneRaw\x3dbonneRaw;exports.geoBottomley\x3dfunction(){var sinPsi\x3d.5,m\x3dd3Geo.geoProjectionMutator(bottomleyRaw),p\x3dm(sinPsi);p.fraction\x3dfunction(_){return arguments.length?m(sinPsi\x3d+_):sinPsi};return p.scale(158.837)};exports.geoBottomleyRaw\x3dbottomleyRaw;exports.geoBromley\x3dfunction(){return d3Geo.geoProjection(bromleyRaw).scale(152.63)};\nexports.geoBromleyRaw\x3dbromleyRaw;exports.geoChamberlin\x3dchamberlin;exports.geoChamberlinRaw\x3dchamberlinRaw;exports.geoChamberlinAfrica\x3dfunction(){return chamberlin([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};exports.geoCollignon\x3dfunction(){return d3Geo.geoProjection(collignonRaw).scale(95.6464).center([0,30])};exports.geoCollignonRaw\x3dcollignonRaw;exports.geoCraig\x3dfunction(){return parallel1(craigRaw).scale(249.828).clipAngle(90)};exports.geoCraigRaw\x3dcraigRaw;exports.geoCraster\x3dfunction(){return d3Geo.geoProjection(crasterRaw).scale(156.19)};\nexports.geoCrasterRaw\x3dcrasterRaw;exports.geoCylindricalEqualArea\x3dfunction(){return parallel1(cylindricalEqualAreaRaw).parallel(38.58).scale(195.044)};exports.geoCylindricalEqualAreaRaw\x3dcylindricalEqualAreaRaw;exports.geoCylindricalStereographic\x3dfunction(){return parallel1(cylindricalStereographicRaw).scale(124.75)};exports.geoCylindricalStereographicRaw\x3dcylindricalStereographicRaw;exports.geoEckert1\x3dfunction(){return d3Geo.geoProjection(eckert1Raw).scale(165.664)};exports.geoEckert1Raw\x3deckert1Raw;\nexports.geoEckert2\x3dfunction(){return d3Geo.geoProjection(eckert2Raw).scale(165.664)};exports.geoEckert2Raw\x3deckert2Raw;exports.geoEckert3\x3dfunction(){return d3Geo.geoProjection(eckert3Raw).scale(180.739)};exports.geoEckert3Raw\x3deckert3Raw;exports.geoEckert4\x3dfunction(){return d3Geo.geoProjection(eckert4Raw).scale(180.739)};exports.geoEckert4Raw\x3deckert4Raw;exports.geoEckert5\x3dfunction(){return d3Geo.geoProjection(eckert5Raw).scale(173.044)};exports.geoEckert5Raw\x3deckert5Raw;exports.geoEckert6\x3dfunction(){return d3Geo.geoProjection(eckert6Raw).scale(173.044)};\nexports.geoEckert6Raw\x3deckert6Raw;exports.geoEisenlohr\x3dfunction(){return d3Geo.geoProjection(eisenlohrRaw).scale(62.5271)};exports.geoEisenlohrRaw\x3deisenlohrRaw;exports.geoFahey\x3dfunction(){return d3Geo.geoProjection(faheyRaw).scale(137.152)};exports.geoFaheyRaw\x3dfaheyRaw;exports.geoFoucaut\x3dfunction(){return d3Geo.geoProjection(foucautRaw).scale(135.264)};exports.geoFoucautRaw\x3dfoucautRaw;exports.geoFoucautSinusoidal\x3dfunction(){var alpha\x3d.5,m\x3dd3Geo.geoProjectionMutator(foucautSinusoidalRaw),p\x3dm(alpha);\np.alpha\x3dfunction(_){return arguments.length?m(alpha\x3d+_):alpha};return p.scale(168.725)};exports.geoFoucautSinusoidalRaw\x3dfoucautSinusoidalRaw;exports.geoGilbert\x3dfunction(projectionType){function gilbert(point){return projection([point[0]/2,asin(tan(point[1]/2*radians))*degrees])}function property(name){gilbert[name]\x3dfunction(){return arguments.length?(projection[name].apply(projection,arguments),gilbert):projection[name]()}}null\x3d\x3dprojectionType\x26\x26(projectionType\x3dd3Geo.geoOrthographic);var projection\x3d\nprojectionType(),equirectangular\x3dd3Geo.geoEquirectangular().scale(degrees).precision(0).clipAngle(null).translate([0,0]);projection.invert\x26\x26(gilbert.invert\x3dfunction(point){return gilbertInvert(projection.invert(point))});gilbert.stream\x3dfunction(stream){var s1\x3dprojection.stream(stream);stream\x3dequirectangular.stream({point:function(lambda,phi){s1.point(lambda/2,asin(tan(-phi/2*radians))*degrees)},lineStart:function(){s1.lineStart()},lineEnd:function(){s1.lineEnd()},polygonStart:function(){s1.polygonStart()},\npolygonEnd:function(){s1.polygonEnd()}});stream.sphere\x3ds1.sphere;return stream};gilbert.rotate\x3dfunction(_){return arguments.length?(equirectangular.rotate(_),gilbert):equirectangular.rotate()};gilbert.center\x3dfunction(_){return arguments.length?(projection.center([_[0]/2,asin(tan(_[1]/2*radians))*degrees]),gilbert):gilbertInvert(projection.center())};property(\x22angle\x22);property(\x22clipAngle\x22);property(\x22clipExtent\x22);property(\x22fitExtent\x22);property(\x22fitHeight\x22);property(\x22fitSize\x22);property(\x22fitWidth\x22);property(\x22scale\x22);\nproperty(\x22translate\x22);property(\x22precision\x22);return gilbert.scale(249.5)};exports.geoGingery\x3dfunction(){var n\x3d6,rho\x3d30*radians,cRho\x3dcos(rho),sRho\x3dsin(rho),m\x3dd3Geo.geoProjectionMutator(gingeryRaw),p\x3dm(rho,n),stream_\x3dp.stream,cr\x3d-cos(.01*radians),sr\x3dsin(.01*radians);p.radius\x3dfunction(_){if(!arguments.length)return rho*degrees;cRho\x3dcos(rho\x3d_*radians);sRho\x3dsin(rho);return m(rho,n)};p.lobes\x3dfunction(_){return arguments.length?m(rho,n\x3d+_):n};p.stream\x3dfunction(stream){var rotate\x3dp.rotate(),rotateStream\x3dstream_(stream),\nsphereStream\x3d(p.rotate([0,0]),stream_(stream));p.rotate(rotate);rotateStream.sphere\x3dfunction(){sphereStream.polygonStart();sphereStream.lineStart();for(var i\x3d0,delta\x3d2*pi$jscomp$0/n,phi\x3d0;i\x3cn;++i,phi-\x3ddelta)sphereStream.point(atan2(sr*cos(phi),cr)*degrees,asin(sr*sin(phi))*degrees),sphereStream.point(atan2(sRho*cos(phi-delta/2),cRho)*degrees,asin(sRho*sin(phi-delta/2))*degrees);sphereStream.lineEnd();sphereStream.polygonEnd()};return rotateStream};return p.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};\nexports.geoGingeryRaw\x3dgingeryRaw;exports.geoGinzburg4\x3dfunction(){return d3Geo.geoProjection(ginzburg4Raw).scale(149.995)};exports.geoGinzburg4Raw\x3dginzburg4Raw;exports.geoGinzburg5\x3dfunction(){return d3Geo.geoProjection(ginzburg5Raw).scale(153.93)};exports.geoGinzburg5Raw\x3dginzburg5Raw;exports.geoGinzburg6\x3dfunction(){return d3Geo.geoProjection(ginzburg6Raw).scale(130.945)};exports.geoGinzburg6Raw\x3dginzburg6Raw;exports.geoGinzburg8\x3dfunction(){return d3Geo.geoProjection(ginzburg8Raw).scale(131.747)};exports.geoGinzburg8Raw\x3d\nginzburg8Raw;exports.geoGinzburg9\x3dfunction(){return d3Geo.geoProjection(ginzburg9Raw).scale(131.087)};exports.geoGinzburg9Raw\x3dginzburg9Raw;exports.geoGringorten\x3dfunction(){return d3Geo.geoProjection(squareRaw(gringortenRaw)).scale(239.75)};exports.geoGringortenRaw\x3dgringortenRaw;exports.geoGuyou\x3dfunction(){return d3Geo.geoProjection(squareRaw(guyouRaw)).scale(151.496)};exports.geoGuyouRaw\x3dguyouRaw;exports.geoHammer\x3dfunction(){var B\x3d2,m\x3dd3Geo.geoProjectionMutator(hammerRaw),p\x3dm(B);p.coefficient\x3dfunction(_){return arguments.length?\nm(B\x3d+_):B};return p.scale(169.529)};exports.geoHammerRaw\x3dhammerRaw;exports.geoHammerRetroazimuthal\x3dfunction(){var phi0\x3d0,m\x3dd3Geo.geoProjectionMutator(hammerRetroazimuthalRaw),p$jscomp$0\x3dm(phi0),rotate_\x3dp$jscomp$0.rotate,stream_\x3dp$jscomp$0.stream,circle\x3dd3Geo.geoCircle();p$jscomp$0.parallel\x3dfunction(_){if(!arguments.length)return phi0*degrees;var r\x3dp$jscomp$0.rotate();return m(phi0\x3d_*radians).rotate(r)};p$jscomp$0.rotate\x3dfunction(_){if(!arguments.length)return _\x3drotate_.call(p$jscomp$0),_[1]+\x3dphi0*\ndegrees,_;rotate_.call(p$jscomp$0,[_[0],_[1]-phi0*degrees]);circle.center([-_[0],-_[1]]);return p$jscomp$0};p$jscomp$0.stream\x3dfunction(stream){stream\x3dstream_(stream);stream.sphere\x3dfunction(){stream.polygonStart();var ring\x3dcircle.radius(89.99)().coordinates[0],n\x3dring.length-1,i\x3d-1,p;for(stream.lineStart();++i\x3cn;)stream.point((p\x3dring[i])[0],p[1]);stream.lineEnd();ring\x3dcircle.radius(90.01)().coordinates[0];for(stream.lineStart();0\x3c\x3d--i;)stream.point((p\x3dring[i])[0],p[1]);stream.lineEnd();stream.polygonEnd()};\nreturn stream};return p$jscomp$0.scale(79.4187).parallel(45).clipAngle(179.999)};exports.geoHammerRetroazimuthalRaw\x3dhammerRetroazimuthalRaw;exports.geoHealpix\x3dfunction(){var H\x3d4,m\x3dd3Geo.geoProjectionMutator(healpixRaw),p\x3dm(H),stream_\x3dp.stream;p.lobes\x3dfunction(_){return arguments.length?m(H\x3d+_):H};p.stream\x3dfunction(stream){var rotate\x3dp.rotate(),rotateStream\x3dstream_(stream),sphereStream\x3d(p.rotate([0,0]),stream_(stream));p.rotate(rotate);rotateStream.sphere\x3dfunction(){d3Geo.geoStream(sphere(180/H),sphereStream)};\nreturn rotateStream};return p.scale(239.75)};exports.geoHealpixRaw\x3dhealpixRaw;exports.geoHill\x3dfunction(){var K\x3d1,m\x3dd3Geo.geoProjectionMutator(hillRaw),p\x3dm(K);p.ratio\x3dfunction(_){return arguments.length?m(K\x3d+_):K};return p.scale(167.774).center([0,18.67])};exports.geoHillRaw\x3dhillRaw;exports.geoHomolosine\x3dfunction(){return d3Geo.geoProjection(homolosineRaw).scale(152.63)};exports.geoHomolosineRaw\x3dhomolosineRaw;exports.geoHufnagel\x3dfunction(){var a\x3d1,b\x3d0,psiMax\x3d45*radians,ratio\x3d2,mutate\x3dd3Geo.geoProjectionMutator(hufnagelRaw),\nprojection\x3dmutate(a,b,psiMax,ratio);projection.a\x3dfunction(_){return arguments.length?mutate(a\x3d+_,b,psiMax,ratio):a};projection.b\x3dfunction(_){return arguments.length?mutate(a,b\x3d+_,psiMax,ratio):b};projection.psiMax\x3dfunction(_){return arguments.length?mutate(a,b,psiMax\x3d+_*radians,ratio):psiMax*degrees};projection.ratio\x3dfunction(_){return arguments.length?mutate(a,b,psiMax,ratio\x3d+_):ratio};return projection.scale(180.739)};exports.geoHufnagelRaw\x3dhufnagelRaw;exports.geoHyperelliptical\x3dfunction(){var alpha\x3d\n0,k\x3d2.5,gamma\x3d1.183136,m\x3dd3Geo.geoProjectionMutator(hyperellipticalRaw),p\x3dm(alpha,k,gamma);p.alpha\x3dfunction(_){return arguments.length?m(alpha\x3d+_,k,gamma):alpha};p.k\x3dfunction(_){return arguments.length?m(alpha,k\x3d+_,gamma):k};p.gamma\x3dfunction(_){return arguments.length?m(alpha,k,gamma\x3d+_):gamma};return p.scale(152.63)};exports.geoHyperellipticalRaw\x3dhyperellipticalRaw;exports.geoInterrupt\x3dinterrupt;exports.geoInterruptedBoggs\x3dfunction(){return interrupt(boggsRaw,lobes).scale(160.857)};exports.geoInterruptedHomolosine\x3d\nfunction(){return interrupt(homolosineRaw,lobes$1).scale(152.63)};exports.geoInterruptedMollweide\x3dfunction(){return interrupt(mollweideRaw,lobes$2).scale(169.529)};exports.geoInterruptedMollweideHemispheres\x3dfunction(){return interrupt(mollweideRaw,lobes$3).scale(169.529).rotate([20,0])};exports.geoInterruptedSinuMollweide\x3dfunction(){return interrupt(sinuMollweideRaw,lobes$4,solve2d).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};exports.geoInterruptedSinusoidal\x3dfunction(){return interrupt(sinusoidalRaw,\nlobes$5).scale(152.63).rotate([-20,0])};exports.geoKavrayskiy7\x3dfunction(){return d3Geo.geoProjection(kavrayskiy7Raw).scale(158.837)};exports.geoKavrayskiy7Raw\x3dkavrayskiy7Raw;exports.geoLagrange\x3dfunction(){var n\x3d.5,m\x3dd3Geo.geoProjectionMutator(lagrangeRaw),p\x3dm(n);p.spacing\x3dfunction(_){return arguments.length?m(n\x3d+_):n};return p.scale(124.75)};exports.geoLagrangeRaw\x3dlagrangeRaw;exports.geoLarrivee\x3dfunction(){return d3Geo.geoProjection(larriveeRaw).scale(97.2672)};exports.geoLarriveeRaw\x3dlarriveeRaw;\nexports.geoLaskowski\x3dfunction(){return d3Geo.geoProjection(laskowskiRaw).scale(139.98)};exports.geoLaskowskiRaw\x3dlaskowskiRaw;exports.geoLittrow\x3dfunction(){return d3Geo.geoProjection(littrowRaw).scale(144.049).clipAngle(89.999)};exports.geoLittrowRaw\x3dlittrowRaw;exports.geoLoximuthal\x3dfunction(){return parallel1(loximuthalRaw).parallel(40).scale(158.837)};exports.geoLoximuthalRaw\x3dloximuthalRaw;exports.geoMiller\x3dfunction(){return d3Geo.geoProjection(millerRaw).scale(108.318)};exports.geoMillerRaw\x3dmillerRaw;\nexports.geoModifiedStereographic\x3dmodifiedStereographic;exports.geoModifiedStereographicRaw\x3dmodifiedStereographicRaw;exports.geoModifiedStereographicAlaska\x3dfunction(){return modifiedStereographic(alaska,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};exports.geoModifiedStereographicGs48\x3dfunction(){return modifiedStereographic(gs48,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};exports.geoModifiedStereographicGs50\x3dfunction(){return modifiedStereographic(gs50,\n[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};exports.geoModifiedStereographicMiller\x3dfunction(){return modifiedStereographic(miller$1,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};exports.geoModifiedStereographicLee\x3dfunction(){return modifiedStereographic(lee,[165,10]).scale(250).clipAngle(130).center([-165,-10])};exports.geoMollweide\x3dfunction(){return d3Geo.geoProjection(mollweideRaw).scale(169.529)};exports.geoMollweideRaw\x3dmollweideRaw;exports.geoMtFlatPolarParabolic\x3d\nfunction(){return d3Geo.geoProjection(mtFlatPolarParabolicRaw).scale(164.859)};exports.geoMtFlatPolarParabolicRaw\x3dmtFlatPolarParabolicRaw;exports.geoMtFlatPolarQuartic\x3dfunction(){return d3Geo.geoProjection(mtFlatPolarQuarticRaw).scale(188.209)};exports.geoMtFlatPolarQuarticRaw\x3dmtFlatPolarQuarticRaw;exports.geoMtFlatPolarSinusoidal\x3dfunction(){return d3Geo.geoProjection(mtFlatPolarSinusoidalRaw).scale(166.518)};exports.geoMtFlatPolarSinusoidalRaw\x3dmtFlatPolarSinusoidalRaw;exports.geoNaturalEarth2\x3dfunction(){return d3Geo.geoProjection(naturalEarth2Raw).scale(175.295)};\nexports.geoNaturalEarth2Raw\x3dnaturalEarth2Raw;exports.geoNellHammer\x3dfunction(){return d3Geo.geoProjection(nellHammerRaw).scale(152.63)};exports.geoNellHammerRaw\x3dnellHammerRaw;exports.geoInterruptedQuarticAuthalic\x3dfunction(){return interrupt(hammerRaw(Infinity),lobes$6).rotate([20,0]).scale(152.63)};exports.geoNicolosi\x3dfunction(){return d3Geo.geoProjection(nicolosiRaw).scale(127.267)};exports.geoNicolosiRaw\x3dnicolosiRaw;exports.geoPatterson\x3dfunction(){return d3Geo.geoProjection(pattersonRaw).scale(139.319)};\nexports.geoPattersonRaw\x3dpattersonRaw;exports.geoPolyconic\x3dfunction(){return d3Geo.geoProjection(polyconicRaw).scale(103.74)};exports.geoPolyconicRaw\x3dpolyconicRaw;exports.geoPolyhedral\x3dpolyhedral;exports.geoPolyhedralButterfly\x3dfunction(faceProjection){faceProjection\x3dfaceProjection||function(face){face\x3dd3Geo.geoCentroid({type:\x22MultiPoint\x22,coordinates:face});return d3Geo.geoGnomonic().scale(1).translate([0,0]).rotate([-face[0],-face[1]])};var faces\x3doctahedron$1.map(function(face){return{face:face,project:faceProjection(face)}});\n[-1,0,0,1,0,1,4,5].forEach(function(d,i){(d\x3dfaces[d])\x26\x26(d.children||(d.children\x3d[])).push(faces[i])});return polyhedral(faces[0],function(lambda,phi){return faces[lambda\x3c-pi$jscomp$0/2?0\x3ephi?6:4:0\x3elambda?0\x3ephi?2:0:lambda\x3cpi$jscomp$0/2?0\x3ephi?3:1:0\x3ephi?7:5]}).angle(-30).scale(101.858).center([0,45])};exports.geoPolyhedralCollignon\x3dfunction(faceProjection){faceProjection\x3dfaceProjection||function(face){face\x3dd3Geo.geoCentroid({type:\x22MultiPoint\x22,coordinates:face});return d3Geo.geoProjection(collignonK).translate([0,\n0]).scale(1).rotate(0\x3cface[1]?[-face[0],0]:[180-face[0],180])};var faces\x3doctahedron$1.map(function(face){return{face:face,project:faceProjection(face)}});[-1,0,0,1,0,1,4,5].forEach(function(d,i){(d\x3dfaces[d])\x26\x26(d.children||(d.children\x3d[])).push(faces[i])});return polyhedral(faces[0],function(lambda,phi){return faces[lambda\x3c-pi$jscomp$0/2?0\x3ephi?6:4:0\x3elambda?0\x3ephi?2:0:lambda\x3cpi$jscomp$0/2?0\x3ephi?3:1:0\x3ephi?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};exports.geoPolyhedralWaterman\x3dfunction(faceProjection){faceProjection\x3d\nfaceProjection||function(face){face\x3d6\x3d\x3d\x3dface.length?d3Geo.geoCentroid({type:\x22MultiPoint\x22,coordinates:face}):face[0];return d3Geo.geoGnomonic().scale(1).translate([0,0]).rotate([-face[0],-face[1]])};var w5\x3doctahedron$1.map(function(face){face\x3dface.map(cartesian$jscomp$0);for(var n\x3dface.length,a\x3dface[n-1],b,hexagon\x3d[],i\x3d0;i\x3cn;++i)b\x3dface[i],hexagon.push(spherical([.9486832980505138*a[0]+.31622776601683794*b[0],.9486832980505138*a[1]+.31622776601683794*b[1],.9486832980505138*a[2]+.31622776601683794*b[2]]),\nspherical([.9486832980505138*b[0]+.31622776601683794*a[0],.9486832980505138*b[1]+.31622776601683794*a[1],.9486832980505138*b[2]+.31622776601683794*a[2]])),a\x3db;return hexagon}),cornerNormals\x3d[],parents\x3d[-1,0,0,1,0,1,4,5];w5.forEach(function(hexagon,j){for(var face\x3doctahedron$1[j],n\x3dface.length,normals\x3dcornerNormals[j]\x3d[],i\x3d0;i\x3cn;++i)w5.push([face[i],hexagon[(2*i+2)%(2*n)],hexagon[(2*i+1)%(2*n)]]),parents.push(j),normals.push(cross(cartesian$jscomp$0(hexagon[(2*i+2)%(2*n)]),cartesian$jscomp$0(hexagon[(2*\ni+1)%(2*n)])))});var faces\x3dw5.map(function(face){return{project:faceProjection(face),face:face}});parents.forEach(function(d,i){(d\x3dfaces[d])\x26\x26(d.children||(d.children\x3d[])).push(faces[i])});return polyhedral(faces[0],function(lambda,phi){var cosphi\x3dcos(phi);cosphi\x3d[cosphi*cos(lambda),cosphi*sin(lambda),sin(phi)];lambda\x3dlambda\x3c-pi$jscomp$0/2?0\x3ephi?6:4:0\x3elambda?0\x3ephi?2:0:lambda\x3cpi$jscomp$0/2?0\x3ephi?3:1:0\x3ephi?7:5;phi\x3dcornerNormals[lambda];return faces[0\x3edot(phi[0],cosphi)?8+3*lambda:0\x3edot(phi[1],cosphi)?\n3*lambda+9:0\x3edot(phi[2],cosphi)?3*lambda+10:lambda]}).angle(-30).scale(110.625).center([0,45])};exports.geoProject\x3dfunction(object,projection){projection\x3dprojection.stream;if(!projection)throw Error(\x22invalid projection\x22);switch(object\x26\x26object.type){case \x22Feature\x22:var project\x3dprojectFeature;break;case \x22FeatureCollection\x22:project\x3dprojectFeatureCollection;break;default:project\x3dprojectGeometry}return project(object,projection)};exports.geoGringortenQuincuncial\x3dfunction(){return quincuncial(gringortenRaw).scale(176.423)};\nexports.geoPeirceQuincuncial\x3dfunction(){return quincuncial(guyouRaw).scale(111.48)};exports.geoQuantize\x3dfunction(input$jscomp$0,digits){function quantizePoint(input){var n\x3dinput.length,i\x3d2,output\x3dArray(n);output[0]\x3d+input[0].toFixed(digits);for(output[1]\x3d+input[1].toFixed(digits);i\x3cn;)output[i]\x3dinput[i],++i;return output}function quantizePointsNoDuplicates(input){for(var point0\x3dquantizePoint(input[0]),output\x3d[point0],i\x3d1;i\x3cinput.length;i++){var point\x3dquantizePoint(input[i]);if(2\x3cpoint.length||point[0]!\x3d\npoint0[0]||point[1]!\x3dpoint0[1])output.push(point),point0\x3dpoint}1\x3d\x3d\x3doutput.length\x26\x261\x3cinput.length\x26\x26output.push(quantizePoint(input[input.length-1]));return output}function quantizePolygon(input){return input.map(quantizePointsNoDuplicates)}function quantizeGeometry(input){if(null\x3d\x3dinput)return input;switch(input.type){case \x22GeometryCollection\x22:var output\x3d{type:\x22GeometryCollection\x22,geometries:input.geometries.map(quantizeGeometry)};break;case \x22Point\x22:output\x3d{type:\x22Point\x22,coordinates:quantizePoint(input.coordinates)};\nbreak;case \x22MultiPoint\x22:output\x3d{type:input.type,coordinates:input.coordinates.map(quantizePoint)};break;case \x22LineString\x22:output\x3d{type:input.type,coordinates:quantizePointsNoDuplicates(input.coordinates)};break;case \x22MultiLineString\x22:case \x22Polygon\x22:output\x3d{type:input.type,coordinates:quantizePolygon(input.coordinates)};break;case \x22MultiPolygon\x22:output\x3d{type:\x22MultiPolygon\x22,coordinates:input.coordinates.map(quantizePolygon)};break;default:return input}null!\x3dinput.bbox\x26\x26(output.bbox\x3dinput.bbox);return output}\nfunction quantizeFeature(input){var output\x3d{type:\x22Feature\x22,properties:input.properties,geometry:quantizeGeometry(input.geometry)};null!\x3dinput.id\x26\x26(output.id\x3dinput.id);null!\x3dinput.bbox\x26\x26(output.bbox\x3dinput.bbox);return output}if(!(0\x3c\x3d(digits\x3d+digits)\x26\x2620\x3e\x3ddigits))throw Error(\x22invalid digits\x22);if(null!\x3dinput$jscomp$0)switch(input$jscomp$0.type){case \x22Feature\x22:return quantizeFeature(input$jscomp$0);case \x22FeatureCollection\x22:var output$jscomp$0\x3d{type:\x22FeatureCollection\x22,features:input$jscomp$0.features.map(quantizeFeature)};\nnull!\x3dinput$jscomp$0.bbox\x26\x26(output$jscomp$0.bbox\x3dinput$jscomp$0.bbox);return output$jscomp$0;default:return quantizeGeometry(input$jscomp$0)}return input$jscomp$0};exports.geoQuincuncial\x3dquincuncial;exports.geoRectangularPolyconic\x3dfunction(){return parallel1(rectangularPolyconicRaw).scale(131.215)};exports.geoRectangularPolyconicRaw\x3drectangularPolyconicRaw;exports.geoRobinson\x3dfunction(){return d3Geo.geoProjection(robinsonRaw).scale(152.63)};exports.geoRobinsonRaw\x3drobinsonRaw;exports.geoSatellite\x3d\nfunction(){var distance\x3d2,omega\x3d0,m\x3dd3Geo.geoProjectionMutator(satelliteRaw),p\x3dm(distance,omega);p.distance\x3dfunction(_){return arguments.length?m(distance\x3d+_,omega):distance};p.tilt\x3dfunction(_){return arguments.length?m(distance,omega\x3d_*radians):omega*degrees};return p.scale(432.147).clipAngle(acos(1/distance)*degrees-1E-6)};exports.geoSatelliteRaw\x3dsatelliteRaw;exports.geoSinuMollweide\x3dfunction(){return d3Geo.geoProjection(sinuMollweideRaw).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};exports.geoSinuMollweideRaw\x3d\nsinuMollweideRaw;exports.geoSinusoidal\x3dfunction(){return d3Geo.geoProjection(sinusoidalRaw).scale(152.63)};exports.geoSinusoidalRaw\x3dsinusoidalRaw;exports.geoStitch\x3dfunction(input){if(null\x3d\x3dinput)return input;switch(input.type){case \x22Feature\x22:return stitchFeature(input);case \x22FeatureCollection\x22:var output\x3d{type:\x22FeatureCollection\x22,features:input.features.map(stitchFeature)};null!\x3dinput.bbox\x26\x26(output.bbox\x3dinput.bbox);return output;default:return stitchGeometry(input)}};exports.geoTimes\x3dfunction(){return d3Geo.geoProjection(timesRaw).scale(146.153)};\nexports.geoTimesRaw\x3dtimesRaw;exports.geoTwoPointAzimuthal\x3dtwoPointAzimuthal;exports.geoTwoPointAzimuthalRaw\x3dtwoPointAzimuthalRaw;exports.geoTwoPointAzimuthalUsa\x3dfunction(){return twoPointAzimuthal([-158,21.5],[-77,39]).clipAngle(60).scale(400)};exports.geoTwoPointEquidistant\x3dtwoPointEquidistant;exports.geoTwoPointEquidistantRaw\x3dtwoPointEquidistantRaw;exports.geoTwoPointEquidistantUsa\x3dfunction(){return twoPointEquidistant([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};exports.geoVanDerGrinten\x3d\nfunction(){return d3Geo.geoProjection(vanDerGrintenRaw).scale(79.4183)};exports.geoVanDerGrintenRaw\x3dvanDerGrintenRaw;exports.geoVanDerGrinten2\x3dfunction(){return d3Geo.geoProjection(vanDerGrinten2Raw).scale(79.4183)};exports.geoVanDerGrinten2Raw\x3dvanDerGrinten2Raw;exports.geoVanDerGrinten3\x3dfunction(){return d3Geo.geoProjection(vanDerGrinten3Raw).scale(79.4183)};exports.geoVanDerGrinten3Raw\x3dvanDerGrinten3Raw;exports.geoVanDerGrinten4\x3dfunction(){return d3Geo.geoProjection(vanDerGrinten4Raw).scale(127.16)};\nexports.geoVanDerGrinten4Raw\x3dvanDerGrinten4Raw;exports.geoWagner\x3dwagner;exports.geoWagner7\x3dfunction(){return wagner().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};exports.geoWagnerRaw\x3dwagnerRaw;exports.geoWagner4\x3dfunction(){return d3Geo.geoProjection(wagner4Raw).scale(176.84)};exports.geoWagner4Raw\x3dwagner4Raw;exports.geoWagner6\x3dfunction(){return d3Geo.geoProjection(wagner6Raw).scale(152.63)};exports.geoWagner6Raw\x3dwagner6Raw;exports.geoWiechel\x3dfunction(){return d3Geo.geoProjection(wiechelRaw).rotate([0,\n-90,45]).scale(124.75).clipAngle(179.999)};exports.geoWiechelRaw\x3dwiechelRaw;exports.geoWinkel3\x3dfunction(){return d3Geo.geoProjection(winkel3Raw).scale(158.837)};exports.geoWinkel3Raw\x3dwinkel3Raw;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_projection$build$vega_projection.js", true , "shadow$provide.module$node_modules$vega_projection$build$vega_projection\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_geo$dist$d3_geo\x22),require(\x22module$node_modules$d3_geo_projection$dist$d3_geo_projection\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-geo\x22,\x22d3-geo-projection\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?\nglobalThis:global||self,factory(global.vega\x3d{},global.d3,global.d3))})(this,function(exports,d3Geo,d3GeoProjection){function create(type,constructor){return function projection(){var p\x3dconstructor();p.type\x3dtype;p.path\x3dd3Geo.geoPath().projection(p);p.copy\x3dp.copy||function(){var c\x3dprojection();projectionProperties.forEach(function(prop){if(p[prop])c[prop](p[prop]())});c.path.pointRadius(p.path.pointRadius());return c};return p}}function projection$jscomp$0(type,proj){if(!type||\x22string\x22!\x3d\x3dtypeof type)throw Error(\x22Projection type must be a name string.\x22);\ntype\x3dtype.toLowerCase();return 1\x3carguments.length?(projections[type]\x3dcreate(type,proj),this):projections[type]||null}var defaultPath\x3dd3Geo.geoPath(),projectionProperties\x3d\x22clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt\x22.split(\x22 \x22),projections\x3d{albers:d3Geo.geoAlbers,albersusa:d3Geo.geoAlbersUsa,azimuthalequalarea:d3Geo.geoAzimuthalEqualArea,azimuthalequidistant:d3Geo.geoAzimuthalEquidistant,\nconicconformal:d3Geo.geoConicConformal,conicequalarea:d3Geo.geoConicEqualArea,conicequidistant:d3Geo.geoConicEquidistant,equalEarth:d3Geo.geoEqualEarth,equirectangular:d3Geo.geoEquirectangular,gnomonic:d3Geo.geoGnomonic,identity:d3Geo.geoIdentity,mercator:d3Geo.geoMercator,mollweide:d3GeoProjection.geoMollweide,naturalEarth1:d3Geo.geoNaturalEarth1,orthographic:d3Geo.geoOrthographic,stereographic:d3Geo.geoStereographic,transversemercator:d3Geo.geoTransverseMercator},key;for(key in projections)projection$jscomp$0(key,\nprojections[key]);exports.getProjectionPath\x3dfunction(proj){return proj\x26\x26proj.path||defaultPath};exports.projection\x3dprojection$jscomp$0;exports.projectionProperties\x3dprojectionProperties;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_geo$build$vega_geo.js", true , "shadow$provide.module$node_modules$vega_geo$build$vega_geo\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$vega_statistics$build$vega_statistics\x22),require(\x22module$node_modules$vega_projection$build$vega_projection\x22),\nrequire(\x22module$node_modules$d3_geo$dist$d3_geo\x22),require(\x22module$node_modules$d3_color$dist$d3_color\x22),require(\x22module$node_modules$vega_canvas$build$vega_canvas\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.d3,global.vega,\nglobal.vega,global.d3,global.d3,global.vega))})(this,function(exports,vegaDataflow,vegaUtil,d3Array,vegaStatistics,vegaProjection,d3Geo,d3Color,vegaCanvas){function noop(){}function contours(){function contours(values,tz){return tz.map(function(value){return contour(values,value)})}function contour(values,value){var polygons\x3d[],holes\x3d[];isorings(values,value,function(ring){smooth(ring,values,value);for(var i\x3d0,n\x3dring.length,area\x3dring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];++i\x3cn;)area+\x3dring[i-\n1][1]*ring[i][0]-ring[i-1][0]*ring[i][1];0\x3carea?polygons.push([ring]):holes.push(ring)});holes.forEach(function(hole$jscomp$0){for(var i\x3d0,n\x3dpolygons.length,polygon;i\x3cn;++i){a:{var JSCompiler_inline_result\x3d(polygon\x3dpolygons[i])[0];for(var hole\x3dhole$jscomp$0,i$jscomp$0\x3d-1,n$jscomp$0\x3dhole.length;++i$jscomp$0\x3cn$jscomp$0;){b:{var c\x3dJSCompiler_inline_result;for(var point\x3dhole[i$jscomp$0],x\x3dpoint[0],y\x3dpoint[1],contains\x3d-1,i$jscomp$1\x3d0,n$jscomp$1\x3dc.length,j\x3dn$jscomp$1-1;i$jscomp$1\x3cn$jscomp$1;j\x3di$jscomp$1++){var pi\x3d\nc[i$jscomp$1],xi\x3dpi[0],yi\x3dpi[1],pj\x3dc[j];j\x3dpj[0];var yj\x3dpj[1],i$jscomp$2,a\x3dpi;pi\x3dpj;pj\x3dpoint;if(i$jscomp$2\x3d(pi[0]-a[0])*(pj[1]-a[1])\x3d\x3d\x3d(pj[0]-a[0])*(pi[1]-a[1]))a\x3da[i$jscomp$2\x3d+(a[0]\x3d\x3d\x3dpi[0])],pj\x3dpj[i$jscomp$2],pi\x3dpi[i$jscomp$2],i$jscomp$2\x3da\x3c\x3dpj\x26\x26pj\x3c\x3dpi||pi\x3c\x3dpj\x26\x26pj\x3c\x3da;if(i$jscomp$2){c\x3d0;break b}yi\x3ey!\x3d\x3dyj\x3ey\x26\x26x\x3c(j-xi)*(y-yi)/(yj-yi)+xi\x26\x26(contains\x3d-contains)}c\x3dcontains}if(c){JSCompiler_inline_result\x3dc;break a}}JSCompiler_inline_result\x3d0}if(-1!\x3d\x3dJSCompiler_inline_result){polygon.push(hole$jscomp$0);break}}});\nreturn{type:\x22MultiPolygon\x22,value:value,coordinates:polygons}}function isorings(values,value,callback){function stitch(line){var start\x3d[line[0][0]+x,line[0][1]+y];line\x3d[line[1][0]+x,line[1][1]+y];var startIndex\x3d2*start[0]+start[1]*(dx+1)*4,endIndex\x3d2*line[0]+line[1]*(dx+1)*4,f,g;(f\x3dfragmentByEnd[startIndex])?(g\x3dfragmentByStart[endIndex])?(delete fragmentByEnd[f.end],delete fragmentByStart[g.start],f\x3d\x3d\x3dg?(f.ring.push(line),callback(f.ring)):fragmentByStart[f.start]\x3dfragmentByEnd[g.end]\x3d{start:f.start,\nend:g.end,ring:f.ring.concat(g.ring)}):(delete fragmentByEnd[f.end],f.ring.push(line),fragmentByEnd[f.end\x3dendIndex]\x3df):(f\x3dfragmentByStart[endIndex])?(g\x3dfragmentByEnd[startIndex])?(delete fragmentByStart[f.start],delete fragmentByEnd[g.end],f\x3d\x3d\x3dg?(f.ring.push(line),callback(f.ring)):fragmentByStart[g.start]\x3dfragmentByEnd[f.end]\x3d{start:g.start,end:f.end,ring:g.ring.concat(f.ring)}):(delete fragmentByStart[f.start],f.ring.unshift(start),fragmentByStart[f.start\x3dstartIndex]\x3df):fragmentByStart[startIndex]\x3d\nfragmentByEnd[endIndex]\x3d{start:startIndex,end:endIndex,ring:[start,line]}}var fragmentByStart\x3d[],fragmentByEnd\x3d[],y;var x\x3dy\x3d-1;var t1\x3dvalues[0]\x3e\x3dvalue;for(cases[t1\x3c\x3c1].forEach(stitch);++x\x3cdx-1;){var t0\x3dt1;t1\x3dvalues[x+1]\x3e\x3dvalue;cases[t0|t1\x3c\x3c1].forEach(stitch)}for(cases[t1\x3c\x3c0].forEach(stitch);++y\x3cdy-1;){x\x3d-1;t1\x3dvalues[y*dx+dx]\x3e\x3dvalue;var t2\x3dvalues[y*dx]\x3e\x3dvalue;for(cases[t1\x3c\x3c1|t2\x3c\x3c2].forEach(stitch);++x\x3cdx-1;){t0\x3dt1;t1\x3dvalues[y*dx+dx+x+1]\x3e\x3dvalue;var t3\x3dt2;t2\x3dvalues[y*dx+x+1]\x3e\x3dvalue;cases[t0|t1\x3c\x3c1|t2\x3c\x3c\n2|t3\x3c\x3c3].forEach(stitch)}cases[t1|t2\x3c\x3c3].forEach(stitch)}x\x3d-1;t2\x3dvalues[y*dx]\x3e\x3dvalue;for(cases[t2\x3c\x3c2].forEach(stitch);++x\x3cdx-1;)t3\x3dt2,t2\x3dvalues[y*dx+x+1]\x3e\x3dvalue,cases[t2\x3c\x3c2|t3\x3c\x3c3].forEach(stitch);cases[t2\x3c\x3c3].forEach(stitch)}function smoothLinear(ring,values,value){ring.forEach(function(point){var x\x3dpoint[0],y\x3dpoint[1],xt\x3dx|0,yt\x3dy|0,v1\x3dvalues[yt*dx+xt];if(0\x3cx\x26\x26x\x3cdx\x26\x26xt\x3d\x3d\x3dx){var v0\x3dvalues[yt*dx+xt-1];point[0]\x3dx+(value-v0)/(v1-v0)-.5}0\x3cy\x26\x26y\x3cdy\x26\x26yt\x3d\x3d\x3dy\x26\x26(v0\x3dvalues[(yt-1)*dx+xt],point[1]\x3dy+(value-v0)/\n(v1-v0)-.5)})}var dx\x3d1,dy\x3d1,smooth\x3dsmoothLinear;contours.contour\x3dcontour;contours.size\x3dfunction(_){if(!arguments.length)return[dx,dy];var _0\x3dMath.floor(_[0]),_1\x3dMath.floor(_[1]);0\x3c\x3d_0\x26\x260\x3c\x3d_1||vegaUtil.error(\x22invalid size\x22);return dx\x3d_0,dy\x3d_1,contours};contours.smooth\x3dfunction(_){return arguments.length?(smooth\x3d_?smoothLinear:noop,contours):smooth\x3d\x3d\x3dsmoothLinear};return contours}function quantize(k,nice,zero){return function(values){var ex\x3dvegaUtil.extent(values);values\x3dzero?Math.min(ex[0],0):ex[0];\nex\x3dex[1];var span\x3dex-values;values\x3dnice?d3Array.tickStep(values,ex,k):span/(k+1);return d3Array.range(values,ex,values)}}function Isocontour(params){vegaDataflow.Transform.call(this,null,params)}function levels(values,f,_){var q\x3dquantize(_.levels||10,_.nice,!1!\x3d\x3d_.zero);return\x22shared\x22!\x3d\x3d_.resolve?q:q(values.map(function(t){return d3Array.max(f(t).values)}))}function transformPaths(paths,grid,datum,_){var s\x3d_.scale||grid.scale,t\x3d_.translate||grid.translate;vegaUtil.isFunction(s)\x26\x26(s\x3ds(datum,_));vegaUtil.isFunction(t)\x26\x26\n(t\x3dt(datum,_));if(1!\x3d\x3ds\x26\x26null!\x3ds||t)datum\x3d(vegaUtil.isNumber(s)?s:s[0])||1,s\x3d(vegaUtil.isNumber(s)?s:s[1])||1,paths.forEach(transform(grid,datum,s,t\x26\x26t[0]||0,t\x26\x26t[1]||0))}function transform(grid,sx,sy,tx,ty){function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){flip\x26\x26coordinates.reverse();coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]\x3d(coordinates[0]-x1)*sx+tx;coordinates[1]\x3d(coordinates[1]-y1)*sy+ty}\nvar x1\x3dgrid.x1||0,y1\x3dgrid.y1||0,flip\x3d0\x3esx*sy;return function(geometry){geometry.coordinates.forEach(transformPolygon);return geometry}}function radius(bw,data,f){bw\x3d0\x3c\x3dbw?bw:vegaStatistics.bandwidthNRD(data,f);return Math.round((Math.sqrt(4*bw*bw+1)-1)/2)}function number(_){return vegaUtil.isFunction(_)?_:vegaUtil.constant(+_)}function density2D(){function density(data,counts){var rx\x3dradius(bandwidth[0],data,x)\x3e\x3ek,ry\x3dradius(bandwidth[1],data,y)\x3e\x3ek,ox\x3drx?rx+2:0,oy\x3dry?ry+2:0,n\x3d2*ox+(dx\x3e\x3ek),m\x3d2*oy+(dy\x3e\x3e\nk),values0\x3dnew Float32Array(n*m),values1\x3dnew Float32Array(n*m),values\x3dvalues0;data.forEach(function(d){var xi\x3dox+(+x(d)\x3e\x3ek),yi\x3doy+(+y(d)\x3e\x3ek);0\x3c\x3dxi\x26\x26xi\x3cn\x26\x260\x3c\x3dyi\x26\x26yi\x3cm\x26\x26(values0[xi+yi*n]+\x3d+weight(d))});0\x3crx\x26\x260\x3cry?(blurX(n,m,values0,values1,rx),blurY(n,m,values1,values0,ry),blurX(n,m,values0,values1,rx),blurY(n,m,values1,values0,ry),blurX(n,m,values0,values1,rx),blurY(n,m,values1,values0,ry)):0\x3crx?(blurX(n,m,values0,values1,rx),blurX(n,m,values1,values0,rx),blurX(n,m,values0,values1,rx),values\x3dvalues1):\n0\x3cry\x26\x26(blurY(n,m,values0,values1,ry),blurY(n,m,values1,values0,ry),blurY(n,m,values0,values1,ry),values\x3dvalues1);data\x3dcounts?Math.pow(2,-2*k):1/d3Array.sum(values);counts\x3d0;for(rx\x3dn*m;counts\x3crx;++counts)values[counts]*\x3ddata;return{values:values,scale:1\x3c\x3ck,width:n,height:m,x1:ox,y1:oy,x2:ox+(dx\x3e\x3ek),y2:oy+(dy\x3e\x3ek)}}var x\x3dfunction(d){return d[0]},y\x3dfunction(d){return d[1]},weight\x3dvegaUtil.one,bandwidth\x3d[-1,-1],dx\x3d960,dy\x3d500,k\x3d2;density.x\x3dfunction(_){return arguments.length?(x\x3dnumber(_),density):x};density.y\x3d\nfunction(_){return arguments.length?(y\x3dnumber(_),density):y};density.weight\x3dfunction(_){return arguments.length?(weight\x3dnumber(_),density):weight};density.size\x3dfunction(_){if(!arguments.length)return[dx,dy];var _0\x3d+_[0],_1\x3d+_[1];0\x3c\x3d_0\x26\x260\x3c\x3d_1||vegaUtil.error(\x22invalid size\x22);return dx\x3d_0,dy\x3d_1,density};density.cellSize\x3dfunction(_){if(!arguments.length)return 1\x3c\x3ck;1\x3c\x3d(_\x3d+_)||vegaUtil.error(\x22invalid cell size\x22);k\x3dMath.floor(Math.log(_)/Math.LN2);return density};density.bandwidth\x3dfunction(_){if(!arguments.length)return bandwidth;\n_\x3dvegaUtil.array(_);1\x3d\x3d\x3d_.length\x26\x26(_\x3d[+_[0],+_[0]]);2!\x3d\x3d_.length\x26\x26vegaUtil.error(\x22invalid bandwidth\x22);return bandwidth\x3d_,density};return density}function blurX(n,m,source,target,r){for(var w\x3d(r\x3c\x3c1)+1,j\x3d0;j\x3cm;++j)for(var i\x3d0,sr\x3d0;i\x3cn+r;++i)i\x3cn\x26\x26(sr+\x3dsource[i+j*n]),i\x3e\x3dr\x26\x26(i\x3e\x3dw\x26\x26(sr-\x3dsource[i-w+j*n]),target[i-r+j*n]\x3dsr/Math.min(i+1,n-1+w-i,w))}function blurY(n,m,source,target,r){for(var w\x3d(r\x3c\x3c1)+1,i\x3d0;i\x3cn;++i)for(var j\x3d0,sr\x3d0;j\x3cm+r;++j)j\x3cm\x26\x26(sr+\x3dsource[i+j*n]),j\x3e\x3dr\x26\x26(j\x3e\x3dw\x26\x26(sr-\x3dsource[i+(j-w)*n]),target[i+\n(j-r)*n]\x3dsr/Math.min(j+1,m-1+w-j,w))}function KDE2D(params){vegaDataflow.Transform.call(this,null,params)}function params$jscomp$0(obj,_){PARAMS.forEach(function(param){return null!\x3d_[param]?obj[param](_[param]):0});return obj}function partition(data,groupby){var groups\x3d[],get\x3dfunction(f){return f(t)},n;if(null\x3d\x3dgroupby)groups.push(data);else{var map\x3d{};var i\x3d0;for(n\x3ddata.length;i\x3cn;++i){var t\x3ddata[i];var k\x3dgroupby.map(get);var g\x3dmap[k];g||(map[k]\x3dg\x3d[],g.dims\x3dk,groups.push(g));g.push(t)}}return groups}\nfunction Contour(params){vegaDataflow.Transform.call(this,null,params)}function GeoJSON(params){vegaDataflow.Transform.call(this,null,params)}function GeoPath(params){vegaDataflow.Transform.call(this,null,params)}function initPath(path,pointRadius){var prev\x3dpath.pointRadius();path.context(null);null!\x3dpointRadius\x26\x26path.pointRadius(pointRadius);return prev}function GeoPoint(params){vegaDataflow.Transform.call(this,null,params)}function GeoShape(params){vegaDataflow.Transform.call(this,null,params)}\nfunction shapeGenerator(path,field,pointRadius){var shape\x3dnull\x3d\x3dpointRadius?function(_){return path(field(_))}:function(_){var prev\x3dpath.pointRadius();_\x3dpath.pointRadius(pointRadius)(field(_));path.pointRadius(prev);return _};shape.context\x3dfunction(_){path.context(_);return shape};return shape}function Graticule(params){vegaDataflow.Transform.call(this,[],params);this.generator\x3dd3Geo.geoGraticule()}function Heatmap(params){vegaDataflow.Transform.call(this,null,params)}function color_(color,_){if(vegaUtil.isFunction(color)){var f\x3d\nfunction(obj){return d3Color.rgb(color(obj,_))};f.dep\x3ddependency(color)}else f\x3dvegaUtil.constant(d3Color.rgb(color||\x22#888\x22));return f}function opacity_(opacity,_){if(vegaUtil.isFunction(opacity)){var f\x3dfunction(obj){return opacity(obj,_)};f.dep\x3ddependency(opacity)}else opacity?f\x3dvegaUtil.constant(opacity):(f\x3dfunction(obj){return obj.$value/obj.$max||0},f.dep\x3d!0);return f}function dependency(f){if(!vegaUtil.isFunction(f))return!1;f\x3dvegaUtil.toSet(vegaUtil.accessorFields(f));return f.$x||f.$y||f.$value||\nf.$max}function toCanvas(grid,obj,color,opacity){var n\x3dgrid.width,m\x3dgrid.height,x1\x3dgrid.x1||0,y1\x3dgrid.y1||0,x2\x3dgrid.x2||n;m\x3dgrid.y2||m;var val\x3dgrid.values;grid\x3dval?function(i){return val[i]}:vegaUtil.zero;for(var can\x3dvegaCanvas.canvas(x2-x1,m-y1),ctx\x3dcan.getContext(\x222d\x22),img\x3dctx.getImageData(0,0,x2-x1,m-y1),pix\x3dimg.data,j\x3dy1,k\x3d0;j\x3cm;++j){obj.$y\x3dj-y1;for(var i$jscomp$0\x3dx1,r\x3dj*n;i$jscomp$0\x3cx2;++i$jscomp$0,k+\x3d4){obj.$x\x3di$jscomp$0-x1;obj.$value\x3dgrid(i$jscomp$0+r);var v\x3dcolor(obj);pix[k+0]\x3dv.r;pix[k+1]\x3d\nv.g;pix[k+2]\x3dv.b;pix[k+3]\x3d~~(255*opacity(obj))}}ctx.putImageData(img,0,0);return can}function Projection(params){vegaDataflow.Transform.call(this,null,params);this.modified(!0)}function fit(proj,_){var data\x3dcollectGeoJSON(_.fit);_.extent?proj.fitExtent(_.extent,data):_.size?proj.fitSize(_.size,data):0}function create(type){var constructor\x3dvegaProjection.projection((type||\x22mercator\x22).toLowerCase());constructor||vegaUtil.error(\x22Unrecognized projection type: \x22+type);return constructor()}function collectGeoJSON(data){data\x3d\nvegaUtil.array(data);return 1\x3d\x3d\x3ddata.length?data[0]:{type:\x22FeatureCollection\x22,features:data.reduce(function(a,f){return a.concat(featurize(f))},[])}}function featurize(f){return\x22FeatureCollection\x22\x3d\x3d\x3df.type?f.features:vegaUtil.array(f).filter(function(d){return null!\x3dd}).map(function(d){return\x22Feature\x22\x3d\x3d\x3dd.type?d:{type:\x22Feature\x22,geometry:d}})}var cases\x3d[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,\n1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Isocontour.Definition\x3d{type:\x22Isocontour\x22,metadata:{generates:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22thresholds\x22,type:\x22number\x22,array:!0},{name:\x22levels\x22,type:\x22number\x22},{name:\x22nice\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22resolve\x22,type:\x22enum\x22,values:[\x22shared\x22,\x22independent\x22],\x22default\x22:\x22independent\x22},{name:\x22zero\x22,type:\x22boolean\x22,\x22default\x22:!0},\n{name:\x22smooth\x22,type:\x22boolean\x22,\x22default\x22:!0},{name:\x22scale\x22,type:\x22number\x22,expr:!0},{name:\x22translate\x22,type:\x22number\x22,array:!0,expr:!0},{name:\x22as\x22,type:\x22string\x22,\x22null\x22:!0,\x22default\x22:\x22contour\x22}]};vegaUtil.inherits(Isocontour,vegaDataflow.Transform,{transform:function(_,pulse){if(this.value\x26\x26!pulse.changed()\x26\x26!_.modified())return pulse.StopPropagation;var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);pulse\x3dpulse.materialize(pulse.SOURCE).source;var field\x3d_.field||vegaUtil.identity,contour\x3dcontours().smooth(!1!\x3d\x3d\n_.smooth),tz\x3d_.thresholds||levels(pulse,field,_),as\x3dnull\x3d\x3d\x3d_.as?null:_.as||\x22contour\x22,values\x3d[];pulse.forEach(function(t){var grid\x3dfield(t),paths\x3dcontour.size([grid.width,grid.height])(grid.values,vegaUtil.isArray(tz)?tz:tz(grid.values));transformPaths(paths,grid,t,_);paths.forEach(function(p){var $jscomp$compprop50\x3d{};values.push(vegaDataflow.rederive(t,vegaDataflow.ingest(null!\x3das?($jscomp$compprop50[as]\x3dp,$jscomp$compprop50):p)))})});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.source\x3dout.add\x3d\nvalues;return out}});KDE2D.Definition\x3d{type:\x22KDE2D\x22,metadata:{generates:!0},params:[{name:\x22size\x22,type:\x22number\x22,array:!0,length:2,required:!0},{name:\x22x\x22,type:\x22field\x22,required:!0},{name:\x22y\x22,type:\x22field\x22,required:!0},{name:\x22weight\x22,type:\x22field\x22},{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22cellSize\x22,type:\x22number\x22},{name:\x22bandwidth\x22,type:\x22number\x22,array:!0,length:2},{name:\x22counts\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22grid\x22}]};var PARAMS\x3d\x22x y weight size cellSize bandwidth\x22.split(\x22 \x22);\nvegaUtil.inherits(KDE2D,vegaDataflow.Transform,{transform:function(_,pulse){function set(t,vals){for(var i\x3d0;i\x3cnames.length;++i)t[names[i]]\x3dvals[i];return t}if(this.value\x26\x26!pulse.changed()\x26\x26!_.modified())return pulse.StopPropagation;var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);pulse\x3dpulse.materialize(pulse.SOURCE).source;pulse\x3dpartition(pulse,_.groupby);var names\x3d(_.groupby||[]).map(vegaUtil.accessorName),kde\x3dparams$jscomp$0(density2D(),_),as\x3d_.as||\x22grid\x22,values\x3d[];values\x3dpulse.map(function(g){var $jscomp$compprop51\x3d\n{};return vegaDataflow.ingest(set(($jscomp$compprop51[as]\x3dkde(g,_.counts),$jscomp$compprop51),g.dims))});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.source\x3dout.add\x3dvalues;return out}});Contour.Definition\x3d{type:\x22Contour\x22,metadata:{generates:!0},params:[{name:\x22size\x22,type:\x22number\x22,array:!0,length:2,required:!0},{name:\x22values\x22,type:\x22number\x22,array:!0},{name:\x22x\x22,type:\x22field\x22},{name:\x22y\x22,type:\x22field\x22},{name:\x22weight\x22,type:\x22field\x22},{name:\x22cellSize\x22,type:\x22number\x22},{name:\x22bandwidth\x22,type:\x22number\x22},{name:\x22count\x22,\ntype:\x22number\x22},{name:\x22nice\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22thresholds\x22,type:\x22number\x22,array:!0},{name:\x22smooth\x22,type:\x22boolean\x22,\x22default\x22:!0}]};vegaUtil.inherits(Contour,vegaDataflow.Transform,{transform:function(_,pulse){if(this.value\x26\x26!pulse.changed()\x26\x26!_.modified())return pulse.StopPropagation;var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),contour\x3dcontours().smooth(!1!\x3d\x3d_.smooth),values\x3d_.values,thresh\x3d_.thresholds||quantize(_.count||10,_.nice,!!values),size\x3d_.size;if(!values){values\x3dpulse.materialize(pulse.SOURCE).source;\n_\x3dparams$jscomp$0(density2D(),_)(values,!0);var post\x3dtransform(_,_.scale||1,_.scale||1,0,0);size\x3d[_.width,_.height];values\x3d_.values}thresh\x3dvegaUtil.isArray(thresh)?thresh:thresh(values);values\x3dcontour.size(size)(values,thresh);post\x26\x26values.forEach(post);this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.source\x3dout.add\x3d(values||[]).map(vegaDataflow.ingest);return out}});GeoJSON.Definition\x3d{type:\x22GeoJSON\x22,metadata:{},params:[{name:\x22fields\x22,type:\x22field\x22,array:!0,length:2},{name:\x22geojson\x22,type:\x22field\x22}]};\nvegaUtil.inherits(GeoJSON,vegaDataflow.Transform,{transform:function(_,pulse){var features\x3dthis._features,points\x3dthis._points,fields\x3d_.fields,lon\x3dfields\x26\x26fields[0],lat\x3dfields\x26\x26fields[1],geojson\x3d_.geojson||!fields\x26\x26vegaUtil.identity;fields\x3dpulse.ADD;_\x3d_.modified()||pulse.changed(pulse.REM)||pulse.modified(vegaUtil.accessorFields(geojson))||lon\x26\x26pulse.modified(vegaUtil.accessorFields(lon))||lat\x26\x26pulse.modified(vegaUtil.accessorFields(lat));if(!this.value||_)fields\x3dpulse.SOURCE,this._features\x3dfeatures\x3d\n[],this._points\x3dpoints\x3d[];geojson\x26\x26pulse.visit(fields,function(t){return features.push(geojson(t))});lon\x26\x26lat\x26\x26(pulse.visit(fields,function(t){var x\x3dlon(t);t\x3dlat(t);null!\x3dx\x26\x26null!\x3dt\x26\x26(x\x3d+x)\x3d\x3d\x3dx\x26\x26(t\x3d+t)\x3d\x3d\x3dt\x26\x26points.push([x,t])}),features\x3dfeatures.concat({type:\x22Feature\x22,geometry:{type:\x22MultiPoint\x22,coordinates:points}}));this.value\x3d{type:\x22FeatureCollection\x22,features:features}}});GeoPath.Definition\x3d{type:\x22GeoPath\x22,metadata:{modifies:!0},params:[{name:\x22projection\x22,type:\x22projection\x22},{name:\x22field\x22,type:\x22field\x22},\n{name:\x22pointRadius\x22,type:\x22number\x22,expr:!0},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22path\x22}]};vegaUtil.inherits(GeoPath,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.ALL),path\x3dthis.value,field\x3d_.field||vegaUtil.identity,as\x3d_.as||\x22path\x22,flag\x3dout.SOURCE;!path||_.modified()?(this.value\x3dpath\x3dvegaProjection.getProjectionPath(_.projection),out.materialize().reflow()):flag\x3dfield\x3d\x3d\x3dvegaUtil.identity||pulse.modified(field.fields)?out.ADD_MOD:out.ADD;_\x3dinitPath(path,_.pointRadius);\nout.visit(flag,function(t){return t[as]\x3dpath(field(t))});path.pointRadius(_);return out.modifies(as)}});GeoPoint.Definition\x3d{type:\x22GeoPoint\x22,metadata:{modifies:!0},params:[{name:\x22projection\x22,type:\x22projection\x22,required:!0},{name:\x22fields\x22,type:\x22field\x22,array:!0,required:!0,length:2},{name:\x22as\x22,type:\x22string\x22,array:!0,length:2,\x22default\x22:[\x22x\x22,\x22y\x22]}]};vegaUtil.inherits(GeoPoint,vegaDataflow.Transform,{transform:function(_,pulse){function set(t){var xy\x3dproj([lon(t),lat(t)]);xy?(t[x]\x3dxy[0],t[y]\x3dxy[1]):(t[x]\x3d\nvoid 0,t[y]\x3dvoid 0)}var proj\x3d_.projection,lon\x3d_.fields[0],lat\x3d_.fields[1],as\x3d_.as||[\x22x\x22,\x22y\x22],x\x3das[0],y\x3das[1];_.modified()?pulse\x3dpulse.materialize().reflow(!0).visit(pulse.SOURCE,set):(_\x3dpulse.modified(lon.fields)||pulse.modified(lat.fields),pulse.visit(_?pulse.ADD_MOD:pulse.ADD,set));return pulse.modifies(as)}});GeoShape.Definition\x3d{type:\x22GeoShape\x22,metadata:{modifies:!0,nomod:!0},params:[{name:\x22projection\x22,type:\x22projection\x22},{name:\x22field\x22,type:\x22field\x22,\x22default\x22:\x22datum\x22},{name:\x22pointRadius\x22,type:\x22number\x22,\nexpr:!0},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22shape\x22}]};vegaUtil.inherits(GeoShape,vegaDataflow.Transform,{transform:function(_,pulse){pulse\x3dpulse.fork(pulse.ALL);var shape\x3dthis.value,as\x3d_.as||\x22shape\x22,flag\x3dpulse.ADD;if(!shape||_.modified())this.value\x3dshape\x3dshapeGenerator(vegaProjection.getProjectionPath(_.projection),_.field||vegaUtil.field(\x22datum\x22),_.pointRadius),pulse.materialize().reflow(),flag\x3dpulse.SOURCE;pulse.visit(flag,function(t){return t[as]\x3dshape});return pulse.modifies(as)}});Graticule.Definition\x3d\n{type:\x22Graticule\x22,metadata:{changes:!0,generates:!0},params:[{name:\x22extent\x22,type:\x22array\x22,array:!0,length:2,content:{type:\x22number\x22,array:!0,length:2}},{name:\x22extentMajor\x22,type:\x22array\x22,array:!0,length:2,content:{type:\x22number\x22,array:!0,length:2}},{name:\x22extentMinor\x22,type:\x22array\x22,array:!0,length:2,content:{type:\x22number\x22,array:!0,length:2}},{name:\x22step\x22,type:\x22number\x22,array:!0,length:2},{name:\x22stepMajor\x22,type:\x22number\x22,array:!0,length:2,\x22default\x22:[90,360]},{name:\x22stepMinor\x22,type:\x22number\x22,array:!0,length:2,\n\x22default\x22:[10,10]},{name:\x22precision\x22,type:\x22number\x22,\x22default\x22:2.5}]};vegaUtil.inherits(Graticule,vegaDataflow.Transform,{transform:function(_,pulse){var src\x3dthis.value,gen\x3dthis.generator;if(!src.length||_.modified())for(var prop in _)if(vegaUtil.isFunction(gen[prop]))gen[prop](_[prop]);_\x3dgen();src.length?pulse.mod.push(vegaDataflow.replace(src[0],_)):pulse.add.push(vegaDataflow.ingest(_));src[0]\x3d_;return pulse}});Heatmap.Definition\x3d{type:\x22heatmap\x22,metadata:{modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},\n{name:\x22color\x22,type:\x22string\x22,expr:!0},{name:\x22opacity\x22,type:\x22number\x22,expr:!0},{name:\x22resolve\x22,type:\x22enum\x22,values:[\x22shared\x22,\x22independent\x22],\x22default\x22:\x22independent\x22},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22image\x22}]};vegaUtil.inherits(Heatmap,vegaDataflow.Transform,{transform:function(_,pulse){if(!pulse.changed()\x26\x26!_.modified())return pulse.StopPropagation;var source\x3dpulse.materialize(pulse.SOURCE).source,shared\x3d\x22shared\x22\x3d\x3d\x3d_.resolve,field\x3d_.field||vegaUtil.identity,opacity\x3dopacity_(_.opacity,_),color\x3dcolor_(_.color,\n_),as\x3d_.as||\x22image\x22,obj\x3d{$x:0,$y:0,$value:0,$max:shared?d3Array.max(source.map(function(t){return d3Array.max(field(t).values)})):0};source.forEach(function(t){var v\x3dfield(t),o\x3dvegaUtil.extend({},t,obj);shared||(o.$max\x3dd3Array.max(v.values||[]));t[as]\x3dtoCanvas(v,o,color.dep?color:vegaUtil.constant(color(o)),opacity.dep?opacity:vegaUtil.constant(opacity(o)))});return pulse.reflow(!0).modifies(as)}});vegaUtil.inherits(Projection,vegaDataflow.Transform,{transform:function(_,pulse){var proj$jscomp$0\x3d\nthis.value;!proj$jscomp$0||_.modified(\x22type\x22)?(this.value\x3dproj$jscomp$0\x3dcreate(_.type),vegaProjection.projectionProperties.forEach(function(prop){if(null!\x3d_[prop]){var proj\x3dproj$jscomp$0,value\x3d_[prop];if(vegaUtil.isFunction(proj[prop]))proj[prop](value)}})):vegaProjection.projectionProperties.forEach(function(prop){if(_.modified(prop)){var proj\x3dproj$jscomp$0,value\x3d_[prop];if(vegaUtil.isFunction(proj[prop]))proj[prop](value)}});null!\x3d_.pointRadius\x26\x26proj$jscomp$0.path.pointRadius(_.pointRadius);_.fit\x26\x26\nfit(proj$jscomp$0,_);return pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)}});exports.contour\x3dContour;exports.geojson\x3dGeoJSON;exports.geopath\x3dGeoPath;exports.geopoint\x3dGeoPoint;exports.geoshape\x3dGeoShape;exports.graticule\x3dGraticule;exports.heatmap\x3dHeatmap;exports.isocontour\x3dIsocontour;exports.kde2d\x3dKDE2D;exports.projection\x3dProjection;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_quadtree$dist$d3_quadtree.js", true , "shadow$provide.module$node_modules$d3_quadtree$dist$d3_quadtree\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function add(tree,x,y,d){if(isNaN(x)||isNaN(y))return tree;var parent,node\x3dtree._root;d\x3d{data:d};var x0\x3dtree._x0,y0\x3d\ntree._y0,x1\x3dtree._x1,y1\x3dtree._y1,xm,ym,right,bottom;if(!node)return tree._root\x3dd,tree;for(;node.length;)if((right\x3dx\x3e\x3d(xm\x3d(x0+x1)/2))?x0\x3dxm:x1\x3dxm,(bottom\x3dy\x3e\x3d(ym\x3d(y0+y1)/2))?y0\x3dym:y1\x3dym,parent\x3dnode,!(node\x3dnode[right|\x3dbottom\x3c\x3c1]))return parent[right]\x3dd,tree;var xp\x3d+tree._x.call(null,node.data);var yp\x3d+tree._y.call(null,node.data);if(x\x3d\x3d\x3dxp\x26\x26y\x3d\x3d\x3dyp)return d.next\x3dnode,parent?parent[right]\x3dd:tree._root\x3dd,tree;do parent\x3dparent?parent[right]\x3dArray(4):tree._root\x3dArray(4),(right\x3dx\x3e\x3d(xm\x3d(x0+x1)/2))?x0\x3dxm:x1\x3d\nxm,(bottom\x3dy\x3e\x3d(ym\x3d(y0+y1)/2))?y0\x3dym:y1\x3dym;while((right|\x3dbottom\x3c\x3c1)\x3d\x3d\x3d(bottom\x3d(yp\x3e\x3dym)\x3c\x3c1|xp\x3e\x3dxm));return parent[bottom]\x3dnode,parent[right]\x3dd,tree}function Quad(node,x0,y0,x1,y1){this.node\x3dnode;this.x0\x3dx0;this.y0\x3dy0;this.x1\x3dx1;this.y1\x3dy1}function defaultX(d){return d[0]}function defaultY(d){return d[1]}function quadtree(nodes,x,y){x\x3dnew Quadtree(null\x3d\x3dx?defaultX:x,null\x3d\x3dy?defaultY:y,NaN,NaN,NaN,NaN);return null\x3d\x3dnodes?x:x.addAll(nodes)}function Quadtree(x,y,x0,y0,x1,y1){this._x\x3dx;this._y\x3dy;this._x0\x3d\nx0;this._y0\x3dy0;this._x1\x3dx1;this._y1\x3dy1;this._root\x3dvoid 0}function leaf_copy(leaf){for(var copy\x3d{data:leaf.data},next\x3dcopy;leaf\x3dleaf.next;)next\x3dnext.next\x3d{data:leaf.data};return copy}var treeProto\x3dquadtree.prototype\x3dQuadtree.prototype;treeProto.copy\x3dfunction(){var copy\x3dnew Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),node\x3dthis._root,nodes,child;if(!node)return copy;if(!node.length)return copy._root\x3dleaf_copy(node),copy;for(nodes\x3d[{source:node,target:copy._root\x3dArray(4)}];node\x3dnodes.pop();)for(var i\x3d\n0;4\x3ei;++i)if(child\x3dnode.source[i])child.length?nodes.push({source:child,target:node.target[i]\x3dArray(4)}):node.target[i]\x3dleaf_copy(child);return copy};treeProto.add\x3dfunction(d){var x\x3d+this._x.call(null,d),y\x3d+this._y.call(null,d);return add(this.cover(x,y),x,y,d)};treeProto.addAll\x3dfunction(data){var d,i,n\x3ddata.length,x,y,xz\x3dArray(n),yz\x3dArray(n),x0\x3dInfinity,y0\x3dInfinity,x1\x3d-Infinity,y1\x3d-Infinity;for(i\x3d0;i\x3cn;++i)isNaN(x\x3d+this._x.call(null,d\x3ddata[i]))||isNaN(y\x3d+this._y.call(null,d))||(xz[i]\x3dx,yz[i]\x3dy,x\x3c\nx0\x26\x26(x0\x3dx),x\x3ex1\x26\x26(x1\x3dx),y\x3cy0\x26\x26(y0\x3dy),y\x3ey1\x26\x26(y1\x3dy));if(x0\x3ex1||y0\x3ey1)return this;this.cover(x0,y0).cover(x1,y1);for(i\x3d0;i\x3cn;++i)add(this,xz[i],yz[i],data[i]);return this};treeProto.cover\x3dfunction(x,y){if(isNaN(x\x3d+x)||isNaN(y\x3d+y))return this;var x0\x3dthis._x0,y0\x3dthis._y0,x1\x3dthis._x1,y1\x3dthis._y1;if(isNaN(x0))x1\x3d(x0\x3dMath.floor(x))+1,y1\x3d(y0\x3dMath.floor(y))+1;else{for(var z\x3dx1-x0||1,node\x3dthis._root,parent,i;x0\x3ex||x\x3e\x3dx1||y0\x3ey||y\x3e\x3dy1;)switch(i\x3d(y\x3cy0)\x3c\x3c1|x\x3cx0,parent\x3dArray(4),parent[i]\x3dnode,node\x3dparent,z*\x3d2,i){case 0:x1\x3d\nx0+z;y1\x3dy0+z;break;case 1:x0\x3dx1-z;y1\x3dy0+z;break;case 2:x1\x3dx0+z;y0\x3dy1-z;break;case 3:x0\x3dx1-z,y0\x3dy1-z}this._root\x26\x26this._root.length\x26\x26(this._root\x3dnode)}this._x0\x3dx0;this._y0\x3dy0;this._x1\x3dx1;this._y1\x3dy1;return this};treeProto.data\x3dfunction(){var data\x3d[];this.visit(function(node){if(!node.length){do data.push(node.data);while(node\x3dnode.next)}});return data};treeProto.extent\x3dfunction(_){return arguments.length?this.cover(+_[0][0],+_[0][1]).cover(+_[1][0],+_[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],\n[this._x1,this._y1]]};treeProto.find\x3dfunction(x,y,radius){var x0\x3dthis._x0,y0\x3dthis._y0,x1,y1,x2,y2,x3\x3dthis._x1,y3\x3dthis._y1,quads\x3d[],node\x3dthis._root,q;node\x26\x26quads.push(new Quad(node,x0,y0,x3,y3));null\x3d\x3dradius?radius\x3dInfinity:(x0\x3dx-radius,y0\x3dy-radius,x3\x3dx+radius,y3\x3dy+radius,radius*\x3dradius);for(;q\x3dquads.pop();)if(!(!(node\x3dq.node)||(x1\x3dq.x0)\x3ex3||(y1\x3dq.y0)\x3ey3||(x2\x3dq.x1)\x3cx0||(y2\x3dq.y1)\x3cy0))if(node.length){q\x3d(x1+x2)/2;var ym\x3d(y1+y2)/2;quads.push(new Quad(node[3],q,ym,x2,y2),new Quad(node[2],x1,ym,q,y2),new Quad(node[1],\nq,y1,x2,ym),new Quad(node[0],x1,y1,q,ym));if(node\x3d(y\x3e\x3dym)\x3c\x3c1|x\x3e\x3dq)q\x3dquads[quads.length-1],quads[quads.length-1]\x3dquads[quads.length-1-node],quads[quads.length-1-node]\x3dq}else if(q\x3dx-+this._x.call(null,node.data),ym\x3dy-+this._y.call(null,node.data),q\x3dq*q+ym*ym,q\x3cradius){var data\x3dMath.sqrt(radius\x3dq);x0\x3dx-data;y0\x3dy-data;x3\x3dx+data;y3\x3dy+data;data\x3dnode.data}return data};treeProto.remove\x3dfunction(d){if(isNaN(x\x3d+this._x.call(null,d))||isNaN(y\x3d+this._y.call(null,d)))return this;var parent,node\x3dthis._root,previous,\nx0\x3dthis._x0,y0\x3dthis._y0,x1\x3dthis._x1,y1\x3dthis._y1,x,y,xm,ym,right,bottom;if(!node)return this;if(node.length)for(;;){(right\x3dx\x3e\x3d(xm\x3d(x0+x1)/2))?x0\x3dxm:x1\x3dxm;(bottom\x3dy\x3e\x3d(ym\x3d(y0+y1)/2))?y0\x3dym:y1\x3dym;if(!(parent\x3dnode,node\x3dnode[right|\x3dbottom\x3c\x3c1]))return this;if(!node.length)break;if(parent[right+1\x263]||parent[right+2\x263]||parent[right+3\x263]){var retainer\x3dparent;var j\x3dright}}for(;node.data!\x3d\x3dd;)if(!(previous\x3dnode,node\x3dnode.next))return this;(d\x3dnode.next)\x26\x26delete node.next;if(previous)return d?previous.next\x3dd:\ndelete previous.next,this;if(!parent)return this._root\x3dd,this;d?parent[right]\x3dd:delete parent[right];(node\x3dparent[0]||parent[1]||parent[2]||parent[3])\x26\x26node\x3d\x3d\x3d(parent[3]||parent[2]||parent[1]||parent[0])\x26\x26!node.length\x26\x26(retainer?retainer[j]\x3dnode:this._root\x3dnode);return this};treeProto.removeAll\x3dfunction(data){for(var i\x3d0,n\x3ddata.length;i\x3cn;++i)this.remove(data[i]);return this};treeProto.root\x3dfunction(){return this._root};treeProto.size\x3dfunction(){var size\x3d0;this.visit(function(node){if(!node.length){do++size;\nwhile(node\x3dnode.next)}});return size};treeProto.visit\x3dfunction(callback){var quads\x3d[],q,node\x3dthis._root,child,x0,y0,x1;for(node\x26\x26quads.push(new Quad(node,this._x0,this._y0,this._x1,this._y1));q\x3dquads.pop();)if(!callback(node\x3dq.node,x0\x3dq.x0,y0\x3dq.y0,x1\x3dq.x1,q\x3dq.y1)\x26\x26node.length){var xm\x3d(x0+x1)/2,ym\x3d(y0+q)/2;(child\x3dnode[3])\x26\x26quads.push(new Quad(child,xm,ym,x1,q));(child\x3dnode[2])\x26\x26quads.push(new Quad(child,x0,ym,xm,q));(child\x3dnode[1])\x26\x26quads.push(new Quad(child,xm,y0,x1,ym));(child\x3dnode[0])\x26\x26quads.push(new Quad(child,\nx0,y0,xm,ym))}return this};treeProto.visitAfter\x3dfunction(callback){var quads\x3d[],next\x3d[],q;for(this._root\x26\x26quads.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));q\x3dquads.pop();){var node\x3dq.node;if(node.length){var child,x0\x3dq.x0,y0\x3dq.y0,x1\x3dq.x1,y1\x3dq.y1,xm\x3d(x0+x1)/2,ym\x3d(y0+y1)/2;(child\x3dnode[0])\x26\x26quads.push(new Quad(child,x0,y0,xm,ym));(child\x3dnode[1])\x26\x26quads.push(new Quad(child,xm,y0,x1,ym));(child\x3dnode[2])\x26\x26quads.push(new Quad(child,x0,ym,xm,y1));(child\x3dnode[3])\x26\x26quads.push(new Quad(child,\nxm,ym,x1,y1))}next.push(q)}for(;q\x3dnext.pop();)callback(q.node,q.x0,q.y0,q.x1,q.y1);return this};treeProto.x\x3dfunction(_){return arguments.length?(this._x\x3d_,this):this._x};treeProto.y\x3dfunction(_){return arguments.length?(this._y\x3d_,this):this._y};exports.quadtree\x3dquadtree;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_dispatch$dist$d3_dispatch.js", true , "shadow$provide.module$node_modules$d3_dispatch$dist$d3_dispatch\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function dispatch(){for(var i\x3d0,n\x3darguments.length,_\x3d{},t;i\x3cn;++i){if(!(t\x3darguments[i]+\x22\x22)||t in _||/[\\s.]/.test(t))throw Error(\x22illegal type: \x22+\nt);_[t]\x3d[]}return new Dispatch(_)}function Dispatch(_){this._\x3d_}function parseTypenames(typenames,types){return typenames.trim().split(/^|\\s+/).map(function(t){var name\x3d\x22\x22,i\x3dt.indexOf(\x22.\x22);0\x3c\x3di\x26\x26(name\x3dt.slice(i+1),t\x3dt.slice(0,i));if(t\x26\x26!types.hasOwnProperty(t))throw Error(\x22unknown type: \x22+t);return{type:t,name:name}})}function set(type,name,callback){for(var i\x3d0,n\x3dtype.length;i\x3cn;++i)if(type[i].name\x3d\x3d\x3dname){type[i]\x3dnoop;type\x3dtype.slice(0,i).concat(type.slice(i+1));break}null!\x3dcallback\x26\x26type.push({name:name,\nvalue:callback});return type}var noop\x3d{value:function(){}};Dispatch.prototype\x3ddispatch.prototype\x3d{constructor:Dispatch,on:function(typename,callback){var _\x3dthis._,T\x3dparseTypenames(typename+\x22\x22,_),t,i\x3d-1,n\x3dT.length;if(2\x3earguments.length)for(;++i\x3cn;){var JSCompiler_temp;if(JSCompiler_temp\x3dt\x3d(typename\x3dT[i]).type){a:{JSCompiler_temp\x3d_[t];for(var i$jscomp$0\x3d0,n$jscomp$0\x3dJSCompiler_temp.length;i$jscomp$0\x3cn$jscomp$0;++i$jscomp$0)if((t\x3dJSCompiler_temp[i$jscomp$0]).name\x3d\x3d\x3dtypename.name){t\x3dt.value;break a}t\x3d\nvoid 0}JSCompiler_temp\x3dt}if(JSCompiler_temp)return t}else{if(null!\x3dcallback\x26\x26\x22function\x22!\x3d\x3dtypeof callback)throw Error(\x22invalid callback: \x22+callback);for(;++i\x3cn;)if(t\x3d(typename\x3dT[i]).type)_[t]\x3dset(_[t],typename.name,callback);else if(null\x3d\x3dcallback)for(t in _)_[t]\x3dset(_[t],typename.name,null);return this}},copy:function(){var copy\x3d{},_\x3dthis._,t;for(t in _)copy[t]\x3d_[t].slice();return new Dispatch(copy)},call:function(type,that){if(0\x3c(n\x3darguments.length-2))for(var args\x3dArray(n),i\x3d0,n,t;i\x3cn;++i)args[i]\x3d\narguments[i+2];if(!this._.hasOwnProperty(type))throw Error(\x22unknown type: \x22+type);t\x3dthis._[type];i\x3d0;for(n\x3dt.length;i\x3cn;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw Error(\x22unknown type: \x22+type);type\x3dthis._[type];for(var i\x3d0,n\x3dtype.length;i\x3cn;++i)type[i].value.apply(that,args)}};exports.dispatch\x3ddispatch;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_timer$dist$d3_timer.js", true , "shadow$provide.module$node_modules$d3_timer$dist$d3_timer\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function now$jscomp$0(){return clockNow||(setFrame(clearNow),clockNow\x3dclock.now()+clockSkew)}function clearNow(){clockNow\x3d\n0}function Timer(){this._call\x3dthis._time\x3dthis._next\x3dnull}function timer(callback,delay,time){var t\x3dnew Timer;t.restart(callback,delay,time);return t}function timerFlush(){now$jscomp$0();++frame;for(var t\x3dtaskHead,e;t;)0\x3c\x3d(e\x3dclockNow-t._time)\x26\x26t._call.call(null,e),t\x3dt._next;--frame}function wake(){clockNow\x3d(clockLast\x3dclock.now())+clockSkew;frame\x3dtimeout\x3d0;try{timerFlush()}finally{frame\x3d0;for(var t0,t1\x3dtaskHead,t2,time\x3dInfinity;t1;)t1._call?(time\x3et1._time\x26\x26(time\x3dt1._time),t0\x3dt1,t1\x3dt1._next):(t2\x3dt1._next,\nt1._next\x3dnull,t1\x3dt0?t0._next\x3dt2:taskHead\x3dt2);taskTail\x3dt0;sleep(time);clockNow\x3d0}}function poke(){var now\x3dclock.now(),delay\x3dnow-clockLast;1E3\x3cdelay\x26\x26(clockSkew-\x3ddelay,clockLast\x3dnow)}function sleep(time){frame||(timeout\x26\x26(timeout\x3dclearTimeout(timeout)),24\x3ctime-clockNow?(Infinity\x3etime\x26\x26(timeout\x3dsetTimeout(wake,time-clock.now()-clockSkew)),interval\x26\x26(interval\x3dclearInterval(interval))):(interval||(clockLast\x3dclock.now(),interval\x3dsetInterval(poke,1E3)),frame\x3d1,setFrame(wake)))}var frame\x3d0,timeout\x3d0,interval\x3d\n0,taskHead,taskTail,clockLast\x3d0,clockNow\x3d0,clockSkew\x3d0,clock\x3d\x22object\x22\x3d\x3d\x3dtypeof performance\x26\x26performance.now?performance:Date,setFrame\x3d\x22object\x22\x3d\x3d\x3dtypeof window\x26\x26window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};Timer.prototype\x3dtimer.prototype\x3d{constructor:Timer,restart:function(callback,delay,time){if(\x22function\x22!\x3d\x3dtypeof callback)throw new TypeError(\x22callback is not a function\x22);time\x3d(null\x3d\x3dtime?now$jscomp$0():+time)+(null\x3d\x3ddelay?0:+delay);this._next||\ntaskTail\x3d\x3d\x3dthis||(taskTail?taskTail._next\x3dthis:taskHead\x3dthis,taskTail\x3dthis);this._call\x3dcallback;this._time\x3dtime;sleep()},stop:function(){this._call\x26\x26(this._call\x3dnull,this._time\x3dInfinity,sleep())}};exports.interval\x3dfunction(callback$jscomp$0,delay$jscomp$0,time$jscomp$0){var t\x3dnew Timer,total\x3ddelay$jscomp$0;if(null\x3d\x3ddelay$jscomp$0)return t.restart(callback$jscomp$0,delay$jscomp$0,time$jscomp$0),t;t._restart\x3dt.restart;t.restart\x3dfunction(callback,delay,time){delay\x3d+delay;time\x3dnull\x3d\x3dtime?now$jscomp$0():\n+time;t._restart(function tick(elapsed){elapsed+\x3dtotal;t._restart(tick,total+\x3ddelay,time);callback(elapsed)},delay,time)};t.restart(callback$jscomp$0,delay$jscomp$0,time$jscomp$0);return t};exports.now\x3dnow$jscomp$0;exports.timeout\x3dfunction(callback,delay,time){var t\x3dnew Timer;delay\x3dnull\x3d\x3ddelay?0:+delay;t.restart(function(elapsed){t.stop();callback(elapsed+delay)},delay,time);return t};exports.timer\x3dtimer;exports.timerFlush\x3dtimerFlush;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_force$dist$d3_force.js", true , "shadow$provide.module$node_modules$d3_force$dist$d3_force\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_quadtree$dist$d3_quadtree\x22),require(\x22module$node_modules$d3_dispatch$dist$d3_dispatch\x22),require(\x22module$node_modules$d3_timer$dist$d3_timer\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-quadtree\x22,\x22d3-dispatch\x22,\x22d3-timer\x22],\nfactory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{},global.d3,global.d3,global.d3))})(this,function(exports,d3Quadtree,d3Dispatch,d3Timer){function constant(x){return function(){return x}}function x$jscomp$0(d){return d.x+d.vx}function y$jscomp$0(d){return d.y+d.vy}function index(d){return d.index}function find(nodeById,nodeId){nodeById\x3dnodeById.get(nodeId);if(!nodeById)throw Error(\x22node not found: \x22+nodeId);return nodeById}function lcg(){var s\x3d1;return function(){return(s\x3d(1664525*s+1013904223)%\n4294967296)/4294967296}}function x$1(d){return d.x}function y$1(d){return d.y}var initialAngle\x3dMath.PI*(3-Math.sqrt(5));exports.forceCenter\x3dfunction(x,y){function force(){var i,n\x3dnodes.length,sx\x3d0,sy\x3d0;for(i\x3d0;i\x3cn;++i){var node\x3dnodes[i];sx+\x3dnode.x;sy+\x3dnode.y}sx\x3d(sx/n-x)*strength;sy\x3d(sy/n-y)*strength;for(i\x3d0;i\x3cn;++i)node\x3dnodes[i],node.x-\x3dsx,node.y-\x3dsy}var nodes,strength\x3d1;null\x3d\x3dx\x26\x26(x\x3d0);null\x3d\x3dy\x26\x26(y\x3d0);force.initialize\x3dfunction(_){nodes\x3d_};force.x\x3dfunction(_){return arguments.length?(x\x3d+_,force):x};\nforce.y\x3dfunction(_){return arguments.length?(y\x3d+_,force):y};force.strength\x3dfunction(_){return arguments.length?(strength\x3d+_,force):strength};return force};exports.forceCollide\x3dfunction(radius){function force(){function apply(quad,x0,y0,x1,y1){var data\x3dquad.data;quad\x3dquad.r;var r\x3dri+quad;if(data)data.index\x3enode.index\x26\x26(x0\x3dxi-data.x-data.vx,y0\x3dyi-data.y-data.vy,x1\x3dx0*x0+y0*y0,x1\x3cr*r\x26\x26(0\x3d\x3d\x3dx0\x26\x26(x0\x3d1E-6*(random()-.5),x1+\x3dx0*x0),0\x3d\x3d\x3dy0\x26\x26(y0\x3d1E-6*(random()-.5),x1+\x3dy0*y0),x1\x3d(r-(x1\x3dMath.sqrt(x1)))/x1*strength,\nnode.vx+\x3d(x0*\x3dx1)*(r\x3d(quad*\x3dquad)/(ri2+quad)),node.vy+\x3d(y0*\x3dx1)*r,data.vx-\x3dx0*(r\x3d1-r),data.vy-\x3dy0*r));else return x0\x3exi+r||x1\x3cxi-r||y0\x3eyi+r||y1\x3cyi-r}for(var i,n\x3dnodes.length,tree,node,xi,yi,ri,ri2,k\x3d0;k\x3citerations;++k)for(tree\x3dd3Quadtree.quadtree(nodes,x$jscomp$0,y$jscomp$0).visitAfter(prepare),i\x3d0;i\x3cn;++i)node\x3dnodes[i],ri\x3dradii[node.index],ri2\x3dri*ri,xi\x3dnode.x+node.vx,yi\x3dnode.y+node.vy,tree.visit(apply)}function prepare(quad){if(quad.data)return quad.r\x3dradii[quad.data.index];for(var i\x3dquad.r\x3d0;4\x3e\ni;++i)quad[i]\x26\x26quad[i].r\x3equad.r\x26\x26(quad.r\x3dquad[i].r)}function initialize(){if(nodes){var i,n\x3dnodes.length;radii\x3dArray(n);for(i\x3d0;i\x3cn;++i){var node\x3dnodes[i];radii[node.index]\x3d+radius(node,i,nodes)}}}var nodes,radii,random,strength\x3d1,iterations\x3d1;\x22function\x22!\x3d\x3dtypeof radius\x26\x26(radius\x3dconstant(null\x3d\x3dradius?1:+radius));force.initialize\x3dfunction(_nodes,_random){nodes\x3d_nodes;random\x3d_random;initialize()};force.iterations\x3dfunction(_){return arguments.length?(iterations\x3d+_,force):iterations};force.strength\x3dfunction(_){return arguments.length?\n(strength\x3d+_,force):strength};force.radius\x3dfunction(_){return arguments.length?(radius\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),force):radius};return force};exports.forceLink\x3dfunction(links){function force(alpha){for(var k\x3d0,n\x3dlinks.length;k\x3citerations;++k)for(var i\x3d0,link,source,x,y,l;i\x3cn;++i)link\x3dlinks[i],source\x3dlink.source,link\x3dlink.target,x\x3dlink.x+link.vx-source.x-source.vx||1E-6*(random()-.5),y\x3dlink.y+link.vy-source.y-source.vy||1E-6*(random()-.5),l\x3dMath.sqrt(x*x+y*y),l\x3d(l-distances[i])/\nl*alpha*strengths[i],x*\x3dl,y*\x3dl,link.vx-\x3dx*(l\x3dbias[i]),link.vy-\x3dy*l,source.vx+\x3dx*(l\x3d1-l),source.vy+\x3dy*l}function initialize(){if(nodes){var n\x3dnodes.length,m\x3dlinks.length,nodeById\x3dnew Map(nodes.map(function(d,i){return[id(d,i,nodes),d]}));var i$jscomp$0\x3d0;for(count\x3dArray(n);i$jscomp$0\x3cm;++i$jscomp$0)n\x3dlinks[i$jscomp$0],n.index\x3di$jscomp$0,\x22object\x22!\x3d\x3dtypeof n.source\x26\x26(n.source\x3dfind(nodeById,n.source)),\x22object\x22!\x3d\x3dtypeof n.target\x26\x26(n.target\x3dfind(nodeById,n.target)),count[n.source.index]\x3d(count[n.source.index]||\n0)+1,count[n.target.index]\x3d(count[n.target.index]||0)+1;i$jscomp$0\x3d0;for(bias\x3dArray(m);i$jscomp$0\x3cm;++i$jscomp$0)n\x3dlinks[i$jscomp$0],bias[i$jscomp$0]\x3dcount[n.source.index]/(count[n.source.index]+count[n.target.index]);strengths\x3dArray(m);initializeStrength();distances\x3dArray(m);initializeDistance()}}function initializeStrength(){if(nodes)for(var i\x3d0,n\x3dlinks.length;i\x3cn;++i)strengths[i]\x3d+strength(links[i],i,links)}function initializeDistance(){if(nodes)for(var i\x3d0,n\x3dlinks.length;i\x3cn;++i)distances[i]\x3d\n+distance(links[i],i,links)}var id\x3dindex,strength\x3dfunction(link){return 1/Math.min(count[link.source.index],count[link.target.index])},strengths,distance\x3dconstant(30),distances,nodes,count,bias,random,iterations\x3d1;null\x3d\x3dlinks\x26\x26(links\x3d[]);force.initialize\x3dfunction(_nodes,_random){nodes\x3d_nodes;random\x3d_random;initialize()};force.links\x3dfunction(_){return arguments.length?(links\x3d_,initialize(),force):links};force.id\x3dfunction(_){return arguments.length?(id\x3d_,force):id};force.iterations\x3dfunction(_){return arguments.length?\n(iterations\x3d+_,force):iterations};force.strength\x3dfunction(_){return arguments.length?(strength\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initializeStrength(),force):strength};force.distance\x3dfunction(_){return arguments.length?(distance\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initializeDistance(),force):distance};return force};exports.forceManyBody\x3dfunction(){function force(_){var n\x3dnodes.length,tree\x3dd3Quadtree.quadtree(nodes,x$1,y$1).visitAfter(accumulate);alpha\x3d_;for(_\x3d0;_\x3cn;++_)node$jscomp$0\x3dnodes[_],tree.visit(apply)}\nfunction initialize(){if(nodes){var i,n\x3dnodes.length;strengths\x3dArray(n);for(i\x3d0;i\x3cn;++i){var node\x3dnodes[i];strengths[node.index]\x3d+strength$jscomp$0(node,i,nodes)}}}function accumulate(quad){var strength\x3d0,q,c,weight\x3d0,x,y,i;if(quad.length){for(x\x3dy\x3di\x3d0;4\x3ei;++i)(q\x3dquad[i])\x26\x26(c\x3dMath.abs(q.value))\x26\x26(strength+\x3dq.value,weight+\x3dc,x+\x3dc*q.x,y+\x3dc*q.y);quad.x\x3dx/weight;quad.y\x3dy/weight}else{q\x3dquad;q.x\x3dq.data.x;q.y\x3dq.data.y;do strength+\x3dstrengths[q.data.index];while(q\x3dq.next)}quad.value\x3dstrength}function apply(quad,\nx1,_,x2){if(!quad.value)return!0;_\x3dquad.x-node$jscomp$0.x;var y\x3dquad.y-node$jscomp$0.y;x1\x3dx2-x1;x2\x3d_*_+y*y;if(x1*x1/theta2\x3cx2)return x2\x3cdistanceMax2\x26\x26(0\x3d\x3d\x3d_\x26\x26(_\x3d1E-6*(random()-.5),x2+\x3d_*_),0\x3d\x3d\x3dy\x26\x26(y\x3d1E-6*(random()-.5),x2+\x3dy*y),x2\x3cdistanceMin2\x26\x26(x2\x3dMath.sqrt(distanceMin2*x2)),node$jscomp$0.vx+\x3d_*quad.value*alpha/x2,node$jscomp$0.vy+\x3dy*quad.value*alpha/x2),!0;if(!(quad.length||x2\x3e\x3ddistanceMax2)){if(quad.data!\x3d\x3dnode$jscomp$0||quad.next)0\x3d\x3d\x3d_\x26\x26(_\x3d1E-6*(random()-.5),x2+\x3d_*_),0\x3d\x3d\x3dy\x26\x26(y\x3d1E-6*(random()-.5),\nx2+\x3dy*y),x2\x3cdistanceMin2\x26\x26(x2\x3dMath.sqrt(distanceMin2*x2));do quad.data!\x3d\x3dnode$jscomp$0\x26\x26(x1\x3dstrengths[quad.data.index]*alpha/x2,node$jscomp$0.vx+\x3d_*x1,node$jscomp$0.vy+\x3dy*x1);while(quad\x3dquad.next)}}var nodes,node$jscomp$0,random,alpha,strength$jscomp$0\x3dconstant(-30),strengths,distanceMin2\x3d1,distanceMax2\x3dInfinity,theta2\x3d.81;force.initialize\x3dfunction(_nodes,_random){nodes\x3d_nodes;random\x3d_random;initialize()};force.strength\x3dfunction(_){return arguments.length?(strength$jscomp$0\x3d\x22function\x22\x3d\x3d\x3dtypeof _?\n_:constant(+_),initialize(),force):strength$jscomp$0};force.distanceMin\x3dfunction(_){return arguments.length?(distanceMin2\x3d_*_,force):Math.sqrt(distanceMin2)};force.distanceMax\x3dfunction(_){return arguments.length?(distanceMax2\x3d_*_,force):Math.sqrt(distanceMax2)};force.theta\x3dfunction(_){return arguments.length?(theta2\x3d_*_,force):Math.sqrt(theta2)};return force};exports.forceRadial\x3dfunction(radius,x,y){function force(alpha){for(var i\x3d0,n\x3dnodes.length;i\x3cn;++i){var node\x3dnodes[i],dx\x3dnode.x-x||1E-6,dy\x3dnode.y-\ny||1E-6,r\x3dMath.sqrt(dx*dx+dy*dy);r\x3d(radiuses[i]-r)*strengths[i]*alpha/r;node.vx+\x3ddx*r;node.vy+\x3ddy*r}}function initialize(){if(nodes){var i,n\x3dnodes.length;strengths\x3dArray(n);radiuses\x3dArray(n);for(i\x3d0;i\x3cn;++i)radiuses[i]\x3d+radius(nodes[i],i,nodes),strengths[i]\x3disNaN(radiuses[i])?0:+strength(nodes[i],i,nodes)}}var nodes,strength\x3dconstant(.1),strengths,radiuses;\x22function\x22!\x3d\x3dtypeof radius\x26\x26(radius\x3dconstant(+radius));null\x3d\x3dx\x26\x26(x\x3d0);null\x3d\x3dy\x26\x26(y\x3d0);force.initialize\x3dfunction(_){nodes\x3d_;initialize()};force.strength\x3d\nfunction(_){return arguments.length?(strength\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),force):strength};force.radius\x3dfunction(_){return arguments.length?(radius\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),force):radius};force.x\x3dfunction(_){return arguments.length?(x\x3d+_,force):x};force.y\x3dfunction(_){return arguments.length?(y\x3d+_,force):y};return force};exports.forceSimulation\x3dfunction(nodes){function step(){tick();event.call(\x22tick\x22,simulation);alpha\x3calphaMin\x26\x26(stepper.stop(),event.call(\x22end\x22,\nsimulation))}function tick(iterations){var i,n\x3dnodes.length;void 0\x3d\x3d\x3diterations\x26\x26(iterations\x3d1);for(var k\x3d0;k\x3citerations;++k)for(alpha+\x3d(alphaTarget-alpha)*alphaDecay,forces.forEach(function(force){force(alpha)}),i\x3d0;i\x3cn;++i){var node\x3dnodes[i];null\x3d\x3dnode.fx?node.x+\x3dnode.vx*\x3dvelocityDecay:(node.x\x3dnode.fx,node.vx\x3d0);null\x3d\x3dnode.fy?node.y+\x3dnode.vy*\x3dvelocityDecay:(node.y\x3dnode.fy,node.vy\x3d0)}return simulation}function initializeNodes(){for(var i\x3d0,n\x3dnodes.length,node;i\x3cn;++i){node\x3dnodes[i];node.index\x3di;\nnull!\x3dnode.fx\x26\x26(node.x\x3dnode.fx);null!\x3dnode.fy\x26\x26(node.y\x3dnode.fy);if(isNaN(node.x)||isNaN(node.y)){var radius\x3d10*Math.sqrt(.5+i),angle\x3di*initialAngle;node.x\x3dradius*Math.cos(angle);node.y\x3dradius*Math.sin(angle)}if(isNaN(node.vx)||isNaN(node.vy))node.vx\x3dnode.vy\x3d0}}function initializeForce(force){force.initialize\x26\x26force.initialize(nodes,random);return force}var simulation,alpha\x3d1,alphaMin\x3d.001,alphaDecay\x3d1-Math.pow(alphaMin,1/300),alphaTarget\x3d0,velocityDecay\x3d.6,forces\x3dnew Map,stepper\x3dd3Timer.timer(step),\nevent\x3dd3Dispatch.dispatch(\x22tick\x22,\x22end\x22),random\x3dlcg();null\x3d\x3dnodes\x26\x26(nodes\x3d[]);initializeNodes();return simulation\x3d{tick:tick,restart:function(){return stepper.restart(step),simulation},stop:function(){return stepper.stop(),simulation},nodes:function(_){return arguments.length?(nodes\x3d_,initializeNodes(),forces.forEach(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha\x3d+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin\x3d+_,simulation):alphaMin},\nalphaDecay:function(_){return arguments.length?(alphaDecay\x3d+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget\x3d+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay\x3d1-_,simulation):1-velocityDecay},randomSource:function(_){return arguments.length?(random\x3d_,forces.forEach(initializeForce),simulation):random},force:function(name,_){return 1\x3carguments.length?(null\x3d\x3d_?forces.delete(name):forces.set(name,initializeForce(_)),simulation):\nforces.get(name)},find:function(x,y,radius){var i,n\x3dnodes.length;radius\x3dnull\x3d\x3dradius?Infinity:radius*radius;for(i\x3d0;i\x3cn;++i){var node\x3dnodes[i];var dx\x3dx-node.x;var dy\x3dy-node.y;dx\x3ddx*dx+dy*dy;if(dx\x3cradius){var closest\x3dnode;radius\x3ddx}}return closest},on:function(name,_){return 1\x3carguments.length?(event.on(name,_),simulation):event.on(name)}}};exports.forceX\x3dfunction(x){function force(alpha){for(var i\x3d0,n\x3dnodes.length,node;i\x3cn;++i)node\x3dnodes[i],node.vx+\x3d(xz[i]-node.x)*strengths[i]*alpha}function initialize(){if(nodes){var i,\nn\x3dnodes.length;strengths\x3dArray(n);xz\x3dArray(n);for(i\x3d0;i\x3cn;++i)strengths[i]\x3disNaN(xz[i]\x3d+x(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}var strength\x3dconstant(.1),nodes,strengths,xz;\x22function\x22!\x3d\x3dtypeof x\x26\x26(x\x3dconstant(null\x3d\x3dx?0:+x));force.initialize\x3dfunction(_){nodes\x3d_;initialize()};force.strength\x3dfunction(_){return arguments.length?(strength\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),force):strength};force.x\x3dfunction(_){return arguments.length?(x\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),\nforce):x};return force};exports.forceY\x3dfunction(y){function force(alpha){for(var i\x3d0,n\x3dnodes.length,node;i\x3cn;++i)node\x3dnodes[i],node.vy+\x3d(yz[i]-node.y)*strengths[i]*alpha}function initialize(){if(nodes){var i,n\x3dnodes.length;strengths\x3dArray(n);yz\x3dArray(n);for(i\x3d0;i\x3cn;++i)strengths[i]\x3disNaN(yz[i]\x3d+y(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}var strength\x3dconstant(.1),nodes,strengths,yz;\x22function\x22!\x3d\x3dtypeof y\x26\x26(y\x3dconstant(null\x3d\x3dy?0:+y));force.initialize\x3dfunction(_){nodes\x3d_;initialize()};force.strength\x3d\nfunction(_){return arguments.length?(strength\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),force):strength};force.y\x3dfunction(_){return arguments.length?(y\x3d\x22function\x22\x3d\x3d\x3dtypeof _?_:constant(+_),initialize(),force):y};return force};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_force$build$vega_force.js", true , "shadow$provide.module$node_modules$vega_force$build$vega_force\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_force$dist$d3_force\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-dataflow\x22,\x22vega-util\x22,\x22d3-force\x22],\nfactory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.d3))})(this,function(exports,vegaDataflow,vegaUtil,d3Force){function Force(params){vegaDataflow.Transform.call(this,null,params)}function rerun(df,op){return function(){return df.touch(op).run()}}function simulation(nodes,_){nodes\x3dd3Force.forceSimulation(nodes);var stop\x3dnodes.stop,restart\x3dnodes.restart,stopped\x3d!1;nodes.stopped\x3dfunction(){return stopped};\nnodes.restart\x3dfunction(){return stopped\x3d!1,restart()};nodes.stop\x3dfunction(){return stopped\x3d!0,stop()};return setup(nodes,_,!0).on(\x22end\x22,function(){return stopped\x3d!0})}function setup(sim,_$jscomp$0,init,pulse$jscomp$0){var f\x3dvegaUtil.array(_$jscomp$0.forces),n;var i\x3d0;for(n\x3dForceParams.length;i\x3cn;++i){var p\x3dForceParams[i];if(\x22forces\x22!\x3d\x3dp\x26\x26_$jscomp$0.modified(p))sim[p](_$jscomp$0[p])}i\x3d0;for(n\x3df.length;i\x3cn;++i){var name\x3d\x22forces\x22+i;if(init||_$jscomp$0.modified(\x22forces\x22,i)){p\x3dvoid 0;var _\x3df[i];vegaUtil.hasOwnProperty(ForceMap,\n_.force)||vegaUtil.error(\x22Unrecognized force: \x22+_.force);var f$jscomp$0\x3dForceMap[_.force]();for(p in _)vegaUtil.isFunction(f$jscomp$0[p])\x26\x26setForceParam(f$jscomp$0[p],_[p],_);p\x3df$jscomp$0}else{if(p\x3dpulse$jscomp$0)a:{f$jscomp$0\x3dp\x3dvoid 0;_\x3df[i];var pulse\x3dpulse$jscomp$0;for(f$jscomp$0 in _)if(vegaUtil.isFunction(p\x3d_[f$jscomp$0])\x26\x26pulse.modified(vegaUtil.accessorFields(p))){p\x3d1;break a}p\x3d0}p\x3dp?sim.force(name):null}p\x26\x26sim.force(name,p)}for(n\x3dsim.numForces||0;i\x3cn;++i)sim.force(\x22forces\x22+i,null);sim.numForces\x3d\nf.length;return sim}function setForceParam(f,v,_){f(vegaUtil.isFunction(v)?function(d){return v(d,_)}:v)}var ForceMap\x3d{center:d3Force.forceCenter,collide:d3Force.forceCollide,nbody:d3Force.forceManyBody,link:d3Force.forceLink,x:d3Force.forceX,y:d3Force.forceY},ForceParams\x3d[\x22alpha\x22,\x22alphaMin\x22,\x22alphaTarget\x22,\x22velocityDecay\x22,\x22forces\x22],ForceConfig\x3d[\x22static\x22,\x22iterations\x22],ForceOutput\x3d[\x22x\x22,\x22y\x22,\x22vx\x22,\x22vy\x22];Force.Definition\x3d{type:\x22Force\x22,metadata:{modifies:!0},params:[{name:\x22static\x22,type:\x22boolean\x22,\x22default\x22:!1},\n{name:\x22restart\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22iterations\x22,type:\x22number\x22,\x22default\x22:300},{name:\x22alpha\x22,type:\x22number\x22,\x22default\x22:1},{name:\x22alphaMin\x22,type:\x22number\x22,\x22default\x22:.001},{name:\x22alphaTarget\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22velocityDecay\x22,type:\x22number\x22,\x22default\x22:.4},{name:\x22forces\x22,type:\x22param\x22,array:!0,params:[{key:{force:\x22center\x22},params:[{name:\x22x\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22y\x22,type:\x22number\x22,\x22default\x22:0}]},{key:{force:\x22collide\x22},params:[{name:\x22radius\x22,type:\x22number\x22,expr:!0},{name:\x22strength\x22,\ntype:\x22number\x22,\x22default\x22:.7},{name:\x22iterations\x22,type:\x22number\x22,\x22default\x22:1}]},{key:{force:\x22nbody\x22},params:[{name:\x22strength\x22,type:\x22number\x22,\x22default\x22:-30},{name:\x22theta\x22,type:\x22number\x22,\x22default\x22:.9},{name:\x22distanceMin\x22,type:\x22number\x22,\x22default\x22:1},{name:\x22distanceMax\x22,type:\x22number\x22}]},{key:{force:\x22link\x22},params:[{name:\x22links\x22,type:\x22data\x22},{name:\x22id\x22,type:\x22field\x22},{name:\x22distance\x22,type:\x22number\x22,\x22default\x22:30,expr:!0},{name:\x22strength\x22,type:\x22number\x22,expr:!0},{name:\x22iterations\x22,type:\x22number\x22,\x22default\x22:1}]},{key:{force:\x22x\x22},\nparams:[{name:\x22strength\x22,type:\x22number\x22,\x22default\x22:.1},{name:\x22x\x22,type:\x22field\x22}]},{key:{force:\x22y\x22},params:[{name:\x22strength\x22,type:\x22number\x22,\x22default\x22:.1},{name:\x22y\x22,type:\x22field\x22}]}]},{name:\x22as\x22,type:\x22string\x22,array:!0,modify:!1,\x22default\x22:ForceOutput}]};vegaUtil.inherits(Force,vegaDataflow.Transform,{transform:function(_,pulse){var sim\x3dthis.value,change\x3dpulse.changed(pulse.ADD_REM),params\x3d_.modified(ForceParams),iters\x3d_.iterations||300;sim?(change\x26\x26(pulse.modifies(\x22index\x22),sim.nodes(pulse.source)),(params||\npulse.changed(pulse.MOD))\x26\x26setup(sim,_,0,pulse)):(this.value\x3dsim\x3dsimulation(pulse.source,_),sim.on(\x22tick\x22,rerun(pulse.dataflow,this)),_.static||(change\x3d!0,sim.tick()),pulse.modifies(\x22index\x22));if(params||change||_.modified(ForceConfig)||pulse.changed()\x26\x26_.restart)if(sim.alpha(Math.max(sim.alpha(),_.alpha||1)).alphaDecay(1-Math.pow(sim.alphaMin(),1/iters)),_.static)for(sim.stop();0\x3c\x3d--iters;)sim.tick();else if(sim.stopped()\x26\x26sim.restart(),!change)return pulse.StopPropagation;return this.finish(_,pulse)},\nfinish:function(_,pulse){for(var dataflow\x3dpulse.dataflow,args\x3dthis._argops,j\x3d0,m\x3dargs.length,arg;j\x3cm;++j)if(arg\x3dargs[j],\x22forces\x22\x3d\x3d\x3darg.name\x26\x26\x22link\x22\x3d\x3d\x3darg.op._argval.force){arg\x3darg.op._argops;for(var i\x3d0,n\x3darg.length,op;i\x3cn;++i)if(\x22links\x22\x3d\x3d\x3darg[i].name\x26\x26(op\x3darg[i].op.source)){dataflow.pulse(op,dataflow.changeset().reflow());break}}return pulse.reflow(_.modified()).modifies(ForceOutput)}});exports.force\x3dForce;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_hierarchy$dist$d3_hierarchy.js", true , "shadow$provide.module$node_modules$d3_hierarchy$dist$d3_hierarchy\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function defaultSeparation(a,b){return a.parent\x3d\x3d\x3db.parent?1:2}function meanXReduce(x,c){return x+c.x}function maxYReduce(y,\nc){return Math.max(y,c.y)}function leafLeft(node){for(var children;children\x3dnode.children;)node\x3dchildren[0];return node}function leafRight(node){for(var children;children\x3dnode.children;)node\x3dchildren[children.length-1];return node}function count(node){var sum\x3d0,children\x3dnode.children,i\x3dchildren\x26\x26children.length;if(i)for(;0\x3c\x3d--i;)sum+\x3dchildren[i].value;else sum\x3d1;node.value\x3dsum}function node_iterator(){var $jscomp$generator$this\x3dthis,node,current,next,children,i,n;return $jscomp.generator.createGenerator(node_iterator,\nfunction($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:node\x3d$jscomp$generator$this,next\x3d[node];case 2:current\x3dnext.reverse(),next\x3d[];case 5:if(!(node\x3dcurrent.pop())){$jscomp$generator$context.jumpTo(4);break}return $jscomp$generator$context.yield(node,7);case 7:if(children\x3dnode.children)for(i\x3d0,n\x3dchildren.length;i\x3cn;++i)next.push(children[i]);$jscomp$generator$context.jumpTo(5);break;case 4:next.length?$jscomp$generator$context.jumpTo(2):$jscomp$generator$context.jumpToEnd()}})}\nfunction hierarchy(data,children){data instanceof Map?(data\x3d[void 0,data],void 0\x3d\x3d\x3dchildren\x26\x26(children\x3dmapChildren)):void 0\x3d\x3d\x3dchildren\x26\x26(children\x3dobjectChildren);data\x3dnew Node(data);for(var node,nodes\x3d[data],child,childs,i,n;node\x3dnodes.pop();)if((childs\x3dchildren(node.data))\x26\x26(n\x3d(childs\x3dArray.from(childs)).length))for(node.children\x3dchilds,i\x3dn-1;0\x3c\x3di;--i)nodes.push(child\x3dchilds[i]\x3dnew Node(childs[i])),child.parent\x3dnode,child.depth\x3dnode.depth+1;return data.eachBefore(computeHeight)}function objectChildren(d){return d.children}\nfunction mapChildren(d){return Array.isArray(d)?d[1]:null}function copyData(node){void 0!\x3d\x3dnode.data.value\x26\x26(node.value\x3dnode.data.value);node.data\x3dnode.data.data}function computeHeight(node){var height\x3d0;do node.height\x3dheight;while((node\x3dnode.parent)\x26\x26node.height\x3c++height)}function Node(data){this.data\x3ddata;this.depth\x3dthis.height\x3d0;this.parent\x3dnull}function enclose(circles){var i\x3d0;circles\x3dArray.from(circles);for(var m\x3dcircles.length,t,i$jscomp$0;m;)i$jscomp$0\x3dMath.random()*m--|0,t\x3dcircles[m],circles[m]\x3d\ncircles[i$jscomp$0],circles[i$jscomp$0]\x3dt;m\x3dcircles.length;t\x3d[];for(var e;i\x3cm;)if(i$jscomp$0\x3dcircles[i],e\x26\x26enclosesWeak(e,i$jscomp$0))++i;else{a:if(i\x3dt,enclosesWeakAll(i$jscomp$0,i))i\x3d[i$jscomp$0];else{for(t\x3d0;t\x3ci.length;++t)if(enclosesNot(i$jscomp$0,i[t])\x26\x26enclosesWeakAll(encloseBasis2(i[t],i$jscomp$0),i)){i\x3d[i[t],i$jscomp$0];break a}for(t\x3d0;t\x3ci.length-1;++t)for(e\x3dt+1;e\x3ci.length;++e)if(enclosesNot(encloseBasis2(i[t],i[e]),i$jscomp$0)\x26\x26enclosesNot(encloseBasis2(i[t],i$jscomp$0),i[e])\x26\x26enclosesNot(encloseBasis2(i[e],\ni$jscomp$0),i[t])\x26\x26enclosesWeakAll(encloseBasis3(i[t],i[e],i$jscomp$0),i)){i\x3d[i[t],i[e],i$jscomp$0];break a}throw Error();}a:{i\x3dt\x3di;switch(i.length){case 1:i\x3di[0];i\x3d{x:i.x,y:i.y,r:i.r};break a;case 2:i\x3dencloseBasis2(i[0],i[1]);break a;case 3:i\x3dencloseBasis3(i[0],i[1],i[2]);break a}i\x3dvoid 0}e\x3di;i\x3d0}return e}function enclosesNot(a,b){var dr\x3da.r-b.r,dx\x3db.x-a.x;a\x3db.y-a.y;return 0\x3edr||dr*dr\x3cdx*dx+a*a}function enclosesWeak(a,b){var dr\x3da.r-b.r+1E-9*Math.max(a.r,b.r,1),dx\x3db.x-a.x;a\x3db.y-a.y;return 0\x3cdr\x26\x26dr*\ndr\x3edx*dx+a*a}function enclosesWeakAll(a,B){for(var i\x3d0;i\x3cB.length;++i)if(!enclosesWeak(a,B[i]))return!1;return!0}function encloseBasis2(a,b){var x1\x3da.x,y1\x3da.y;a\x3da.r;var x2\x3db.x,y2\x3db.y;b\x3db.r;var x21\x3dx2-x1,y21\x3dy2-y1,r21\x3db-a,l\x3dMath.sqrt(x21*x21+y21*y21);return{x:(x1+x2+x21/l*r21)/2,y:(y1+y2+y21/l*r21)/2,r:(l+a+b)/2}}function encloseBasis3(a,b,c){var x1\x3da.x,y1\x3da.y;a\x3da.r;var x2\x3db.x,y2\x3db.y,r2\x3db.r,x3\x3dc.x,y3\x3dc.y,r3\x3dc.r;c\x3dx1-x2;b\x3dx1-x3;var b2\x3dy1-y2,b3\x3dy1-y3,c2\x3dr2-a,c3\x3dr3-a,d1\x3dx1*x1+y1*y1-a*a;y2\x3dd1-x2*x2-y2*\ny2+r2*r2;y3\x3dd1-x3*x3-y3*y3+r3*r3;x3\x3db*b2-c*b3;x2\x3d(b2*y3-b3*y2)/(2*x3)-x1;b2\x3d(b3*c2-b2*c3)/x3;b3\x3d(b*y2-c*y3)/(2*x3)-y1;c\x3d(c*c3-b*c2)/x3;b\x3db2*b2+c*c-1;c2\x3d2*(a+x2*b2+b3*c);a\x3dx2*x2+b3*b3-a*a;a\x3d-(b?(c2+Math.sqrt(c2*c2-4*b*a))/(2*b):a/c2);return{x:x1+x2+b2*a,y:y1+b3+c*a,r:a}}function place(b,a,c){var dx\x3db.x-a.x,dy\x3db.y-a.y,d2\x3ddx*dx+dy*dy;if(d2){var a2\x3da.r+c.r;a2*\x3da2;var b2\x3db.r+c.r;b2*\x3db2;if(a2\x3eb2){var x\x3d(d2+b2-a2)/(2*d2);a2\x3dMath.sqrt(Math.max(0,b2/d2-x*x));c.x\x3db.x-x*dx-a2*dy;c.y\x3db.y-x*dy+a2*dx}else x\x3d(d2+\na2-b2)/(2*d2),a2\x3dMath.sqrt(Math.max(0,a2/d2-x*x)),c.x\x3da.x+x*dx-a2*dy,c.y\x3da.y+x*dy+a2*dx}else c.x\x3da.x+c.r,c.y\x3da.y}function intersects(a,b){var dr\x3da.r+b.r-1E-6,dx\x3db.x-a.x;a\x3db.y-a.y;return 0\x3cdr\x26\x26dr*dr\x3edx*dx+a*a}function score(node){var a\x3dnode._,b\x3dnode.next._,ab\x3da.r+b.r;node\x3d(a.x*b.r+b.x*a.r)/ab;a\x3d(a.y*b.r+b.y*a.r)/ab;return node*node+a*a}function Node$1(circle){this._\x3dcircle;this.previous\x3dthis.next\x3dnull}function packEnclose(circles){if(!(n\x3d(circles\x3d\x22object\x22\x3d\x3d\x3dtypeof circles\x26\x26\x22length\x22in circles?circles:\nArray.from(circles)).length))return 0;var c,n;var a\x3dcircles[0];a.x\x3d0;a.y\x3d0;if(!(1\x3cn))return a.r;var b\x3dcircles[1];a.x\x3d-b.r;b.x\x3da.r;b.y\x3d0;if(!(2\x3cn))return a.r+b.r;place(b,a,c\x3dcircles[2]);a\x3dnew Node$1(a);b\x3dnew Node$1(b);c\x3dnew Node$1(c);a.next\x3dc.previous\x3db;b.next\x3da.previous\x3dc;c.next\x3db.previous\x3da;var i\x3d3;a:for(;i\x3cn;++i){place(a._,b._,c\x3dcircles[i]);c\x3dnew Node$1(c);var aa\x3db.next;var ca\x3da.previous;var sj\x3db._.r;var sk\x3da._.r;do if(sj\x3c\x3dsk){if(intersects(aa._,c._)){b\x3daa;a.next\x3db;b.previous\x3da;--i;continue a}sj+\x3d\naa._.r;aa\x3daa.next}else{if(intersects(ca._,c._)){a\x3dca;a.next\x3db;b.previous\x3da;--i;continue a}sk+\x3dca._.r;ca\x3dca.previous}while(aa!\x3d\x3dca.next);c.previous\x3da;c.next\x3db;a.next\x3db.previous\x3db\x3dc;for(aa\x3dscore(a);(c\x3dc.next)!\x3d\x3db;)(ca\x3dscore(c))\x3caa\x26\x26(a\x3dc,aa\x3dca);b\x3da.next}a\x3d[b._];for(c\x3db;(c\x3dc.next)!\x3d\x3db;)a.push(c._);c\x3denclose(a);for(i\x3d0;i\x3cn;++i)a\x3dcircles[i],a.x-\x3dc.x,a.y-\x3dc.y;return c.r}function required(f){if(\x22function\x22!\x3d\x3dtypeof f)throw Error();return f}function constantZero(){return 0}function constant(x){return function(){return x}}\nfunction defaultRadius(d){return Math.sqrt(d.value)}function radiusLeaf(radius){return function(node){node.children||(node.r\x3dMath.max(0,+radius(node)||0))}}function packChildren(padding,k){return function(node){if(children\x3dnode.children){var children,i,n\x3dchildren.length,r\x3dpadding(node)*k||0;if(r)for(i\x3d0;i\x3cn;++i)children[i].r+\x3dr;var e\x3dpackEnclose(children);if(r)for(i\x3d0;i\x3cn;++i)children[i].r-\x3dr;node.r\x3de+r}}}function translateChild(k){return function(node){var parent\x3dnode.parent;node.r*\x3dk;parent\x26\x26(node.x\x3d\nparent.x+k*node.x,node.y\x3dparent.y+k*node.y)}}function roundNode(node){node.x0\x3dMath.round(node.x0);node.y0\x3dMath.round(node.y0);node.x1\x3dMath.round(node.x1);node.y1\x3dMath.round(node.y1)}function treemapDice(parent,x0,y0,x1,y1){var nodes\x3dparent.children,i\x3d-1,n\x3dnodes.length;for(x1\x3dparent.value\x26\x26(x1-x0)/parent.value;++i\x3cn;)parent\x3dnodes[i],parent.y0\x3dy0,parent.y1\x3dy1,parent.x0\x3dx0,parent.x1\x3dx0+\x3dparent.value*x1}function defaultId(d){return d.id}function defaultParentId(d){return d.parentId}function defaultSeparation$1(a,\nb){return a.parent\x3d\x3d\x3db.parent?1:2}function nextLeft(v){var children\x3dv.children;return children?children[0]:v.t}function nextRight(v){var children\x3dv.children;return children?children[children.length-1]:v.t}function TreeNode(node,i){this._\x3dnode;this.A\x3dthis.children\x3dthis.parent\x3dnull;this.a\x3dthis;this.s\x3dthis.c\x3dthis.m\x3dthis.z\x3d0;this.t\x3dnull;this.i\x3di}function treeRoot(root){root\x3dnew TreeNode(root,0);for(var node,nodes\x3d[root],child,children,i;node\x3dnodes.pop();)if(children\x3dnode._.children)for(node.children\x3d\nArray(child\x3dchildren.length),i\x3dchild-1;0\x3c\x3di;--i)nodes.push(child\x3dnode.children[i]\x3dnew TreeNode(children[i],i)),child.parent\x3dnode;(root.parent\x3dnew TreeNode(null,0)).children\x3d[root];return root}function treemapSlice(parent,x0,y0,x1,y1){var nodes\x3dparent.children,i\x3d-1,n\x3dnodes.length;for(y1\x3dparent.value\x26\x26(y1-y0)/parent.value;++i\x3cn;)parent\x3dnodes[i],parent.x0\x3dx0,parent.x1\x3dx1,parent.y0\x3dy0,parent.y1\x3dy0+\x3dparent.value*y1}function squarifyRatio(ratio,parent,x0,y0,x1,y1){for(var rows\x3d[],nodes\x3dparent.children,\nrow,nodeValue,i1\x3drow\x3d0,n\x3dnodes.length,dy,value\x3dparent.value,sumValue,minValue,maxValue,newRatio,minRatio,alpha;row\x3cn;){parent\x3dx1-x0;dy\x3dy1-y0;do sumValue\x3dnodes[i1++].value;while(!sumValue\x26\x26i1\x3cn);minValue\x3dmaxValue\x3dsumValue;alpha\x3dMath.max(dy/parent,parent/dy)/(value*ratio);newRatio\x3dsumValue*sumValue*alpha;for(minRatio\x3dMath.max(maxValue/newRatio,newRatio/minValue);i1\x3cn;++i1){sumValue+\x3dnodeValue\x3dnodes[i1].value;nodeValue\x3cminValue\x26\x26(minValue\x3dnodeValue);nodeValue\x3emaxValue\x26\x26(maxValue\x3dnodeValue);newRatio\x3d\nsumValue*sumValue*alpha;newRatio\x3dMath.max(maxValue/newRatio,newRatio/minValue);if(newRatio\x3eminRatio){sumValue-\x3dnodeValue;break}minRatio\x3dnewRatio}rows.push(row\x3d{value:sumValue,dice:parent\x3cdy,children:nodes.slice(row,i1)});row.dice?treemapDice(row,x0,y0,x1,value?y0+\x3ddy*sumValue/value:y1):treemapSlice(row,x0,y0,value?x0+\x3dparent*sumValue/value:x1,y1);value-\x3dsumValue;row\x3di1}return rows}$jscomp.initSymbol();$jscomp.initSymbolIterator();var $jscomp$compprop52\x3d{};Node.prototype\x3dhierarchy.prototype\x3d($jscomp$compprop52.constructor\x3d\nNode,$jscomp$compprop52.count\x3dfunction(){return this.eachAfter(count)},$jscomp$compprop52.each\x3dfunction(callback,that){for(var index\x3d-1,$jscomp$iter$323\x3d$jscomp.makeIterator(this),$jscomp$key$node\x3d$jscomp$iter$323.next();!$jscomp$key$node.done;$jscomp$key$node\x3d$jscomp$iter$323.next())callback.call(that,$jscomp$key$node.value,++index,this);return this},$jscomp$compprop52.eachAfter\x3dfunction(callback,that){for(var node,nodes\x3d[this],next\x3d[],i,n,index\x3d-1;node\x3dnodes.pop();)if(next.push(node),node\x3dnode.children)for(i\x3d\n0,n\x3dnode.length;i\x3cn;++i)nodes.push(node[i]);for(;node\x3dnext.pop();)callback.call(that,node,++index,this);return this},$jscomp$compprop52.eachBefore\x3dfunction(callback,that){for(var node,nodes\x3d[this],i,index\x3d-1;node\x3dnodes.pop();)if(callback.call(that,node,++index,this),node\x3dnode.children)for(i\x3dnode.length-1;0\x3c\x3di;--i)nodes.push(node[i]);return this},$jscomp$compprop52.find\x3dfunction(callback,that){for(var index\x3d-1,$jscomp$iter$324\x3d$jscomp.makeIterator(this),$jscomp$key$node\x3d$jscomp$iter$324.next();!$jscomp$key$node.done;$jscomp$key$node\x3d\n$jscomp$iter$324.next())if($jscomp$key$node\x3d$jscomp$key$node.value,callback.call(that,$jscomp$key$node,++index,this))return $jscomp$key$node},$jscomp$compprop52.sum\x3dfunction(value){return this.eachAfter(function(node){for(var sum\x3d+value(node.data)||0,children\x3dnode.children,i\x3dchildren\x26\x26children.length;0\x3c\x3d--i;)sum+\x3dchildren[i].value;node.value\x3dsum})},$jscomp$compprop52.sort\x3dfunction(compare){return this.eachBefore(function(node){node.children\x26\x26node.children.sort(compare)})},$jscomp$compprop52.path\x3d\nfunction(end){var start\x3dthis;var ancestor\x3dstart;var b\x3dend;if(ancestor!\x3d\x3db){var aNodes\x3dancestor.ancestors(),bNodes\x3db.ancestors(),c\x3dnull;ancestor\x3daNodes.pop();for(b\x3dbNodes.pop();ancestor\x3d\x3d\x3db;)c\x3dancestor,ancestor\x3daNodes.pop(),b\x3dbNodes.pop();ancestor\x3dc}for(b\x3d[start];start!\x3d\x3dancestor;)start\x3dstart.parent,b.push(start);for(start\x3db.length;end!\x3d\x3dancestor;)b.splice(start,0,end),end\x3dend.parent;return b},$jscomp$compprop52.ancestors\x3dfunction(){for(var node\x3dthis,nodes\x3d[node];node\x3dnode.parent;)nodes.push(node);\nreturn nodes},$jscomp$compprop52.descendants\x3dfunction(){return Array.from(this)},$jscomp$compprop52.leaves\x3dfunction(){var leaves\x3d[];this.eachBefore(function(node){node.children||leaves.push(node)});return leaves},$jscomp$compprop52.links\x3dfunction(){var root\x3dthis,links\x3d[];root.each(function(node){node!\x3d\x3droot\x26\x26links.push({source:node.parent,target:node})});return links},$jscomp$compprop52.copy\x3dfunction(){return hierarchy(this).eachBefore(copyData)},$jscomp$compprop52[Symbol.iterator]\x3dnode_iterator,\n$jscomp$compprop52);var preroot\x3d{depth:-1},ambiguous\x3d{};TreeNode.prototype\x3dObject.create(Node.prototype);$jscomp$compprop52\x3d(1+Math.sqrt(5))/2;var squarify\x3dfunction custom(ratio){function squarify(parent,x0,y0,x1,y1){squarifyRatio(ratio,parent,x0,y0,x1,y1)}squarify.ratio\x3dfunction(x){return custom(1\x3c(x\x3d+x)?x:1)};return squarify}($jscomp$compprop52);$jscomp$compprop52\x3dfunction custom(ratio){function resquarify(parent,x0,y0,x1,y1){if((rows\x3dparent._squarify)\x26\x26rows.ratio\x3d\x3d\x3dratio)for(var rows,nodes,i,j\x3d\n-1,n,m\x3drows.length,value\x3dparent.value;++j\x3cm;){parent\x3drows[j];nodes\x3dparent.children;i\x3dparent.value\x3d0;for(n\x3dnodes.length;i\x3cn;++i)parent.value+\x3dnodes[i].value;parent.dice?treemapDice(parent,x0,y0,x1,value?y0+\x3d(y1-y0)*parent.value/value:y1):treemapSlice(parent,x0,y0,value?x0+\x3d(x1-x0)*parent.value/value:x1,y1);value-\x3dparent.value}else parent._squarify\x3drows\x3dsquarifyRatio(ratio,parent,x0,y0,x1,y1),rows.ratio\x3dratio}resquarify.ratio\x3dfunction(x){return custom(1\x3c(x\x3d+x)?x:1)};return resquarify}($jscomp$compprop52);\nexports.cluster\x3dfunction(){function cluster(root){var previousNode,x\x3d0;root.eachAfter(function(node){var children\x3dnode.children;if(children){var JSCompiler_inline_result\x3dchildren.reduce(meanXReduce,0)/children.length;node.x\x3dJSCompiler_inline_result;node.y\x3d1+children.reduce(maxYReduce,0)}else node.x\x3dpreviousNode?x+\x3dseparation(node,previousNode):0,node.y\x3d0,previousNode\x3dnode});var left\x3dleafLeft(root),right\x3dleafRight(root),x0\x3dleft.x-separation(left,right)/2,x1\x3dright.x+separation(right,left)/2;return root.eachAfter(nodeSize?\nfunction(node){node.x\x3d(node.x-root.x)*dx;node.y\x3d(root.y-node.y)*dy}:function(node){node.x\x3d(node.x-x0)/(x1-x0)*dx;node.y\x3d(1-(root.y?node.y/root.y:1))*dy})}var separation\x3ddefaultSeparation,dx\x3d1,dy\x3d1,nodeSize\x3d!1;cluster.separation\x3dfunction(x){return arguments.length?(separation\x3dx,cluster):separation};cluster.size\x3dfunction(x){return arguments.length?(nodeSize\x3d!1,dx\x3d+x[0],dy\x3d+x[1],cluster):nodeSize?null:[dx,dy]};cluster.nodeSize\x3dfunction(x){return arguments.length?(nodeSize\x3d!0,dx\x3d+x[0],dy\x3d+x[1],cluster):\nnodeSize?[dx,dy]:null};return cluster};exports.hierarchy\x3dhierarchy;exports.pack\x3dfunction(){function pack(root){root.x\x3ddx/2;root.y\x3ddy/2;radius?root.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding,.5)).eachBefore(translateChild(1)):root.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(padding,root.r/Math.min(dx,dy))).eachBefore(translateChild(Math.min(dx,dy)/(2*root.r)));return root}var radius\x3dnull,dx\x3d1,dy\x3d1,padding\x3dconstantZero;pack.radius\x3d\nfunction(x){return arguments.length?(radius\x3dnull\x3d\x3dx?null:required(x),pack):radius};pack.size\x3dfunction(x){return arguments.length?(dx\x3d+x[0],dy\x3d+x[1],pack):[dx,dy]};pack.padding\x3dfunction(x){return arguments.length?(padding\x3d\x22function\x22\x3d\x3d\x3dtypeof x?x:constant(+x),pack):padding};return pack};exports.packEnclose\x3denclose;exports.packSiblings\x3dfunction(circles){packEnclose(circles);return circles};exports.partition\x3dfunction(){function partition(root){var n\x3droot.height+1;root.x0\x3droot.y0\x3dpadding;root.x1\x3ddx;root.y1\x3d\ndy$jscomp$0/n;root.eachBefore(positionNode(dy$jscomp$0,n));round\x26\x26root.eachBefore(roundNode);return root}function positionNode(dy,n){return function(node){node.children\x26\x26treemapDice(node,node.x0,dy*(node.depth+1)/n,node.x1,dy*(node.depth+2)/n);var x0\x3dnode.x0,y0\x3dnode.y0,x1\x3dnode.x1-padding,y1\x3dnode.y1-padding;x1\x3cx0\x26\x26(x0\x3dx1\x3d(x0+x1)/2);y1\x3cy0\x26\x26(y0\x3dy1\x3d(y0+y1)/2);node.x0\x3dx0;node.y0\x3dy0;node.x1\x3dx1;node.y1\x3dy1}}var dx\x3d1,dy$jscomp$0\x3d1,padding\x3d0,round\x3d!1;partition.round\x3dfunction(x){return arguments.length?(round\x3d\n!!x,partition):round};partition.size\x3dfunction(x){return arguments.length?(dx\x3d+x[0],dy$jscomp$0\x3d+x[1],partition):[dx,dy$jscomp$0]};partition.padding\x3dfunction(x){return arguments.length?(padding\x3d+x,partition):padding};return partition};exports.stratify\x3dfunction(){function stratify(data){var nodes\x3dArray.from(data),n\x3dnodes.length,i,nodeId,nodeByKey\x3dnew Map;for(i\x3d0;i\x3cn;++i){var d\x3dnodes[i];var node$jscomp$0\x3dnodes[i]\x3dnew Node(d);if(null!\x3d(nodeId\x3did(d,i,data))\x26\x26(nodeId+\x3d\x22\x22)){var nodeKey\x3dnode$jscomp$0.id\x3d\nnodeId;nodeByKey.set(nodeKey,nodeByKey.has(nodeKey)?ambiguous:node$jscomp$0)}null!\x3d(nodeId\x3dparentId(d,i,data))\x26\x26(nodeId+\x3d\x22\x22)\x26\x26(node$jscomp$0.parent\x3dnodeId)}for(i\x3d0;i\x3cn;++i)if(node$jscomp$0\x3dnodes[i],nodeId\x3dnode$jscomp$0.parent){data\x3dnodeByKey.get(nodeId);if(!data)throw Error(\x22missing: \x22+nodeId);if(data\x3d\x3d\x3dambiguous)throw Error(\x22ambiguous: \x22+nodeId);data.children?data.children.push(node$jscomp$0):data.children\x3d[node$jscomp$0];node$jscomp$0.parent\x3ddata}else{if(root)throw Error(\x22multiple roots\x22);var root\x3d\nnode$jscomp$0}if(!root)throw Error(\x22no root\x22);root.parent\x3dpreroot;root.eachBefore(function(node){node.depth\x3dnode.parent.depth+1;--n}).eachBefore(computeHeight);root.parent\x3dnull;if(0\x3cn)throw Error(\x22cycle\x22);return root}var id\x3ddefaultId,parentId\x3ddefaultParentId;stratify.id\x3dfunction(x){return arguments.length?(id\x3drequired(x),stratify):id};stratify.parentId\x3dfunction(x){return arguments.length?(parentId\x3drequired(x),stratify):parentId};return stratify};exports.tree\x3dfunction(){function tree(root){var t\x3dtreeRoot(root);\nt.eachAfter(firstWalk);t.parent.m\x3d-t.z;t.eachBefore(secondWalk);if(nodeSize)root.eachBefore(sizeNode);else{var left\x3droot,right\x3droot,bottom\x3droot;root.eachBefore(function(node){node.x\x3cleft.x\x26\x26(left\x3dnode);node.x\x3eright.x\x26\x26(right\x3dnode);node.depth\x3ebottom.depth\x26\x26(bottom\x3dnode)});t\x3dleft\x3d\x3d\x3dright?1:separation(left,right)/2;var tx\x3dt-left.x,kx\x3ddx/(right.x+t+tx),ky\x3ddy/(bottom.depth||1);root.eachBefore(function(node){node.x\x3d(node.x+tx)*kx;node.y\x3dnode.depth*ky})}return root}function firstWalk(v){var children\x3dv.children,\nsiblings\x3dv.parent.children,w\x3dv.i?siblings[v.i-1]:null;if(children){for(var shift\x3d0,change\x3d0,children$jscomp$0\x3dv.children,i\x3dchildren$jscomp$0.length,w$jscomp$0;0\x3c\x3d--i;)w$jscomp$0\x3dchildren$jscomp$0[i],w$jscomp$0.z+\x3dshift,w$jscomp$0.m+\x3dshift,shift+\x3dw$jscomp$0.s+(change+\x3dw$jscomp$0.c);children\x3d(children[0].z+children[children.length-1].z)/2;w?(v.z\x3dw.z+separation(v._,w._),v.m\x3dv.z-children):v.z\x3dchildren}else w\x26\x26(v.z\x3dw.z+separation(v._,w._));children\x3dv.parent;siblings\x3dv.parent.A||siblings[0];if(w){change\x3d\nshift\x3dv;children$jscomp$0\x3dshift.parent.children[0];i\x3dshift.m;w$jscomp$0\x3dchange.m;for(var sim\x3dw.m,som\x3dchildren$jscomp$0.m,shift$jscomp$0;w\x3dnextRight(w),shift\x3dnextLeft(shift),w\x26\x26shift;){children$jscomp$0\x3dnextLeft(children$jscomp$0);change\x3dnextRight(change);change.a\x3dv;shift$jscomp$0\x3dw.z+sim-shift.z-i+separation(w._,shift._);if(0\x3cshift$jscomp$0){var wm\x3dw.a.parent\x3d\x3d\x3dv.parent?w.a:siblings,wp\x3dv,shift$jscomp$1\x3dshift$jscomp$0,change$jscomp$0\x3dshift$jscomp$1/(wp.i-wm.i);wp.c-\x3dchange$jscomp$0;wp.s+\x3dshift$jscomp$1;\nwm.c+\x3dchange$jscomp$0;wp.z+\x3dshift$jscomp$1;wp.m+\x3dshift$jscomp$1;i+\x3dshift$jscomp$0;w$jscomp$0+\x3dshift$jscomp$0}sim+\x3dw.m;i+\x3dshift.m;som+\x3dchildren$jscomp$0.m;w$jscomp$0+\x3dchange.m}w\x26\x26!nextRight(change)\x26\x26(change.t\x3dw,change.m+\x3dsim-w$jscomp$0);shift\x26\x26!nextLeft(children$jscomp$0)\x26\x26(children$jscomp$0.t\x3dshift,children$jscomp$0.m+\x3di-som,siblings\x3dv)}children.A\x3dsiblings}function secondWalk(v){v._.x\x3dv.z+v.parent.m;v.m+\x3dv.parent.m}function sizeNode(node){node.x*\x3ddx;node.y\x3dnode.depth*dy}var separation\x3ddefaultSeparation$1,\ndx\x3d1,dy\x3d1,nodeSize\x3dnull;tree.separation\x3dfunction(x){return arguments.length?(separation\x3dx,tree):separation};tree.size\x3dfunction(x){return arguments.length?(nodeSize\x3d!1,dx\x3d+x[0],dy\x3d+x[1],tree):nodeSize?null:[dx,dy]};tree.nodeSize\x3dfunction(x){return arguments.length?(nodeSize\x3d!0,dx\x3d+x[0],dy\x3d+x[1],tree):nodeSize?[dx,dy]:null};return tree};exports.treemap\x3dfunction(){function treemap(root){root.x0\x3droot.y0\x3d0;root.x1\x3ddx;root.y1\x3ddy;root.eachBefore(positionNode);paddingStack\x3d[0];round\x26\x26root.eachBefore(roundNode);\nreturn root}function positionNode(node){var p\x3dpaddingStack[node.depth],x0\x3dnode.x0+p,y0\x3dnode.y0+p,x1\x3dnode.x1-p,y1\x3dnode.y1-p;x1\x3cx0\x26\x26(x0\x3dx1\x3d(x0+x1)/2);y1\x3cy0\x26\x26(y0\x3dy1\x3d(y0+y1)/2);node.x0\x3dx0;node.y0\x3dy0;node.x1\x3dx1;node.y1\x3dy1;node.children\x26\x26(p\x3dpaddingStack[node.depth+1]\x3dpaddingInner(node)/2,x0+\x3dpaddingLeft(node)-p,y0+\x3dpaddingTop(node)-p,x1-\x3dpaddingRight(node)-p,y1-\x3dpaddingBottom(node)-p,x1\x3cx0\x26\x26(x0\x3dx1\x3d(x0+x1)/2),y1\x3cy0\x26\x26(y0\x3dy1\x3d(y0+y1)/2),tile(node,x0,y0,x1,y1))}var tile\x3dsquarify,round\x3d!1,dx\x3d1,dy\x3d1,paddingStack\x3d\n[0],paddingInner\x3dconstantZero,paddingTop\x3dconstantZero,paddingRight\x3dconstantZero,paddingBottom\x3dconstantZero,paddingLeft\x3dconstantZero;treemap.round\x3dfunction(x){return arguments.length?(round\x3d!!x,treemap):round};treemap.size\x3dfunction(x){return arguments.length?(dx\x3d+x[0],dy\x3d+x[1],treemap):[dx,dy]};treemap.tile\x3dfunction(x){return arguments.length?(tile\x3drequired(x),treemap):tile};treemap.padding\x3dfunction(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()};treemap.paddingInner\x3d\nfunction(x){return arguments.length?(paddingInner\x3d\x22function\x22\x3d\x3d\x3dtypeof x?x:constant(+x),treemap):paddingInner};treemap.paddingOuter\x3dfunction(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()};treemap.paddingTop\x3dfunction(x){return arguments.length?(paddingTop\x3d\x22function\x22\x3d\x3d\x3dtypeof x?x:constant(+x),treemap):paddingTop};treemap.paddingRight\x3dfunction(x){return arguments.length?(paddingRight\x3d\x22function\x22\x3d\x3d\x3dtypeof x?x:constant(+x),treemap):\npaddingRight};treemap.paddingBottom\x3dfunction(x){return arguments.length?(paddingBottom\x3d\x22function\x22\x3d\x3d\x3dtypeof x?x:constant(+x),treemap):paddingBottom};treemap.paddingLeft\x3dfunction(x){return arguments.length?(paddingLeft\x3d\x22function\x22\x3d\x3d\x3dtypeof x?x:constant(+x),treemap):paddingLeft};return treemap};exports.treemapBinary\x3dfunction(parent,x0$jscomp$0,y0$jscomp$0,x1$jscomp$0,y1$jscomp$0){function partition(i,j,value,x0,y0,x1,y1){if(i\x3e\x3dj-1)i\x3dnodes[i],i.x0\x3dx0,i.y0\x3dy0,i.x1\x3dx1,i.y1\x3dy1;else{for(var valueOffset\x3dsums[i],\nvalueTarget\x3dvalue/2+valueOffset,k\x3di+1,hi\x3dj-1;k\x3chi;){var mid\x3dk+hi\x3e\x3e\x3e1;sums[mid]\x3cvalueTarget?k\x3dmid+1:hi\x3dmid}valueTarget-sums[k-1]\x3csums[k]-valueTarget\x26\x26i+1\x3ck\x26\x26--k;valueOffset\x3dsums[k]-valueOffset;valueTarget\x3dvalue-valueOffset;x1-x0\x3ey1-y0?(value\x3dvalue?(x0*valueTarget+x1*valueOffset)/value:x1,partition(i,k,valueOffset,x0,y0,value,y1),partition(k,j,valueTarget,value,y0,x1,y1)):(value\x3dvalue?(y0*valueTarget+y1*valueOffset)/value:y1,partition(i,k,valueOffset,x0,y0,x1,value),partition(k,j,valueTarget,x0,value,\nx1,y1))}}var nodes\x3dparent.children,i$jscomp$0,n\x3dnodes.length,sum,sums\x3dArray(n+1);for(sums[0]\x3dsum\x3di$jscomp$0\x3d0;i$jscomp$0\x3cn;++i$jscomp$0)sums[i$jscomp$0+1]\x3dsum+\x3dnodes[i$jscomp$0].value;partition(0,n,parent.value,x0$jscomp$0,y0$jscomp$0,x1$jscomp$0,y1$jscomp$0)};exports.treemapDice\x3dtreemapDice;exports.treemapResquarify\x3d$jscomp$compprop52;exports.treemapSlice\x3dtreemapSlice;exports.treemapSliceDice\x3dfunction(parent,x0,y0,x1,y1){(parent.depth\x261?treemapSlice:treemapDice)(parent,x0,y0,x1,y1)};exports.treemapSquarify\x3d\nsquarify;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_hierarchy$build$vega_hierarchy.js", true , "shadow$provide.module$node_modules$vega_hierarchy$build$vega_hierarchy\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_hierarchy$dist$d3_hierarchy\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-dataflow\x22,\n\x22vega-util\x22,\x22d3-hierarchy\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.d3))})(this,function(exports,vegaDataflow,vegaUtil,d3Hierarchy){function lookup(tree,key,filter){var map\x3d{};tree.each(function(node){var t\x3dnode.data;filter(t)\x26\x26(map[key(t)]\x3dnode)});tree.lookup\x3dmap;return tree}function Nest(params){vegaDataflow.Transform.call(this,null,params)}function nest$jscomp$0(){function apply(array,\ndepth){if(depth\x3e\x3dkeys.length)return array;for(var n\x3darray.length,key\x3dkeys[depth++],valuesByKey\x3d{},result\x3d{},i\x3d-1,keyValue,value,values;++i\x3cn;)keyValue\x3dkey(value\x3darray[i])+\x22\x22,(values\x3dvaluesByKey[keyValue])?values.push(value):valuesByKey[keyValue]\x3d[value];for(keyValue in valuesByKey)result[keyValue]\x3dapply(valuesByKey[keyValue],depth);return result}function entries(map,depth){if(++depth\x3ekeys.length)return map;var array\x3d[],key;for(key in map)array.push({key:key,values:entries(map[key],depth)});return array}\nvar keys\x3d[],nest\x3d{entries:function(array){return entries(apply(array,0),0)},key:function(d){return keys.push(d),nest}};return nest}function HierarchyLayout(params){vegaDataflow.Transform.call(this,null,params)}function setParams(layout,params,_){for(var p,i\x3d0,n\x3dparams.length;i\x3cn;++i)if(p\x3dparams[i],p in _)layout[p](_[p])}function Pack(params){HierarchyLayout.call(this,params)}function Partition(params){HierarchyLayout.call(this,params)}function Stratify(params){vegaDataflow.Transform.call(this,null,\nparams)}function Tree(params){HierarchyLayout.call(this,params)}function TreeLinks(params){vegaDataflow.Transform.call(this,[],params)}function Treemap(params){HierarchyLayout.call(this,params)}Nest.Definition\x3d{type:\x22Nest\x22,metadata:{treesource:!0,changes:!0},params:[{name:\x22keys\x22,type:\x22field\x22,array:!0},{name:\x22generate\x22,type:\x22boolean\x22}]};var children\x3dfunction(n){return n.values};vegaUtil.inherits(Nest,vegaDataflow.Transform,{transform:function(_,pulse){pulse.source||vegaUtil.error(\x22Nest transform requires an upstream data source.\x22);\nvar gen\x3d_.generate,mod\x3d_.modified(),out\x3dpulse.clone(),tree\x3dthis.value;if(!tree||mod||pulse.changed())tree\x26\x26tree.each(function(node){node.children\x26\x26vegaDataflow.isTuple(node.data)\x26\x26out.rem.push(node.data)}),this.value\x3dtree\x3dd3Hierarchy.hierarchy({values:vegaUtil.array(_.keys).reduce(function(n,k){n.key(k);return n},nest$jscomp$0()).entries(out.source)},children),gen\x26\x26tree.each(function(node){node.children\x26\x26(node\x3dvegaDataflow.ingest(node.data),out.add.push(node),out.source.push(node))}),lookup(tree,\nvegaDataflow.tupleid,vegaDataflow.tupleid);out.source.root\x3dtree;return out}});var defaultSeparation\x3dfunction(a,b){return a.parent\x3d\x3d\x3db.parent?1:2};vegaUtil.inherits(HierarchyLayout,vegaDataflow.Transform,{transform:function(_,pulse){pulse.source\x26\x26pulse.source.root||vegaUtil.error(this.constructor.name+\x22 transform requires a backing tree data source.\x22);var layout\x3dthis.layout(_.method),fields\x3dthis.fields,root\x3dpulse.source.root,as\x3d_.as||fields;_.field?root.sum(_.field):root.count();_.sort\x26\x26root.sort(vegaDataflow.stableCompare(_.sort,\nfunction(d){return d.data}));setParams(layout,this.params,_);layout.separation\x26\x26layout.separation(!1!\x3d\x3d_.separation?defaultSeparation:vegaUtil.one);try{this.value\x3dlayout(root)}catch(err){vegaUtil.error(err)}root.each(function(node){for(var t\x3dnode.data,n\x3dfields.length-1,i\x3d0;i\x3cn;++i)t[as[i]]\x3dnode[fields[i]];t[as[n]]\x3dnode.children?node.children.length:0});return pulse.reflow(_.modified()).modifies(as).modifies(\x22leaf\x22)}});var Output\x3d[\x22x\x22,\x22y\x22,\x22r\x22,\x22depth\x22,\x22children\x22];Pack.Definition\x3d{type:\x22Pack\x22,metadata:{tree:!0,\nmodifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22sort\x22,type:\x22compare\x22},{name:\x22padding\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22radius\x22,type:\x22field\x22,\x22default\x22:null},{name:\x22size\x22,type:\x22number\x22,array:!0,length:2},{name:\x22as\x22,type:\x22string\x22,array:!0,length:Output.length,\x22default\x22:Output}]};vegaUtil.inherits(Pack,HierarchyLayout,{layout:d3Hierarchy.pack,params:[\x22radius\x22,\x22size\x22,\x22padding\x22],fields:Output});Output\x3d\x22x0 y0 x1 y1 depth children\x22.split(\x22 \x22);Partition.Definition\x3d{type:\x22Partition\x22,metadata:{tree:!0,\nmodifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22sort\x22,type:\x22compare\x22},{name:\x22padding\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22round\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22size\x22,type:\x22number\x22,array:!0,length:2},{name:\x22as\x22,type:\x22string\x22,array:!0,length:Output.length,\x22default\x22:Output}]};vegaUtil.inherits(Partition,HierarchyLayout,{layout:d3Hierarchy.partition,params:[\x22size\x22,\x22round\x22,\x22padding\x22],fields:Output});Stratify.Definition\x3d{type:\x22Stratify\x22,metadata:{treesource:!0},params:[{name:\x22key\x22,type:\x22field\x22,\nrequired:!0},{name:\x22parentKey\x22,type:\x22field\x22,required:!0}]};vegaUtil.inherits(Stratify,vegaDataflow.Transform,{transform:function(_,pulse){pulse.source||vegaUtil.error(\x22Stratify transform requires an upstream data source.\x22);var tree\x3dthis.value,mod\x3d_.modified(),out\x3dpulse.fork(pulse.ALL).materialize(pulse.SOURCE);pulse\x3d!tree||mod||pulse.changed(pulse.ADD_REM)||pulse.modified(_.key.fields)||pulse.modified(_.parentKey.fields);out.source\x3dout.source.slice();pulse\x26\x26(tree\x3dout.source.length?lookup(d3Hierarchy.stratify().id(_.key).parentId(_.parentKey)(out.source),\n_.key,vegaUtil.truthy):lookup(d3Hierarchy.stratify()([{}]),_.key,_.key));out.source.root\x3dthis.value\x3dtree;return out}});var Layouts\x3d{tidy:d3Hierarchy.tree,cluster:d3Hierarchy.cluster};Output\x3d[\x22x\x22,\x22y\x22,\x22depth\x22,\x22children\x22];Tree.Definition\x3d{type:\x22Tree\x22,metadata:{tree:!0,modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22sort\x22,type:\x22compare\x22},{name:\x22method\x22,type:\x22enum\x22,\x22default\x22:\x22tidy\x22,values:[\x22tidy\x22,\x22cluster\x22]},{name:\x22size\x22,type:\x22number\x22,array:!0,length:2},{name:\x22nodeSize\x22,type:\x22number\x22,array:!0,\nlength:2},{name:\x22separation\x22,type:\x22boolean\x22,\x22default\x22:!0},{name:\x22as\x22,type:\x22string\x22,array:!0,length:Output.length,\x22default\x22:Output}]};vegaUtil.inherits(Tree,HierarchyLayout,{layout:function(method){method\x3dmethod||\x22tidy\x22;if(vegaUtil.hasOwnProperty(Layouts,method))return Layouts[method]();vegaUtil.error(\x22Unrecognized Tree layout method: \x22+method)},params:[\x22size\x22,\x22nodeSize\x22],fields:Output});TreeLinks.Definition\x3d{type:\x22TreeLinks\x22,metadata:{tree:!0,generates:!0,changes:!0},params:[]};vegaUtil.inherits(TreeLinks,\nvegaDataflow.Transform,{transform:function(_,pulse){_\x3dthis.value;var tree\x3dpulse.source\x26\x26pulse.source.root,out\x3dpulse.fork(pulse.NO_SOURCE),lut\x3d{};tree||vegaUtil.error(\x22TreeLinks transform requires a tree data source.\x22);pulse.changed(pulse.ADD_REM)?(out.rem\x3d_,pulse.visit(pulse.SOURCE,function(t){return lut[vegaDataflow.tupleid(t)]\x3d1}),tree.each(function(node){var t\x3dnode.data;(node\x3dnode.parent\x26\x26node.parent.data)\x26\x26lut[vegaDataflow.tupleid(t)]\x26\x26lut[vegaDataflow.tupleid(node)]\x26\x26out.add.push(vegaDataflow.ingest({source:node,\ntarget:t}))}),this.value\x3dout.add):pulse.changed(pulse.MOD)\x26\x26(pulse.visit(pulse.MOD,function(t){return lut[vegaDataflow.tupleid(t)]\x3d1}),_.forEach(function(link){(lut[vegaDataflow.tupleid(link.source)]||lut[vegaDataflow.tupleid(link.target)])\x26\x26out.mod.push(link)}));return out}});var Tiles\x3d{binary:d3Hierarchy.treemapBinary,dice:d3Hierarchy.treemapDice,slice:d3Hierarchy.treemapSlice,slicedice:d3Hierarchy.treemapSliceDice,squarify:d3Hierarchy.treemapSquarify,resquarify:d3Hierarchy.treemapResquarify};Output\x3d\n\x22x0 y0 x1 y1 depth children\x22.split(\x22 \x22);Treemap.Definition\x3d{type:\x22Treemap\x22,metadata:{tree:!0,modifies:!0},params:[{name:\x22field\x22,type:\x22field\x22},{name:\x22sort\x22,type:\x22compare\x22},{name:\x22method\x22,type:\x22enum\x22,\x22default\x22:\x22squarify\x22,values:\x22squarify resquarify binary dice slice slicedice\x22.split(\x22 \x22)},{name:\x22padding\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22paddingInner\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22paddingOuter\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22paddingTop\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22paddingRight\x22,type:\x22number\x22,\n\x22default\x22:0},{name:\x22paddingBottom\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22paddingLeft\x22,type:\x22number\x22,\x22default\x22:0},{name:\x22ratio\x22,type:\x22number\x22,\x22default\x22:1.618033988749895},{name:\x22round\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22size\x22,type:\x22number\x22,array:!0,length:2},{name:\x22as\x22,type:\x22string\x22,array:!0,length:Output.length,\x22default\x22:Output}]};vegaUtil.inherits(Treemap,HierarchyLayout,{layout:function(){var x\x3dd3Hierarchy.treemap();x.ratio\x3dfunction(_){var t\x3dx.tile();t.ratio\x26\x26x.tile(t.ratio(_))};x.method\x3dfunction(_){vegaUtil.hasOwnProperty(Tiles,\n_)?x.tile(Tiles[_]):vegaUtil.error(\x22Unrecognized Treemap layout method: \x22+_)};return x},params:\x22method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft\x22.split(\x22 \x22),fields:Output});exports.nest\x3dNest;exports.pack\x3dPack;exports.partition\x3dPartition;exports.stratify\x3dStratify;exports.tree\x3dTree;exports.treelinks\x3dTreeLinks;exports.treemap\x3dTreemap;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_regression$build$vega_regression.js", true , "shadow$provide.module$node_modules$vega_regression$build$vega_regression\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_statistics$build$vega_statistics\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-statistics\x22,\n\x22vega-dataflow\x22,\x22vega-util\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.vega))})(this,function(exports,vegaStatistics,vegaDataflow,vegaUtil){function partition(data,groupby){var groups\x3d[],get\x3dfunction(f){return f(t)},n;if(null\x3d\x3dgroupby)groups.push(data);else{var map\x3d{};var i\x3d0;for(n\x3ddata.length;i\x3cn;++i){var t\x3ddata[i];var k\x3dgroupby.map(get);var g\x3dmap[k];g||(map[k]\x3dg\x3d[],g.dims\x3d\nk,groups.push(g));g.push(t)}}return groups}function Loess(params){vegaDataflow.Transform.call(this,null,params)}function Regression(params){vegaDataflow.Transform.call(this,null,params)}Loess.Definition\x3d{type:\x22Loess\x22,metadata:{generates:!0},params:[{name:\x22x\x22,type:\x22field\x22,required:!0},{name:\x22y\x22,type:\x22field\x22,required:!0},{name:\x22groupby\x22,type:\x22field\x22,array:!0},{name:\x22bandwidth\x22,type:\x22number\x22,\x22default\x22:.3},{name:\x22as\x22,type:\x22string\x22,array:!0}]};vegaUtil.inherits(Loess,vegaDataflow.Transform,{transform:function(_,\npulse){var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){pulse\x3dpulse.materialize(pulse.SOURCE).source;pulse\x3dpartition(pulse,_.groupby);var names\x3d(_.groupby||[]).map(vegaUtil.accessorName),m\x3dnames.length,as\x3d_.as||[vegaUtil.accessorName(_.x),vegaUtil.accessorName(_.y)],values\x3d[];pulse.forEach(function(g){vegaStatistics.regressionLoess(g,_.x,_.y,_.bandwidth||.3).forEach(function(p){for(var t\x3d{},i\x3d0;i\x3cm;++i)t[names[i]]\x3dg.dims[i];t[as[0]]\x3dp[0];t[as[1]]\x3d\np[1];values.push(vegaDataflow.ingest(t))})});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.add\x3dout.source\x3dvalues}return out}});var Methods\x3d{linear:vegaStatistics.regressionLinear,log:vegaStatistics.regressionLog,exp:vegaStatistics.regressionExp,pow:vegaStatistics.regressionPow,quad:vegaStatistics.regressionQuad,poly:vegaStatistics.regressionPoly};Regression.Definition\x3d{type:\x22Regression\x22,metadata:{generates:!0},params:[{name:\x22x\x22,type:\x22field\x22,required:!0},{name:\x22y\x22,type:\x22field\x22,required:!0},{name:\x22groupby\x22,\ntype:\x22field\x22,array:!0},{name:\x22method\x22,type:\x22string\x22,\x22default\x22:\x22linear\x22,values:Object.keys(Methods)},{name:\x22order\x22,type:\x22number\x22,\x22default\x22:3},{name:\x22extent\x22,type:\x22number\x22,array:!0,length:2},{name:\x22params\x22,type:\x22boolean\x22,\x22default\x22:!1},{name:\x22as\x22,type:\x22string\x22,array:!0}]};vegaUtil.inherits(Regression,vegaDataflow.Transform,{transform:function(_,pulse){var out\x3dpulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){var source\x3dpulse.materialize(pulse.SOURCE).source;source\x3d\npartition(source,_.groupby);var names\x3d(_.groupby||[]).map(vegaUtil.accessorName),method\x3d_.method||\x22linear\x22,order\x3d_.order||3,dof\x3d\x22poly\x22\x3d\x3d\x3dmethod?order:\x22quad\x22\x3d\x3d\x3dmethod?2:1,as\x3d_.as||[vegaUtil.accessorName(_.x),vegaUtil.accessorName(_.y)],fit\x3dMethods[method],values\x3d[],domain\x3d_.extent;vegaUtil.hasOwnProperty(Methods,method)||vegaUtil.error(\x22Invalid regression method: \x22+method);null!\x3ddomain\x26\x26\x22log\x22\x3d\x3d\x3dmethod\x26\x260\x3e\x3ddomain[0]\x26\x26(pulse.dataflow.warn(\x22Ignoring extent with values \\x3c\\x3d 0 for log regression.\x22),\ndomain\x3dnull);source.forEach(function(g){if(g.length\x3c\x3ddof)pulse.dataflow.warn(\x22Skipping regression with more parameters than data points.\x22);else{var model\x3dfit(g,_.x,_.y,order);if(_.params)values.push(vegaDataflow.ingest({keys:g.dims,coef:model.coef,rSquared:model.rSquared}));else{var dom\x3ddomain||vegaUtil.extent(g,_.x),add\x3dfunction(p){for(var t\x3d{},i\x3d0;i\x3cnames.length;++i)t[names[i]]\x3dg.dims[i];t[as[0]]\x3dp[0];t[as[1]]\x3dp[1];values.push(vegaDataflow.ingest(t))};\x22linear\x22\x3d\x3d\x3dmethod?dom.forEach(function(x){return add([x,\nmodel.predict(x)])}):vegaStatistics.sampleCurve(model.predict,dom,25,200).forEach(add)}}});this.value\x26\x26(out.rem\x3dthis.value);this.value\x3dout.add\x3dout.source\x3dvalues}return out}});exports.loess\x3dLoess;exports.regression\x3dRegression;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$d3_delaunay$dist$d3_delaunay.js", true , "shadow$provide.module$node_modules$d3_delaunay$dist$d3_delaunay\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3dglobal||self,factory(global.d3\x3dglobal.d3||{}))})(this,function(exports){function pseudoAngle(dx,dy){dx/\x3dMath.abs(dx)+Math.abs(dy);return(0\x3cdy?3-dx:1+dx)/4}function dist(ax,ay,bx,by){ax-\x3dbx;\nay-\x3dby;return ax*ax+ay*ay}function orientIfSure(px,py,rx,ry,qx,qy){ry\x3d(ry-py)*(qx-px);px\x3d(rx-px)*(qy-py);return Math.abs(ry-px)\x3e\x3d3.3306690738754716E-16*Math.abs(ry+px)?ry-px:0}function orient(rx,ry,qx,qy,px,py){return 0\x3e(orientIfSure(px,py,rx,ry,qx,qy)||orientIfSure(rx,ry,qx,qy,px,py)||orientIfSure(qx,qy,px,py,rx,ry))}function quicksort(ids,dists,left,right){if(20\x3e\x3dright-left)for(var i\x3dleft+1;i\x3c\x3dright;i++){for(var temp\x3dids[i],tempDist\x3ddists[temp],j\x3di-1;j\x3e\x3dleft\x26\x26dists[ids[j]]\x3etempDist;)ids[j+1]\x3dids[j--];\nids[j+1]\x3dtemp}else{i\x3dleft+1;temp\x3dright;swap(ids,left+right\x3e\x3e1,i);dists[ids[left]]\x3edists[ids[right]]\x26\x26swap(ids,left,right);dists[ids[i]]\x3edists[ids[right]]\x26\x26swap(ids,i,right);dists[ids[left]]\x3edists[ids[i]]\x26\x26swap(ids,left,i);tempDist\x3dids[i];for(j\x3ddists[tempDist];;){do i++;while(dists[ids[i]]\x3cj);do temp--;while(dists[ids[temp]]\x3ej);if(temp\x3ci)break;swap(ids,i,temp)}ids[left+1]\x3dids[temp];ids[temp]\x3dtempDist;right-i+1\x3e\x3dtemp-left?(quicksort(ids,dists,i,right),quicksort(ids,dists,left,temp-1)):(quicksort(ids,\ndists,left,temp-1),quicksort(ids,dists,i,right))}}function swap(arr,i,j){var tmp\x3darr[i];arr[i]\x3darr[j];arr[j]\x3dtmp}function defaultGetX(p){return p[0]}function defaultGetY(p){return p[1]}function pointX(p){return p[0]}function pointY(p){return p[1]}function collinear$jscomp$0(d){var triangles\x3dd.triangles;d\x3dd.coords;for(var i\x3d0;i\x3ctriangles.length;i+\x3d3){var a\x3d2*triangles[i],b\x3d2*triangles[i+1],c\x3d2*triangles[i+2];if(1E-10\x3c(d[c]-d[a])*(d[b+1]-d[a+1])-(d[b]-d[a])*(d[c+1]-d[a+1]))return!1}return!0}function jitter(x,\ny,r){return[x+Math.sin(x+y)*r,y+Math.cos(x-y)*r]}function flatIterable(points,fx,fy,that){var i,$jscomp$iter$326,$jscomp$key$p,p;return $jscomp.generator.createGenerator(flatIterable,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:i\x3d0,$jscomp$iter$326\x3d$jscomp.makeIterator(points),$jscomp$key$p\x3d$jscomp$iter$326.next();case 2:if($jscomp$key$p.done){$jscomp$generator$context.jumpTo(0);break}p\x3d$jscomp$key$p.value;return $jscomp$generator$context.yield(fx.call(that,\np,i,points),5);case 5:return $jscomp$generator$context.yield(fy.call(that,p,i,points),6);case 6:++i,$jscomp$key$p\x3d$jscomp$iter$326.next(),$jscomp$generator$context.jumpTo(2)}})}var EPSILON\x3dMath.pow(2,-52),EDGE_STACK\x3dnew Uint32Array(512),Delaunator\x3dfunction(coords){var n\x3dcoords.length\x3e\x3e1;if(0\x3cn\x26\x26\x22number\x22!\x3d\x3dtypeof coords[0])throw Error(\x22Expected coords to contain numbers.\x22);this.coords\x3dcoords;coords\x3dMath.max(2*n-5,0);this._triangles\x3dnew Uint32Array(3*coords);this._halfedges\x3dnew Int32Array(3*coords);\nthis._hashSize\x3dMath.ceil(Math.sqrt(n));this._hullPrev\x3dnew Uint32Array(n);this._hullNext\x3dnew Uint32Array(n);this._hullTri\x3dnew Uint32Array(n);this._hullHash\x3d(new Int32Array(this._hashSize)).fill(-1);this._ids\x3dnew Uint32Array(n);this._dists\x3dnew Float64Array(n);this.update()};Delaunator.from\x3dfunction(points,getX,getY){getX\x3dvoid 0\x3d\x3d\x3dgetX?defaultGetX:getX;getY\x3dvoid 0\x3d\x3d\x3dgetY?defaultGetY:getY;for(var n\x3dpoints.length,coords\x3dnew Float64Array(2*n),i\x3d0;i\x3cn;i++){var p\x3dpoints[i];coords[2*i]\x3dgetX(p);coords[2*i+\n1]\x3dgetY(p)}return new Delaunator(coords)};Delaunator.prototype.update\x3dfunction(){for(var JSCompiler_object_inline_x_2788,JSCompiler_object_inline_y_2789,coords\x3dthis.coords,hullPrev\x3dthis._hullPrev,hullNext\x3dthis._hullNext,hullTri\x3dthis._hullTri,hullHash\x3dthis._hullHash,n\x3dcoords.length\x3e\x3e1,minX\x3dInfinity,minY\x3dInfinity,maxX\x3d-Infinity,maxY\x3d-Infinity,i\x3d0;i\x3cn;i++){var x\x3dcoords[2*i];JSCompiler_object_inline_x_2788\x3dcoords[2*i+1];x\x3cminX\x26\x26(minX\x3dx);JSCompiler_object_inline_x_2788\x3cminY\x26\x26(minY\x3dJSCompiler_object_inline_x_2788);\nx\x3emaxX\x26\x26(maxX\x3dx);JSCompiler_object_inline_x_2788\x3emaxY\x26\x26(maxY\x3dJSCompiler_object_inline_x_2788);this._ids[i]\x3di}maxX\x3d(minX+maxX)/2;minY\x3d(minY+maxY)/2;minX\x3dInfinity;for(maxY\x3d0;maxY\x3cn;maxY++)if(i\x3ddist(maxX,minY,coords[2*maxY],coords[2*maxY+1]),i\x3cminX){var i0\x3dmaxY;minX\x3di}minY\x3dcoords[2*i0];maxY\x3dcoords[2*i0+1];minX\x3dInfinity;for(maxX\x3d0;maxX\x3cn;maxX++)if(maxX!\x3d\x3di0\x26\x26(i\x3ddist(minY,maxY,coords[2*maxX],coords[2*maxX+1]),i\x3cminX\x26\x260\x3ci)){var i1\x3dmaxX;minX\x3di}minX\x3dcoords[2*i1];maxX\x3dcoords[2*i1+1];JSCompiler_object_inline_x_2788\x3d\nInfinity;for(i\x3d0;i\x3cn;i++)if(i!\x3d\x3di0\x26\x26i!\x3d\x3di1){x\x3dminX-minY;var dy\x3dmaxX-maxY;JSCompiler_object_inline_y_2789\x3dcoords[2*i]-minY;var ey\x3dcoords[2*i+1]-maxY,bl\x3dx*x+dy*dy,cl\x3dJSCompiler_object_inline_y_2789*JSCompiler_object_inline_y_2789+ey*ey,d\x3d.5/(x*ey-dy*JSCompiler_object_inline_y_2789);dy\x3d(ey*bl-dy*cl)*d;x\x3d(x*cl-JSCompiler_object_inline_y_2789*bl)*d;x\x3ddy*dy+x*x;if(x\x3cJSCompiler_object_inline_x_2788){var i2\x3di;JSCompiler_object_inline_x_2788\x3dx}}i\x3dcoords[2*i2];x\x3dcoords[2*i2+1];if(Infinity\x3d\x3d\x3dJSCompiler_object_inline_x_2788){for(hullNext\x3d\n0;hullNext\x3cn;hullNext++)this._dists[hullNext]\x3dcoords[2*hullNext]-coords[0]||coords[2*hullNext+1]-coords[1];quicksort(this._ids,this._dists,0,n-1);hullNext\x3dnew Uint32Array(n);hullPrev\x3dcoords\x3d0;for(hullTri\x3d-Infinity;hullPrev\x3cn;hullPrev++)hullHash\x3dthis._ids[hullPrev],this._dists[hullHash]\x3ehullTri\x26\x26(hullNext[coords++]\x3dhullHash,hullTri\x3dthis._dists[hullHash]);this.hull\x3dhullNext.subarray(0,coords);this.triangles\x3dnew Uint32Array(0);this.halfedges\x3dnew Uint32Array(0)}else{orient(minY,maxY,minX,maxX,i,x)\x26\x26(JSCompiler_object_inline_x_2788\x3d\ni1,JSCompiler_object_inline_y_2789\x3dminX,bl\x3dmaxX,i1\x3di2,minX\x3di,maxX\x3dx,i2\x3dJSCompiler_object_inline_x_2788,i\x3dJSCompiler_object_inline_y_2789,x\x3dbl);JSCompiler_object_inline_y_2789\x3dminX-minY;JSCompiler_object_inline_x_2788\x3dmaxX-maxY;bl\x3di-minY;ey\x3dx-maxY;cl\x3dJSCompiler_object_inline_y_2789*JSCompiler_object_inline_y_2789+JSCompiler_object_inline_x_2788*JSCompiler_object_inline_x_2788;d\x3dbl*bl+ey*ey;dy\x3d.5/(JSCompiler_object_inline_y_2789*ey-JSCompiler_object_inline_x_2788*bl);JSCompiler_object_inline_x_2788\x3d\nminY+(ey*cl-JSCompiler_object_inline_x_2788*d)*dy;JSCompiler_object_inline_y_2789\x3dmaxY+(JSCompiler_object_inline_y_2789*d-bl*cl)*dy;this._cx\x3dJSCompiler_object_inline_x_2788;this._cy\x3dJSCompiler_object_inline_y_2789;for(bl\x3d0;bl\x3cn;bl++)this._dists[bl]\x3ddist(coords[2*bl],coords[2*bl+1],JSCompiler_object_inline_x_2788,JSCompiler_object_inline_y_2789);quicksort(this._ids,this._dists,0,n-1);this._hullStart\x3di0;n\x3d3;hullNext[i0]\x3dhullPrev[i2]\x3di1;hullNext[i1]\x3dhullPrev[i0]\x3di2;hullNext[i2]\x3dhullPrev[i1]\x3di0;hullTri[i0]\x3d\n0;hullTri[i1]\x3d1;hullTri[i2]\x3d2;hullHash.fill(-1);hullHash[this._hashKey(minY,maxY)]\x3di0;hullHash[this._hashKey(minX,maxX)]\x3di1;hullHash[this._hashKey(i,x)]\x3di2;this.trianglesLen\x3d0;this._addTriangle(i0,i1,i2,-1,-1,-1);minY\x3d0;for(minX\x3dmaxY\x3dvoid 0;minY\x3cthis._ids.length;minY++)if(maxX\x3dthis._ids[minY],i\x3dcoords[2*maxX],x\x3dcoords[2*maxX+1],!(0\x3cminY\x26\x26Math.abs(i-maxY)\x3c\x3dEPSILON\x26\x26Math.abs(x-minX)\x3c\x3dEPSILON)\x26\x26(maxY\x3di,minX\x3dx,maxX!\x3d\x3di0\x26\x26maxX!\x3d\x3di1\x26\x26maxX!\x3d\x3di2)){JSCompiler_object_inline_y_2789\x3dJSCompiler_object_inline_x_2788\x3d\n0;for(bl\x3dthis._hashKey(i,x);JSCompiler_object_inline_y_2789\x3cthis._hashSize\x26\x26(JSCompiler_object_inline_x_2788\x3dhullHash[(bl+JSCompiler_object_inline_y_2789)%this._hashSize],-1\x3d\x3d\x3dJSCompiler_object_inline_x_2788||JSCompiler_object_inline_x_2788\x3d\x3d\x3dhullNext[JSCompiler_object_inline_x_2788]);JSCompiler_object_inline_y_2789++);JSCompiler_object_inline_y_2789\x3dJSCompiler_object_inline_x_2788\x3dhullPrev[JSCompiler_object_inline_x_2788];for(bl\x3dvoid 0;bl\x3dhullNext[JSCompiler_object_inline_y_2789],!orient(i,x,coords[2*\nJSCompiler_object_inline_y_2789],coords[2*JSCompiler_object_inline_y_2789+1],coords[2*bl],coords[2*bl+1]);)if(JSCompiler_object_inline_y_2789\x3dbl,JSCompiler_object_inline_y_2789\x3d\x3d\x3dJSCompiler_object_inline_x_2788){JSCompiler_object_inline_y_2789\x3d-1;break}if(-1!\x3d\x3dJSCompiler_object_inline_y_2789){cl\x3dthis._addTriangle(JSCompiler_object_inline_y_2789,maxX,hullNext[JSCompiler_object_inline_y_2789],-1,-1,hullTri[JSCompiler_object_inline_y_2789]);hullTri[maxX]\x3dthis._legalize(cl+2);hullTri[JSCompiler_object_inline_y_2789]\x3d\ncl;n++;for(d\x3dhullNext[JSCompiler_object_inline_y_2789];bl\x3dhullNext[d],orient(i,x,coords[2*d],coords[2*d+1],coords[2*bl],coords[2*bl+1]);)cl\x3dthis._addTriangle(d,maxX,bl,hullTri[maxX],-1,hullTri[d]),hullTri[maxX]\x3dthis._legalize(cl+2),hullNext[d]\x3dd,n--,d\x3dbl;if(JSCompiler_object_inline_y_2789\x3d\x3d\x3dJSCompiler_object_inline_x_2788)for(;bl\x3dhullPrev[JSCompiler_object_inline_y_2789],orient(i,x,coords[2*bl],coords[2*bl+1],coords[2*JSCompiler_object_inline_y_2789],coords[2*JSCompiler_object_inline_y_2789+1]);)cl\x3d\nthis._addTriangle(bl,maxX,JSCompiler_object_inline_y_2789,-1,hullTri[JSCompiler_object_inline_y_2789],hullTri[bl]),this._legalize(cl+2),hullTri[bl]\x3dcl,hullNext[JSCompiler_object_inline_y_2789]\x3dJSCompiler_object_inline_y_2789,n--,JSCompiler_object_inline_y_2789\x3dbl;this._hullStart\x3dhullPrev[maxX]\x3dJSCompiler_object_inline_y_2789;hullNext[JSCompiler_object_inline_y_2789]\x3dhullPrev[d]\x3dmaxX;hullNext[maxX]\x3dd;hullHash[this._hashKey(i,x)]\x3dmaxX;hullHash[this._hashKey(coords[2*JSCompiler_object_inline_y_2789],\ncoords[2*JSCompiler_object_inline_y_2789+1])]\x3dJSCompiler_object_inline_y_2789}}this.hull\x3dnew Uint32Array(n);coords\x3d0;for(hullPrev\x3dthis._hullStart;coords\x3cn;coords++)this.hull[coords]\x3dhullPrev,hullPrev\x3dhullNext[hullPrev];this.triangles\x3dthis._triangles.subarray(0,this.trianglesLen);this.halfedges\x3dthis._halfedges.subarray(0,this.trianglesLen)}};Delaunator.prototype._hashKey\x3dfunction(x,y){return Math.floor(pseudoAngle(x-this._cx,y-this._cy)*this._hashSize)%this._hashSize};Delaunator.prototype._legalize\x3d\nfunction(a){for(var triangles\x3dthis._triangles,halfedges\x3dthis._halfedges,coords\x3dthis.coords,i\x3d0,ar;;){var b\x3dhalfedges[a],a0\x3da-a%3;ar\x3da0+(a+2)%3;if(-1\x3d\x3d\x3db){if(0\x3d\x3d\x3di)break;a\x3dEDGE_STACK[--i]}else{var b0\x3db-b%3,bl\x3db0+(b+2)%3,p0\x3dtriangles[ar],pr\x3dtriangles[a],pl\x3dtriangles[a0+(a+1)%3];a0\x3dtriangles[bl];var px\x3dcoords[2*a0],py\x3dcoords[2*a0+1],dx\x3dcoords[2*p0]-px,dy\x3dcoords[2*p0+1]-py,ex\x3dcoords[2*pr]-px;pr\x3dcoords[2*pr+1]-py;px\x3dcoords[2*pl]-px;pl\x3dcoords[2*pl+1]-py;py\x3dex*ex+pr*pr;var cp\x3dpx*px+pl*pl;if(0\x3edx*(pr*cp-\npy*pl)-dy*(ex*cp-py*px)+(dx*dx+dy*dy)*(ex*pl-pr*px)){triangles[a]\x3da0;triangles[b]\x3dp0;p0\x3dhalfedges[bl];if(-1\x3d\x3d\x3dp0){a0\x3dthis._hullStart;do{if(this._hullTri[a0]\x3d\x3d\x3dbl){this._hullTri[a0]\x3da;break}a0\x3dthis._hullPrev[a0]}while(a0!\x3d\x3dthis._hullStart)}this._link(a,p0);this._link(b,halfedges[ar]);this._link(ar,bl);ar\x3db0+(b+1)%3;i\x3cEDGE_STACK.length\x26\x26(EDGE_STACK[i++]\x3dar)}else{if(0\x3d\x3d\x3di)break;a\x3dEDGE_STACK[--i]}}}return ar};Delaunator.prototype._link\x3dfunction(a,b){this._halfedges[a]\x3db;-1!\x3d\x3db\x26\x26(this._halfedges[b]\x3da)};\nDelaunator.prototype._addTriangle\x3dfunction(i0,i1,i2,a,b,c){var t\x3dthis.trianglesLen;this._triangles[t]\x3di0;this._triangles[t+1]\x3di1;this._triangles[t+2]\x3di2;this._link(t,a);this._link(t+1,b);this._link(t+2,c);this.trianglesLen+\x3d3;return t};var Path\x3dfunction(){this._x0\x3dthis._y0\x3dthis._x1\x3dthis._y1\x3dnull;this._\x3d\x22\x22};Path.prototype.moveTo\x3dfunction(x,y){this._+\x3d\x22M\x22+(this._x0\x3dthis._x1\x3d+x)+\x22,\x22+(this._y0\x3dthis._y1\x3d+y)};Path.prototype.closePath\x3dfunction(){null!\x3d\x3dthis._x1\x26\x26(this._x1\x3dthis._x0,this._y1\x3dthis._y0,this._+\x3d\n\x22Z\x22)};Path.prototype.lineTo\x3dfunction(x,y){this._+\x3d\x22L\x22+(this._x1\x3d+x)+\x22,\x22+(this._y1\x3d+y)};Path.prototype.arc\x3dfunction(x,y,r){x\x3d+x;y\x3d+y;r\x3d+r;var x0\x3dx+r,y0\x3dy;if(0\x3er)throw Error(\x22negative radius\x22);if(null\x3d\x3d\x3dthis._x1)this._+\x3d\x22M\x22+x0+\x22,\x22+y0;else if(1E-6\x3cMath.abs(this._x1-x0)||1E-6\x3cMath.abs(this._y1-y0))this._+\x3d\x22L\x22+x0+\x22,\x22+y0;r\x26\x26(this._+\x3d\x22A\x22+r+\x22,\x22+r+\x22,0,1,1,\x22+(x-r)+\x22,\x22+y+\x22A\x22+r+\x22,\x22+r+\x22,0,1,1,\x22+(this._x1\x3dx0)+\x22,\x22+(this._y1\x3dy0))};Path.prototype.rect\x3dfunction(x,y,w,h){this._+\x3d\x22M\x22+(this._x0\x3dthis._x1\x3d+x)+\x22,\x22+(this._y0\x3d\nthis._y1\x3d+y)+\x22h\x22+ +w+\x22v\x22+ +h+\x22h\x22+-w+\x22Z\x22};Path.prototype.value\x3dfunction(){return this._||null};var Polygon\x3dfunction(){this._\x3d[]};Polygon.prototype.moveTo\x3dfunction(x,y){this._.push([x,y])};Polygon.prototype.closePath\x3dfunction(){this._.push(this._[0].slice())};Polygon.prototype.lineTo\x3dfunction(x,y){this._.push([x,y])};Polygon.prototype.value\x3dfunction(){return this._.length?this._:null};var Voronoi\x3dfunction(delaunay,$jscomp$destructuring$var436){var $jscomp$destructuring$var437\x3d$jscomp.makeIterator(void 0\x3d\x3d\x3d\n$jscomp$destructuring$var436?[0,0,960,500]:$jscomp$destructuring$var436);$jscomp$destructuring$var436\x3d$jscomp$destructuring$var437.next().value;var ymin\x3d$jscomp$destructuring$var437.next().value,xmax\x3d$jscomp$destructuring$var437.next().value;$jscomp$destructuring$var437\x3d$jscomp$destructuring$var437.next().value;if(!((xmax\x3d+xmax)\x3e\x3d($jscomp$destructuring$var436\x3d+$jscomp$destructuring$var436)\x26\x26($jscomp$destructuring$var437\x3d+$jscomp$destructuring$var437)\x3e\x3d(ymin\x3d+ymin)))throw Error(\x22invalid bounds\x22);this.delaunay\x3d\ndelaunay;this._circumcenters\x3dnew Float64Array(2*delaunay.points.length);this.vectors\x3dnew Float64Array(2*delaunay.points.length);this.xmax\x3dxmax;this.xmin\x3d$jscomp$destructuring$var436;this.ymax\x3d$jscomp$destructuring$var437;this.ymin\x3dymin;this._init()};Voronoi.prototype.update\x3dfunction(){this.delaunay.update();this._init();return this};Voronoi.prototype._init\x3dfunction(){var $jscomp$destructuring$var439\x3dthis.delaunay,points\x3d$jscomp$destructuring$var439.points,hull\x3d$jscomp$destructuring$var439.hull,triangles\x3d\n$jscomp$destructuring$var439.triangles;$jscomp$destructuring$var439\x3dthis.vectors;for(var circumcenters\x3dthis.circumcenters\x3dthis._circumcenters.subarray(0,triangles.length/3*2),i\x3d0,j\x3d0,n\x3dtriangles.length,x,y;i\x3cn;i+\x3d3,j+\x3d2){y\x3d2*triangles[i];var t2\x3d2*triangles[i+1],t3\x3d2*triangles[i+2];x\x3dpoints[y];y\x3dpoints[y+1];var x3\x3dpoints[t3],y3\x3dpoints[t3+1];t3\x3dpoints[t2]-x;var dy\x3dpoints[t2+1]-y;t2\x3dx3-x;var ey\x3dy3-y,bl\x3dt3*t3+dy*dy,cl\x3dt2*t2+ey*ey,ab\x3d2*(t3*ey-dy*t2);ab?1E-8\x3eMath.abs(ab)?(x\x3d(x+x3)/2,y\x3d(y+y3)/2):(x3\x3d1/ab,\nx+\x3d(ey*bl-dy*cl)*x3,y+\x3d(t3*cl-t2*bl)*x3):(x\x3d(x+x3)/2-1E8*ey,y\x3d(y+y3)/2+1E8*t2);circumcenters[j]\x3dx;circumcenters[j+1]\x3dy}triangles\x3dhull[hull.length-1];i\x3d4*triangles;n\x3dpoints[2*triangles];y\x3dpoints[2*triangles+1];$jscomp$destructuring$var439.fill(0);for(t3\x3d0;t3\x3chull.length;++t3)triangles\x3dhull[t3],circumcenters\x3di,j\x3dn,x\x3dy,i\x3d4*triangles,n\x3dpoints[2*triangles],y\x3dpoints[2*triangles+1],$jscomp$destructuring$var439[circumcenters+2]\x3d$jscomp$destructuring$var439[i]\x3dx-y,$jscomp$destructuring$var439[circumcenters+\n3]\x3d$jscomp$destructuring$var439[i+1]\x3dn-j};Voronoi.prototype.render\x3dfunction(context){var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0,$jscomp$destructuring$var441\x3dthis.delaunay,halfedges\x3d$jscomp$destructuring$var441.halfedges,inedges\x3d$jscomp$destructuring$var441.inedges;$jscomp$destructuring$var441\x3d$jscomp$destructuring$var441.hull;var circumcenters\x3dthis.circumcenters,vectors\x3dthis.vectors;if(1\x3e\x3d$jscomp$destructuring$var441.length)return null;for(var i\x3d0,n\x3dhalfedges.length;i\x3cn;++i){var j\x3dhalfedges[i];\nif(!(j\x3ci)){var ti\x3d2*Math.floor(i/3);j\x3d2*Math.floor(j/3);this._renderSegment(circumcenters[ti],circumcenters[ti+1],circumcenters[j],circumcenters[j+1],context)}}halfedges\x3d$jscomp$destructuring$var441[$jscomp$destructuring$var441.length-1];for(i\x3d0;i\x3c$jscomp$destructuring$var441.length;++i)j\x3dhalfedges,halfedges\x3d$jscomp$destructuring$var441[i],ti\x3d2*Math.floor(inedges[halfedges]/3),n\x3dcircumcenters[ti],ti\x3dcircumcenters[ti+1],j*\x3d4,(j\x3dthis._project(n,ti,vectors[j+2],vectors[j+3]))\x26\x26this._renderSegment(n,\nti,j[0],j[1],context);return buffer\x26\x26buffer.value()};Voronoi.prototype.renderBounds\x3dfunction(context){var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0;context.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return buffer\x26\x26buffer.value()};Voronoi.prototype.renderCell\x3dfunction(i,context){var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0;i\x3dthis._clip(i);if(null!\x3d\x3di\x26\x26i.length){context.moveTo(i[0],i[1]);for(var n\x3di.length;i[0]\x3d\x3d\x3di[n-2]\x26\x26i[1]\x3d\x3d\x3di[n-1]\x26\x261\x3cn;)n-\x3d2;for(var i$577\x3d2;i$577\x3cn;i$577+\x3d\n2)i[i$577]\x3d\x3d\x3di[i$577-2]\x26\x26i[i$577+1]\x3d\x3d\x3di[i$577-1]||context.lineTo(i[i$577],i[i$577+1]);context.closePath();return buffer\x26\x26buffer.value()}};Voronoi.prototype.cellPolygons\x3dfunction $jscomp$generator$function(){var $jscomp$generator$this\x3dthis,$jscomp$destructuring$var442,$jscomp$destructuring$var443,points,i,n,cell;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:$jscomp$destructuring$var442\x3d$jscomp$generator$this,\n$jscomp$destructuring$var443\x3d$jscomp$destructuring$var442.delaunay,points\x3d$jscomp$destructuring$var443.points,i\x3d0,n\x3dpoints.length/2;case 2:if(!(i\x3cn)){$jscomp$generator$context.jumpTo(0);break}cell\x3d$jscomp$generator$this.cellPolygon(i);if(!cell){$jscomp$generator$context.jumpTo(3);break}cell.index\x3di;return $jscomp$generator$context.yield(cell,6);case 6:case 3:++i,$jscomp$generator$context.jumpTo(2)}})};Voronoi.prototype.cellPolygon\x3dfunction(i){var polygon\x3dnew Polygon;this.renderCell(i,polygon);return polygon.value()};\nVoronoi.prototype._renderSegment\x3dfunction(x0,y0,x1,y1,context){var c0\x3dthis._regioncode(x0,y0),c1\x3dthis._regioncode(x1,y1);if(0\x3d\x3d\x3dc0\x26\x260\x3d\x3d\x3dc1)context.moveTo(x0,y0),context.lineTo(x1,y1);else if(x0\x3dthis._clipSegment(x0,y0,x1,y1,c0,c1))context.moveTo(x0[0],x0[1]),context.lineTo(x0[2],x0[3])};Voronoi.prototype.contains\x3dfunction(i,x,y){return(x\x3d+x,x!\x3d\x3dx)||(y\x3d+y,y!\x3d\x3dy)?!1:this.delaunay._step(i,x,y)\x3d\x3d\x3di};Voronoi.prototype.neighbors\x3dfunction $jscomp$generator$function(i){var $jscomp$generator$this\x3dthis,ci,\n$jscomp$iter$325,$jscomp$key$j,j,cj,ai,li,aj,lj;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:ci\x3d$jscomp$generator$this._clip(i);if(!ci){$jscomp$generator$context.jumpTo(0);break}$jscomp$iter$325\x3d$jscomp.makeIterator($jscomp$generator$this.delaunay.neighbors(i));$jscomp$key$j\x3d$jscomp$iter$325.next();case 3:if($jscomp$key$j.done){$jscomp$generator$context.jumpTo(0);break}j\x3d$jscomp$key$j.value;\ncj\x3d$jscomp$generator$this._clip(j);if(!cj){$jscomp$generator$context.jumpTo(4);break}ai\x3d0;li\x3dci.length;case 9:if(!(ai\x3cli)){$jscomp$generator$context.jumpTo(4);break}aj\x3d0;lj\x3dcj.length;case 10:if(!(aj\x3clj)){ai+\x3d2;$jscomp$generator$context.jumpTo(9);break}if(ci[ai]!\x3dcj[aj]||ci[ai+1]!\x3dcj[aj+1]||ci[(ai+2)%li]!\x3dcj[(aj+lj-2)%lj]||ci[(ai+3)%li]!\x3dcj[(aj+lj-1)%lj]){$jscomp$generator$context.jumpTo(11);break}return $jscomp$generator$context.yield(j,14);case 14:$jscomp$generator$context.jumpTo(4);break;case 11:aj+\x3d\n2;$jscomp$generator$context.jumpTo(10);break;case 4:$jscomp$key$j\x3d$jscomp$iter$325.next(),$jscomp$generator$context.jumpTo(3)}})};Voronoi.prototype._cell\x3dfunction(i){var circumcenters\x3dthis.circumcenters,$jscomp$destructuring$var445\x3dthis.delaunay,halfedges\x3d$jscomp$destructuring$var445.halfedges,triangles\x3d$jscomp$destructuring$var445.triangles;$jscomp$destructuring$var445\x3d$jscomp$destructuring$var445.inedges[i];if(-1\x3d\x3d\x3d$jscomp$destructuring$var445)return null;var points\x3d[],e\x3d$jscomp$destructuring$var445;\ndo{var t\x3dMath.floor(e/3);points.push(circumcenters[2*t],circumcenters[2*t+1]);e\x3d2\x3d\x3d\x3de%3?e-2:e+1;if(triangles[e]!\x3d\x3di)break;e\x3dhalfedges[e]}while(e!\x3d\x3d$jscomp$destructuring$var445\x26\x26-1!\x3d\x3de);return points};Voronoi.prototype._clip\x3dfunction(i){if(0\x3d\x3d\x3di\x26\x261\x3d\x3d\x3dthis.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var points\x3dthis._cell(i);if(null\x3d\x3d\x3dpoints)return null;var V\x3dthis.vectors,v\x3d4*i;return V[v]||V[v+1]?this._clipInfinite(i,points,V[v],V[v+1],\nV[v+2],V[v+3]):this._clipFinite(i,points)};Voronoi.prototype._clipFinite\x3dfunction(i,points){for(var n\x3dpoints.length,P\x3dnull,x0,y0,x1\x3dpoints[n-2],y1\x3dpoints[n-1],c0,c1\x3dthis._regioncode(x1,y1),e0,e1,j\x3d0;j\x3cn;j+\x3d2)if(x0\x3dx1,y0\x3dy1,x1\x3dpoints[j],y1\x3dpoints[j+1],c0\x3dc1,c1\x3dthis._regioncode(x1,y1),0\x3d\x3d\x3dc0\x26\x260\x3d\x3d\x3dc1)e1\x3d0,P?P.push(x1,y1):P\x3d[x1,y1];else{if(0\x3d\x3d\x3dc0){if(null\x3d\x3d\x3d(x0\x3dthis._clipSegment(x0,y0,x1,y1,c0,c1)))continue;y0\x3d$jscomp.makeIterator(x0);y0.next();y0.next();x0\x3dy0.next().value;c0\x3dy0.next().value}else{if(null\x3d\x3d\x3d\n(x0\x3dthis._clipSegment(x1,y1,x0,y0,c1,c0)))continue;e0\x3d$jscomp.makeIterator(x0);x0\x3de0.next().value;c0\x3de0.next().value;y0\x3de0.next().value;var sy0\x3de0.next().value;e0\x3de1;e1\x3dthis._edgecode(y0,sy0);e0\x26\x26e1\x26\x26this._edge(i,e0,e1,P,P.length);P?P.push(y0,sy0):P\x3d[y0,sy0]}e0\x3de1;e1\x3dthis._edgecode(x0,c0);e0\x26\x26e1\x26\x26this._edge(i,e0,e1,P,P.length);P?P.push(x0,c0):P\x3d[x0,c0]}if(P)e0\x3de1,e1\x3dthis._edgecode(P[0],P[1]),e0\x26\x26e1\x26\x26this._edge(i,e0,e1,P,P.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/\n2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return P};Voronoi.prototype._clipSegment\x3dfunction(x0,y0,x1,y1,c0,c1){for(;;){if(0\x3d\x3d\x3dc0\x26\x260\x3d\x3d\x3dc1)return[x0,y0,x1,y1];if(c0\x26c1)return null;var x\x3dc0||c1;if(x\x268){x\x3dx0+(x1-x0)*(this.ymax-y0)/(y1-y0);var y\x3dthis.ymax}else x\x264?(x\x3dx0+(x1-x0)*(this.ymin-y0)/(y1-y0),y\x3dthis.ymin):x\x262?(y\x3dy0+(y1-y0)*(this.xmax-x0)/(x1-x0),x\x3dthis.xmax):(y\x3dy0+(y1-y0)*(this.xmin-x0)/(x1-x0),x\x3dthis.xmin);c0?(x0\x3dx,y0\x3dy,c0\x3dthis._regioncode(x0,y0)):\n(x1\x3dx,y1\x3dy,c1\x3dthis._regioncode(x1,y1))}};Voronoi.prototype._clipInfinite\x3dfunction(i,points,vx0,vy0,vxn,vyn){points\x3dArray.from(points);var p;(p\x3dthis._project(points[0],points[1],vx0,vy0))\x26\x26points.unshift(p[0],p[1]);(p\x3dthis._project(points[points.length-2],points[points.length-1],vxn,vyn))\x26\x26points.push(p[0],p[1]);if(points\x3dthis._clipFinite(i,points))for(vx0\x3d0,vy0\x3dpoints.length,vyn\x3dthis._edgecode(points[vy0-2],points[vy0-1]);vx0\x3cvy0;vx0+\x3d2)vxn\x3dvyn,vyn\x3dthis._edgecode(points[vx0],points[vx0+1]),vxn\x26\x26vyn\x26\x26\n(vx0\x3dthis._edge(i,vxn,vyn,points,vx0),vy0\x3dpoints.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)\x26\x26(points\x3d[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return points};Voronoi.prototype._edge\x3dfunction(i,e0,e1,P,j){for(;e0!\x3d\x3de1;){var x\x3dvoid 0,y\x3dvoid 0;switch(e0){case 5:e0\x3d4;continue;case 4:e0\x3d6;x\x3dthis.xmax;y\x3dthis.ymin;break;case 6:e0\x3d2;continue;case 2:e0\x3d10;x\x3dthis.xmax;y\x3dthis.ymax;break;case 10:e0\x3d8;continue;case 8:e0\x3d9;x\x3dthis.xmin;\ny\x3dthis.ymax;break;case 9:e0\x3d1;continue;case 1:e0\x3d5,x\x3dthis.xmin,y\x3dthis.ymin}P[j]\x3d\x3d\x3dx\x26\x26P[j+1]\x3d\x3d\x3dy||!this.contains(i,x,y)||(P.splice(j,0,x,y),j+\x3d2)}if(4\x3cP.length)for(i\x3d0;i\x3cP.length;i+\x3d2)if(e0\x3d(i+2)%P.length,e1\x3d(i+4)%P.length,P[i]\x3d\x3d\x3dP[e0]\x26\x26P[e0]\x3d\x3d\x3dP[e1]||P[i+1]\x3d\x3d\x3dP[e0+1]\x26\x26P[e0+1]\x3d\x3d\x3dP[e1+1])P.splice(e0,2),i-\x3d2;return j};Voronoi.prototype._project\x3dfunction(x0,y0,vx,vy){var t\x3dInfinity,c;if(0\x3evy){if(y0\x3c\x3dthis.ymin)return null;if((c\x3d(this.ymin-y0)/vy)\x3ct){var y\x3dthis.ymin;var x\x3dx0+(t\x3dc)*vx}}else if(0\x3cvy){if(y0\x3e\x3d\nthis.ymax)return null;(c\x3d(this.ymax-y0)/vy)\x3ct\x26\x26(y\x3dthis.ymax,x\x3dx0+(t\x3dc)*vx)}if(0\x3cvx){if(x0\x3e\x3dthis.xmax)return null;(c\x3d(this.xmax-x0)/vx)\x3ct\x26\x26(x\x3dthis.xmax,y\x3dy0+c*vy)}else if(0\x3evx){if(x0\x3c\x3dthis.xmin)return null;(c\x3d(this.xmin-x0)/vx)\x3ct\x26\x26(x\x3dthis.xmin,y\x3dy0+c*vy)}return[x,y]};Voronoi.prototype._edgecode\x3dfunction(x,y){return(x\x3d\x3d\x3dthis.xmin?1:x\x3d\x3d\x3dthis.xmax?2:0)|(y\x3d\x3d\x3dthis.ymin?4:y\x3d\x3d\x3dthis.ymax?8:0)};Voronoi.prototype._regioncode\x3dfunction(x,y){return(x\x3cthis.xmin?1:x\x3ethis.xmax?2:0)|(y\x3cthis.ymin?4:y\x3ethis.ymax?8:0)};\nvar tau\x3d2*Math.PI,pow\x3dMath.pow,Delaunay\x3dfunction(points){this._delaunator\x3dnew Delaunator(points);this.inedges\x3dnew Int32Array(points.length/2);this._hullIndex\x3dnew Int32Array(points.length/2);this.points\x3dthis._delaunator.coords;this._init()};Delaunay.from\x3dfunction(points,fx,fy,that){fx\x3dvoid 0\x3d\x3d\x3dfx?pointX:fx;fy\x3dvoid 0\x3d\x3d\x3dfy?pointY:fy;if(\x22length\x22in points){for(var n\x3dpoints.length,array\x3dnew Float64Array(2*n),i\x3d0;i\x3cn;++i){var p\x3dpoints[i];array[2*i]\x3dfx.call(that,p,i,points);array[2*i+1]\x3dfy.call(that,p,i,\npoints)}points\x3darray}else points\x3dFloat64Array.from(flatIterable(points,fx,fy,that));return new Delaunay(points)};Delaunay.prototype.update\x3dfunction(){this._delaunator.update();this._init();return this};Delaunay.prototype._init\x3dfunction(){var d\x3dthis._delaunator,points\x3dthis.points;if(d.hull\x26\x262\x3cd.hull.length\x26\x26collinear$jscomp$0(d)){this.collinear\x3dInt32Array.from({length:points.length/2},function(_,i){return i}).sort(function(i,j){return points[2*i]-points[2*j]||points[2*i+1]-points[2*j+1]});d\x3dthis.collinear[0];\nvar f\x3dthis.collinear[this.collinear.length-1];d\x3d[points[2*d],points[2*d+1],points[2*f],points[2*f+1]];d\x3d1E-8*Math.hypot(d[3]-d[1],d[2]-d[0]);f\x3d0;for(var n\x3dpoints.length/2;f\x3cn;++f){var p\x3djitter(points[2*f],points[2*f+1],d);points[2*f]\x3dp[0];points[2*f+1]\x3dp[1]}this._delaunator\x3dnew Delaunator(points)}else delete this.collinear;p\x3dthis.halfedges\x3dthis._delaunator.halfedges;d\x3dthis.hull\x3dthis._delaunator.hull;var triangles\x3dthis.triangles\x3dthis._delaunator.triangles;f\x3dthis.inedges.fill(-1);n\x3dthis._hullIndex.fill(-1);\nfor(var e$580\x3d0,n$581\x3dp.length;e$580\x3cn$581;++e$580){var p$582\x3dtriangles[2\x3d\x3d\x3de$580%3?e$580-2:e$580+1];if(-1\x3d\x3d\x3dp[e$580]||-1\x3d\x3d\x3df[p$582])f[p$582]\x3de$580}p\x3d0;for(triangles\x3dd.length;p\x3ctriangles;++p)n[d[p]]\x3dp;2\x3e\x3dd.length\x26\x260\x3cd.length\x26\x26(this.triangles\x3d(new Int32Array(3)).fill(-1),this.halfedges\x3d(new Int32Array(3)).fill(-1),this.triangles[0]\x3dd[0],this.triangles[1]\x3dd[1],this.triangles[2]\x3dd[1],f[d[0]]\x3d1,2\x3d\x3d\x3dd.length\x26\x26(f[d[1]]\x3d0))};Delaunay.prototype.voronoi\x3dfunction(bounds){return new Voronoi(this,bounds)};Delaunay.prototype.neighbors\x3d\nfunction $jscomp$generator$function(i){var $jscomp$generator$this\x3dthis,$jscomp$destructuring$var450,inedges,hull,_hullIndex,halfedges,triangles,collinear,l,e0,e,p0,p;return $jscomp.generator.createGenerator($jscomp$generator$function,function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:$jscomp$destructuring$var450\x3d$jscomp$generator$this;inedges\x3d$jscomp$destructuring$var450.inedges;hull\x3d$jscomp$destructuring$var450.hull;_hullIndex\x3d$jscomp$destructuring$var450._hullIndex;\nhalfedges\x3d$jscomp$destructuring$var450.halfedges;triangles\x3d$jscomp$destructuring$var450.triangles;collinear\x3d$jscomp$destructuring$var450.collinear;if(!collinear){$jscomp$generator$context.jumpTo(2);break}l\x3dcollinear.indexOf(i);if(!(0\x3cl)){$jscomp$generator$context.jumpTo(3);break}return $jscomp$generator$context.yield(collinear[l-1],3);case 3:if(!(l\x3ccollinear.length-1)){$jscomp$generator$context.jumpTo(5);break}return $jscomp$generator$context.yield(collinear[l+1],5);case 5:return $jscomp$generator$context.return();\ncase 2:e0\x3dinedges[i];if(-1\x3d\x3d\x3de0)return $jscomp$generator$context.return();e\x3de0;p0\x3d-1;case 7:return $jscomp$generator$context.yield(p0\x3dtriangles[e],10);case 10:e\x3d2\x3d\x3d\x3de%3?e-2:e+1;if(triangles[e]!\x3d\x3di)return $jscomp$generator$context.return();e\x3dhalfedges[e];if(-1!\x3d\x3de){$jscomp$generator$context.jumpTo(9);break}p\x3dhull[(_hullIndex[i]+1)%hull.length];if(p\x3d\x3d\x3dp0){$jscomp$generator$context.jumpTo(12);break}return $jscomp$generator$context.yield(p,12);case 12:return $jscomp$generator$context.return();case 9:e!\x3d\x3d\ne0?$jscomp$generator$context.jumpTo(7):$jscomp$generator$context.jumpToEnd()}})};Delaunay.prototype.find\x3dfunction(x,y,i){i\x3dvoid 0\x3d\x3d\x3di?0:i;if((x\x3d+x,x!\x3d\x3dx)||(y\x3d+y,y!\x3d\x3dy))return-1;for(var i0\x3di,c;0\x3c\x3d(c\x3dthis._step(i,x,y))\x26\x26c!\x3d\x3di\x26\x26c!\x3d\x3di0;)i\x3dc;return c};Delaunay.prototype._step\x3dfunction(i,x,y){var inedges\x3dthis.inedges,hull\x3dthis.hull,_hullIndex\x3dthis._hullIndex,halfedges\x3dthis.halfedges,triangles\x3dthis.triangles,points\x3dthis.points;if(-1\x3d\x3d\x3dinedges[i]||!points.length)return(i+1)%(points.length\x3e\x3e1);var c\x3di,dc\x3d\npow(x-points[2*i],2)+pow(y-points[2*i+1],2),e\x3dinedges\x3dinedges[i];do{var t\x3dtriangles[e],dt\x3dpow(x-points[2*t],2)+pow(y-points[2*t+1],2);dt\x3cdc\x26\x26(dc\x3ddt,c\x3dt);e\x3d2\x3d\x3d\x3de%3?e-2:e+1;if(triangles[e]!\x3d\x3di)break;e\x3dhalfedges[e];if(-1\x3d\x3d\x3de){e\x3dhull[(_hullIndex[i]+1)%hull.length];if(e!\x3d\x3dt\x26\x26pow(x-points[2*e],2)+pow(y-points[2*e+1],2)\x3cdc)return e;break}}while(e!\x3d\x3dinedges);return c};Delaunay.prototype.render\x3dfunction(context){for(var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0,points\x3dthis.points,halfedges\x3dthis.halfedges,\ntriangles\x3dthis.triangles,i\x3d0,n\x3dhalfedges.length;i\x3cn;++i){var j\x3dhalfedges[i];if(!(j\x3ci)){var ti\x3d2*triangles[i];j\x3d2*triangles[j];context.moveTo(points[ti],points[ti+1]);context.lineTo(points[j],points[j+1])}}this.renderHull(context);return buffer\x26\x26buffer.value()};Delaunay.prototype.renderPoints\x3dfunction(context,r){r\x3dvoid 0\x3d\x3d\x3dr?2:r;for(var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0,points\x3dthis.points,i\x3d0,n\x3dpoints.length;i\x3cn;i+\x3d2){var x\x3dpoints[i],y\x3dpoints[i+1];context.moveTo(x+r,y);context.arc(x,y,r,\n0,tau)}return buffer\x26\x26buffer.value()};Delaunay.prototype.renderHull\x3dfunction(context){var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0,hull\x3dthis.hull,points\x3dthis.points,h\x3d2*hull[0],n\x3dhull.length;context.moveTo(points[h],points[h+1]);for(h\x3d1;h\x3cn;++h){var h$585\x3d2*hull[h];context.lineTo(points[h$585],points[h$585+1])}context.closePath();return buffer\x26\x26buffer.value()};Delaunay.prototype.hullPolygon\x3dfunction(){var polygon\x3dnew Polygon;this.renderHull(polygon);return polygon.value()};Delaunay.prototype.renderTriangle\x3d\nfunction(i,context){var buffer\x3dnull\x3d\x3dcontext?context\x3dnew Path:void 0,points\x3dthis.points,triangles\x3dthis.triangles,t0\x3d2*triangles[i*\x3d3],t1\x3d2*triangles[i+1];i\x3d2*triangles[i+2];context.moveTo(points[t0],points[t0+1]);context.lineTo(points[t1],points[t1+1]);context.lineTo(points[i],points[i+1]);context.closePath();return buffer\x26\x26buffer.value()};Delaunay.prototype.trianglePolygons\x3dfunction $jscomp$generator$function(){var $jscomp$generator$this\x3dthis,$jscomp$destructuring$var456,triangles,i,n;return $jscomp.generator.createGenerator($jscomp$generator$function,\nfunction($jscomp$generator$context){1\x3d\x3d$jscomp$generator$context.nextAddress\x26\x26($jscomp$destructuring$var456\x3d$jscomp$generator$this,triangles\x3d$jscomp$destructuring$var456.triangles,i\x3d0,n\x3dtriangles.length/3);if(3!\x3d$jscomp$generator$context.nextAddress)return i\x3cn?$jscomp$generator$context.yield($jscomp$generator$this.trianglePolygon(i),3):$jscomp$generator$context.jumpTo(0);++i;return $jscomp$generator$context.jumpTo(2)})};Delaunay.prototype.trianglePolygon\x3dfunction(i){var polygon\x3dnew Polygon;this.renderTriangle(i,\npolygon);return polygon.value()};exports.Delaunay\x3dDelaunay;exports.Voronoi\x3dVoronoi;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_voronoi$build$vega_voronoi.js", true , "shadow$provide.module$node_modules$vega_voronoi$build$vega_voronoi\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$d3_delaunay$dist$d3_delaunay\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-dataflow\x22,\x22vega-util\x22,\n\x22d3-delaunay\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.d3))})(this,function(exports,vegaDataflow,vegaUtil,d3Delaunay){function Voronoi(params){vegaDataflow.Transform.call(this,null,params)}Voronoi.Definition\x3d{type:\x22Voronoi\x22,metadata:{modifies:!0},params:[{name:\x22x\x22,type:\x22field\x22,required:!0},{name:\x22y\x22,type:\x22field\x22,required:!0},{name:\x22size\x22,type:\x22number\x22,array:!0,length:2},\n{name:\x22extent\x22,type:\x22array\x22,array:!0,length:2,\x22default\x22:[[-1E5,-1E5],[1E5,1E5]],content:{type:\x22number\x22,array:!0,length:2}},{name:\x22as\x22,type:\x22string\x22,\x22default\x22:\x22path\x22}]};var defaultExtent\x3d[-1E5,-1E5,1E5,1E5];vegaUtil.inherits(Voronoi,vegaDataflow.Transform,{transform:function(_,pulse){var as\x3d_.as||\x22path\x22,data\x3dpulse.source;if(!data||!data.length)return pulse;var s\x3d_.size;s\x3ds?[0,0,s[0],s[1]]:(s\x3d_.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:defaultExtent;s\x3dthis.value\x3dd3Delaunay.Delaunay.from(data,_.x,_.y).voronoi(s);\nfor(var i\x3d0,n\x3ddata.length;i\x3cn;++i){var polygon\x3ds.cellPolygon(i),JSCompiler_temp_const\x3ddata[i];if(polygon){for(var x\x3dpolygon[0][0],y\x3dpolygon[0][1],n$jscomp$0\x3dpolygon.length-1;polygon[n$jscomp$0][0]\x3d\x3d\x3dx\x26\x26polygon[n$jscomp$0][1]\x3d\x3d\x3dy;--n$jscomp$0);polygon\x3d\x22M\x22+polygon.slice(0,n$jscomp$0+1).join(\x22L\x22)+\x22Z\x22}else polygon\x3dnull;JSCompiler_temp_const[as]\x3dpolygon}return pulse.reflow(_.modified()).modifies(as)}});exports.voronoi\x3dVoronoi;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_wordcloud$build$vega_wordcloud.js", true , "shadow$provide.module$node_modules$vega_wordcloud$build$vega_wordcloud\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_canvas$build$vega_canvas\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_scale$build$vega_scale\x22),require(\x22module$node_modules$vega_statistics$build$vega_statistics\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.vega,global.vega,global.vega,global.vega,global.vega))})(this,function(exports,vegaCanvas,vegaDataflow,vegaUtil,vegaScale,vegaStatistics){function cloud(){function getContext(canvas){canvas.width\x3dcanvas.height\x3d1;var ratio\x3dMath.sqrt(canvas.getContext(\x222d\x22).getImageData(0,\n0,1,1).data.length\x3e\x3e2);canvas.width\x3d2048/ratio;canvas.height\x3d2048/ratio;canvas\x3dcanvas.getContext(\x222d\x22);canvas.fillStyle\x3dcanvas.strokeStyle\x3d\x22red\x22;canvas.textAlign\x3d\x22center\x22;return{context:canvas,ratio:ratio}}function place(board,tag,bounds){for(var startX\x3dtag.x,startY\x3dtag.y,maxDelta\x3dMath.sqrt(size[0]*size[0]+size[1]*size[1]),s\x3dspiral(size),dt\x3d.5\x3erandom()?1:-1,t\x3d-dt,dxdy,dx;dxdy\x3ds(t+\x3ddt);){dx\x3d~~dxdy[0];dxdy\x3d~~dxdy[1];if(Math.min(Math.abs(dx),Math.abs(dxdy))\x3e\x3dmaxDelta)break;tag.x\x3dstartX+dx;tag.y\x3dstartY+\ndxdy;if(!(0\x3etag.x+tag.x0||0\x3etag.y+tag.y0||tag.x+tag.x1\x3esize[0]||tag.y+tag.y1\x3esize[1])){if(!(dx\x3d!bounds)){a:{dx\x3dsize[0];dx\x3e\x3e\x3d5;dxdy\x3dtag.sprite;var w\x3dtag.width\x3e\x3e5;var last\x3dtag.x-(w\x3c\x3c4);for(var sx\x3dlast\x26127,msx\x3d32-sx,h\x3dtag.y1-tag.y0,x\x3d(tag.y+tag.y0)*dx+(last\x3e\x3e5),j\x3d0;j\x3ch;j++){for(var i\x3dlast\x3d0;i\x3c\x3dw;i++)if((last\x3c\x3cmsx|(i\x3cw?(last\x3ddxdy[j*w+i])\x3e\x3e\x3esx:0))\x26board[x+i]){dx\x3d!0;break a}x+\x3ddx}dx\x3d!1}dx\x3d!dx}if(dx\x26\x26(!bounds||tag.x+tag.x1\x3ebounds[0].x\x26\x26tag.x+tag.x0\x3cbounds[1].x\x26\x26tag.y+tag.y1\x3ebounds[0].y\x26\x26tag.y+tag.y0\x3cbounds[1].y)){bounds\x3d\ntag.sprite;startX\x3dtag.width\x3e\x3e5;startY\x3dsize[0]\x3e\x3e5;t\x3dtag.x-(startX\x3c\x3c4);maxDelta\x3dt\x26127;s\x3d32-maxDelta;dt\x3dtag.y1-tag.y0;t\x3d(tag.y+tag.y0)*startY+(t\x3e\x3e5);for(dxdy\x3d0;dxdy\x3cdt;dxdy++){for(w\x3ddx\x3d0;w\x3c\x3dstartX;w++)board[t+w]\x3dboard[t+w]|dx\x3c\x3cs|(w\x3cstartX?(dx\x3dbounds[dxdy*startX+w])\x3e\x3e\x3emaxDelta:0);t+\x3dstartY}tag.sprite\x3dnull;return!0}}}return!1}var size\x3d[256,256],text,font,fontSize,fontStyle,fontWeight,rotate,padding,spiral\x3darchimedeanSpiral,words\x3d[],random\x3dMath.random,cloud\x3d{layout:function(){for(var contextAndRatio\x3dgetContext(vegaCanvas.canvas()),\nboard\x3dzeroArray((size[0]\x3e\x3e5)*size[1]),bounds\x3dnull,n\x3dwords.length,i\x3d-1,tags\x3d[],data\x3dwords.map(function(d){return{text:text(d),font:font(d),style:fontStyle(d),weight:fontWeight(d),rotate:rotate(d),size:~~(fontSize(d)+1E-14),padding:padding(d),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:d}}).sort(function(a,b){return b.size-a.size});++i\x3cn;){var d$jscomp$0\x3ddata[i];d$jscomp$0.x\x3dsize[0]*(random()+.5)\x3e\x3e1;d$jscomp$0.y\x3dsize[1]*(random()+.5)\x3e\x3e1;cloudSprite(contextAndRatio,d$jscomp$0,data,\ni);d$jscomp$0.hasText\x26\x26place(board,d$jscomp$0,bounds)\x26\x26(tags.push(d$jscomp$0),bounds?cloudBounds(bounds,d$jscomp$0):bounds\x3d[{x:d$jscomp$0.x+d$jscomp$0.x0,y:d$jscomp$0.y+d$jscomp$0.y0},{x:d$jscomp$0.x+d$jscomp$0.x1,y:d$jscomp$0.y+d$jscomp$0.y1}],d$jscomp$0.x-\x3dsize[0]\x3e\x3e1,d$jscomp$0.y-\x3dsize[1]\x3e\x3e1)}return tags},words:function(_){return arguments.length?(words\x3d_,cloud):words},size:function(_){return arguments.length?(size\x3d[+_[0],+_[1]],cloud):size},font:function(_){return arguments.length?(font\x3dfunctor(_),\ncloud):font},fontStyle:function(_){return arguments.length?(fontStyle\x3dfunctor(_),cloud):fontStyle},fontWeight:function(_){return arguments.length?(fontWeight\x3dfunctor(_),cloud):fontWeight},rotate:function(_){return arguments.length?(rotate\x3dfunctor(_),cloud):rotate},text:function(_){return arguments.length?(text\x3dfunctor(_),cloud):text},spiral:function(_){return arguments.length?(spiral\x3dspirals[_]||_,cloud):spiral},fontSize:function(_){return arguments.length?(fontSize\x3dfunctor(_),cloud):fontSize},padding:function(_){return arguments.length?\n(padding\x3dfunctor(_),cloud):padding},random:function(_){return arguments.length?(random\x3d_,cloud):random}};return cloud}function cloudSprite(contextAndRatio,d,data,di){if(!d.sprite){var c\x3dcontextAndRatio.context,ratio\x3dcontextAndRatio.ratio;c.clearRect(0,0,2048/ratio,2048/ratio);var y\x3dcontextAndRatio\x3d0,maxh\x3d0,n\x3ddata.length;for(--di;++di\x3cn;){d\x3ddata[di];c.save();c.font\x3dd.style+\x22 \x22+d.weight+\x22 \x22+~~((d.size+1)/ratio)+\x22px \x22+d.font;var w\x3dc.measureText(d.text+\x22m\x22).width*ratio;var h\x3dd.size\x3c\x3c1;if(d.rotate){var sr\x3d\nMath.sin(d.rotate*cloudRadians),cr\x3dMath.cos(d.rotate*cloudRadians),wcr\x3dw*cr,wsr\x3dw*sr;cr*\x3dh;w\x3dh*sr;w\x3dMath.max(Math.abs(wcr+w),Math.abs(wcr-w))+31\x3e\x3e5\x3c\x3c5;h\x3d~~Math.max(Math.abs(wsr+cr),Math.abs(wsr-cr))}else w\x3dw+31\x3e\x3e5\x3c\x3c5;h\x3emaxh\x26\x26(maxh\x3dh);2048\x3c\x3dcontextAndRatio+w\x26\x26(contextAndRatio\x3d0,y+\x3dmaxh,maxh\x3d0);if(2048\x3c\x3dy+h)break;c.translate((contextAndRatio+(w\x3e\x3e1))/ratio,(y+(h\x3e\x3e1))/ratio);d.rotate\x26\x26c.rotate(d.rotate*cloudRadians);c.fillText(d.text,0,0);d.padding\x26\x26(c.lineWidth\x3d2*d.padding,c.strokeText(d.text,0,0));\nc.restore();d.width\x3dw;d.height\x3dh;d.xoff\x3dcontextAndRatio;d.yoff\x3dy;d.x1\x3dw\x3e\x3e1;d.y1\x3dh\x3e\x3e1;d.x0\x3d-d.x1;d.y0\x3d-d.y1;d.hasText\x3d!0;contextAndRatio+\x3dw}n\x3dc.getImageData(0,0,2048/ratio,2048/ratio).data;for(wcr\x3d[];0\x3c\x3d--di;)if(d\x3ddata[di],d.hasText){w\x3dd.width;c\x3dw\x3e\x3e5;h\x3dd.y1-d.y0;for(ratio\x3d0;ratio\x3ch*c;ratio++)wcr[ratio]\x3d0;contextAndRatio\x3dd.xoff;if(null\x3d\x3dcontextAndRatio)break;y\x3dd.yoff;wsr\x3d0;sr\x3d-1;for(maxh\x3d0;maxh\x3ch;maxh++){for(ratio\x3d0;ratio\x3cw;ratio++)cr\x3dn[2048*(y+maxh)+(contextAndRatio+ratio)\x3c\x3c2]?1\x3c\x3c31-ratio%32:0,wcr[c*\nmaxh+(ratio\x3e\x3e5)]|\x3dcr,wsr|\x3dcr;wsr?sr\x3dmaxh:(d.y0++,h--,maxh--,y++)}d.y1\x3dd.y0+sr;d.sprite\x3dwcr.slice(0,(d.y1-d.y0)*c)}}}function cloudBounds(bounds,d){var b0\x3dbounds[0];bounds\x3dbounds[1];d.x+d.x0\x3cb0.x\x26\x26(b0.x\x3dd.x+d.x0);d.y+d.y0\x3cb0.y\x26\x26(b0.y\x3dd.y+d.y0);d.x+d.x1\x3ebounds.x\x26\x26(bounds.x\x3dd.x+d.x1);d.y+d.y1\x3ebounds.y\x26\x26(bounds.y\x3dd.y+d.y1)}function archimedeanSpiral(size){var e\x3dsize[0]/size[1];return function(t){return[e*(t*\x3d.1)*Math.cos(t),t*Math.sin(t)]}}function zeroArray(n){for(var a\x3d[],i\x3d-1;++i\x3cn;)a[i]\x3d0;return a}\nfunction functor(d){return\x22function\x22\x3d\x3d\x3dtypeof d?d:function(){return d}}function Wordcloud(params){vegaDataflow.Transform.call(this,cloud(),params)}var cloudRadians\x3dMath.PI/180,spirals\x3d{archimedean:archimedeanSpiral,rectangular:function(size){var dx\x3d4*size[0]/size[1],x\x3d0,y\x3d0;return function(t){var sign\x3d0\x3et?-1:1;switch(Math.sqrt(1+4*sign*t)-sign\x263){case 0:x+\x3ddx;break;case 1:y+\x3d4;break;case 2:x-\x3ddx;break;default:y-\x3d4}return[x,y]}}},Output\x3d\x22x y font fontSize fontStyle fontWeight angle\x22.split(\x22 \x22),Params\x3d\n\x22text font rotate fontSize fontStyle fontWeight\x22.split(\x22 \x22);Wordcloud.Definition\x3d{type:\x22Wordcloud\x22,metadata:{modifies:!0},params:[{name:\x22size\x22,type:\x22number\x22,array:!0,length:2},{name:\x22font\x22,type:\x22string\x22,expr:!0,\x22default\x22:\x22sans-serif\x22},{name:\x22fontStyle\x22,type:\x22string\x22,expr:!0,\x22default\x22:\x22normal\x22},{name:\x22fontWeight\x22,type:\x22string\x22,expr:!0,\x22default\x22:\x22normal\x22},{name:\x22fontSize\x22,type:\x22number\x22,expr:!0,\x22default\x22:14},{name:\x22fontSizeRange\x22,type:\x22number\x22,array:\x22nullable\x22,\x22default\x22:[10,50]},{name:\x22rotate\x22,type:\x22number\x22,\nexpr:!0,\x22default\x22:0},{name:\x22text\x22,type:\x22field\x22},{name:\x22spiral\x22,type:\x22string\x22,values:[\x22archimedean\x22,\x22rectangular\x22]},{name:\x22padding\x22,type:\x22number\x22,expr:!0},{name:\x22as\x22,type:\x22string\x22,array:!0,length:7,\x22default\x22:Output}]};vegaUtil.inherits(Wordcloud,vegaDataflow.Transform,{transform:function(_,pulse){function modp(param){param\x3d_[param];return vegaUtil.isFunction(param)\x26\x26pulse.modified(param.fields)}!_.size||_.size[0]\x26\x26_.size[1]||vegaUtil.error(\x22Wordcloud size dimensions must be non-zero.\x22);var mod\x3d_.modified();\nif(mod||pulse.changed(pulse.ADD_REM)||Params.some(modp)){var data\x3dpulse.materialize(pulse.SOURCE).source,layout\x3dthis.value,as\x3d_.as||Output,fontSize\x3d_.fontSize||14,range;vegaUtil.isFunction(fontSize)?range\x3d_.fontSizeRange:fontSize\x3dvegaUtil.constant(fontSize);if(range){var fsize\x3dfontSize,sizeScale\x3dvegaScale.scale(\x22sqrt\x22)().domain(vegaUtil.extent(data,fsize)).range(range);fontSize\x3dfunction(x){return sizeScale(fsize(x))}}data.forEach(function(t){t[as[0]]\x3dNaN;t[as[1]]\x3dNaN;t[as[3]]\x3d0});data\x3dlayout.words(data).text(_.text).size(_.size||\n[500,500]).padding(_.padding||1).spiral(_.spiral||\x22archimedean\x22).rotate(_.rotate||0).font(_.font||\x22sans-serif\x22).fontStyle(_.fontStyle||\x22normal\x22).fontWeight(_.fontWeight||\x22normal\x22).fontSize(fontSize).random(vegaStatistics.random).layout();fontSize\x3dlayout.size();layout\x3dfontSize[0]\x3e\x3e1;fontSize\x3dfontSize[1]\x3e\x3e1;range\x3ddata.length;for(var i\x3d0,w\x3dvoid 0,t$jscomp$0\x3dvoid 0;i\x3crange;++i)w\x3ddata[i],t$jscomp$0\x3dw.datum,t$jscomp$0[as[0]]\x3dw.x+layout,t$jscomp$0[as[1]]\x3dw.y+fontSize,t$jscomp$0[as[2]]\x3dw.font,t$jscomp$0[as[3]]\x3d\nw.size,t$jscomp$0[as[4]]\x3dw.style,t$jscomp$0[as[5]]\x3dw.weight,t$jscomp$0[as[6]]\x3dw.rotate;return pulse.reflow(mod).modifies(as)}}});exports.wordcloud\x3dWordcloud;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_crossfilter$build$vega_crossfilter.js", true , "shadow$provide.module$node_modules$vega_crossfilter$build$vega_crossfilter\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_util$build$vega_util\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22d3-array\x22,\x22vega-dataflow\x22,\n\x22vega-util\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory((global.vega\x3dglobal.vega||{},global.vega.transforms\x3d{}),global.d3,global.vega,global.vega))})(this,function(exports,d3Array,vegaDataflow,vegaUtil){function Bitmaps(){var width\x3d8,data\x3d[],seen\x3darray32(0),curr\x3darray$jscomp$0(0,width),prev\x3darray$jscomp$0(0,width);return{data:function(){return data},seen:function(){var JSCompiler_inline_result\x3dseen;var length\x3ddata.length;JSCompiler_inline_result.length\x3e\x3dlength||\n(length\x3dnew JSCompiler_inline_result.constructor(length),length.set(JSCompiler_inline_result),JSCompiler_inline_result\x3dlength);return seen\x3dJSCompiler_inline_result},add:function(array){for(var i\x3d0,j\x3ddata.length,n\x3darray.length,t;i\x3cn;++i)t\x3darray[i],t._index\x3dj++,data.push(t)},remove:function(num,map){var n\x3ddata.length;num\x3dArray(n-num);var reindex\x3ddata,i,j;for(i\x3d0;!map[i]\x26\x26i\x3cn;++i)num[i]\x3ddata[i],reindex[i]\x3di;for(j\x3di;i\x3cn;++i){var t\x3ddata[i];map[i]?reindex[i]\x3d-1:(reindex[i]\x3dj,curr[j]\x3dcurr[i],prev[j]\x3dprev[i],\nnum[j]\x3dt,t._index\x3dj++);curr[i]\x3d0}data\x3dnum;return reindex},size:function(){return data.length},curr:function(){return curr},prev:function(){return prev},reset:function(k){return prev[k]\x3dcurr[k]},all:function(){return 257\x3ewidth?255:65537\x3ewidth?65535:4294967295},set:function(k,one){curr[k]|\x3done},clear:function(k,one){curr[k]\x26\x3d~one},resize:function(n,m){if(n\x3ecurr.length||m\x3ewidth)width\x3dMath.max(m,width),curr\x3darray$jscomp$0(n,width,curr),prev\x3darray$jscomp$0(n,width)}}}function array$jscomp$0(n,m,array){n\x3d\n(257\x3em?array8:65537\x3em?array16:array32)(n);array\x26\x26n.set(array);return n}function Dimension(index,i$jscomp$0,query){var bit\x3d1\x3c\x3ci$jscomp$0;return{one:bit,zero:~bit,range:query.slice(),bisect:index.bisect,index:index.index,size:index.size,onAdd:function(added,curr){var range\x3dthis.bisect(this.range,added.value);added\x3dadded.index;var lo\x3drange[0];range\x3drange[1];var n1\x3dadded.length,i;for(i\x3d0;i\x3clo;++i)curr[added[i]]|\x3dbit;for(i\x3drange;i\x3cn1;++i)curr[added[i]]|\x3dbit;return this}}}function SortedIndex(){var index$jscomp$0\x3d\narray32(0),value$jscomp$0\x3d[],size\x3d0;return{insert:function(key,data,base){if(!data.length)return[];var n0\x3dsize,n1\x3ddata.length,addi\x3darray32(n1),addv\x3dArray(n1),i;for(i\x3d0;i\x3cn1;++i)addv[i]\x3dkey(data[i]),addi[i]\x3di;addv\x3dsort(addv,addi);if(n0){key\x3dvalue$jscomp$0;data\x3dindex$jscomp$0;value$jscomp$0\x3dArray(n0+n1);index$jscomp$0\x3darray32(n0+n1);i\x3daddv;var value\x3dvalue$jscomp$0,index\x3dindex$jscomp$0,i0\x3d0,i1\x3d0,i$jscomp$0;for(i$jscomp$0\x3d0;i0\x3cn0\x26\x26i1\x3cn1;++i$jscomp$0)key[i0]\x3ci[i1]?(value[i$jscomp$0]\x3dkey[i0],index[i$jscomp$0]\x3d\ndata[i0++]):(value[i$jscomp$0]\x3di[i1],index[i$jscomp$0]\x3daddi[i1++]+base);for(;i0\x3cn0;++i0,++i$jscomp$0)value[i$jscomp$0]\x3dkey[i0],index[i$jscomp$0]\x3ddata[i0];for(;i1\x3cn1;++i1,++i$jscomp$0)value[i$jscomp$0]\x3di[i1],index[i$jscomp$0]\x3daddi[i1]+base}else{if(0\x3cbase)for(i\x3d0;i\x3cn1;++i)addi[i]+\x3dbase;value$jscomp$0\x3daddv;index$jscomp$0\x3daddi}size\x3dn0+n1;return{index:addi,value:addv}},remove:function(num,map){var n\x3dsize,idx,i,j;for(i\x3d0;!map[index$jscomp$0[i]]\x26\x26i\x3cn;++i);for(j\x3di;i\x3cn;++i)map[idx\x3dindex$jscomp$0[i]]||(index$jscomp$0[j]\x3d\nidx,value$jscomp$0[j]\x3dvalue$jscomp$0[i],++j);size\x3dn-num},bisect:function(range,array){if(array)var n\x3darray.length;else array\x3dvalue$jscomp$0,n\x3dsize;return[d3Array.bisectLeft(array,range[0],0,n),d3Array.bisectRight(array,range[1],0,n)]},reindex:function(map){for(var i\x3d0,n\x3dsize;i\x3cn;++i)index$jscomp$0[i]\x3dmap[index$jscomp$0[i]]},index:function(){return index$jscomp$0},size:function(){return size}}}function sort(values,index){values.sort.call(index,function(a,b){a\x3dvalues[a];b\x3dvalues[b];return a\x3cb?-1:a\x3e\nb?1:0});return d3Array.permute(values,index)}function CrossFilter(params){vegaDataflow.Transform.call(this,Bitmaps(),params);this._dims\x3dthis._indices\x3dnull}function ResolveFilter(params){vegaDataflow.Transform.call(this,null,params)}var array8\x3dfunction(n){return new Uint8Array(n)},array16\x3dfunction(n){return new Uint16Array(n)},array32\x3dfunction(n){return new Uint32Array(n)};CrossFilter.Definition\x3d{type:\x22CrossFilter\x22,metadata:{},params:[{name:\x22fields\x22,type:\x22field\x22,array:!0,required:!0},{name:\x22query\x22,\ntype:\x22array\x22,array:!0,required:!0,content:{type:\x22number\x22,array:!0,length:2}}]};vegaUtil.inherits(CrossFilter,vegaDataflow.Transform,{transform:function(_,pulse){return this._dims?_.modified(\x22fields\x22)||_.fields.some(function(f){return pulse.modified(f.fields)})?this.reinit(_,pulse):this.eval(_,pulse):this.init(_,pulse)},init:function(_,pulse){for(var fields\x3d_.fields,query\x3d_.query,indices\x3dthis._indices\x3d{},dims\x3dthis._dims\x3d[],m\x3dquery.length,i\x3d0,key;i\x3cm;++i)key\x3dfields[i].fname,key\x3dindices[key]||(indices[key]\x3d\nSortedIndex()),dims.push(Dimension(key,i,query[i]));return this.eval(_,pulse)},reinit:function(_,pulse){var output\x3dpulse.materialize().fork(),fields\x3d_.fields,query\x3d_.query,indices\x3dthis._indices,dims\x3dthis._dims,bits\x3dthis.value,curr\x3dbits.curr(),prev\x3dbits.prev(),all\x3dbits.all(),out\x3doutput.rem\x3doutput.add,mod\x3doutput.mod,m\x3dquery.length,adds\x3d{},index,key,remMap;prev.set(curr);pulse.rem.length\x26\x26(remMap\x3dthis.remove(_,pulse,output));pulse.add.length\x26\x26bits.add(pulse.add);if(pulse.mod.length){var modMap\x3d{};var add\x3d\npulse.mod;var i\x3d0;for(key\x3dadd.length;i\x3ckey;++i)modMap[add[i]._index]\x3d1}for(i\x3d0;i\x3cm;++i){var f\x3dfields[i];if(!dims[i]||_.modified(\x22fields\x22,i)||pulse.modified(f.fields))key\x3df.fname,(add\x3dadds[key])||(indices[key]\x3dindex\x3dSortedIndex(),adds[key]\x3dadd\x3dindex.insert(f,pulse.source,0)),dims[i]\x3dDimension(index,i,query[i]).onAdd(add,curr)}i\x3d0;for(key\x3dbits.data().length;i\x3ckey;++i)remMap[i]||(prev[i]!\x3d\x3dcurr[i]?out.push(i):modMap[i]\x26\x26curr[i]!\x3d\x3dall\x26\x26mod.push(i));bits.mask\x3d(1\x3c\x3cm)-1;return output},eval:function(_,pulse){var output\x3d\npulse.materialize().fork(),m\x3dthis._dims.length,mask\x3d0;pulse.rem.length\x26\x26(this.remove(_,pulse,output),mask|\x3d(1\x3c\x3cm)-1);_.modified(\x22query\x22)\x26\x26!_.modified(\x22fields\x22)\x26\x26(mask|\x3dthis.update(_,pulse,output));pulse.add.length\x26\x26(this.insert(_,pulse,output),mask|\x3d(1\x3c\x3cm)-1);pulse.mod.length\x26\x26(this.modify(pulse,output),mask|\x3d(1\x3c\x3cm)-1);this.value.mask\x3dmask;return output},insert:function(_,pulse,output){pulse\x3dpulse.add;var bits\x3dthis.value,dims\x3dthis._dims,indices\x3dthis._indices;_\x3d_.fields;var adds\x3d{};output\x3doutput.add;\nvar n\x3dbits.size()+pulse.length,m\x3ddims.length,k\x3dbits.size();bits.resize(n,m);bits.add(pulse);var curr\x3dbits.curr(),prev\x3dbits.prev(),all\x3dbits.all();for(bits\x3d0;bits\x3cm;++bits){var key\x3d_[bits].fname;key\x3dadds[key]||(adds[key]\x3dindices[key].insert(_[bits],pulse,k));dims[bits].onAdd(key,curr)}for(;k\x3cn;++k)prev[k]\x3dall,curr[k]!\x3d\x3dall\x26\x26output.push(k)},modify:function(pulse,output){output\x3doutput.mod;var bits\x3dthis.value,curr\x3dbits.curr();bits\x3dbits.all();pulse\x3dpulse.mod;var n;var i\x3d0;for(n\x3dpulse.length;i\x3cn;++i){var k\x3d\npulse[i]._index;curr[k]!\x3d\x3dbits\x26\x26output.push(k)}},remove:function(_,pulse,output){_\x3dthis._indices;var bits\x3dthis.value,curr\x3dbits.curr(),prev\x3dbits.prev();bits\x3dbits.all();var map\x3d{};output\x3doutput.rem;var tuples\x3dpulse.rem,n,f;var i\x3d0;for(n\x3dtuples.length;i\x3cn;++i){var k\x3dtuples[i]._index;map[k]\x3d1;prev[k]\x3df\x3dcurr[k];curr[k]\x3dbits;f!\x3d\x3dbits\x26\x26output.push(k)}for(k in _)_[k].remove(n,map);this.reindex(pulse,n,map);return map},reindex:function(pulse,num,map){var indices\x3dthis._indices,bits\x3dthis.value;pulse.runAfter(function(){var indexMap\x3d\nbits.remove(num,map),key;for(key in indices)indices[key].reindex(indexMap)})},update:function(_,pulse,output){var dims\x3dthis._dims,query\x3d_.query;pulse\x3dpulse.stamp;var m\x3ddims.length,mask\x3d0,q;for(q\x3doutput.filters\x3d0;q\x3cm;++q)if(_.modified(\x22query\x22,q)){var i\x3dq;++mask}if(1\x3d\x3d\x3dmask)mask\x3ddims[i].one,this.incrementOne(dims[i],query[i],output.add,output.rem);else for(mask\x3dq\x3d0;q\x3cm;++q)_.modified(\x22query\x22,q)\x26\x26(mask|\x3ddims[q].one,this.incrementAll(dims[q],query[q],pulse,output.add),output.rem\x3doutput.add);return mask},\nincrementAll:function(dim,query,stamp,out){var bits\x3dthis.value,seen\x3dbits.seen(),curr\x3dbits.curr();bits\x3dbits.prev();var index\x3ddim.index(),old\x3ddim.bisect(dim.range),range\x3ddim.bisect(query),lo1\x3drange[0];range\x3drange[1];var lo0\x3dold[0];old\x3dold[1];var one\x3ddim.one,j;if(lo1\x3clo0){var i\x3dlo1;for(j\x3dMath.min(lo0,range);i\x3cj;++i){var k\x3dindex[i];seen[k]!\x3d\x3dstamp\x26\x26(bits[k]\x3dcurr[k],seen[k]\x3dstamp,out.push(k));curr[k]^\x3done}}else if(lo1\x3elo0)for(i\x3dlo0,j\x3dMath.min(lo1,old);i\x3cj;++i)k\x3dindex[i],seen[k]!\x3d\x3dstamp\x26\x26(bits[k]\x3dcurr[k],\nseen[k]\x3dstamp,out.push(k)),curr[k]^\x3done;if(range\x3eold)for(i\x3dMath.max(lo1,old),j\x3drange;i\x3cj;++i)k\x3dindex[i],seen[k]!\x3d\x3dstamp\x26\x26(bits[k]\x3dcurr[k],seen[k]\x3dstamp,out.push(k)),curr[k]^\x3done;else if(range\x3cold)for(i\x3dMath.max(lo0,range),j\x3dold;i\x3cj;++i)k\x3dindex[i],seen[k]!\x3d\x3dstamp\x26\x26(bits[k]\x3dcurr[k],seen[k]\x3dstamp,out.push(k)),curr[k]^\x3done;dim.range\x3dquery.slice()},incrementOne:function(dim,query,add,rem){var curr\x3dthis.value.curr(),index\x3ddim.index(),old\x3ddim.bisect(dim.range),range\x3ddim.bisect(query),lo1\x3drange[0];range\x3d\nrange[1];var lo0\x3dold[0];old\x3dold[1];var one\x3ddim.one,j;if(lo1\x3clo0){var i\x3dlo1;for(j\x3dMath.min(lo0,range);i\x3cj;++i){var k\x3dindex[i];curr[k]^\x3done;add.push(k)}}else if(lo1\x3elo0)for(i\x3dlo0,j\x3dMath.min(lo1,old);i\x3cj;++i)k\x3dindex[i],curr[k]^\x3done,rem.push(k);if(range\x3eold)for(i\x3dMath.max(lo1,old),j\x3drange;i\x3cj;++i)k\x3dindex[i],curr[k]^\x3done,add.push(k);else if(range\x3cold)for(i\x3dMath.max(lo0,range),j\x3dold;i\x3cj;++i)k\x3dindex[i],curr[k]^\x3done,rem.push(k);dim.range\x3dquery.slice()}});ResolveFilter.Definition\x3d{type:\x22ResolveFilter\x22,metadata:{},\nparams:[{name:\x22ignore\x22,type:\x22number\x22,required:!0,description:\x22A bit mask indicating which filters to ignore.\x22},{name:\x22filter\x22,type:\x22object\x22,required:!0,description:\x22Per-tuple filter bitmaps from a CrossFilter transform.\x22}]};vegaUtil.inherits(ResolveFilter,vegaDataflow.Transform,{transform:function(_,pulse){var ignore\x3d~(_.ignore||0);_\x3d_.filter;var mask\x3d_.mask;if(0\x3d\x3d\x3d(mask\x26ignore))return pulse.StopPropagation;pulse\x3dpulse.fork(pulse.ALL);var data\x3d_.data(),curr\x3d_.curr(),prev\x3d_.prev(),pass\x3dfunction(k){return curr[k]\x26\nignore?null:data[k]};pulse.filter(pulse.MOD,pass);mask\x26mask-1?(pulse.filter(pulse.ADD,function(k){var c\x3dcurr[k]\x26ignore;return!c\x26\x26c^prev[k]\x26ignore?data[k]:null}),pulse.filter(pulse.REM,function(k){var c\x3dcurr[k]\x26ignore;return!c||c^c^prev[k]\x26ignore?null:data[k]})):(pulse.filter(pulse.ADD,pass),pulse.filter(pulse.REM,function(k){return(curr[k]\x26ignore)\x3d\x3d\x3dmask?data[k]:null}));return pulse.filter(pulse.SOURCE,function(t){return pass(t._index)})}});exports.crossfilter\x3dCrossFilter;exports.resolvefilter\x3dResolveFilter;\nObject.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_expression$build$vega_expression.js", true , "shadow$provide.module$node_modules$vega_expression$build$vega_expression\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-util\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega))})(this,function(exports,\nvegaUtil){function ASTNode(type){this.type\x3dtype}function children(node){switch(node.type){case \x22ArrayExpression\x22:return node.elements;case \x22BinaryExpression\x22:case \x22LogicalExpression\x22:return[node.left,node.right];case \x22CallExpression\x22:return[node.callee].concat(node.arguments);case \x22ConditionalExpression\x22:return[node.test,node.consequent,node.alternate];case \x22MemberExpression\x22:return[node.object,node.property];case \x22ObjectExpression\x22:return node.properties;case \x22Property\x22:return[node.key,node.value];\ncase \x22UnaryExpression\x22:return[node.argument];default:return[]}}function assert(condition,message){if(!condition)throw Error(\x22ASSERT: \x22+message);}function isDecimalDigit(ch){return 48\x3c\x3dch\x26\x2657\x3e\x3dch}function isHexDigit(ch){return 0\x3c\x3d\x220123456789abcdefABCDEF\x22.indexOf(ch)}function isOctalDigit(ch){return 0\x3c\x3d\x2201234567\x22.indexOf(ch)}function isLineTerminator(ch){return 10\x3d\x3d\x3dch||13\x3d\x3d\x3dch||8232\x3d\x3d\x3dch||8233\x3d\x3d\x3dch}function isIdentifierStart(ch){return 36\x3d\x3d\x3dch||95\x3d\x3d\x3dch||65\x3c\x3dch\x26\x2690\x3e\x3dch||97\x3c\x3dch\x26\x26122\x3e\x3dch||92\x3d\x3d\x3dch||128\x3c\x3d\nch\x26\x26RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return 36\x3d\x3d\x3dch||95\x3d\x3d\x3dch||65\x3c\x3dch\x26\x2690\x3e\x3dch||97\x3c\x3dch\x26\x26122\x3e\x3dch||48\x3c\x3dch\x26\x2657\x3e\x3dch||92\x3d\x3d\x3dch||128\x3c\x3dch\x26\x26RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch))}function skipComment(){for(var ch;index$jscomp$0\x3clength;)if(ch\x3dsource.charCodeAt(index$jscomp$0),32\x3d\x3d\x3dch||9\x3d\x3d\x3dch||11\x3d\x3d\x3dch||12\x3d\x3d\x3dch||160\x3d\x3d\x3dch||5760\x3c\x3dch\x26\x260\x3c\x3d[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)||isLineTerminator(ch))++index$jscomp$0;\nelse break}function scanHexEscape(prefix){var code\x3d0;var len\x3d\x22u\x22\x3d\x3d\x3dprefix?4:2;for(prefix\x3d0;prefix\x3clen;++prefix)if(index$jscomp$0\x3clength\x26\x26isHexDigit(source[index$jscomp$0])){var ch\x3dsource[index$jscomp$0++];code\x3d16*code+\x220123456789abcdef\x22.indexOf(ch.toLowerCase())}else throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return String.fromCharCode(code)}function getEscapedIdentifier(){var ch\x3dsource.charCodeAt(index$jscomp$0++);var id\x3dString.fromCharCode(ch);92\x3d\x3d\x3dch\x26\x26(117!\x3d\x3dsource.charCodeAt(index$jscomp$0)\x26\x26\nthrowError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),++index$jscomp$0,(ch\x3dscanHexEscape(\x22u\x22))\x26\x26\x22\\\\\x22!\x3d\x3dch\x26\x26isIdentifierStart(ch.charCodeAt(0))||throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),id\x3dch);for(;index$jscomp$0\x3clength;){ch\x3dsource.charCodeAt(index$jscomp$0);if(!isIdentifierPart(ch))break;++index$jscomp$0;id+\x3dString.fromCharCode(ch);92\x3d\x3d\x3dch\x26\x26(id\x3did.substr(0,id.length-1),117!\x3d\x3dsource.charCodeAt(index$jscomp$0)\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),++index$jscomp$0,(ch\x3dscanHexEscape(\x22u\x22))\x26\x26\n\x22\\\\\x22!\x3d\x3dch\x26\x26isIdentifierPart(ch.charCodeAt(0))||throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22),id+\x3dch)}return id}function scanPunctuator(){var start\x3dindex$jscomp$0,code\x3dsource.charCodeAt(index$jscomp$0),ch1\x3dsource[index$jscomp$0];switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++index$jscomp$0,{type:7,value:String.fromCharCode(code),start:start,end:index$jscomp$0};default:var code2\x3dsource.charCodeAt(index$jscomp$0+1);if(61\x3d\x3d\x3dcode2)switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return index$jscomp$0+\x3d\n2,{type:7,value:String.fromCharCode(code)+String.fromCharCode(code2),start:start,end:index$jscomp$0};case 33:case 61:return index$jscomp$0+\x3d2,61\x3d\x3d\x3dsource.charCodeAt(index$jscomp$0)\x26\x26++index$jscomp$0,{type:7,value:source.slice(start,index$jscomp$0),start:start,end:index$jscomp$0}}}code\x3dsource.substr(index$jscomp$0,4);if(\x22\\x3e\\x3e\\x3e\\x3d\x22\x3d\x3d\x3dcode)return index$jscomp$0+\x3d4,{type:7,value:code,start:start,end:index$jscomp$0};code\x3dcode.substr(0,3);if(\x22\\x3e\\x3e\\x3e\x22\x3d\x3d\x3dcode||\x22\\x3c\\x3c\\x3d\x22\x3d\x3d\x3dcode||\x22\\x3e\\x3e\\x3d\x22\x3d\x3d\x3d\ncode)return index$jscomp$0+\x3d3,{type:7,value:code,start:start,end:index$jscomp$0};code\x3dcode.substr(0,2);if(ch1\x3d\x3d\x3dcode[1]\x26\x260\x3c\x3d\x22+-\\x3c\\x3e\\x26|\x22.indexOf(ch1)||\x22\\x3d\\x3e\x22\x3d\x3d\x3dcode)return index$jscomp$0+\x3d2,{type:7,value:code,start:start,end:index$jscomp$0};if(0\x3c\x3d\x22\\x3c\\x3e\\x3d!+-*%\\x26|^/\x22.indexOf(ch1))return++index$jscomp$0,{type:7,value:ch1,start:start,end:index$jscomp$0};throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22)}function scanNumericLiteral(){var ch\x3dsource[index$jscomp$0];assert(isDecimalDigit(ch.charCodeAt(0))||\n\x22.\x22\x3d\x3d\x3dch,\x22Numeric literal must start with a decimal digit or a decimal point\x22);var start\x3dindex$jscomp$0;var number\x3d\x22\x22;if(\x22.\x22!\x3d\x3dch){number\x3dsource[index$jscomp$0++];ch\x3dsource[index$jscomp$0];if(\x220\x22\x3d\x3d\x3dnumber){if(\x22x\x22\x3d\x3d\x3dch||\x22X\x22\x3d\x3d\x3dch){++index$jscomp$0;for(number\x3d\x22\x22;index$jscomp$0\x3clength\x26\x26isHexDigit(source[index$jscomp$0]);)number+\x3dsource[index$jscomp$0++];0\x3d\x3d\x3dnumber.length\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);isIdentifierStart(source.charCodeAt(index$jscomp$0))\x26\x26throwError({},\x22Unexpected token %0\x22,\n\x22ILLEGAL\x22);return{type:6,value:parseInt(\x220x\x22+number,16),start:start,end:index$jscomp$0}}if(isOctalDigit(ch)){for(number\x3d\x220\x22+source[index$jscomp$0++];index$jscomp$0\x3clength\x26\x26isOctalDigit(source[index$jscomp$0]);)number+\x3dsource[index$jscomp$0++];(isIdentifierStart(source.charCodeAt(index$jscomp$0))||isDecimalDigit(source.charCodeAt(index$jscomp$0)))\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:6,value:parseInt(number,8),octal:!0,start:start,end:index$jscomp$0}}ch\x26\x26isDecimalDigit(ch.charCodeAt(0))\x26\x26\nthrowError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22)}for(;isDecimalDigit(source.charCodeAt(index$jscomp$0));)number+\x3dsource[index$jscomp$0++];ch\x3dsource[index$jscomp$0]}if(\x22.\x22\x3d\x3d\x3dch){for(number+\x3dsource[index$jscomp$0++];isDecimalDigit(source.charCodeAt(index$jscomp$0));)number+\x3dsource[index$jscomp$0++];ch\x3dsource[index$jscomp$0]}if(\x22e\x22\x3d\x3d\x3dch||\x22E\x22\x3d\x3d\x3dch){number+\x3dsource[index$jscomp$0++];ch\x3dsource[index$jscomp$0];if(\x22+\x22\x3d\x3d\x3dch||\x22-\x22\x3d\x3d\x3dch)number+\x3dsource[index$jscomp$0++];if(isDecimalDigit(source.charCodeAt(index$jscomp$0)))for(;isDecimalDigit(source.charCodeAt(index$jscomp$0));)number+\x3d\nsource[index$jscomp$0++];else throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22)}isIdentifierStart(source.charCodeAt(index$jscomp$0))\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:6,value:parseFloat(number),start:start,end:index$jscomp$0}}function testRegExp(pattern,flags){var tmp\x3dpattern;0\x3c\x3dflags.indexOf(\x22u\x22)\x26\x26(tmp\x3dtmp.replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g,function($0,$1){if(1114111\x3e\x3dparseInt($1,16))return\x22x\x22;throwError({},\x22Invalid regular expression\x22)}).replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n\x22x\x22));try{new RegExp(tmp)}catch(e){throwError({},\x22Invalid regular expression\x22)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function advance(){skipComment();if(index$jscomp$0\x3e\x3dlength)return{type:2,start:index$jscomp$0,end:index$jscomp$0};var ch\x3dsource.charCodeAt(index$jscomp$0);if(isIdentifierStart(ch)){ch\x3dindex$jscomp$0;if(92\x3d\x3d\x3dsource.charCodeAt(index$jscomp$0))var id\x3dgetEscapedIdentifier();else a:{for(id\x3dindex$jscomp$0++;index$jscomp$0\x3clength;){var ch$jscomp$0\x3dsource.charCodeAt(index$jscomp$0);\nif(92\x3d\x3d\x3dch$jscomp$0){index$jscomp$0\x3did;id\x3dgetEscapedIdentifier();break a}if(isIdentifierPart(ch$jscomp$0))++index$jscomp$0;else break}id\x3dsource.slice(id,index$jscomp$0)}return{type:1\x3d\x3d\x3did.length?3:keywords.hasOwnProperty(id)?4:\x22null\x22\x3d\x3d\x3did?5:\x22true\x22\x3d\x3d\x3did||\x22false\x22\x3d\x3d\x3did?1:3,value:id,start:ch,end:index$jscomp$0}}if(40\x3d\x3d\x3dch||41\x3d\x3d\x3dch||59\x3d\x3d\x3dch)return scanPunctuator();if(39\x3d\x3d\x3dch||34\x3d\x3d\x3dch){var str\x3d\x22\x22;ch$jscomp$0\x3d!1;ch\x3dsource[index$jscomp$0];assert(\x22\x27\x22\x3d\x3d\x3dch||\x27\x22\x27\x3d\x3d\x3dch,\x22String literal must starts with a quote\x22);\nid\x3dindex$jscomp$0;for(++index$jscomp$0;index$jscomp$0\x3clength;){var ch$jscomp$1\x3dsource[index$jscomp$0++];if(ch$jscomp$1\x3d\x3d\x3dch){ch\x3d\x22\x22;break}else if(\x22\\\\\x22\x3d\x3d\x3dch$jscomp$1)if((ch$jscomp$1\x3dsource[index$jscomp$0++])\x26\x26isLineTerminator(ch$jscomp$1.charCodeAt(0)))\x22\\r\x22\x3d\x3d\x3dch$jscomp$1\x26\x26\x22\\n\x22\x3d\x3d\x3dsource[index$jscomp$0]\x26\x26++index$jscomp$0;else switch(ch$jscomp$1){case \x22u\x22:case \x22x\x22:if(\x22{\x22\x3d\x3d\x3dsource[index$jscomp$0]){++index$jscomp$0;var code\x3dsource[index$jscomp$0];ch$jscomp$1\x3d0;for(\x22}\x22\x3d\x3d\x3dcode\x26\x26throwError({},\x22Unexpected token %0\x22,\n\x22ILLEGAL\x22);index$jscomp$0\x3clength;){code\x3dsource[index$jscomp$0++];if(!isHexDigit(code))break;ch$jscomp$1\x3d16*ch$jscomp$1+\x220123456789abcdef\x22.indexOf(code.toLowerCase())}(1114111\x3cch$jscomp$1||\x22}\x22!\x3d\x3dcode)\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);ch$jscomp$1\x3d65535\x3e\x3dch$jscomp$1?String.fromCharCode(ch$jscomp$1):String.fromCharCode((ch$jscomp$1-65536\x3e\x3e10)+55296,(ch$jscomp$1-65536\x261023)+56320);str+\x3dch$jscomp$1}else str+\x3dscanHexEscape(ch$jscomp$1);break;case \x22n\x22:str+\x3d\x22\\n\x22;break;case \x22r\x22:str+\x3d\x22\\r\x22;break;\ncase \x22t\x22:str+\x3d\x22\\t\x22;break;case \x22b\x22:str+\x3d\x22\\b\x22;break;case \x22f\x22:str+\x3d\x22\\f\x22;break;case \x22v\x22:str+\x3d\x22\\x0B\x22;break;default:isOctalDigit(ch$jscomp$1)?(code\x3d\x2201234567\x22.indexOf(ch$jscomp$1),0!\x3d\x3dcode\x26\x26(ch$jscomp$0\x3d!0),index$jscomp$0\x3clength\x26\x26isOctalDigit(source[index$jscomp$0])\x26\x26(ch$jscomp$0\x3d!0,code\x3d8*code+\x2201234567\x22.indexOf(source[index$jscomp$0++]),0\x3c\x3d\x220123\x22.indexOf(ch$jscomp$1)\x26\x26index$jscomp$0\x3clength\x26\x26isOctalDigit(source[index$jscomp$0])\x26\x26(code\x3d8*code+\x2201234567\x22.indexOf(source[index$jscomp$0++]))),str+\x3dString.fromCharCode(code)):\nstr+\x3dch$jscomp$1}else if(isLineTerminator(ch$jscomp$1.charCodeAt(0)))break;else str+\x3dch$jscomp$1}\x22\x22!\x3d\x3dch\x26\x26throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22);return{type:8,value:str,octal:ch$jscomp$0,start:id,end:index$jscomp$0}}return 46\x3d\x3d\x3dch?isDecimalDigit(source.charCodeAt(index$jscomp$0+1))?scanNumericLiteral():scanPunctuator():isDecimalDigit(ch)?scanNumericLiteral():scanPunctuator()}function lex(){var token\x3dlookahead;index$jscomp$0\x3dtoken.end;lookahead\x3dadvance();index$jscomp$0\x3dtoken.end;return token}\nfunction peek(){var pos\x3dindex$jscomp$0;lookahead\x3dadvance();index$jscomp$0\x3dpos}function finishBinaryExpression(operator,left,right){var node\x3dnew ASTNode(\x22||\x22\x3d\x3d\x3doperator||\x22\\x26\\x26\x22\x3d\x3d\x3doperator?\x22LogicalExpression\x22:\x22BinaryExpression\x22);node.operator\x3doperator;node.left\x3dleft;node.right\x3dright;return node}function finishIdentifier(name){var node\x3dnew ASTNode(\x22Identifier\x22);node.name\x3dname;return node}function finishLiteral(token){var node\x3dnew ASTNode(\x22Literal\x22);node.value\x3dtoken.value;node.raw\x3dsource.slice(token.start,\ntoken.end);token.regex\x26\x26(\x22//\x22\x3d\x3d\x3dnode.raw\x26\x26(node.raw\x3d\x22/(?:)/\x22),node.regex\x3dtoken.regex);return node}function finishMemberExpression(accessor,object,property){var node\x3dnew ASTNode(\x22MemberExpression\x22);node.computed\x3d\x22[\x22\x3d\x3d\x3daccessor;node.object\x3dobject;node.property\x3dproperty;node.computed||(property.member\x3d!0);return node}function finishProperty(kind,key,value){var node\x3dnew ASTNode(\x22Property\x22);node.key\x3dkey;node.value\x3dvalue;node.kind\x3dkind;return node}function throwError(token,messageFormat){var args\x3dArray.prototype.slice.call(arguments,\n2),msg\x3dmessageFormat.replace(/%(\\d)/g,function(whole,index){assert(index\x3cargs.length,\x22Message reference must be in range\x22);return args[index]});var error\x3dError(msg);error.index\x3dindex$jscomp$0;error.description\x3dmsg;throw error;}function throwUnexpected(token){2\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected end of input\x22);6\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected number\x22);8\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected string\x22);3\x3d\x3d\x3dtoken.type\x26\x26throwError(token,\x22Unexpected identifier\x22);4\x3d\x3d\x3dtoken.type\x26\x26\nthrowError(token,\x22Unexpected reserved word\x22);throwError(token,\x22Unexpected token %0\x22,token.value)}function expect(value){var token\x3dlex();7\x3d\x3d\x3dtoken.type\x26\x26token.value\x3d\x3d\x3dvalue||throwUnexpected(token)}function match(value){return 7\x3d\x3d\x3dlookahead.type\x26\x26lookahead.value\x3d\x3d\x3dvalue}function parseObjectPropertyKey(){index$jscomp$0\x3dlookahead.start;var token\x3dlex();return 8\x3d\x3d\x3dtoken.type||6\x3d\x3d\x3dtoken.type?(token.octal\x26\x26throwError(token,\x22Octal literals are not allowed in strict mode.\x22),finishLiteral(token)):finishIdentifier(token.value)}\nfunction parsePrimaryExpression(){if(match(\x22(\x22)){expect(\x22(\x22);var type\x3dparseExpression();expect(\x22)\x22);return type}if(match(\x22[\x22)){type\x3d[];index$jscomp$0\x3dlookahead.start;for(expect(\x22[\x22);!match(\x22]\x22);)match(\x22,\x22)?(lex(),type.push(null)):(type.push(parseConditionalExpression()),match(\x22]\x22)||expect(\x22,\x22));lex();var JSCompiler_object_inline_value_3349\x3dnew ASTNode(\x22ArrayExpression\x22);JSCompiler_object_inline_value_3349.elements\x3dtype;return JSCompiler_object_inline_value_3349}if(match(\x22{\x22)){type\x3d[];JSCompiler_object_inline_value_3349\x3d\n{};var JSCompiler_object_inline_literal_3350\x3dString;index$jscomp$0\x3dlookahead.start;for(expect(\x22{\x22);!match(\x22}\x22);){index$jscomp$0\x3dlookahead.start;var JSCompiler_object_inline_value_3351\x3dlookahead;if(3\x3d\x3d\x3dJSCompiler_object_inline_value_3351.type){var JSCompiler_object_inline_literal_3352\x3dparseObjectPropertyKey();expect(\x22:\x22);JSCompiler_object_inline_value_3351\x3dparseConditionalExpression();JSCompiler_object_inline_value_3351\x3dfinishProperty(\x22init\x22,JSCompiler_object_inline_literal_3352,JSCompiler_object_inline_value_3351)}else 2\x3d\x3d\x3d\nJSCompiler_object_inline_value_3351.type||7\x3d\x3d\x3dJSCompiler_object_inline_value_3351.type?(throwUnexpected(JSCompiler_object_inline_value_3351),JSCompiler_object_inline_value_3351\x3dvoid 0):(JSCompiler_object_inline_literal_3352\x3dparseObjectPropertyKey(),expect(\x22:\x22),JSCompiler_object_inline_value_3351\x3dparseConditionalExpression(),JSCompiler_object_inline_value_3351\x3dfinishProperty(\x22init\x22,JSCompiler_object_inline_literal_3352,JSCompiler_object_inline_value_3351));JSCompiler_object_inline_literal_3352\x3d\x22Identifier\x22\x3d\x3d\x3d\nJSCompiler_object_inline_value_3351.key.type?JSCompiler_object_inline_value_3351.key.name:JSCompiler_object_inline_literal_3350(JSCompiler_object_inline_value_3351.key.value);JSCompiler_object_inline_literal_3352\x3d\x22$\x22+JSCompiler_object_inline_literal_3352;Object.prototype.hasOwnProperty.call(JSCompiler_object_inline_value_3349,JSCompiler_object_inline_literal_3352)?throwError({},\x22Duplicate data property in object literal not allowed in strict mode\x22):JSCompiler_object_inline_value_3349[JSCompiler_object_inline_literal_3352]\x3d\n!0;type.push(JSCompiler_object_inline_value_3351);match(\x22}\x22)||expect(\x22,\x22)}expect(\x22}\x22);JSCompiler_object_inline_value_3349\x3dnew ASTNode(\x22ObjectExpression\x22);JSCompiler_object_inline_value_3349.properties\x3dtype;return JSCompiler_object_inline_value_3349}type\x3dlookahead.type;index$jscomp$0\x3dlookahead.start;if(3\x3d\x3d\x3dtype||legalKeywords[lookahead.value])JSCompiler_object_inline_value_3349\x3dfinishIdentifier(lex().value);else if(8\x3d\x3d\x3dtype||6\x3d\x3d\x3dtype)lookahead.octal\x26\x26throwError(lookahead,\x22Octal literals are not allowed in strict mode.\x22),\nJSCompiler_object_inline_value_3349\x3dfinishLiteral(lex());else{if(4\x3d\x3d\x3dtype)throw Error(\x22Disabled.\x22);if(1\x3d\x3d\x3dtype)type\x3dlex(),type.value\x3d\x22true\x22\x3d\x3d\x3dtype.value,JSCompiler_object_inline_value_3349\x3dfinishLiteral(type);else if(5\x3d\x3d\x3dtype)type\x3dlex(),type.value\x3dnull,JSCompiler_object_inline_value_3349\x3dfinishLiteral(type);else if(match(\x22/\x22)||match(\x22/\\x3d\x22)){var value;lookahead\x3dnull;skipComment();type\x3dindex$jscomp$0;JSCompiler_object_inline_value_3349\x3dsource[index$jscomp$0];assert(\x22/\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3349,\n\x22Regular expression literal must start with a slash\x22);JSCompiler_object_inline_literal_3350\x3dsource[index$jscomp$0++];for(JSCompiler_object_inline_literal_3352\x3dJSCompiler_object_inline_value_3351\x3d!1;index$jscomp$0\x3clength;)if(JSCompiler_object_inline_value_3349\x3dsource[index$jscomp$0++],JSCompiler_object_inline_literal_3350+\x3dJSCompiler_object_inline_value_3349,\x22\\\\\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3349)JSCompiler_object_inline_value_3349\x3dsource[index$jscomp$0++],isLineTerminator(JSCompiler_object_inline_value_3349.charCodeAt(0))\x26\x26\nthrowError({},\x22Invalid regular expression: missing /\x22),JSCompiler_object_inline_literal_3350+\x3dJSCompiler_object_inline_value_3349;else if(isLineTerminator(JSCompiler_object_inline_value_3349.charCodeAt(0)))throwError({},\x22Invalid regular expression: missing /\x22);else if(JSCompiler_object_inline_value_3351)\x22]\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3349\x26\x26(JSCompiler_object_inline_value_3351\x3d!1);else if(\x22/\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3349){JSCompiler_object_inline_literal_3352\x3d!0;break}else\x22[\x22\x3d\x3d\x3dJSCompiler_object_inline_value_3349\x26\x26\n(JSCompiler_object_inline_value_3351\x3d!0);JSCompiler_object_inline_literal_3352||throwError({},\x22Invalid regular expression: missing /\x22);JSCompiler_object_inline_value_3349\x3dJSCompiler_object_inline_literal_3350.substr(1,JSCompiler_object_inline_literal_3350.length-2);for(value\x3dJSCompiler_object_inline_literal_3352\x3d\x22\x22;index$jscomp$0\x3clength;){JSCompiler_object_inline_value_3351\x3dsource[index$jscomp$0];if(!isIdentifierPart(JSCompiler_object_inline_value_3351.charCodeAt(0)))break;++index$jscomp$0;\x22\\\\\x22\x3d\x3d\x3d\nJSCompiler_object_inline_value_3351\x26\x26index$jscomp$0\x3clength?throwError({},\x22Unexpected token %0\x22,\x22ILLEGAL\x22):(value+\x3dJSCompiler_object_inline_value_3351,JSCompiler_object_inline_literal_3352+\x3dJSCompiler_object_inline_value_3351)}0\x3c\x3dvalue.search(/[^gimuy]/g)\x26\x26throwError({},\x22Invalid regular expression\x22,value);JSCompiler_object_inline_value_3351\x3dvalue;value\x3dtestRegExp(JSCompiler_object_inline_value_3349,JSCompiler_object_inline_value_3351);JSCompiler_object_inline_value_3349\x3dfinishLiteral({literal:JSCompiler_object_inline_literal_3350+\nJSCompiler_object_inline_literal_3352,value:value,regex:{pattern:JSCompiler_object_inline_value_3349,flags:JSCompiler_object_inline_value_3351},start:type,end:index$jscomp$0});peek()}else throwUnexpected(lex())}return JSCompiler_object_inline_value_3349}function parsePostfixExpression(){var expr;for(expr\x3dparsePrimaryExpression();;)if(match(\x22.\x22)){expect(\x22.\x22);index$jscomp$0\x3dlookahead.start;var args\x3dlex();3\x3d\x3d\x3dargs.type||4\x3d\x3d\x3dargs.type||1\x3d\x3d\x3dargs.type||5\x3d\x3d\x3dargs.type||throwUnexpected(args);args\x3dfinishIdentifier(args.value);\nexpr\x3dfinishMemberExpression(\x22.\x22,expr,args)}else if(match(\x22(\x22)){args\x3d[];expect(\x22(\x22);if(!match(\x22)\x22))for(;index$jscomp$0\x3clength;){args.push(parseConditionalExpression());if(match(\x22)\x22))break;expect(\x22,\x22)}expect(\x22)\x22);var node\x3dnew ASTNode(\x22CallExpression\x22);node.callee\x3dexpr;node.arguments\x3dargs;expr\x3dnode}else if(match(\x22[\x22))expect(\x22[\x22),args\x3dparseExpression(),expect(\x22]\x22),expr\x3dfinishMemberExpression(\x22[\x22,expr,args);else break;if(7\x3d\x3d\x3dlookahead.type\x26\x26(match(\x22++\x22)||match(\x22--\x22)))throw Error(\x22Disabled.\x22);return expr}\nfunction parseUnaryExpression(){if(7!\x3d\x3dlookahead.type\x26\x264!\x3d\x3dlookahead.type)var expr\x3dparsePostfixExpression();else{if(match(\x22++\x22)||match(\x22--\x22))throw Error(\x22Disabled.\x22);if(match(\x22+\x22)||match(\x22-\x22)||match(\x22~\x22)||match(\x22!\x22)){var token\x3dlex();expr\x3dparseUnaryExpression();token\x3dtoken.value;var node\x3dnew ASTNode(\x22UnaryExpression\x22);node.operator\x3dtoken;node.argument\x3dexpr;node.prefix\x3d!0;expr\x3dnode}else{if(4\x3d\x3d\x3dlookahead.type\x26\x26\x22delete\x22\x3d\x3d\x3dlookahead.value||4\x3d\x3d\x3dlookahead.type\x26\x26\x22void\x22\x3d\x3d\x3dlookahead.value||4\x3d\x3d\x3dlookahead.type\x26\x26\n\x22typeof\x22\x3d\x3d\x3dlookahead.value)throw Error(\x22Disabled.\x22);expr\x3dparsePostfixExpression()}}return expr}function binaryPrecedence(token){var prec\x3d0;if(7!\x3d\x3dtoken.type\x26\x264!\x3d\x3dtoken.type)return 0;switch(token.value){case \x22||\x22:prec\x3d1;break;case \x22\\x26\\x26\x22:prec\x3d2;break;case \x22|\x22:prec\x3d3;break;case \x22^\x22:prec\x3d4;break;case \x22\\x26\x22:prec\x3d5;break;case \x22\\x3d\\x3d\x22:case \x22!\\x3d\x22:case \x22\\x3d\\x3d\\x3d\x22:case \x22!\\x3d\\x3d\x22:prec\x3d6;break;case \x22\\x3c\x22:case \x22\\x3e\x22:case \x22\\x3c\\x3d\x22:case \x22\\x3e\\x3d\x22:case \x22instanceof\x22:case \x22in\x22:prec\x3d7;break;case \x22\\x3c\\x3c\x22:case \x22\\x3e\\x3e\x22:case \x22\\x3e\\x3e\\x3e\x22:prec\x3d\n8;break;case \x22+\x22:case \x22-\x22:prec\x3d9;break;case \x22*\x22:case \x22/\x22:case \x22%\x22:prec\x3d11}return prec}function parseConditionalExpression(){var consequent\x3dlookahead;var expr\x3dparseUnaryExpression();var token\x3dlookahead;var alternate\x3dbinaryPrecedence(token);if(0\x3d\x3d\x3dalternate)var expr$jscomp$0\x3dexpr;else{token.prec\x3dalternate;lex();consequent\x3d[consequent,lookahead];var right\x3dparseUnaryExpression();for(expr$jscomp$0\x3d[expr,token,right];0\x3c(alternate\x3dbinaryPrecedence(lookahead));){for(;2\x3cexpr$jscomp$0.length\x26\x26alternate\x3c\x3dexpr$jscomp$0[expr$jscomp$0.length-\n2].prec;)right\x3dexpr$jscomp$0.pop(),token\x3dexpr$jscomp$0.pop().value,expr\x3dexpr$jscomp$0.pop(),consequent.pop(),expr\x3dfinishBinaryExpression(token,expr,right),expr$jscomp$0.push(expr);token\x3dlex();token.prec\x3dalternate;expr$jscomp$0.push(token);consequent.push(lookahead);expr\x3dparseUnaryExpression();expr$jscomp$0.push(expr)}alternate\x3dexpr$jscomp$0.length-1;expr\x3dexpr$jscomp$0[alternate];for(consequent.pop();1\x3calternate;)consequent.pop(),expr\x3dfinishBinaryExpression(expr$jscomp$0[alternate-1].value,expr$jscomp$0[alternate-\n2],expr),alternate-\x3d2;expr$jscomp$0\x3dexpr}match(\x22?\x22)\x26\x26(lex(),consequent\x3dparseConditionalExpression(),expect(\x22:\x22),alternate\x3dparseConditionalExpression(),expr\x3dnew ASTNode(\x22ConditionalExpression\x22),expr.test\x3dexpr$jscomp$0,expr.consequent\x3dconsequent,expr.alternate\x3dalternate,expr$jscomp$0\x3dexpr);return expr$jscomp$0}function parseExpression(){var expr\x3dparseConditionalExpression();if(match(\x22,\x22))throw Error(\x22Disabled.\x22);return expr}function Functions(codegen){function fn(name,cast,type){return function(args){var obj\x3d\ncodegen(args[0]);cast\x26\x26(obj\x3dcast+\x22(\x22+obj+\x22)\x22,0\x3d\x3d\x3dcast.lastIndexOf(\x22new \x22,0)\x26\x26(obj\x3d\x22(\x22+obj+\x22)\x22));return obj+\x22.\x22+name+(0\x3etype?\x22\x22:0\x3d\x3d\x3dtype?\x22()\x22:\x22(\x22+args.slice(1).map(codegen).join(\x22,\x22)+\x22)\x22)}}return{isNaN:\x22Number.isNaN\x22,isFinite:\x22Number.isFinite\x22,abs:\x22Math.abs\x22,acos:\x22Math.acos\x22,asin:\x22Math.asin\x22,atan:\x22Math.atan\x22,atan2:\x22Math.atan2\x22,ceil:\x22Math.ceil\x22,cos:\x22Math.cos\x22,exp:\x22Math.exp\x22,floor:\x22Math.floor\x22,log:\x22Math.log\x22,max:\x22Math.max\x22,min:\x22Math.min\x22,pow:\x22Math.pow\x22,random:\x22Math.random\x22,round:\x22Math.round\x22,sin:\x22Math.sin\x22,\nsqrt:\x22Math.sqrt\x22,tan:\x22Math.tan\x22,clamp:function(args){3\x3eargs.length\x26\x26vegaUtil.error(\x22Missing arguments to clamp function.\x22);3\x3cargs.length\x26\x26vegaUtil.error(\x22Too many arguments to clamp function.\x22);args\x3dargs.map(codegen);return\x22Math.max(\x22+args[1]+\x22, Math.min(\x22+args[2]+\x22,\x22+args[0]+\x22))\x22},now:\x22Date.now\x22,utc:\x22Date.UTC\x22,datetime:\x22new Date\x22,date:fn(\x22getDate\x22,\x22new Date\x22,0),day:fn(\x22getDay\x22,\x22new Date\x22,0),year:fn(\x22getFullYear\x22,\x22new Date\x22,0),month:fn(\x22getMonth\x22,\x22new Date\x22,0),hours:fn(\x22getHours\x22,\x22new Date\x22,0),minutes:fn(\x22getMinutes\x22,\n\x22new Date\x22,0),seconds:fn(\x22getSeconds\x22,\x22new Date\x22,0),milliseconds:fn(\x22getMilliseconds\x22,\x22new Date\x22,0),time:fn(\x22getTime\x22,\x22new Date\x22,0),timezoneoffset:fn(\x22getTimezoneOffset\x22,\x22new Date\x22,0),utcdate:fn(\x22getUTCDate\x22,\x22new Date\x22,0),utcday:fn(\x22getUTCDay\x22,\x22new Date\x22,0),utcyear:fn(\x22getUTCFullYear\x22,\x22new Date\x22,0),utcmonth:fn(\x22getUTCMonth\x22,\x22new Date\x22,0),utchours:fn(\x22getUTCHours\x22,\x22new Date\x22,0),utcminutes:fn(\x22getUTCMinutes\x22,\x22new Date\x22,0),utcseconds:fn(\x22getUTCSeconds\x22,\x22new Date\x22,0),utcmilliseconds:fn(\x22getUTCMilliseconds\x22,\n\x22new Date\x22,0),length:fn(\x22length\x22,null,-1),join:fn(\x22join\x22,null),indexof:fn(\x22indexOf\x22,null),lastindexof:fn(\x22lastIndexOf\x22,null),slice:fn(\x22slice\x22,null),reverse:function(args){return\x22(\x22+codegen(args[0])+\x22).slice().reverse()\x22},parseFloat:\x22parseFloat\x22,parseInt:\x22parseInt\x22,upper:fn(\x22toUpperCase\x22,\x22String\x22,0),lower:fn(\x22toLowerCase\x22,\x22String\x22,0),substring:fn(\x22substring\x22,\x22String\x22),split:fn(\x22split\x22,\x22String\x22),replace:fn(\x22replace\x22,\x22String\x22),trim:fn(\x22trim\x22,\x22String\x22,0),regexp:\x22RegExp\x22,test:fn(\x22test\x22,\x22RegExp\x22),if:function(args){3\x3e\nargs.length\x26\x26vegaUtil.error(\x22Missing arguments to if function.\x22);3\x3cargs.length\x26\x26vegaUtil.error(\x22Too many arguments to if function.\x22);args\x3dargs.map(codegen);return\x22(\x22+args[0]+\x22?\x22+args[1]+\x22:\x22+args[2]+\x22)\x22}}}ASTNode.prototype.visit\x3dfunction(visitor){var n;if(visitor(this))return 1;var c\x3dchildren(this);var i\x3d0;for(n\x3dc.length;i\x3cn;++i)if(c[i].visit(visitor))return 1};var source,index$jscomp$0,length,lookahead,RegexNonAsciiIdentifierStart\x3d/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\nRegexNonAsciiIdentifierPart\x3d/[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\nkeywords\x3d{\x22if\x22:1,\x22in\x22:1,\x22do\x22:1,\x22var\x22:1,\x22for\x22:1,\x22new\x22:1,\x22try\x22:1,let:1,\x22this\x22:1,\x22else\x22:1,\x22case\x22:1,\x22void\x22:1,\x22with\x22:1,\x22enum\x22:1,\x22while\x22:1,\x22break\x22:1,\x22catch\x22:1,\x22throw\x22:1,\x22const\x22:1,yield:1,\x22class\x22:1,\x22super\x22:1,\x22return\x22:1,\x22typeof\x22:1,\x22delete\x22:1,\x22switch\x22:1,\x22export\x22:1,\x22import\x22:1,\x22public\x22:1,\x22static\x22:1,\x22default\x22:1,\x22finally\x22:1,\x22extends\x22:1,\x22package\x22:1,\x22private\x22:1,\x22function\x22:1,\x22continue\x22:1,\x22debugger\x22:1,\x22interface\x22:1,\x22protected\x22:1,\x22instanceof\x22:1,\x22implements\x22:1},legalKeywords\x3d{\x22if\x22:1},Constants\x3d{NaN:\x22NaN\x22,E:\x22Math.E\x22,\nLN2:\x22Math.LN2\x22,LN10:\x22Math.LN10\x22,LOG2E:\x22Math.LOG2E\x22,LOG10E:\x22Math.LOG10E\x22,PI:\x22Math.PI\x22,SQRT1_2:\x22Math.SQRT1_2\x22,SQRT2:\x22Math.SQRT2\x22,MIN_VALUE:\x22Number.MIN_VALUE\x22,MAX_VALUE:\x22Number.MAX_VALUE\x22};exports.ASTNode\x3dASTNode;exports.ArrayExpression\x3d\x22ArrayExpression\x22;exports.BinaryExpression\x3d\x22BinaryExpression\x22;exports.CallExpression\x3d\x22CallExpression\x22;exports.ConditionalExpression\x3d\x22ConditionalExpression\x22;exports.Identifier\x3d\x22Identifier\x22;exports.Literal\x3d\x22Literal\x22;exports.LogicalExpression\x3d\x22LogicalExpression\x22;exports.MemberExpression\x3d\n\x22MemberExpression\x22;exports.ObjectExpression\x3d\x22ObjectExpression\x22;exports.Property\x3d\x22Property\x22;exports.RawCode\x3d\x22RawCode\x22;exports.UnaryExpression\x3d\x22UnaryExpression\x22;exports.codegen\x3dfunction(opt){function visit(ast){if(vegaUtil.isString(ast))return ast;var generator\x3dGenerators[ast.type];null\x3d\x3dgenerator\x26\x26vegaUtil.error(\x22Unsupported type: \x22+ast.type);return generator(ast)}function codegen(ast){ast\x3d{code:visit(ast),globals:Object.keys(globals),fields:Object.keys(fields)};globals\x3d{};fields\x3d{};return ast}opt\x3d\nopt||{};var whitelist\x3dopt.whitelist?vegaUtil.toSet(opt.whitelist):{},blacklist\x3dopt.blacklist?vegaUtil.toSet(opt.blacklist):{},constants\x3dopt.constants||Constants,functions\x3d(opt.functions||Functions)(visit),globalvar\x3dopt.globalvar,fieldvar\x3dopt.fieldvar,outputGlobal\x3dvegaUtil.isFunction(globalvar)?globalvar:function(id){return globalvar+\x27[\x22\x27+id+\x27\x22]\x27},globals\x3d{},fields\x3d{},memberDepth\x3d0,Generators\x3d{Literal:function(n){return n.raw},Identifier:function(n){n\x3dn.name;if(0\x3cmemberDepth)return n;if(vegaUtil.hasOwnProperty(blacklist,\nn))return vegaUtil.error(\x22Illegal identifier: \x22+n);if(vegaUtil.hasOwnProperty(constants,n))return constants[n];if(vegaUtil.hasOwnProperty(whitelist,n))return n;globals[n]\x3d1;return outputGlobal(n)},MemberExpression:function(n){var d\x3d!n.computed,o\x3dvisit(n.object);d\x26\x26(memberDepth+\x3d1);n\x3dvisit(n.property);if(o\x3d\x3d\x3dfieldvar){var JSCompiler_temp_const\x3dfields;var JSCompiler_inline_result\x3d(JSCompiler_inline_result\x3dn\x26\x26n.length-1)\x26\x26(\x27\x22\x27\x3d\x3d\x3dn[0]\x26\x26\x27\x22\x27\x3d\x3d\x3dn[JSCompiler_inline_result]||\x22\x27\x22\x3d\x3d\x3dn[0]\x26\x26\x22\x27\x22\x3d\x3d\x3dn[JSCompiler_inline_result])?\nn.slice(1,-1):n;JSCompiler_temp_const[JSCompiler_inline_result]\x3d1}d\x26\x26--memberDepth;return o+(d?\x22.\x22+n:\x22[\x22+n+\x22]\x22)},CallExpression:function(n){\x22Identifier\x22!\x3d\x3dn.callee.type\x26\x26vegaUtil.error(\x22Illegal callee type: \x22+n.callee.type);var callee\x3dn.callee.name;n\x3dn.arguments;var fn\x3dvegaUtil.hasOwnProperty(functions,callee)\x26\x26functions[callee];fn||vegaUtil.error(\x22Unrecognized function: \x22+callee);return vegaUtil.isFunction(fn)?fn(n):fn+\x22(\x22+n.map(visit).join(\x22,\x22)+\x22)\x22},ArrayExpression:function(n){return\x22[\x22+n.elements.map(visit).join(\x22,\x22)+\n\x22]\x22},BinaryExpression:function(n){return\x22(\x22+visit(n.left)+n.operator+visit(n.right)+\x22)\x22},UnaryExpression:function(n){return\x22(\x22+n.operator+visit(n.argument)+\x22)\x22},ConditionalExpression:function(n){return\x22(\x22+visit(n.test)+\x22?\x22+visit(n.consequent)+\x22:\x22+visit(n.alternate)+\x22)\x22},LogicalExpression:function(n){return\x22(\x22+visit(n.left)+n.operator+visit(n.right)+\x22)\x22},ObjectExpression:function(n){return\x22{\x22+n.properties.map(visit).join(\x22,\x22)+\x22}\x22},Property:function(n){memberDepth+\x3d1;var k\x3dvisit(n.key);--memberDepth;\nreturn k+\x22:\x22+visit(n.value)}};codegen.functions\x3dfunctions;codegen.constants\x3dconstants;return codegen};exports.constants\x3dConstants;exports.functions\x3dFunctions;exports.parse\x3dfunction(code){source\x3dcode;index$jscomp$0\x3d0;length\x3dsource.length;lookahead\x3dnull;peek();code\x3dparseExpression();if(2!\x3d\x3dlookahead.type)throw Error(\x22Unexpect token after expression.\x22);return code};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_selections$build$vega_selections.js", true , "shadow$provide.module$node_modules$vega_selections$build$vega_selections\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_expression$build$vega_expression\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-util\x22,\x22vega-expression\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?\nglobalThis:global||self,factory(global.vega\x3d{},global.vega,global.vega))})(this,function(exports,vegaUtil,vegaExpression){function testPoint(datum,entry){var fields\x3dentry.fields;entry\x3dentry.values;for(var n\x3dfields.length,i\x3d0,dval,f;i\x3cn;++i)if(f\x3dfields[i],f.getter\x3dvegaUtil.field.getter||vegaUtil.field(f.field),dval\x3df.getter(datum),vegaUtil.isDate(dval)\x26\x26(dval\x3dvegaUtil.toNumber(dval)),vegaUtil.isDate(entry[i])\x26\x26(entry[i]\x3dvegaUtil.toNumber(entry[i])),vegaUtil.isDate(entry[i][0])\x26\x26(entry[i]\x3dentry[i].map(vegaUtil.toNumber)),\n\x22E\x22\x3d\x3d\x3df.type){if(vegaUtil.isArray(entry[i])?0\x3eentry[i].indexOf(dval):dval!\x3d\x3dentry[i])return!1}else if(\x22R\x22\x3d\x3d\x3df.type){if(!vegaUtil.inrange(dval,entry[i]))return!1}else if(\x22R-RE\x22\x3d\x3d\x3df.type){if(!vegaUtil.inrange(dval,entry[i],!0,!1))return!1}else if(\x22R-E\x22\x3d\x3d\x3df.type){if(!vegaUtil.inrange(dval,entry[i],!1,!1))return!1}else if(\x22R-LE\x22\x3d\x3d\x3df.type\x26\x26!vegaUtil.inrange(dval,entry[i],!1,!0))return!1;return!0}var ops\x3d{E_union:function(base,value){if(!base.length)return value;for(var i\x3d0,n\x3dvalue.length;i\x3cn;++i)0\x3ebase.indexOf(value[i])\x26\x26\nbase.push(value[i]);return base},E_intersect:function(base,value){return base.length?base.filter(function(v){return 0\x3c\x3dvalue.indexOf(v)}):value},R_union:function(base,value){var lo\x3dvegaUtil.toNumber(value[0]),hi\x3dvegaUtil.toNumber(value[1]);lo\x3ehi\x26\x26(lo\x3dvalue[1],hi\x3dvalue[0]);if(!base.length)return[lo,hi];base[0]\x3elo\x26\x26(base[0]\x3dlo);base[1]\x3chi\x26\x26(base[1]\x3dhi);return base},R_intersect:function(base,value){var lo\x3dvegaUtil.toNumber(value[0]),hi\x3dvegaUtil.toNumber(value[1]);lo\x3ehi\x26\x26(lo\x3dvalue[1],hi\x3dvalue[0]);if(!base.length)return[lo,\nhi];if(hi\x3cbase[0]||base[1]\x3clo)return[];base[0]\x3clo\x26\x26(base[0]\x3dlo);base[1]\x3ehi\x26\x26(base[1]\x3dhi);return base}};exports.selectionResolve\x3dfunction(name,op,isMulti){name\x3d(name\x3dthis.context.data[name])?name.values.value:[];for(var resolved\x3d{},multiRes\x3d{},types\x3d{},entry,fields,unit$jscomp$0,field$jscomp$0,res,resUnit,n\x3dname.length,i\x3d0,j$jscomp$0,m;i\x3cn;++i){entry\x3dname[i];unit$jscomp$0\x3dentry.unit;fields\x3dentry.fields;entry\x3dentry.values;j$jscomp$0\x3d0;for(m\x3dfields.length;j$jscomp$0\x3cm;++j$jscomp$0)field$jscomp$0\x3dfields[j$jscomp$0],\nres\x3dresolved[field$jscomp$0.field]||(resolved[field$jscomp$0.field]\x3d{}),resUnit\x3dres[unit$jscomp$0]||(res[unit$jscomp$0]\x3d[]),types[field$jscomp$0.field]\x3dfield$jscomp$0\x3dfield$jscomp$0.type.charAt(0),field$jscomp$0\x3dops[field$jscomp$0+\x22_union\x22],res[unit$jscomp$0]\x3dfield$jscomp$0(resUnit,vegaUtil.array(entry[j$jscomp$0]));isMulti\x26\x26(resUnit\x3dmultiRes[unit$jscomp$0]||(multiRes[unit$jscomp$0]\x3d[]),resUnit.push(vegaUtil.array(entry).reduce(function(obj,curr,j){return obj[fields[j].field]\x3dcurr,obj},{})))}op\x3dop||\n\x22union\x22;Object.keys(resolved).forEach(function(field){resolved[field]\x3dObject.keys(resolved[field]).map(function(unit){return resolved[field][unit]}).reduce(function(acc,curr){return void 0\x3d\x3d\x3dacc?curr:ops[types[field]+\x22_\x22+op](acc,curr)})});name\x3dObject.keys(multiRes);isMulti\x26\x26name.length\x26\x26(isMulti\x3d{},unit$jscomp$0\x3d{},resolved.vlMulti\x3d\x22union\x22\x3d\x3d\x3dop?(isMulti.or\x3dname.reduce(function(acc,k){return acc.push.apply(acc,multiRes[k]),acc},[]),isMulti):(unit$jscomp$0.and\x3dname.map(function(k){var $jscomp$compprop54\x3d\n{};return $jscomp$compprop54.or\x3dmultiRes[k],$jscomp$compprop54}),unit$jscomp$0));return resolved};exports.selectionTest\x3dfunction(name,datum,op){var data\x3dthis.context.data[name];name\x3ddata?data.values.value:[];data\x3ddata?data[\x22index:unit\x22]\x26\x26data[\x22index:unit\x22].value:void 0;op\x3d\x22intersect\x22\x3d\x3d\x3dop;for(var n\x3dname.length,i\x3d0,entry,miss,count,unit;i\x3cn;++i)if(entry\x3dname[i],data\x26\x26op){if(miss\x3dmiss||{},count\x3dmiss[unit\x3dentry.unit]||0,-1!\x3d\x3dcount){entry\x3dtestPoint(datum,entry);miss[unit]\x3dentry?-1:++count;if(entry\x26\x261\x3d\x3d\x3d\ndata.size)return!0;if(!entry\x26\x26count\x3d\x3d\x3ddata.get(unit).count)return!1}}else if(entry\x3dtestPoint(datum,entry),op^entry)return entry;return n\x26\x26op};exports.selectionVisitor\x3dfunction(name,args,scope,params){args[0].type!\x3d\x3dvegaExpression.Literal\x26\x26vegaUtil.error(\x22First argument to selection functions must be a string literal.\x22);name\x3dargs[0].value;args\x3d2\x3c\x3dargs.length\x26\x26vegaUtil.peek(args).value;var dataName\x3d\x22:\x22+name;\x22intersect\x22!\x3d\x3dargs||vegaUtil.hasOwnProperty(params,\x22@unit\x22)||(params[\x22@unit\x22]\x3dscope.getData(name).indataRef(scope,\n\x22unit\x22));vegaUtil.hasOwnProperty(params,dataName)||(params[dataName]\x3dscope.getData(name).tuplesRef())};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_functions$build$vega_functions.js", true , "shadow$provide.module$node_modules$vega_functions$build$vega_functions\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_expression$build$vega_expression\x22),require(\x22module$node_modules$d3_geo$dist$d3_geo\x22),require(\x22module$node_modules$d3_color$dist$d3_color\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),\nrequire(\x22module$node_modules$vega_scale$build$vega_scale\x22),require(\x22module$node_modules$vega_scenegraph$build$vega_scenegraph\x22),require(\x22module$node_modules$vega_selections$build$vega_selections\x22),require(\x22module$node_modules$vega_statistics$build$vega_statistics\x22),require(\x22module$node_modules$vega_time$build$vega_time\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array\x22.split(\x22 \x22),\nfactory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.vega,global.d3,global.d3,global.vega,global.vega,global.vega,global.vega,global.vega,global.vega,global.d3))})(this,function(exports,vegaUtil,vegaExpression,d3Geo,d3Color,vegaDataflow,vegaScale,vegaScenegraph,vegaSelections,vegaStatistics,vegaTime,d3Array){function data$jscomp$0(name){return(name\x3dthis.context.data[name])?name.values.value:[]}function indata(name,field,value){return(value\x3d\n(name\x3dthis.context.data[name][\x22index:\x22+field])?name.value.get(value):void 0)?value.count:value}function setdata(name,tuples){var df\x3dthis.context.dataflow;df.pulse(this.context.data[name].input,df.changeset().remove(vegaUtil.truthy).insert(tuples));return 1}function encode(item,name,retval){if(item){var df\x3dthis.context.dataflow;df.pulse(item.mark.source,df.changeset().encode(item,name))}return void 0!\x3d\x3dretval?retval:item}function time(month,day,specifier){if(!Number.isInteger(month)||!Number.isInteger(day))return\x22\x22;\ndateObj.setYear(2E3);dateObj.setMonth(month);dateObj.setDate(day);return timeFormat.call(this,dateObj,specifier)}function monthFormat(month){return time.call(this,month,1,\x22%B\x22)}function monthAbbrevFormat(month){return time.call(this,month,1,\x22%b\x22)}function dayFormat(day){return time.call(this,0,2+day,\x22%A\x22)}function dayAbbrevFormat(day){return time.call(this,0,2+day,\x22%a\x22)}function dataVisitor(name,args,scope,params){args[0].type!\x3d\x3dvegaExpression.Literal\x26\x26vegaUtil.error(\x22First argument to data functions must be a string literal.\x22);\nname\x3dargs[0].value;args\x3d\x22:\x22+name;if(!vegaUtil.hasOwnProperty(args,params))try{params[args]\x3dscope.getData(name).tuplesRef()}catch(err){}}function indataVisitor(name,args,scope,params){args[0].type!\x3d\x3dvegaExpression.Literal\x26\x26vegaUtil.error(\x22First argument to indata must be a string literal.\x22);args[1].type!\x3d\x3dvegaExpression.Literal\x26\x26vegaUtil.error(\x22Second argument to indata must be a string literal.\x22);name\x3dargs[0].value;args\x3dargs[1].value;var indexName\x3d\x22@\x22+args;vegaUtil.hasOwnProperty(indexName,params)||\n(params[indexName]\x3dscope.getData(name).indataRef(scope,args))}function scaleVisitor(name,args,scope,params){if(args[0].type\x3d\x3d\x3dvegaExpression.Literal)addScaleDependency(scope,params,args[0].value);else for(name in scope.scales)addScaleDependency(scope,params,name)}function addScaleDependency(scope,params,name){var scaleName\x3d\x22%\x22+name;if(!vegaUtil.hasOwnProperty(params,scaleName))try{params[scaleName]\x3dscope.scaleRef(name)}catch(err){}}function getScale(name,ctx){var s;return vegaUtil.isFunction(name)?\nname:vegaUtil.isString(name)?(s\x3dctx.scales[name])\x26\x26s.value:void 0}function internalScaleFunctions(codegen,fnctx,visitors){fnctx.__bandwidth\x3dfunction(s){return s\x26\x26s.bandwidth?s.bandwidth():0};visitors._bandwidth\x3dscaleVisitor;visitors._range\x3dscaleVisitor;visitors._scale\x3dscaleVisitor;var ref\x3dfunction(arg){return\x22_[\x22+(arg.type\x3d\x3d\x3dvegaExpression.Literal?vegaUtil.stringValue(\x22%\x22+arg.value):vegaUtil.stringValue(\x22%\x22)+\x22+\x22+codegen(arg))+\x22]\x22};return{_bandwidth:function(args){return\x22this.__bandwidth(\x22+ref(args[0])+\n\x22)\x22},_range:function(args){return ref(args[0])+\x22.range()\x22},_scale:function(args){return ref(args[0])+\x22(\x22+codegen(args[1])+\x22)\x22}}}function geoMethod(methodName,globalMethod){return function(projection,geojson,group){return projection?(projection\x3dgetScale(projection,(group||this).context))\x26\x26projection.path[methodName](geojson):globalMethod(geojson)}}function inScope(item){var group\x3dthis.context.group,value\x3d!1;if(group)for(;item;){if(item\x3d\x3d\x3dgroup){value\x3d!0;break}item\x3ditem.mark.group}return value}function log(df,\nmethod,args){try{df[method].apply(df,[\x22EXPRESSION\x22].concat([].slice.call(args)))}catch(err){df.warn(err)}return args[args.length-1]}function warn(){return log(this.context.dataflow,\x22warn\x22,arguments)}function info(){return log(this.context.dataflow,\x22info\x22,arguments)}function debug(){return log(this.context.dataflow,\x22debug\x22,arguments)}function channel_luminance_value(channelValue){channelValue/\x3d255;return.03928\x3e\x3dchannelValue?channelValue/12.92:Math.pow((channelValue+.055)/1.055,2.4)}function luminance(color){var c\x3d\nd3Color.rgb(color);color\x3dchannel_luminance_value(c.r);var g\x3dchannel_luminance_value(c.g);c\x3dchannel_luminance_value(c.b);return.2126*color+.7152*g+.0722*c}function contrast(color1,color2){color1\x3dluminance(color1);color2\x3dluminance(color2);return(Math.max(color1,color2)+.05)/(Math.min(color1,color2)+.05)}function merge(){var args\x3d[].slice.call(arguments);args.unshift({});return vegaUtil.extend.apply(null,args)}function equal(a,b){if(a\x3d\x3d\x3db||a!\x3d\x3da\x26\x26b!\x3d\x3db)a\x3d!0;else if(vegaUtil.isArray(a))if(vegaUtil.isArray(b)\x26\x26\na.length\x3d\x3d\x3db.length)a:{for(var i\x3d0,n\x3da.length;i\x3cn;++i)if(!equal(a[i],b[i])){a\x3d!1;break a}a\x3d!0}else a\x3d!1;else a\x3dvegaUtil.isObject(a)\x26\x26vegaUtil.isObject(b)?equalObject(a,b):!1;return a}function equalObject(a,b){for(var key in a)if(!equal(a[key],b[key]))return!1;return!0}function removePredicate(props){return function(_){return equalObject(props,_)}}function modify$jscomp$0(name,insert,remove,toggle,modify,values){var df\x3dthis.context.dataflow,data\x3dthis.context.data[name],input\x3ddata.input;name\x3ddf.stamp();\nvar changes\x3ddata.changes,key;if(!1\x3d\x3d\x3ddf._trigger||!(input.value.length||insert||toggle))return 0;if(!changes||changes.stamp\x3cname)data.changes\x3dchanges\x3ddf.changeset(),changes.stamp\x3dname,df.runAfter(function(){data.modified\x3d!0;df.pulse(input,changes).run()},!0,1);remove\x26\x26(remove\x3d!0\x3d\x3d\x3dremove?vegaUtil.truthy:vegaUtil.isArray(remove)||vegaDataflow.isTuple(remove)?remove:removePredicate(remove),changes.remove(remove));insert\x26\x26changes.insert(insert);toggle\x26\x26(remove\x3dremovePredicate(toggle),input.value.some(remove)?\nchanges.remove(remove):changes.insert(toggle));if(modify)for(key in values)changes.modify(modify,key,values[key]);return 1}function pinchDistance(event){var t\x3devent.touches;event\x3dt[0].clientX-t[1].clientX;t\x3dt[0].clientY-t[1].clientY;return Math.sqrt(event*event+t*t)}function pinchAngle(event){event\x3devent.touches;return Math.atan2(event[0].clientY-event[1].clientY,event[0].clientX-event[1].clientX)}function bandspace(count,paddingInner,paddingOuter){return vegaScale.bandSpace(count||0,paddingInner||\n0,paddingOuter||0)}function bandwidth(name,group){return(name\x3dgetScale(name,(group||this).context))\x26\x26name.bandwidth?name.bandwidth():0}function copy(name,group){return(name\x3dgetScale(name,(group||this).context))?name.copy():void 0}function domain(name,group){return(name\x3dgetScale(name,(group||this).context))?name.domain():[]}function invert(name,range,group){return(name\x3dgetScale(name,(group||this).context))?vegaUtil.isArray(range)?(name.invertRange||name.invert)(range):(name.invert||name.invertExtent)(range):\nvoid 0}function range$jscomp$0(name,group){return(name\x3dgetScale(name,(group||this).context))\x26\x26name.range?name.range():[]}function scale$jscomp$0(name,value,group){return(name\x3dgetScale(name,(group||this).context))?name(value):void 0}function scaleGradient(scale,p0,p1,count,group){scale\x3dgetScale(scale,(group||this).context);var gradient\x3dvegaScenegraph.Gradient(p0,p1);p0\x3dscale.domain();p1\x3dp0[0];group\x3dvegaUtil.peek(p0);var fraction\x3dvegaUtil.identity;group-p1?fraction\x3dvegaScale.scaleFraction(scale,p1,\ngroup):scale\x3d(scale.interpolator?vegaScale.scale(\x22sequential\x22)().interpolator(scale.interpolator()):vegaScale.scale(\x22linear\x22)().interpolate(scale.interpolate()).range(scale.range())).domain([p1\x3d0,group\x3d1]);scale.ticks\x26\x26(p0\x3dscale.ticks(+count||15),p1!\x3d\x3dp0[0]\x26\x26p0.unshift(p1),group!\x3d\x3dvegaUtil.peek(p0)\x26\x26p0.push(group));p0.forEach(function(_){return gradient.stop(fraction(_),scale(_))});return gradient}function geoShape(projection,geojson,group){var p\x3dgetScale(projection,(group||this).context);return function(context){return p?\np.path.context(context)(geojson):\x22\x22}}function pathShape(path){var p\x3dnull;return function(context){return context?vegaScenegraph.pathRender(context,p\x3dp||vegaScenegraph.pathParse(path)):path}}function treeNodes(name,context){name\x3ddata$jscomp$0.call(context,name);return name.root\x26\x26name.root.lookup||{}}function treePath(name,source,target){name\x3dtreeNodes(name,this);source\x3dname[source];target\x3dname[target];return source\x26\x26target?source.path(target).map(datum):void 0}function treeAncestors(name,node){return(name\x3d\ntreeNodes(name,this)[node])?name.ancestors().map(datum):void 0}function screen(){var w\x3d\x22undefined\x22!\x3d\x3dtypeof window\x26\x26window||null;return w?w.screen:{}}function windowSize(){var w\x3d\x22undefined\x22!\x3d\x3dtypeof window\x26\x26window||null;return w?[w.innerWidth,w.innerHeight]:[void 0,void 0]}function containerSize(){var view\x3dthis.context.dataflow;return(view\x3dview.container\x26\x26view.container())?[view.clientWidth,view.clientHeight]:[void 0,void 0]}function filter(opt){var p\x3dnull;if(opt){var types\x3dvegaUtil.array(opt.marktype),\nnames\x3dvegaUtil.array(opt.markname);p\x3dfunction(_){return(!types.length||types.some(function(t){return _.marktype\x3d\x3d\x3dt}))\x26\x26(!names.length||names.some(function(s){return _.name\x3d\x3d\x3ds}))}}return p}function expressionFunction(name,fn,visitor){if(1\x3d\x3d\x3darguments.length)return functionContext[name];functionContext[name]\x3dfn;visitor\x26\x26(astVisitors[name]\x3dvisitor);codeGenerator\x26\x26(codeGenerator.functions[name]\x3d\x22this.\x22+name);return this}var wrap\x3dfunction(method){return function(value,spec){return this.context.dataflow.locale()[method](spec)(value)}},\nformat\x3dwrap(\x22format\x22),timeFormat\x3dwrap(\x22timeFormat\x22),utcFormat\x3dwrap(\x22utcFormat\x22),timeParse\x3dwrap(\x22timeParse\x22);wrap\x3dwrap(\x22utcParse\x22);var dateObj\x3dnew Date(2E3,0,1),geoArea\x3dgeoMethod(\x22area\x22,d3Geo.geoArea),geoBounds\x3dgeoMethod(\x22bounds\x22,d3Geo.geoBounds);d3Geo\x3dgeoMethod(\x22centroid\x22,d3Geo.geoCentroid);var datum\x3dfunction(d){return d.data},functionContext\x3d{random:function(){return vegaStatistics.random()},cumulativeNormal:vegaStatistics.cumulativeNormal,cumulativeLogNormal:vegaStatistics.cumulativeLogNormal,cumulativeUniform:vegaStatistics.cumulativeUniform,\ndensityNormal:vegaStatistics.densityNormal,densityLogNormal:vegaStatistics.densityLogNormal,densityUniform:vegaStatistics.densityUniform,quantileNormal:vegaStatistics.quantileNormal,quantileLogNormal:vegaStatistics.quantileLogNormal,quantileUniform:vegaStatistics.quantileUniform,sampleNormal:vegaStatistics.sampleNormal,sampleLogNormal:vegaStatistics.sampleLogNormal,sampleUniform:vegaStatistics.sampleUniform,isArray:vegaUtil.isArray,isBoolean:vegaUtil.isBoolean,isDate:vegaUtil.isDate,isDefined:function(_){return void 0!\x3d\x3d\n_},isNumber:vegaUtil.isNumber,isObject:vegaUtil.isObject,isRegExp:vegaUtil.isRegExp,isString:vegaUtil.isString,isTuple:vegaDataflow.isTuple,isValid:function(_){return null!\x3d_\x26\x26_\x3d\x3d\x3d_},toBoolean:vegaUtil.toBoolean,toDate:vegaUtil.toDate,toNumber:vegaUtil.toNumber,toString:vegaUtil.toString,flush:vegaUtil.flush,lerp:vegaUtil.lerp,merge:merge,pad:vegaUtil.pad,peek:vegaUtil.peek,span:vegaUtil.span,inrange:vegaUtil.inrange,truncate:vegaUtil.truncate,rgb:d3Color.rgb,lab:d3Color.lab,hcl:d3Color.hcl,hsl:d3Color.hsl,\nluminance:luminance,contrast:contrast,sequence:d3Array.range,format:format,utcFormat:utcFormat,utcParse:wrap,utcOffset:vegaTime.utcOffset,utcSequence:vegaTime.utcSequence,timeFormat:timeFormat,timeParse:timeParse,timeOffset:vegaTime.timeOffset,timeSequence:vegaTime.timeSequence,timeUnitSpecifier:vegaTime.timeUnitSpecifier,monthFormat:monthFormat,monthAbbrevFormat:monthAbbrevFormat,dayFormat:dayFormat,dayAbbrevFormat:dayAbbrevFormat,quarter:vegaUtil.quarter,utcquarter:vegaUtil.utcquarter,week:vegaTime.week,\nutcweek:vegaTime.utcweek,dayofyear:vegaTime.dayofyear,utcdayofyear:vegaTime.utcdayofyear,warn:warn,info:info,debug:debug,extent:vegaUtil.extent,inScope:inScope,intersect:function(b,opt,group){if(!b)return[];var $jscomp$destructuring$var457\x3d$jscomp.makeIterator(b);b\x3d$jscomp$destructuring$var457.next().value;$jscomp$destructuring$var457\x3d$jscomp$destructuring$var457.next().value;b\x3d(new vegaScenegraph.Bounds).set(b[0],b[1],$jscomp$destructuring$var457[0],$jscomp$destructuring$var457[1]);group\x3dgroup||\nthis.context.dataflow.scenegraph().root;return vegaScenegraph.intersect(group,b,filter(opt))},clampRange:vegaUtil.clampRange,pinchDistance:pinchDistance,pinchAngle:pinchAngle,screen:screen,containerSize:containerSize,windowSize:windowSize,bandspace:bandspace,setdata:setdata,pathShape:pathShape,panLinear:vegaUtil.panLinear,panLog:vegaUtil.panLog,panPow:vegaUtil.panPow,panSymlog:vegaUtil.panSymlog,zoomLinear:vegaUtil.zoomLinear,zoomLog:vegaUtil.zoomLog,zoomPow:vegaUtil.zoomPow,zoomSymlog:vegaUtil.zoomSymlog,\nencode:encode,modify:modify$jscomp$0},eventFunctions\x3d\x22view item group xy x y\x22.split(\x22 \x22),astVisitors\x3d{},codegenParams\x3d{blacklist:[\x22_\x22],whitelist:[\x22datum\x22,\x22event\x22,\x22item\x22],fieldvar:\x22datum\x22,globalvar:function(id){return\x22_[\x22+vegaUtil.stringValue(\x22$\x22+id)+\x22]\x22},functions:function(codegen){var fn\x3dvegaExpression.functions(codegen);eventFunctions.forEach(function(name){return fn[name]\x3d\x22event.vega.\x22+name});for(var name$jscomp$0 in functionContext)fn[name$jscomp$0]\x3d\x22this.\x22+name$jscomp$0;vegaUtil.extend(fn,internalScaleFunctions(codegen,\nfunctionContext,astVisitors));return fn},constants:vegaExpression.constants,visitors:astVisitors},codeGenerator\x3dvegaExpression.codegen(codegenParams);expressionFunction(\x22bandwidth\x22,bandwidth,scaleVisitor);expressionFunction(\x22copy\x22,copy,scaleVisitor);expressionFunction(\x22domain\x22,domain,scaleVisitor);expressionFunction(\x22range\x22,range$jscomp$0,scaleVisitor);expressionFunction(\x22invert\x22,invert,scaleVisitor);expressionFunction(\x22scale\x22,scale$jscomp$0,scaleVisitor);expressionFunction(\x22gradient\x22,scaleGradient,\nscaleVisitor);expressionFunction(\x22geoArea\x22,geoArea,scaleVisitor);expressionFunction(\x22geoBounds\x22,geoBounds,scaleVisitor);expressionFunction(\x22geoCentroid\x22,d3Geo,scaleVisitor);expressionFunction(\x22geoShape\x22,geoShape,scaleVisitor);expressionFunction(\x22indata\x22,indata,indataVisitor);expressionFunction(\x22data\x22,data$jscomp$0,dataVisitor);expressionFunction(\x22treePath\x22,treePath,dataVisitor);expressionFunction(\x22treeAncestors\x22,treeAncestors,dataVisitor);expressionFunction(\x22vlSelectionTest\x22,vegaSelections.selectionTest,\nvegaSelections.selectionVisitor);expressionFunction(\x22vlSelectionResolve\x22,vegaSelections.selectionResolve,vegaSelections.selectionVisitor);exports.DataPrefix\x3d\x22:\x22;exports.IndexPrefix\x3d\x22@\x22;exports.ScalePrefix\x3d\x22%\x22;exports.SignalPrefix\x3d\x22$\x22;exports.bandspace\x3dbandspace;exports.bandwidth\x3dbandwidth;exports.codeGenerator\x3dcodeGenerator;exports.codegenParams\x3dcodegenParams;exports.containerSize\x3dcontainerSize;exports.contrast\x3dcontrast;exports.copy\x3dcopy;exports.data\x3ddata$jscomp$0;exports.dataVisitor\x3ddataVisitor;\nexports.dayAbbrevFormat\x3ddayAbbrevFormat;exports.dayFormat\x3ddayFormat;exports.debug\x3ddebug;exports.domain\x3ddomain;exports.encode\x3dencode;exports.expressionFunction\x3dexpressionFunction;exports.format\x3dformat;exports.functionContext\x3dfunctionContext;exports.geoArea\x3dgeoArea;exports.geoBounds\x3dgeoBounds;exports.geoCentroid\x3dd3Geo;exports.geoShape\x3dgeoShape;exports.inScope\x3dinScope;exports.indata\x3dindata;exports.indataVisitor\x3dindataVisitor;exports.info\x3dinfo;exports.invert\x3dinvert;exports.luminance\x3dluminance;exports.merge\x3d\nmerge;exports.modify\x3dmodify$jscomp$0;exports.monthAbbrevFormat\x3dmonthAbbrevFormat;exports.monthFormat\x3dmonthFormat;exports.parseExpression\x3dfunction(expr,scope){var params\x3d{};try{expr\x3dvegaUtil.isString(expr)?expr:vegaUtil.stringValue(expr)+\x22\x22;var ast\x3dvegaExpression.parse(expr)}catch(err){vegaUtil.error(\x22Expression parse error: \x22+expr)}ast.visit(function(node){if(node.type\x3d\x3d\x3dvegaExpression.CallExpression){var name\x3dnode.callee.name,visit\x3dcodegenParams.visitors[name];visit\x26\x26visit(name,node.arguments,scope,\nparams)}});expr\x3dcodeGenerator(ast);expr.globals.forEach(function(name){var signalName\x3d\x22$\x22+name;!vegaUtil.hasOwnProperty(params,signalName)\x26\x26scope.getSignal(name)\x26\x26(params[signalName]\x3dscope.signalRef(name))});return{$expr:vegaUtil.extend({code:expr.code},scope.options.ast?{ast:ast}:null),$fields:expr.fields,$params:params}};exports.pathShape\x3dpathShape;exports.pinchAngle\x3dpinchAngle;exports.pinchDistance\x3dpinchDistance;exports.range\x3drange$jscomp$0;exports.scale\x3dscale$jscomp$0;exports.scaleGradient\x3dscaleGradient;\nexports.scaleVisitor\x3dscaleVisitor;exports.screen\x3dscreen;exports.setdata\x3dsetdata;exports.timeFormat\x3dtimeFormat;exports.timeParse\x3dtimeParse;exports.treeAncestors\x3dtreeAncestors;exports.treePath\x3dtreePath;exports.utcFormat\x3dutcFormat;exports.utcParse\x3dwrap;exports.warn\x3dwarn;exports.windowSize\x3dwindowSize;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_runtime$build$vega_runtime.js", true , "shadow$provide.module$node_modules$vega_runtime$build$vega_runtime\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22,\x22vega-util\x22,\x22vega-dataflow\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:\nglobal||self,factory(global.vega\x3d{},global.vega,global.vega))})(this,function(exports,vegaUtil,vegaDataflow){function expression(ctx,args,code){\x22;\x22!\x3d\x3dcode[code.length-1]\x26\x26(code\x3d\x22return(\x22+code+\x22);\x22);args\x3dFunction.apply(null,args.concat(code));return ctx\x26\x26ctx.functions?args.bind(ctx.functions):args}function parseParameter(spec,ctx,params){if(!spec||!vegaUtil.isObject(spec))return spec;for(var i\x3d0,n\x3dPARSERS.length,p;i\x3cn;++i)if(p\x3dPARSERS[i],vegaUtil.hasOwnProperty(spec,p.key))return p.parse(spec,ctx,\nparams);return spec}function Context(df,transforms,functions,expr){this.dataflow\x3ddf;this.transforms\x3dtransforms;this.events\x3ddf.events.bind(df);this.expr\x3dexpr||expressionCodegen;this.signals\x3d{};this.scales\x3d{};this.nodes\x3d{};this.data\x3d{};this.fn\x3d{};functions\x26\x26(this.functions\x3dObject.create(functions),this.functions.context\x3dthis)}function Subcontext(ctx){this.dataflow\x3dctx.dataflow;this.transforms\x3dctx.transforms;this.events\x3dctx.events;this.expr\x3dctx.expr;this.signals\x3dObject.create(ctx.signals);this.scales\x3d\nObject.create(ctx.scales);this.nodes\x3dObject.create(ctx.nodes);this.data\x3dObject.create(ctx.data);this.fn\x3dObject.create(ctx.fn);ctx.functions\x26\x26(this.functions\x3dObject.create(ctx.functions),this.functions.context\x3dthis)}var Skip\x3dvegaUtil.toSet([\x22rule\x22]),Swap\x3dvegaUtil.toSet([\x22group\x22,\x22image\x22,\x22rect\x22]),expressionCodegen\x3d{operator:function(ctx,expr){return expression(ctx,[\x22_\x22],expr.code)},parameter:function(ctx,expr){return expression(ctx,[\x22datum\x22,\x22_\x22],expr.code)},event:function(ctx,expr){return expression(ctx,\n[\x22event\x22],expr.code)},handler:function(ctx,expr){return expression(ctx,[\x22_\x22,\x22event\x22],\x22var datum\\x3devent.item\\x26\\x26event.item.datum;return \x22+expr.code+\x22;\x22)},encode:function(ctx,encode){var marktype\x3dencode.marktype;encode\x3dencode.channels;var code\x3d\x22var o\\x3ditem,datum\\x3do.datum,m\\x3d0,$;\x22;for(name in encode){var o\x3d\x22o[\x22+vegaUtil.stringValue(name)+\x22]\x22;code+\x3d\x22$\\x3d\x22+encode[name].code+\x22;if(\x22+o+\x22!\\x3d\\x3d$)\x22+o+\x22\\x3d$,m\\x3d1;\x22}var name\x3d\x22\x22;Skip[marktype]||(encode.x2\x26\x26(encode.x?(Swap[marktype]\x26\x26(name+\x3d\x22if(o.x\\x3eo.x2)$\\x3do.x,o.x\\x3do.x2,o.x2\\x3d$;\x22),\nname+\x3d\x22o.width\\x3do.x2-o.x;\x22):name+\x3d\x22o.x\\x3do.x2-(o.width||0);\x22),encode.xc\x26\x26(name+\x3d\x22o.x\\x3do.xc-(o.width||0)/2;\x22),encode.y2\x26\x26(encode.y?(Swap[marktype]\x26\x26(name+\x3d\x22if(o.y\\x3eo.y2)$\\x3do.y,o.y\\x3do.y2,o.y2\\x3d$;\x22),name+\x3d\x22o.height\\x3do.y2-o.y;\x22):name+\x3d\x22o.y\\x3do.y2-(o.height||0);\x22),encode.yc\x26\x26(name+\x3d\x22o.y\\x3do.yc-(o.height||0)/2;\x22));code+\x3dname;return expression(ctx,[\x22item\x22,\x22_\x22],code+\x22return m;\x22)},codegen:{get:function(path){path\x3d\x22[\x22+path.map(vegaUtil.stringValue).join(\x22][\x22)+\x22]\x22;var get\x3dFunction(\x22_\x22,\x22return _\x22+\npath+\x22;\x22);get.path\x3dpath;return get},comparator:function(fields,orders){var t;fields\x3dFunction(\x22a\x22,\x22b\x22,\x22var u, v; return \x22+fields.map(function(f,i){var o\x3dorders[i];if(f.path){var u\x3d\x22a\x22+f.path;f\x3d\x22b\x22+f.path}else(t\x3dt||{})[\x22f\x22+i]\x3df,u\x3d\x22this.f\x22+i+\x22(a)\x22,f\x3d\x22this.f\x22+i+\x22(b)\x22;i\x3d-o;return\x22((u \\x3d \x22+u+\x22) \\x3c (v \\x3d \x22+f+\x22) || u \\x3d\\x3d null) \\x26\\x26 v !\\x3d null ? \x22+i+\x22\\n  : (u \\x3e v || v \\x3d\\x3d null) \\x26\\x26 u !\\x3d null ? \x22+o+\x22\\n  : ((v \\x3d v instanceof Date ? +v : v), (u \\x3d u instanceof Date ? +u : u)) !\\x3d\\x3d u \\x26\\x26 v \\x3d\\x3d\\x3d v ? \x22+\ni+\x22\\n  : v !\\x3d\\x3d v \\x26\\x26 u \\x3d\\x3d\\x3d u ? \x22+o+\x22 : \x22}).join(\x22\x22)+\x220;\x22);return t?fields.bind(t):fields}}},PARSERS\x3d[{key:\x22$ref\x22,parse:function(_,ctx){return ctx.get(_.$ref)||vegaUtil.error(\x22Operator not defined: \x22+_.$ref)}},{key:\x22$key\x22,parse:function(_,ctx){var k\x3d\x22k:\x22+_.$key+\x22_\x22+!!_.$flat;return ctx.fn[k]||(ctx.fn[k]\x3dvegaUtil.key(_.$key,_.$flat,ctx.expr.codegen))}},{key:\x22$expr\x22,parse:function(_,ctx,params){_.$params\x26\x26ctx.parseParameters(_.$params,params);params\x3d\x22e:\x22+_.$expr.code+\x22_\x22+_.$name;\nreturn ctx.fn[params]||(ctx.fn[params]\x3dvegaUtil.accessor(ctx.parameterExpression(_.$expr),_.$fields,_.$name))}},{key:\x22$field\x22,parse:function(_,ctx){if(!_.$field)return null;var k\x3d\x22f:\x22+_.$field+\x22_\x22+_.$name;return ctx.fn[k]||(ctx.fn[k]\x3dvegaUtil.field(_.$field,_.$name,ctx.expr.codegen))}},{key:\x22$encode\x22,parse:function(_,ctx){_\x3d_.$encode;var encode\x3d{},name;for(name in _){var enc\x3d_[name];encode[name]\x3dvegaUtil.accessor(ctx.encodeExpression(enc.$expr),enc.$fields);encode[name].output\x3denc.$output}return encode}},\n{key:\x22$compare\x22,parse:function(_$jscomp$0,ctx){var k\x3d\x22c:\x22+_$jscomp$0.$compare+\x22_\x22+_$jscomp$0.$order,c\x3dvegaUtil.array(_$jscomp$0.$compare).map(function(_){return _\x26\x26_.$tupleid?vegaDataflow.tupleid:_});return ctx.fn[k]||(ctx.fn[k]\x3dvegaUtil.compare(c,_$jscomp$0.$order,ctx.expr.codegen))}},{key:\x22$context\x22,parse:function(_,ctx){return ctx}},{key:\x22$subflow\x22,parse:function(_,ctx){var spec\x3d_.$subflow;return function(dataflow,key,parent){var subctx\x3dctx.fork().parse(spec);dataflow\x3dsubctx.get(spec.operators[0].id);\n(key\x3dsubctx.signals.parent)\x26\x26key.set(parent);dataflow.detachSubflow\x3dfunction(){return ctx.detach(subctx)};return dataflow}}},{key:\x22$tupleid\x22,parse:function(){return vegaDataflow.tupleid}}],SKIP\x3d{skip:!0};Context.prototype\x3dSubcontext.prototype\x3d{fork:function(){var ctx\x3dnew Subcontext(this);(this.subcontext||(this.subcontext\x3d[])).push(ctx);return ctx},detach:function(ctx){this.subcontext\x3dthis.subcontext.filter(function(c){return c!\x3d\x3dctx});for(var keys\x3dObject.keys(ctx.nodes),$jscomp$iter$327\x3d$jscomp.makeIterator(keys),\n$jscomp$key$key\x3d$jscomp$iter$327.next();!$jscomp$key$key.done;$jscomp$key$key\x3d$jscomp$iter$327.next())ctx.nodes[$jscomp$key$key.value]._targets\x3dnull;keys\x3d$jscomp.makeIterator(keys);for($jscomp$key$key\x3dkeys.next();!$jscomp$key$key.done;$jscomp$key$key\x3dkeys.next())ctx.nodes[$jscomp$key$key.value].detach();ctx.nodes\x3dnull},get:function(id){return this.nodes[id]},set:function(id,node){return this.nodes[id]\x3dnode},add:function(spec,op){var ctx\x3dthis,df\x3dctx.dataflow,data\x3dspec.value;ctx.set(spec.id,op);\x22collect\x22\x3d\x3d\x3d\n(spec.type+\x22\x22).toLowerCase()\x26\x26data\x26\x26(data.$ingest?df.ingest(op,data.$ingest,data.$format):data.$request?df.preload(op,data.$request,data.$format):df.pulse(op,df.changeset().insert(data)));spec.root\x26\x26(ctx.root\x3dop);if(spec.parent){var p\x3dctx.get(spec.parent.$ref);p?(df.connect(p,[op]),op.targets().add(p)):(ctx.unresolved\x3dctx.unresolved||[]).push(function(){p\x3dctx.get(spec.parent.$ref);df.connect(p,[op]);op.targets().add(p)})}spec.signal\x26\x26(ctx.signals[spec.signal]\x3dop);spec.scale\x26\x26(ctx.scales[spec.scale]\x3d\nop);if(spec.data){data\x3d{};for(var name in spec.data)data.$jscomp$loop$prop$data$587$626\x3dctx.data[name]||(ctx.data[name]\x3d{}),spec.data[name].forEach(function($jscomp$loop$625){return function(role){return $jscomp$loop$625.$jscomp$loop$prop$data$587$626[role]\x3dop}}(data)),data\x3d{$jscomp$loop$prop$data$587$626:data.$jscomp$loop$prop$data$587$626}}},resolve:function(){(this.unresolved||[]).forEach(function(fn){return fn()});delete this.unresolved;return this},operator:function(spec,update){this.add(spec,\nthis.dataflow.add(spec.value,update))},transform:function(spec,type){this.add(spec,this.dataflow.add(this.transforms[(type+\x22\x22).toLowerCase()]))},stream:function(spec,stream){this.set(spec.id,stream)},update:function(spec,stream,target,update,params){this.dataflow.on(stream,target,update,params,spec.options)},operatorExpression:function(expr){return this.expr.operator(this,expr)},parameterExpression:function(expr){return this.expr.parameter(this,expr)},eventExpression:function(expr){return this.expr.event(this,\nexpr)},handlerExpression:function(expr){return this.expr.handler(this,expr)},encodeExpression:function(encode){return this.expr.encode(this,encode)},parse:function(spec){var ctx\x3dthis,operators\x3dspec.operators||[];spec.background\x26\x26(ctx.background\x3dspec.background);spec.eventConfig\x26\x26(ctx.eventConfig\x3dspec.eventConfig);spec.locale\x26\x26(ctx.locale\x3dspec.locale);operators.forEach(function(entry){return ctx.parseOperator(entry)});operators.forEach(function(entry){return ctx.parseOperatorParameters(entry)});(spec.streams||\n[]).forEach(function(entry){return ctx.parseStream(entry)});(spec.updates||[]).forEach(function(entry){return ctx.parseUpdate(entry)});return ctx.resolve()},parseOperator:function(spec){\x22operator\x22!\x3d\x3d(spec.type+\x22\x22).toLowerCase()\x26\x26spec.type?this.transform(spec,spec.type):this.operator(spec,spec.update?this.operatorExpression(spec.update):null)},parseOperatorParameters:function(spec){if(spec.params){var op\x3dthis.get(spec.id);op||vegaUtil.error(\x22Invalid operator id: \x22+spec.id);this.dataflow.connect(op,\nop.parameters(this.parseParameters(spec.params),spec.react,spec.initonly))}},parseParameters:function(spec,params){params\x3dparams||{};var ctx\x3dthis,key;for(key in spec){var value\x3dspec[key];params[key]\x3dvegaUtil.isArray(value)?value.map(function(v){return parseParameter(v,ctx,params)}):parseParameter(value,ctx,params)}return params},parseStream:function(spec){var ctx\x3dthis,filter\x3dnull!\x3dspec.filter?ctx.eventExpression(spec.filter):void 0,stream\x3dnull!\x3dspec.stream?ctx.get(spec.stream):void 0;if(spec.source)stream\x3d\nctx.events(spec.source,spec.type,filter);else if(spec.merge){var args\x3dspec.merge.map(function(_){return ctx.get(_)});stream\x3dargs[0].merge.apply(args[0],args.slice(1))}spec.between\x26\x26(args\x3dspec.between.map(function(_){return ctx.get(_)}),stream\x3dstream.between(args[0],args[1]));spec.filter\x26\x26(stream\x3dstream.filter(filter));null!\x3dspec.throttle\x26\x26(stream\x3dstream.throttle(+spec.throttle));null!\x3dspec.debounce\x26\x26(stream\x3dstream.debounce(+spec.debounce));null\x3d\x3dstream\x26\x26vegaUtil.error(\x22Invalid stream definition: \x22+\nJSON.stringify(spec));spec.consume\x26\x26stream.consume(!0);ctx.stream(spec,stream)},parseUpdate:function(spec){var srcid\x3dvegaUtil.isObject(srcid\x3dspec.source)?srcid.$ref:srcid;srcid\x3dthis.get(srcid);var update\x3dspec.update,params\x3dvoid 0;srcid||vegaUtil.error(\x22Source not defined: \x22+spec.source);var target\x3dspec.target\x26\x26spec.target.$expr?this.eventExpression(spec.target.$expr):this.get(spec.target);update\x26\x26update.$expr\x26\x26(update.$params\x26\x26(params\x3dthis.parseParameters(update.$params)),update\x3dthis.handlerExpression(update.$expr));\nthis.update(spec,srcid,target,update,params)},getState:function(options){var ctx$jscomp$0\x3dthis,state\x3d{};if(options.signals){var signals\x3dstate.signals\x3d{};Object.keys(ctx$jscomp$0.signals).forEach(function(key){var op\x3dctx$jscomp$0.signals[key];options.signals(key,op)\x26\x26(signals[key]\x3dop.value)})}if(options.data){var data\x3dstate.data\x3d{};Object.keys(ctx$jscomp$0.data).forEach(function(key){var dataset\x3dctx$jscomp$0.data[key];options.data(key,dataset)\x26\x26(data[key]\x3ddataset.input.value)})}ctx$jscomp$0.subcontext\x26\x26\n!1!\x3d\x3doptions.recurse\x26\x26(state.subcontext\x3dctx$jscomp$0.subcontext.map(function(ctx){return ctx.getState(options)}));return state},setState:function(state){var ctx\x3dthis,df\x3dctx.dataflow,data\x3dstate.data,signals\x3dstate.signals;Object.keys(signals||{}).forEach(function(key){df.update(ctx.signals[key],signals[key],SKIP)});Object.keys(data||{}).forEach(function(key){df.pulse(ctx.data[key].input,df.changeset().remove(vegaUtil.truthy).insert(data[key]))});(state.subcontext||[]).forEach(function(substate,i){(i\x3d\nctx.subcontext[i])\x26\x26i.setState(substate)})}};exports.context\x3dfunction(df,transforms,functions,expr){return new Context(df,transforms,functions,expr)};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_view$build$vega_view.js", true , "shadow$provide.module$node_modules$vega_view$build$vega_view\x3dfunction(global$jscomp$0,require,module$jscomp$0,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module$jscomp$0?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),require(\x22module$node_modules$vega_scenegraph$build$vega_scenegraph\x22),require(\x22module$node_modules$d3_array$dist$d3_array\x22),require(\x22module$node_modules$vega_functions$build$vega_functions\x22),\nrequire(\x22module$node_modules$vega_runtime$build$vega_runtime\x22),require(\x22module$node_modules$d3_timer$dist$d3_timer\x22),require(\x22module$node_modules$vega_format$build$vega_format\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.vega,global.vega,global.d3,global.vega,global.vega,\nglobal.d3,global.vega))})(this,function(exports,vegaUtil,vegaDataflow,vegaScenegraph,d3Array,vegaFunctions,vegaRuntime,d3Timer,vegaFormat){function initializeAria(view){var el\x3dview.container();el\x26\x26(el.setAttribute(\x22role\x22,\x22graphics-document\x22),el.setAttribute(\x22aria-roleDescription\x22,\x22visualization\x22),ariaLabel(el,view.description()))}function ariaLabel(el,desc){el\x26\x26(null\x3d\x3ddesc?el.removeAttribute(\x22aria-label\x22):el.setAttribute(\x22aria-label\x22,desc))}function background(view){view.add(null,function(_){view._background\x3d\n_.bg;view._resize\x3d1;return _.bg},{bg:view._signals.background})}function cursor$jscomp$0(view){var cursor\x3dview._signals.cursor||(view._signals.cursor\x3dview.add({user:\x22default\x22,item:null}));view.on(view.events(\x22view\x22,\x22mousemove\x22),cursor,function(_,event){var user\x3d(_\x3dcursor.value)?vegaUtil.isString(_)?_:_.user:\x22default\x22;event\x3devent.item\x26\x26event.item.cursor||null;return _\x26\x26user\x3d\x3d\x3d_.user\x26\x26event\x3d\x3d_.item?_:{user:user,item:event}});view.add(null,function(_){_\x3d_.cursor;var item\x3dthis.value;vegaUtil.isString(_)||\n(item\x3d_.item,_\x3d_.user);setCursor(view,_\x26\x26\x22default\x22!\x3d\x3d_?_:item||_);return item},{cursor:cursor})}function setCursor(view,cursor){if(view\x3dview.globalCursor()?\x22undefined\x22!\x3d\x3dtypeof document\x26\x26document.body:view.container())return null\x3d\x3dcursor?view.style.removeProperty(\x22cursor\x22):view.style.cursor\x3dcursor}function dataref(view,name){view\x3dview._runtime.data;vegaUtil.hasOwnProperty(view,name)||vegaUtil.error(\x22Unrecognized data set: \x22+name);return view[name]}function change(name,changes){vegaDataflow.isChangeSet(changes)||\nvegaUtil.error(\x22Second argument to changes must be a changeset.\x22);name\x3ddataref(this,name);name.modified\x3d!0;return this.pulse(name.input,changes)}function width$jscomp$0(view){var padding\x3dview.padding();return Math.max(0,view._viewWidth+padding.left+padding.right)}function height$jscomp$0(view){var padding\x3dview.padding();return Math.max(0,view._viewHeight+padding.top+padding.bottom)}function offset(view){var padding\x3dview.padding();view\x3dview._origin;return[padding.left+view[0],padding.top+view[1]]}\nfunction resizeRenderer(view){var origin\x3doffset(view),w\x3dwidth$jscomp$0(view),h\x3dheight$jscomp$0(view);view._renderer.background(view.background());view._renderer.resize(w,h,origin);view._handler.origin(origin);view._resizeListeners.forEach(function(handler){try{handler(w,h)}catch(error){view.error(error)}})}function eventExtend(view,event,item){var r\x3dview._renderer;r\x3dr\x26\x26r.canvas();if(r){var translate\x3doffset(view);var p\x3devent.changedTouches?event.changedTouches[0]:event;p\x3dvegaScenegraph.point(p,r);\np[0]-\x3dtranslate[0];p[1]-\x3dtranslate[1]}event.dataflow\x3dview;event.item\x3ditem;event.vega\x3dextension(view,item,p);return event}function extension(view,item$jscomp$0,point){function group(name){var g\x3ditemGroup,i;if(name)for(i\x3ditem$jscomp$0;i;i\x3di.mark.group)if(i.mark.name\x3d\x3d\x3dname){g\x3di;break}return g\x26\x26g.mark\x26\x26g.mark.interactive?g:{}}function xy(item){if(!item)return point;vegaUtil.isString(item)\x26\x26(item\x3dgroup(item));for(var p\x3dpoint.slice();item;)p[0]-\x3ditem.x||0,p[1]-\x3ditem.y||0,item\x3ditem.mark\x26\x26item.mark.group;\nreturn p}var itemGroup\x3ditem$jscomp$0?\x22group\x22\x3d\x3d\x3ditem$jscomp$0.mark.marktype?item$jscomp$0:item$jscomp$0.mark.group:null;return{view:vegaUtil.constant(view),item:vegaUtil.constant(item$jscomp$0||{}),group:group,xy:xy,x:function(item){return xy(item)[0]},y:function(item){return xy(item)[1]}}}function initializeEventConfig(config){config\x3dvegaUtil.extend({defaults:{}},config);var unpack\x3dfunction(obj,keys){keys.forEach(function(k){vegaUtil.isArray(obj[k])\x26\x26(obj[k]\x3dvegaUtil.toSet(obj[k]))})};unpack(config.defaults,\n[\x22prevent\x22,\x22allow\x22]);unpack(config,[\x22view\x22,\x22window\x22,\x22selector\x22]);return config}function permit(view,key,type){var rule\x3dview._eventConfig\x26\x26view._eventConfig[key];return!1\x3d\x3d\x3drule||vegaUtil.isObject(rule)\x26\x26!rule[type]?(view.warn(\x22Blocked \x22+key+\x22 \x22+type+\x22 event listener.\x22),!1):!0}function itemFilter(event){return event.item}function markTarget(event){return event.item.mark.source}function invoke(name){return function(_,event){return event.vega.view().changeset().encode(event.item,name)}}function element(tag,\nattr,text){tag\x3ddocument.createElement(tag);for(var key in attr)tag.setAttribute(key,attr[key]);null!\x3dtext\x26\x26(tag.textContent\x3dtext);return tag}function bind$jscomp$0(view,el,binding){if(el){var param\x3dbinding.param,bind\x3dbinding.state;bind||(bind\x3dbinding.state\x3d{elements:null,active:!1,set:null,update:function(value){value!\x3d\x3dview.signal(param.signal)\x26\x26view.runAsync(null,function(){bind.source\x3d!0;view.signal(param.signal,value)})}},param.debounce\x26\x26(bind.update\x3dvegaUtil.debounce(param.debounce,bind.update)));\ngenerate(bind,el,param,view.signal(param.signal));bind.active||(view.on(view._signals[param.signal],null,function(){bind.source?bind.source\x3d!1:bind.set(view.signal(param.signal))}),bind.active\x3d!0);return bind}}function generate(bind,el,param,value){var div\x3delement(\x22div\x22,{\x22class\x22:\x22vega-bind\x22}),wrapper\x3d\x22radio\x22\x3d\x3d\x3dparam.input?div:div.appendChild(element(\x22label\x22));wrapper.appendChild(element(\x22span\x22,{\x22class\x22:\x22vega-bind-name\x22},param.name||param.signal));el.appendChild(div);el\x3dform;switch(param.input){case \x22checkbox\x22:el\x3d\ncheckbox;break;case \x22select\x22:el\x3dselect;break;case \x22radio\x22:el\x3dradio;break;case \x22range\x22:el\x3drange}el(bind,wrapper,param,value)}function form(bind,el,param,value$jscomp$0){var node\x3delement(\x22input\x22),key;for(key in param)\x22signal\x22!\x3d\x3dkey\x26\x26\x22element\x22!\x3d\x3dkey\x26\x26node.setAttribute(\x22input\x22\x3d\x3d\x3dkey?\x22type\x22:key,param[key]);node.setAttribute(\x22name\x22,param.signal);node.value\x3dvalue$jscomp$0;el.appendChild(node);node.addEventListener(\x22input\x22,function(){return bind.update(node.value)});bind.elements\x3d[node];bind.set\x3dfunction(value){return node.value\x3d\nvalue}}function checkbox(bind,el,param,value$jscomp$0){param\x3d{type:\x22checkbox\x22,name:param.signal};value$jscomp$0\x26\x26(param.checked\x3d!0);var node\x3delement(\x22input\x22,param);el.appendChild(node);node.addEventListener(\x22change\x22,function(){return bind.update(node.checked)});bind.elements\x3d[node];bind.set\x3dfunction(value){return node.checked\x3d!!value||null}}function select(bind,el,param,value$jscomp$0){var node\x3delement(\x22select\x22,{name:param.signal}),labels\x3dparam.labels||[];param.options.forEach(function(option,i){var attr\x3d\n{value:option};valuesEqual(option,value$jscomp$0)\x26\x26(attr.selected\x3d!0);node.appendChild(element(\x22option\x22,attr,(labels[i]||option)+\x22\x22))});el.appendChild(node);node.addEventListener(\x22change\x22,function(){bind.update(param.options[node.selectedIndex])});bind.elements\x3d[node];bind.set\x3dfunction(value){for(var i\x3d0,n\x3dparam.options.length;i\x3cn;++i)if(valuesEqual(param.options[i],value)){node.selectedIndex\x3di;break}}}function radio(bind,el,param,value$jscomp$0){var group\x3delement(\x22span\x22,{\x22class\x22:\x22vega-bind-radio\x22}),\nlabels\x3dparam.labels||[];el.appendChild(group);bind.elements\x3dparam.options.map(function(option,i){var attr\x3d{type:\x22radio\x22,name:param.signal,value:option};valuesEqual(option,value$jscomp$0)\x26\x26(attr.checked\x3d!0);attr\x3delement(\x22input\x22,attr);attr.addEventListener(\x22change\x22,function(){return bind.update(option)});i\x3delement(\x22label\x22,{},(labels[i]||option)+\x22\x22);i.prepend(attr);group.appendChild(i);return attr});bind.set\x3dfunction(value){for(var nodes\x3dbind.elements,n\x3dnodes.length,i\x3d0;i\x3cn;++i)valuesEqual(nodes[i].value,\nvalue)\x26\x26(nodes[i].checked\x3d!0)}}function range(bind,el,param,value$jscomp$0){value$jscomp$0\x3dvoid 0!\x3d\x3dvalue$jscomp$0?value$jscomp$0:(+param.max+ +param.min)/2;var max\x3dnull!\x3dparam.max?param.max:Math.max(100,+value$jscomp$0)||100,min\x3dparam.min||Math.min(0,max,+value$jscomp$0)||0,step\x3dparam.step||d3Array.tickStep(min,max,100),node\x3delement(\x22input\x22,{type:\x22range\x22,name:param.signal,min:min,max:max,step:step});node.value\x3dvalue$jscomp$0;var span\x3delement(\x22span\x22,{},+value$jscomp$0);el.appendChild(node);el.appendChild(span);\nel\x3dfunction(){span.textContent\x3dnode.value;bind.update(+node.value)};node.addEventListener(\x22input\x22,el);node.addEventListener(\x22change\x22,el);bind.elements\x3d[node];bind.set\x3dfunction(value){node.value\x3dvalue;span.textContent\x3dvalue}}function valuesEqual(a,b){return a\x3d\x3d\x3db||a+\x22\x22\x3d\x3d\x3db+\x22\x22}function initializeRenderer(view,r,el,constructor,scaleFactor,opt){r\x3dr||new constructor(view.loader());return r.initialize(el,width$jscomp$0(view),height$jscomp$0(view),offset(view),scaleFactor,opt).background(view.background())}\nfunction trap(view,fn){return fn?function(){try{fn.apply(this,arguments)}catch(error){view.error(error)}}:null}function initializeHandler(view,prevHandler,el,constructor){var handler\x3d(new constructor(view.loader(),trap(view,view.tooltip()))).scene(view.scenegraph().root).initialize(el,offset(view),view);prevHandler\x26\x26prevHandler.handlers().forEach(function(h){handler.on(h.type,h.handler)});return handler}function lookup(view,el){if(\x22string\x22\x3d\x3d\x3dtypeof el)if(\x22undefined\x22!\x3d\x3dtypeof document){if(el\x3ddocument.querySelector(el),\n!el)return view.error(\x22Signal bind element not found: \x22+el),null}else return view.error(\x22DOM document instance not found.\x22),null;if(el)try{el.innerHTML\x3d\x22\x22}catch(e){el\x3dnull,view.error(e)}return el}function padding$jscomp$0(_){vegaUtil.isObject(_)?_\x3d{top:+_.top||0,bottom:+_.bottom||0,left:+_.left||0,right:+_.right||0}:(_\x3d+_||0,_\x3d{top:_,bottom:_,left:_,right:_});return _}function renderHeadless(view,type,scaleFactor,opt){var module,ctr;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){return 1\x3d\x3d\n$jscomp$generator$context.nextAddress?((ctr\x3d(module\x3dvegaScenegraph.renderModule(type))\x26\x26module.headless)||vegaUtil.error(\x22Unrecognized renderer type: \x22+type),$jscomp$generator$context.yield(view.runAsync(),2)):$jscomp$generator$context.return(initializeRenderer(view,null,null,ctr,scaleFactor,opt).renderAsync(view._scenegraph.root))})}function toBlobURL(data,mime){data\x3dnew Blob([data],{type:mime});return window.URL.createObjectURL(data)}function runtime(view,spec,expr){return vegaRuntime.context(view,\nvegaDataflow.transforms,vegaFunctions.functionContext,expr).parse(spec)}function viewWidth$jscomp$0(view,width){var a\x3dview.autosize();view\x3dview.padding();return width-(a\x26\x26\x22padding\x22\x3d\x3d\x3da.contains?view.left+view.right:0)}function viewHeight$jscomp$0(view,height){var a\x3dview.autosize();view\x3dview.padding();return height-(a\x26\x26\x22padding\x22\x3d\x3d\x3da.contains?view.top+view.bottom:0)}function initializeResize(view){function resetSize(){view._autosize\x3dview._resize\x3d1}var s\x3dview._signals,w\x3ds.width,h\x3ds.height;s\x3ds.padding;\nview._resizeWidth\x3dview.add(null,function(_){view._width\x3d_.size;view._viewWidth\x3dviewWidth$jscomp$0(view,_.size);resetSize()},{size:w});view._resizeHeight\x3dview.add(null,function(_){view._height\x3d_.size;view._viewHeight\x3dviewHeight$jscomp$0(view,_.size);resetSize()},{size:h});var resizePadding\x3dview.add(null,resetSize,{pad:s});view._resizeWidth.rank\x3dw.rank+1;view._resizeHeight.rank\x3dh.rank+1;resizePadding.rank\x3ds.rank+1}function dataTest(name,data){return data.modified\x26\x26vegaUtil.isArray(data.input.value)\x26\x26\nname.indexOf(\x22_:vega:_\x22)}function signalTest(name,op){return!(\x22parent\x22\x3d\x3d\x3dname||op instanceof vegaDataflow.transforms.proxy)}function defaultTooltip(handler,event,item,value){(handler\x3dhandler.element())\x26\x26handler.setAttribute(\x22title\x22,formatTooltip(value))}function formatTooltip(value){return null\x3d\x3dvalue?\x22\x22:vegaUtil.isArray(value)?\x22[\x22+value.map(formatValue).join(\x22, \x22)+\x22]\x22:vegaUtil.isObject(value)\x26\x26!vegaUtil.isDate(value)?formatObject(value):value+\x22\x22}function formatObject(obj){return Object.keys(obj).map(function(key){var v\x3d\nobj[key];return key+\x22: \x22+(vegaUtil.isArray(v)?\x22[\x22+v.map(formatValue).join(\x22, \x22)+\x22]\x22:formatValue(v))}).join(\x22\\n\x22)}function formatValue(value){return vegaUtil.isArray(value)?\x22[\u2026]\x22:vegaUtil.isObject(value)\x26\x26!vegaUtil.isDate(value)?\x22{\u2026}\x22:value}function View(spec,options){options\x3doptions||{};vegaDataflow.Dataflow.call(this);options.loader\x26\x26this.loader(options.loader);options.logger\x26\x26this.logger(options.logger);null!\x3doptions.logLevel\x26\x26this.logLevel(options.logLevel);if(options.locale||spec.locale){var loc\x3d\nvegaUtil.extend({},spec.locale,options.locale);this.locale(vegaFormat.locale(loc.number,loc.time))}this._elBind\x3dthis._el\x3dnull;this._renderType\x3doptions.renderer||vegaScenegraph.RenderType.Canvas;this._scenegraph\x3dnew vegaScenegraph.Scenegraph;loc\x3dthis._scenegraph.root;this._renderer\x3dnull;this._tooltip\x3doptions.tooltip||defaultTooltip;this._redraw\x3d!0;this._handler\x3d(new vegaScenegraph.CanvasHandler).scene(loc);this._preventDefault\x3dthis._globalCursor\x3d!1;this._timers\x3d[];this._eventListeners\x3d[];this._resizeListeners\x3d\n[];this._eventConfig\x3dinitializeEventConfig(spec.eventConfig);this.globalCursor(this._eventConfig.globalCursor);var ctx\x3druntime(this,spec,options.expr);this._runtime\x3dctx;this._signals\x3dctx.signals;this._bind\x3d(spec.bindings||[]).map(function(_){return{state:null,param:vegaUtil.extend({},_)}});ctx.root\x26\x26ctx.root.set(loc);loc.source\x3dctx.data.root.input;this.pulse(ctx.data.root.input,this.changeset().insert(loc.items));this._width\x3dthis.width();this._height\x3dthis.height();this._viewWidth\x3dviewWidth$jscomp$0(this,\nthis._width);this._viewHeight\x3dviewHeight$jscomp$0(this,this._height);this._origin\x3d[0,0];this._resize\x3d0;this._autosize\x3d1;initializeResize(this);background(this);cursor$jscomp$0(this);this.description(spec.description);options.hover\x26\x26this.hover();options.container\x26\x26this.initialize(options.container,options.bind)}function lookupSignal(view,name){return vegaUtil.hasOwnProperty(view._signals,name)?view._signals[name]:vegaUtil.error(\x22Unrecognized signal name: \x22+vegaUtil.stringValue(name))}function findOperatorHandler(op$jscomp$0,\nhandler){op$jscomp$0\x3d(op$jscomp$0._targets||[]).filter(function(op){return op._update\x26\x26op._update.handler\x3d\x3d\x3dhandler});return op$jscomp$0.length?op$jscomp$0[0]:null}function addOperatorListener(view,name,op,handler){var h\x3dfindOperatorHandler(op,handler);h||(h\x3dtrap(view,function(){return handler(name,op.value)}),h.handler\x3dhandler,view.on(op,null,h));return view}function removeOperatorListener(view,op,handler){(handler\x3dfindOperatorHandler(op,handler))\x26\x26op._targets.remove(handler);return view}var NO_TRAP\x3d\n{trap:!1},Skip\x3d{skip:!0};vegaUtil.inherits(View,vegaDataflow.Dataflow,{evaluate:function(encode,prerun,postrun){var $jscomp$async$this\x3dthis,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){switch($jscomp$generator$context.nextAddress){case 1:return $jscomp$generator$context.yield(vegaDataflow.Dataflow.prototype.evaluate.call($jscomp$async$this,encode,prerun),2);case 2:if(!$jscomp$async$this._redraw\x26\x26!$jscomp$async$this._resize){$jscomp$generator$context.jumpTo(3);\nbreak}$jscomp$generator$context.setCatchFinallyBlocks(4);if(!$jscomp$async$this._renderer){$jscomp$generator$context.jumpTo(6);break}$jscomp$async$this._resize\x26\x26($jscomp$async$this._resize\x3d0,resizeRenderer($jscomp$async$this));return $jscomp$generator$context.yield($jscomp$async$this._renderer.renderAsync($jscomp$async$this._scenegraph.root),6);case 6:$jscomp$async$this._redraw\x3d!1;$jscomp$generator$context.leaveTryBlock(3);break;case 4:e\x3d$jscomp$generator$context.enterCatchBlock(),$jscomp$async$this.error(e);\ncase 3:return postrun\x26\x26vegaDataflow.asyncCallback($jscomp$async$this,postrun),$jscomp$generator$context.return($jscomp$async$this)}})},dirty:function(item){this._redraw\x3d!0;this._renderer\x26\x26this._renderer.dirty(item)},description:function(text){if(arguments.length){var desc\x3dnull!\x3dtext?text+\x22\x22:null;desc!\x3d\x3dthis._desc\x26\x26ariaLabel(this._el,this._desc\x3ddesc);return this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},\nsignal:function(name,value,options){var op\x3dlookupSignal(this,name);return 1\x3d\x3d\x3darguments.length?op.value:this.update(op,value,options)},width:function(_){return arguments.length?this.signal(\x22width\x22,_):this.signal(\x22width\x22)},height:function(_){return arguments.length?this.signal(\x22height\x22,_):this.signal(\x22height\x22)},padding:function(_){return arguments.length?this.signal(\x22padding\x22,padding$jscomp$0(_)):padding$jscomp$0(this.signal(\x22padding\x22))},autosize:function(_){return arguments.length?this.signal(\x22autosize\x22,\n_):this.signal(\x22autosize\x22)},background:function(_){return arguments.length?this.signal(\x22background\x22,_):this.signal(\x22background\x22)},renderer:function(type){if(!arguments.length)return this._renderType;vegaScenegraph.renderModule(type)||vegaUtil.error(\x22Unrecognized renderer type: \x22+type);type!\x3d\x3dthis._renderType\x26\x26(this._renderType\x3dtype,this._resetRenderer());return this},tooltip:function(handler){if(!arguments.length)return this._tooltip;handler!\x3d\x3dthis._tooltip\x26\x26(this._tooltip\x3dhandler,this._resetRenderer());\nreturn this},loader:function(loader){if(!arguments.length)return this._loader;loader!\x3d\x3dthis._loader\x26\x26(vegaDataflow.Dataflow.prototype.loader.call(this,loader),this._resetRenderer());return this},resize:function(){this._autosize\x3d1;return this.touch(lookupSignal(this,\x22autosize\x22))},_resetRenderer:function(){this._renderer\x26\x26(this._renderer\x3dnull,this.initialize(this._el,this._elBind))},_resizeView:function(viewWidth,viewHeight,width,height,origin,auto){this.runAfter(function(view){var rerun\x3d0;view._autosize\x3d\n0;view.width()!\x3d\x3dwidth\x26\x26(rerun\x3d1,view.signal(\x22width\x22,width,Skip),view._resizeWidth.skip(!0));view.height()!\x3d\x3dheight\x26\x26(rerun\x3d1,view.signal(\x22height\x22,height,Skip),view._resizeHeight.skip(!0));view._viewWidth!\x3d\x3dviewWidth\x26\x26(view._resize\x3d1,view._viewWidth\x3dviewWidth);view._viewHeight!\x3d\x3dviewHeight\x26\x26(view._resize\x3d1,view._viewHeight\x3dviewHeight);if(view._origin[0]!\x3d\x3dorigin[0]||view._origin[1]!\x3d\x3dorigin[1])view._resize\x3d1,view._origin\x3dorigin;rerun\x26\x26view.run(\x22enter\x22);auto\x26\x26view.runAfter(function(v){return v.resize()})},\n!1,1)},addEventListener:function(type,handler,options){var callback\x3dhandler;options\x26\x26!1\x3d\x3d\x3doptions.trap||(callback\x3dtrap(this,handler),callback.raw\x3dhandler);this._handler.on(type,callback);return this},removeEventListener:function(type,handler){for(var handlers\x3dthis._handler.handlers(type),i\x3dhandlers.length,h,t;0\x3c\x3d--i;)if(t\x3dhandlers[i].type,h\x3dhandlers[i].handler,type\x3d\x3d\x3dt\x26\x26(handler\x3d\x3d\x3dh||handler\x3d\x3d\x3dh.raw)){this._handler.off(t,h);break}return this},addResizeListener:function(handler){var l\x3dthis._resizeListeners;\n0\x3el.indexOf(handler)\x26\x26l.push(handler);return this},removeResizeListener:function(handler){var l\x3dthis._resizeListeners;handler\x3dl.indexOf(handler);0\x3c\x3dhandler\x26\x26l.splice(handler,1);return this},addSignalListener:function(name,handler){return addOperatorListener(this,name,lookupSignal(this,name),handler)},removeSignalListener:function(name,handler){return removeOperatorListener(this,lookupSignal(this,name),handler)},addDataListener:function(name,handler){return addOperatorListener(this,name,dataref(this,\nname).values,handler)},removeDataListener:function(name,handler){return removeOperatorListener(this,dataref(this,name).values,handler)},globalCursor:function(_){if(arguments.length){if(this._globalCursor!\x3d\x3d!!_){var prev\x3dsetCursor(this,null);this._globalCursor\x3d!!_;prev\x26\x26setCursor(this,prev)}return this}return this._globalCursor},preventDefault:function(_){return arguments.length?(this._preventDefault\x3d_,this):this._preventDefault},timer:function(callback,delay){this._timers.push(d3Timer.interval(function(elapsed){callback({timestamp:Date.now(),\nelapsed:elapsed})},delay))},events:function(source,type,filter){var view\x3dthis,s\x3dnew vegaDataflow.EventStream(filter);filter\x3dfunction(e,item){view.runAsync(null,function(){var JSCompiler_temp;if(JSCompiler_temp\x3d\x22view\x22\x3d\x3d\x3dsource){var def\x3dview._eventConfig.defaults;JSCompiler_temp\x3ddef.prevent;def\x3ddef.allow;JSCompiler_temp\x3d!1\x3d\x3d\x3dJSCompiler_temp||!0\x3d\x3d\x3ddef?!1:!0\x3d\x3d\x3dJSCompiler_temp||!1\x3d\x3d\x3ddef?!0:JSCompiler_temp?JSCompiler_temp[type]:def?!def[type]:view.preventDefault()}JSCompiler_temp\x26\x26e.preventDefault();s.receive(eventExtend(view,\ne,item))})};var sources;if(\x22timer\x22\x3d\x3d\x3dsource)permit(view,\x22timer\x22,type)\x26\x26view.timer(filter,type);else if(\x22view\x22\x3d\x3d\x3dsource)permit(view,\x22view\x22,type)\x26\x26view.addEventListener(type,filter,NO_TRAP);else if(\x22window\x22\x3d\x3d\x3dsource?permit(view,\x22window\x22,type)\x26\x26\x22undefined\x22!\x3d\x3dtypeof window\x26\x26(sources\x3d[window]):\x22undefined\x22!\x3d\x3dtypeof document\x26\x26permit(view,\x22selector\x22,type)\x26\x26(sources\x3ddocument.querySelectorAll(source)),sources){for(var i\x3d0,n\x3dsources.length;i\x3cn;++i)sources[i].addEventListener(type,filter);view._eventListeners.push({type:type,\nsources:sources,handler:filter})}else view.warn(\x22Can not resolve event source: \x22+source);return s},finalize:function(){var tooltip\x3dthis._tooltip,timers\x3dthis._timers,listeners\x3dthis._eventListeners,n;for(n\x3dtimers.length;0\x3c\x3d--n;)timers[n].stop();for(n\x3dlisteners.length;0\x3c\x3d--n;){var e\x3dlisteners[n];for(timers\x3de.sources.length;0\x3c\x3d--timers;)e.sources[timers].removeEventListener(e.type,e.handler)}tooltip\x26\x26tooltip.call(this,this._handler,null,null,null);return this},hover:function(hoverSet,leaveSet){hoverSet\x3d\n[hoverSet||\x22hover\x22];leaveSet\x3d[leaveSet||\x22update\x22,hoverSet[0]];this.on(this.events(\x22view\x22,\x22mouseover\x22,itemFilter),markTarget,invoke(hoverSet));this.on(this.events(\x22view\x22,\x22mouseout\x22,itemFilter),markTarget,invoke(leaveSet));return this},data:function(name,values){return 2\x3earguments.length?dataref(this,name).values.value:change.call(this,name,vegaDataflow.changeset().remove(vegaUtil.truthy).insert(values))},change:change,insert:function(name,_){return change.call(this,name,vegaDataflow.changeset().insert(_))},\nremove:function(name,_){return change.call(this,name,vegaDataflow.changeset().remove(_))},scale:function(name){var scales\x3dthis._runtime.scales;vegaUtil.hasOwnProperty(scales,name)||vegaUtil.error(\x22Unrecognized scale or projection: \x22+name);return scales[name].value},initialize:function(el,elBind){var view\x3dthis,type\x3dview._renderType,config\x3dview._eventConfig.bind,module\x3dvegaScenegraph.renderModule(type);el\x3dview._el\x3del?lookup(view,el):null;initializeAria(view);module||view.error(\x22Unrecognized renderer type: \x22+\ntype);type\x3dmodule.handler||vegaScenegraph.CanvasHandler;module\x3del?module.renderer:module.headless;view._renderer\x3dmodule?initializeRenderer(view,view._renderer,el,module):null;view._handler\x3dinitializeHandler(view,view._handler,el,type);view._redraw\x3d!0;el\x26\x26\x22none\x22!\x3d\x3dconfig\x26\x26(elBind\x3delBind?view._elBind\x3dlookup(view,elBind):el.appendChild(element(\x22form\x22,{\x22class\x22:\x22vega-bindings\x22})),view._bind.forEach(function(_){_.param.element\x26\x26\x22container\x22!\x3d\x3dconfig\x26\x26(_.element\x3dlookup(view,_.param.element))}),view._bind.forEach(function(_){bind$jscomp$0(view,\n_.element||elBind,_)}));return view},toImageURL:function(type,scaleFactor){var $jscomp$async$this\x3dthis,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return type!\x3d\x3dvegaScenegraph.RenderType.Canvas\x26\x26type!\x3d\x3dvegaScenegraph.RenderType.SVG\x26\x26type!\x3d\x3dvegaScenegraph.RenderType.PNG\x26\x26vegaUtil.error(\x22Unrecognized image type: \x22+type),$jscomp$generator$context.yield(renderHeadless($jscomp$async$this,type,scaleFactor),2);r\x3d$jscomp$generator$context.yieldResult;\nreturn $jscomp$generator$context.return(type\x3d\x3d\x3dvegaScenegraph.RenderType.SVG?toBlobURL(r.svg(),\x22image/svg+xml\x22):r.canvas().toDataURL(\x22image/png\x22))})},toCanvas:function(scaleFactor,opt){var $jscomp$async$this\x3dthis,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return $jscomp$generator$context.yield(renderHeadless($jscomp$async$this,vegaScenegraph.RenderType.Canvas,scaleFactor,opt),2);r\x3d$jscomp$generator$context.yieldResult;\nreturn $jscomp$generator$context.return(r.canvas())})},toSVG:function(scaleFactor){var $jscomp$async$this\x3dthis,r;return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context){if(1\x3d\x3d$jscomp$generator$context.nextAddress)return $jscomp$generator$context.yield(renderHeadless($jscomp$async$this,vegaScenegraph.RenderType.SVG,scaleFactor),2);r\x3d$jscomp$generator$context.yieldResult;return $jscomp$generator$context.return(r.svg())})},getState:function(options){return this._runtime.getState(options||\n{data:dataTest,signals:signalTest,recurse:!0})},setState:function(state){this.runAsync(null,function(v){v._trigger\x3d!1;v._runtime.setState(state)},function(v){v._trigger\x3d!0});return this}});exports.View\x3dView;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_event_selector$build$vega_event_selector.js", true , "shadow$provide.module$node_modules$vega_event_selector$build$vega_event_selector\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22exports\x22],factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{}))})(this,function(exports){function find(s,i,endChar,pushChar,popChar){for(var n\x3ds.length,count\x3d\n0,c;i\x3cn;++i)if(c\x3ds[i],count||c!\x3d\x3dendChar)popChar\x26\x260\x3c\x3dpopChar.indexOf(c)?--count:pushChar\x26\x260\x3c\x3dpushChar.indexOf(c)\x26\x26++count;else break;return i}function parseMerge(s){for(var output\x3d[],n\x3ds.length,start\x3d0,i\x3d0;i\x3cn;)i\x3dfind(s,i,\x22,\x22,\x22[{\x22,\x22]}\x22),output.push(s.substring(start,i).trim()),start\x3d++i;if(0\x3d\x3d\x3doutput.length)throw\x22Empty event selector: \x22+s;return output}function parseSelector(s){if(\x22[\x22\x3d\x3d\x3ds[0]){var JSCompiler_temp\x3ds;var n\x3dJSCompiler_temp.length;s\x3dfind(JSCompiler_temp,1,\x22]\x22,\x22[\x22,\x22]\x22);if(s\x3d\x3d\x3dn)throw\x22Empty between selector: \x22+\nJSCompiler_temp;n\x3dparseMerge(JSCompiler_temp.substring(1,s));if(2!\x3d\x3dn.length)throw\x22Between selector must have two elements: \x22+JSCompiler_temp;JSCompiler_temp\x3dJSCompiler_temp.slice(s+1).trim();if(\x22\\x3e\x22!\x3d\x3dJSCompiler_temp[0])throw\x22Expected \x27\\x3e\x27 after between selector: \x22+JSCompiler_temp;n\x3dn.map(parseSelector);JSCompiler_temp\x3dparseSelector(JSCompiler_temp.slice(1).trim());JSCompiler_temp.between?JSCompiler_temp\x3d{between:n,stream:JSCompiler_temp}:JSCompiler_temp.between\x3dn}else{n\x3d{source:DEFAULT_SOURCE};\nvar source\x3d[],throttle\x3d[0,0],markname\x3d0,start\x3d0,n$jscomp$0\x3ds.length,i\x3d0;if(\x22}\x22\x3d\x3d\x3ds[n$jscomp$0-1]){i\x3ds.lastIndexOf(\x22{\x22);if(0\x3c\x3di){try{throttle\x3dparseThrottle(s.substring(i+1,n$jscomp$0-1))}catch(e){throw\x22Invalid throttle specification: \x22+s;}s\x3ds.slice(0,i).trim();n$jscomp$0\x3ds.length}else throw\x22Unmatched right brace: \x22+s;i\x3d0}if(!n$jscomp$0)throw s;\x22@\x22\x3d\x3d\x3ds[0]\x26\x26(markname\x3d++i);var j\x3dfind(s,i,\x22:\x22);j\x3cn$jscomp$0\x26\x26(source.push(s.substring(start,j).trim()),start\x3di\x3d++j);i\x3dfind(s,i,\x22[\x22);if(i\x3d\x3d\x3dn$jscomp$0)source.push(s.substring(start,\nn$jscomp$0).trim());else if(source.push(s.substring(start,i).trim()),JSCompiler_temp\x3d[],start\x3d++i,start\x3d\x3d\x3dn$jscomp$0)throw\x22Unmatched left bracket: \x22+s;for(;i\x3cn$jscomp$0;){i\x3dfind(s,i,\x22]\x22);if(i\x3d\x3d\x3dn$jscomp$0)throw\x22Unmatched left bracket: \x22+s;JSCompiler_temp.push(s.substring(start,i).trim());if(i\x3cn$jscomp$0-1\x26\x26\x22[\x22!\x3d\x3ds[++i])throw\x22Expected left bracket: \x22+s;start\x3d++i}if(!(n$jscomp$0\x3dsource.length)||ILLEGAL.test(source[n$jscomp$0-1]))throw\x22Invalid event selector: \x22+s;1\x3cn$jscomp$0?(n.type\x3dsource[1],markname?\nn.markname\x3dsource[0].slice(1):MARKS[source[0]]?n.marktype\x3dsource[0]:n.source\x3dsource[0]):n.type\x3dsource[0];\x22!\x22\x3d\x3d\x3dn.type.slice(-1)\x26\x26(n.consume\x3d!0,n.type\x3dn.type.slice(0,-1));null!\x3dJSCompiler_temp\x26\x26(n.filter\x3dJSCompiler_temp);throttle[0]\x26\x26(n.throttle\x3dthrottle[0]);throttle[1]\x26\x26(n.debounce\x3dthrottle[1]);JSCompiler_temp\x3dn}return JSCompiler_temp}function parseThrottle(s){var a\x3ds.split(\x22,\x22);if(!s.length||2\x3ca.length)throw s;return a.map(function(_){_\x3d+_;if(_!\x3d\x3d_)throw s;return _})}var ILLEGAL\x3d/[[\\]{}]/,DEFAULT_MARKS\x3d\n{\x22*\x22:1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},DEFAULT_SOURCE,MARKS;exports.selector\x3dfunction(selector,source,marks){DEFAULT_SOURCE\x3dsource||\x22view\x22;MARKS\x3dmarks||DEFAULT_MARKS;return parseMerge(selector.trim()).map(parseSelector)};Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega_parser$build$vega_parser.js", true , "shadow$provide.module$node_modules$vega_parser$build$vega_parser\x3dfunction(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module?factory(exports$jscomp$0,require(\x22module$node_modules$vega_util$build$vega_util\x22),require(\x22module$node_modules$vega_functions$build$vega_functions\x22),require(\x22module$node_modules$vega_event_selector$build$vega_event_selector\x22),require(\x22module$node_modules$vega_scale$build$vega_scale\x22),require(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22)):\n\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define(\x22exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow\x22.split(\x22 \x22),factory):(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,factory(global.vega\x3d{},global.vega,global.vega,global.vega,global.vega,global.vega))})(this,function(exports,vegaUtil,vegaFunctions,vegaEventSelector,vegaScale,vegaDataflow){function parseAutosize(spec){return vegaUtil.isObject(spec)?spec:{type:spec||\x22pad\x22}}function parsePadding(spec){vegaUtil.isObject(spec)?\nspec\x3dspec.signal?spec:{top:+spec.top||0,bottom:+spec.bottom||0,left:+spec.left||0,right:+spec.right||0}:(spec\x3d+spec||0,spec\x3d{top:spec,bottom:spec,left:spec,right:spec});return spec}function addEncode(object,name,value,set){return null!\x3dvalue?(vegaUtil.isObject(value)\x26\x26!vegaUtil.isArray(value)||vegaUtil.isArray(value)\x26\x26value.length\x26\x26vegaUtil.isObject(value[0])?object.update[name]\x3dvalue:object[set||\x22enter\x22][name]\x3d{value:value},1):0}function addEncoders(object,enter,update){for(var name in enter)addEncode(object,\nname,enter[name]);for(var name$588 in update)addEncode(object,name$588,update[name$588],\x22update\x22)}function extendEncode(encode,extra,skip){for(var name in extra)skip\x26\x26vegaUtil.hasOwnProperty(skip,name)||(encode[name]\x3dvegaUtil.extend(encode[name]||{},extra[name]));return encode}function has(key,encode){return encode\x26\x26(encode.enter\x26\x26encode.enter[key]||encode.update\x26\x26encode.update[key])}function applyDefaults(encode,type,role,style,config){var defaults\x3d{},enter\x3d{},update;var key\x3d\x22lineBreak\x22;\x22text\x22!\x3d\x3d\ntype||null\x3d\x3dconfig[key]||has(key,encode)||applyDefault(defaults,key,config[key]);if(\x22legend\x22\x3d\x3drole||String(role).startsWith(\x22axis\x22))role\x3dnull;role\x3d\x22frame\x22\x3d\x3d\x3drole?config.group:\x22mark\x22\x3d\x3d\x3drole?vegaUtil.extend({},config.mark,config[type]):null;for(key in role)(type\x3dhas(key,encode)||(\x22fill\x22\x3d\x3d\x3dkey||\x22stroke\x22\x3d\x3d\x3dkey)\x26\x26(has(\x22fill\x22,encode)||has(\x22stroke\x22,encode)))||applyDefault(defaults,key,role[key]);vegaUtil.array(style).forEach(function(name){name\x3dconfig.style\x26\x26config.style[name];for(var key$589 in name)has(key$589,\nencode)||applyDefault(defaults,key$589,name[key$589])});encode\x3dvegaUtil.extend({},encode);for(key in defaults)role\x3ddefaults[key],role.signal?(update\x3dupdate||{})[key]\x3drole:enter[key]\x3drole;encode.enter\x3dvegaUtil.extend(enter,encode.enter);update\x26\x26(encode.update\x3dvegaUtil.extend(update,encode.update));return encode}function applyDefault(defaults,key,value){defaults[key]\x3dvalue\x26\x26value.signal?{signal:value.signal}:{value:value}}function entry$jscomp$0(enc){if(null!\x3denc.gradient)return gradient(enc);if(enc.signal)var JSCompiler_temp\x3d\n\x22(\x22+enc.signal+\x22)\x22;else enc.color?(JSCompiler_temp\x3denc.color,JSCompiler_temp\x3dJSCompiler_temp.c?_color(\x22hcl\x22,JSCompiler_temp.h,JSCompiler_temp.c,JSCompiler_temp.l):JSCompiler_temp.h||JSCompiler_temp.s?_color(\x22hsl\x22,JSCompiler_temp.h,JSCompiler_temp.s,JSCompiler_temp.l):JSCompiler_temp.l||JSCompiler_temp.a?_color(\x22lab\x22,JSCompiler_temp.l,JSCompiler_temp.a,JSCompiler_temp.b):JSCompiler_temp.r||JSCompiler_temp.g||JSCompiler_temp.b?_color(\x22rgb\x22,JSCompiler_temp.r,JSCompiler_temp.g,JSCompiler_temp.b):null):\nJSCompiler_temp\x3dnull!\x3denc.field?field$jscomp$0(enc.field):void 0!\x3d\x3denc.value?vegaUtil.stringValue(enc.value):void 0;if(null!\x3denc.scale){var scale\x3dscaleRef(enc.scale);null!\x3denc.range?JSCompiler_temp\x3d\x22lerp(_range(\x22+scale+\x22), \x22+ +enc.range+\x22)\x22:(void 0!\x3d\x3dJSCompiler_temp\x26\x26(JSCompiler_temp\x3d\x22_scale(\x22+scale+\x22, \x22+JSCompiler_temp+\x22)\x22),enc.band\x26\x26(JSCompiler_temp\x3d(JSCompiler_temp?JSCompiler_temp+\x22+\x22:\x22\x22)+(\x22_bandwidth(\x22+scale+\x22)\x22)+(1\x3d\x3d\x3d+enc.band?\x22\x22:\x22*\x22+property$jscomp$0(enc.band)),enc.extra\x26\x26(JSCompiler_temp\x3d\x22(datum.extra ? _scale(\x22+\nscale+\x22, datum.extra.value) : \x22+JSCompiler_temp+\x22)\x22)),null\x3d\x3dJSCompiler_temp\x26\x26(JSCompiler_temp\x3d\x220\x22))}void 0\x3d\x3d\x3dJSCompiler_temp\x26\x26(JSCompiler_temp\x3dnull);null!\x3denc.exponent\x26\x26(JSCompiler_temp\x3d\x22pow(\x22+JSCompiler_temp+\x22,\x22+property$jscomp$0(enc.exponent)+\x22)\x22);null!\x3denc.mult\x26\x26(JSCompiler_temp+\x3d\x22*\x22+property$jscomp$0(enc.mult));null!\x3denc.offset\x26\x26(JSCompiler_temp+\x3d\x22+\x22+property$jscomp$0(enc.offset));enc.round\x26\x26(JSCompiler_temp\x3d\x22round(\x22+JSCompiler_temp+\x22)\x22);return JSCompiler_temp}function gradient(enc){for(var args\x3d\n[enc.start,enc.stop,enc.count].map(function(_){return null\x3d\x3d_?null:vegaUtil.stringValue(_)});args.length\x26\x26null\x3d\x3dvegaUtil.peek(args);)args.pop();args.unshift(scaleRef(enc.gradient));return\x22gradient(\x22+args.join(\x22,\x22)+\x22)\x22}function property$jscomp$0(property){return vegaUtil.isObject(property)?\x22(\x22+entry$jscomp$0(property)+\x22)\x22:property}function field$jscomp$0(ref){return resolveField(vegaUtil.isObject(ref)?ref:{datum:ref})}function resolveField(ref){if(ref.signal){var object\x3d\x22datum\x22;var level\x3dref.signal}else if(ref.group||\nref.parent){level\x3dMath.max(1,ref.level||1);for(object\x3d\x22item\x22;0\x3clevel--;)object+\x3d\x22.mark.group\x22;ref.parent?(level\x3dref.parent,object+\x3d\x22.datum\x22):level\x3dref.group}else ref.datum?(object\x3d\x22datum\x22,level\x3dref.datum):vegaUtil.error(\x22Invalid field reference: \x22+vegaUtil.stringValue(ref));ref.signal||(level\x3dvegaUtil.isString(level)?vegaUtil.splitAccessPath(level).map(vegaUtil.stringValue).join(\x22][\x22):resolveField(level));return object+\x22[\x22+level+\x22]\x22}function rule$jscomp$0(enc){var code\x3d\x22\x22;enc.forEach(function(rule){var value\x3d\nentry$jscomp$0(rule);code+\x3drule.test?\x22(\x22+rule.test+\x22)?\x22+value+\x22:\x22:value});\x22:\x22\x3d\x3d\x3dvegaUtil.peek(code)\x26\x26(code+\x3d\x22null\x22);return code}function parseEncode(encode,type,role,style,scope$jscomp$0,params$jscomp$0){var enc\x3d{};params$jscomp$0\x3dparams$jscomp$0||{};params$jscomp$0.encoders\x3d{$encode:enc};encode\x3dapplyDefaults(encode,type,role,style,scope$jscomp$0.config);for(var key in encode){role\x3dvoid 0;style\x3dencode[key];var marktype\x3dtype,params\x3dparams$jscomp$0,scope\x3dscope$jscomp$0,channels\x3d{},fields\x3d{};for(role in style)if(null!\x3d\nstyle[role]){var JSCompiler_inline_result\x3dstyle[role];JSCompiler_inline_result\x3dvegaUtil.isArray(JSCompiler_inline_result)?rule$jscomp$0(JSCompiler_inline_result):entry$jscomp$0(JSCompiler_inline_result);channels[role]\x3dparse(JSCompiler_inline_result,scope,params,fields)}role\x3d{$expr:{marktype:marktype,channels:channels},$fields:Object.keys(fields),$output:Object.keys(style)};enc[key]\x3drole}return params$jscomp$0}function parse(code,scope,params,fields){code\x3dvegaFunctions.parseExpression(code,scope);\ncode.$fields.forEach(function(name){return fields[name]\x3d1});vegaUtil.extend(params,code.$params);return code.$expr}function outerError(prefix,name){vegaUtil.error(prefix+\x27 for \x22outer\x22 push: \x27+vegaUtil.stringValue(name))}function parseSignal(signal,scope){var name\x3dsignal.name;if(\x22outer\x22\x3d\x3d\x3dsignal.push)scope.signals[name]||outerError(\x22No prior signal definition\x22,name),OUTER_INVALID.forEach(function(prop){void 0!\x3d\x3dsignal[prop]\x26\x26outerError(\x22Invalid property \x22,prop)});else{var op\x3dscope.addSignal(name,signal.value);\n!1\x3d\x3d\x3dsignal.react\x26\x26(op.react\x3d!1);signal.bind\x26\x26scope.addBinding(name,signal.bind)}}function Entry(type,value,params,parent){this.id\x3d-1;this.type\x3dtype;this.value\x3dvalue;this.params\x3dparams;parent\x26\x26(this.parent\x3dparent)}function ref$jscomp$0(op){var ref\x3d{$ref:op.id};0\x3eop.id\x26\x26(op.refs\x3dop.refs||[]).push(ref);return ref}function fieldRef(field,name){return name?{$field:field,$name:name}:{$field:field}}function keyRef(fields,flat){fields\x3d{$key:fields};flat\x26\x26(fields.$flat\x3d!0);return fields}function aggrField(op,\nfield){return(op\x26\x26op.signal?\x22$\x22+op.signal:op||\x22\x22)+(op\x26\x26field?\x22_\x22:\x22\x22)+(field\x26\x26field.signal?\x22$\x22+field.signal:field||\x22\x22)}function isSignal(_){return _\x26\x26_.signal}function hasSignal(_){if(isSignal(_))return!0;if(vegaUtil.isObject(_))for(var key in _)if(hasSignal(_[key]))return!0;return!1}function value$jscomp$0(specValue,defaultValue){return null!\x3dspecValue?specValue:defaultValue}function deref(v){return v\x26\x26v.signal||v}function parseStream(stream,scope){return(stream.merge?mergeStream:stream.stream?nestedStream:\nstream.type?eventStream:vegaUtil.error(\x22Invalid stream specification: \x22+vegaUtil.stringValue(stream)))(stream,scope)}function eventSource(source){return\x22scope\x22\x3d\x3d\x3dsource?\x22view\x22:source||\x22view\x22}function mergeStream(stream,scope){var list\x3dstream.merge.map(function(s){return parseStream(s,scope)});stream\x3dstreamParameters({merge:list},stream,scope);return scope.addStream(stream).id}function nestedStream(stream,scope){var id\x3dparseStream(stream.stream,scope);stream\x3dstreamParameters({stream:id},stream,scope);\nreturn scope.addStream(stream).id}function eventStream(stream,scope){if(\x22timer\x22\x3d\x3d\x3dstream.type){var id\x3dscope.event(\x22timer\x22,stream.throttle);stream\x3d{between:stream.between,filter:stream.filter}}else id\x3dscope.event(eventSource(stream.source),stream.type);stream\x3dstreamParameters({stream:id},stream,scope);return 1\x3d\x3d\x3dObject.keys(stream).length?id:scope.addStream(stream).id}function streamParameters(entry,stream,scope){var param\x3dstream.between;param\x26\x26(2!\x3d\x3dparam.length\x26\x26vegaUtil.error(\x27Stream \x22between\x22 parameter must have 2 entries: \x27+\nvegaUtil.stringValue(stream)),entry.between\x3d[parseStream(param[0],scope),parseStream(param[1],scope)]);param\x3dstream.filter?[].concat(stream.filter):[];(stream.marktype||stream.markname||stream.markrole)\x26\x26param.push(filterMark(stream.marktype,stream.markname,stream.markrole));\x22scope\x22\x3d\x3d\x3dstream.source\x26\x26param.push(\x22inScope(event.item)\x22);param.length\x26\x26(entry.filter\x3dvegaFunctions.parseExpression(\x22(\x22+param.join(\x22)\\x26\\x26(\x22)+\x22)\x22,scope).$expr);null!\x3d(param\x3dstream.throttle)\x26\x26(entry.throttle\x3d+param);null!\x3d\n(param\x3dstream.debounce)\x26\x26(entry.debounce\x3d+param);stream.consume\x26\x26(entry.consume\x3d!0);return entry}function filterMark(type,name,role){return\x22event.item\x22+(type\x26\x26\x22*\x22!\x3d\x3dtype?\x22\\x26\\x26event.item.mark.marktype\\x3d\\x3d\\x3d\x27\x22+type+\x22\x27\x22:\x22\x22)+(role?\x22\\x26\\x26event.item.mark.role\\x3d\\x3d\\x3d\x27\x22+role+\x22\x27\x22:\x22\x22)+(name?\x22\\x26\\x26event.item.mark.name\\x3d\\x3d\\x3d\x27\x22+name+\x22\x27\x22:\x22\x22)}function parseUpdate(spec,scope,target){var encode\x3dspec.encode,entry\x3d{target:target};target\x3dspec.events;var update\x3dspec.update,sources\x3d[];target||\nvegaUtil.error(\x22Signal update missing events specification.\x22);vegaUtil.isString(target)\x26\x26(target\x3dvegaEventSelector.selector(target,scope.isSubscope()?\x22scope\x22:\x22view\x22));target\x3dvegaUtil.array(target).filter(function(s){return s.signal||s.scale?(sources.push(s),0):1});1\x3csources.length\x26\x26(sources\x3d[mergeSources(sources)]);target.length\x26\x26sources.push(1\x3ctarget.length?{merge:target}:target[0]);null!\x3dencode\x26\x26(update\x26\x26vegaUtil.error(\x22Signal encode and update are mutually exclusive.\x22),update\x3d\x22encode(item(),\x22+\nvegaUtil.stringValue(encode)+\x22)\x22);entry.update\x3dvegaUtil.isString(update)?vegaFunctions.parseExpression(update,scope):null!\x3dupdate.expr?vegaFunctions.parseExpression(update.expr,scope):null!\x3dupdate.value?update.value:null!\x3dupdate.signal?{$expr:OP_VALUE_EXPR,$params:{$value:scope.signalRef(update.signal)}}:vegaUtil.error(\x22Invalid signal update specification.\x22);spec.force\x26\x26(entry.options\x3d{force:!0});sources.forEach(function(source){return scope.addUpdate(vegaUtil.extend(streamSource(source,scope),entry))})}\nfunction streamSource(stream,scope){return{source:stream.signal?scope.signalRef(stream.signal):stream.scale?scope.scaleRef(stream.scale):parseStream(stream,scope)}}function mergeSources(sources){return{signal:\x22[\x22+sources.map(function(s){return s.scale?\x27scale(\x22\x27+s.scale+\x27\x22)\x27:s.signal})+\x22]\x22}}function parseSignalUpdates(signal,scope){var op\x3dscope.getSignal(signal.name),expr\x3dsignal.update;signal.init\x26\x26(expr?vegaUtil.error(\x22Signals can not include both init and update expressions.\x22):(expr\x3dsignal.init,\nop.initonly\x3d!0));expr\x26\x26(expr\x3dvegaFunctions.parseExpression(expr,scope),op.update\x3dexpr.$expr,op.params\x3dexpr.$params);signal.on\x26\x26signal.on.forEach(function(_){return parseUpdate(_,scope,op.id)})}function parseLiteral(v,scope){return vegaUtil.isObject(v)?v.signal?scope.signalRef(v.signal):vegaUtil.error(\x22Unsupported object: \x22+vegaUtil.stringValue(v)):v}function parseArray(v$jscomp$0,scope){return v$jscomp$0.signal?scope.signalRef(v$jscomp$0.signal):v$jscomp$0.map(function(v){return parseLiteral(v,scope)})}\nfunction dataLookupError(name){vegaUtil.error(\x22Can not find data set: \x22+vegaUtil.stringValue(name))}function parseScaleDomain(domain,spec,scope){if(domain)return domain.signal?scope.signalRef(domain.signal):(vegaUtil.isArray(domain)?explicitDomain:domain.fields?multipleDomain:singularDomain)(domain,spec,scope);null\x3d\x3dspec.domainMin\x26\x26null\x3d\x3dspec.domainMax||vegaUtil.error(\x22No scale domain defined for domainMin/domainMax to override.\x22)}function explicitDomain(domain,spec,scope){return domain.map(function(v){return parseLiteral(v,\nscope)})}function singularDomain(domain,spec,scope){var data\x3dscope.getData(domain.data);data||dataLookupError(domain.data);return vegaScale.isDiscrete(spec.type)?data.valuesRef(scope,domain.field,parseSort(domain.sort,!1)):vegaScale.isQuantile(spec.type)?data.domainRef(scope,domain.field):data.extentRef(scope,domain.field)}function multipleDomain(domain,spec,scope){var data$jscomp$0\x3ddomain.data,fields\x3ddomain.fields.reduce(function(dom,d){if(vegaUtil.isString(d))d\x3d{data:data$jscomp$0,field:d};else if(vegaUtil.isArray(d)||\nd.signal){var data\x3dd;d\x3d\x22_:vega:_\x22+FIELD_REF_ID++;var coll\x3dCollect({});vegaUtil.isArray(data)?coll.value\x3d{$ingest:data}:data.signal\x26\x26(data\x3d\x22setdata(\x22+vegaUtil.stringValue(d)+\x22,\x22+data.signal+\x22)\x22,coll.params.input\x3dscope.signalRef(data));scope.addDataPipeline(d,[coll,Sieve({})]);d\x3d{data:d,field:\x22data\x22}}dom.push(d);return dom},[]);return(vegaScale.isDiscrete(spec.type)?ordinalMultipleDomain:vegaScale.isQuantile(spec.type)?quantileMultipleDomain:numericMultipleDomain)(domain,scope,fields)}function ordinalMultipleDomain(domain,\nscope,fields){var sort\x3dparseSort(domain.sort,!0);domain\x3dfields.map(function(f){var data\x3dscope.getData(f.data);data||dataLookupError(f.data);return data.countsRef(scope,f.field,sort)});var p\x3d{groupby:keyFieldRef,pulse:domain};sort\x26\x26(domain\x3dsort.op||\x22count\x22,fields\x3dsort.field?aggrField(domain,sort.field):\x22count\x22,p.ops\x3d[MULTIDOMAIN_SORT_OPS[domain]],p.fields\x3d[scope.fieldRef(fields)],p.as\x3d[fields]);domain\x3dscope.add(Aggregate(p));domain\x3dscope.add(Collect({pulse:ref$jscomp$0(domain)}));fields\x3dscope.add(Values({field:keyFieldRef,\nsort:scope.sortRef(sort),pulse:ref$jscomp$0(domain)}));return ref$jscomp$0(fields)}function parseSort(sort,multidomain){sort\x26\x26(sort.field||sort.op?sort.field||\x22count\x22\x3d\x3d\x3dsort.op?multidomain\x26\x26sort.field\x26\x26sort.op\x26\x26!MULTIDOMAIN_SORT_OPS[sort.op]\x26\x26vegaUtil.error(\x22Multiple domain scales can not be sorted using \x22+sort.op):vegaUtil.error(\x22No field provided for sort aggregate op: \x22+sort.op):vegaUtil.isObject(sort)?sort.field\x3d\x22key\x22:sort\x3d{field:\x22key\x22});return sort}function quantileMultipleDomain(domain,scope,\nfields){domain\x3dfields.map(function(f){var data\x3dscope.getData(f.data);data||dataLookupError(f.data);return data.domainRef(scope,f.field)});return ref$jscomp$0(scope.add(MultiValues({values:domain})))}function numericMultipleDomain(domain,scope,fields){domain\x3dfields.map(function(f){var data\x3dscope.getData(f.data);data||dataLookupError(f.data);return data.extentRef(scope,f.field)});return ref$jscomp$0(scope.add(MultiExtent({extents:domain})))}function parseScaleRange(spec,scope,params){var config\x3dscope.config.range,\nrange\x3dspec.range;if(range.signal)return scope.signalRef(range.signal);if(vegaUtil.isString(range)){if(config\x26\x26vegaUtil.hasOwnProperty(config,range))return spec\x3dvegaUtil.extend({},spec,{range:config[range]}),parseScaleRange(spec,scope,params);\x22width\x22\x3d\x3d\x3drange?range\x3d[0,{signal:\x22width\x22}]:\x22height\x22\x3d\x3d\x3drange?range\x3dvegaScale.isDiscrete(spec.type)?[0,{signal:\x22height\x22}]:[{signal:\x22height\x22},0]:vegaUtil.error(\x22Unrecognized scale range value: \x22+vegaUtil.stringValue(range))}else{if(range.scheme){params.scheme\x3dvegaUtil.isArray(range.scheme)?\nparseArray(range.scheme,scope):parseLiteral(range.scheme,scope);range.extent\x26\x26(params.schemeExtent\x3dparseArray(range.extent,scope));range.count\x26\x26(params.schemeCount\x3dparseLiteral(range.count,scope));return}if(range.step){params.rangeStep\x3dparseLiteral(range.step,scope);return}if(vegaScale.isDiscrete(spec.type)\x26\x26!vegaUtil.isArray(range))return parseScaleDomain(range,spec,scope);vegaUtil.isArray(range)||vegaUtil.error(\x22Unsupported range type: \x22+vegaUtil.stringValue(range))}return range.map(function(v){return(vegaUtil.isArray(v)?\nparseArray:parseLiteral)(v,scope)})}function parseParameter(_$jscomp$0,name,scope){return vegaUtil.isArray(_$jscomp$0)?_$jscomp$0.map(function(_){return parseParameter(_,name,scope)}):vegaUtil.isObject(_$jscomp$0)?_$jscomp$0.signal?scope.signalRef(_$jscomp$0.signal):\x22fit\x22\x3d\x3d\x3dname?_$jscomp$0:vegaUtil.error(\x22Unsupported parameter object: \x22+vegaUtil.stringValue(_$jscomp$0)):_$jscomp$0}function guideGroup(mark){mark.type\x3d\x22group\x22;mark.interactive\x3dmark.interactive||!1;return mark}function lookup$jscomp$0(spec,\nconfig){var _\x3dfunction(name,dflt){return value$jscomp$0(spec[name],value$jscomp$0(config[name],dflt))};_.isVertical\x3dfunction(s){return\x22vertical\x22\x3d\x3d\x3dvalue$jscomp$0(spec.direction,config.direction||(s?config.symbolDirection:config.gradientDirection))};_.gradientLength\x3dfunction(){return value$jscomp$0(spec.gradientLength,config.gradientLength||config.gradientWidth)};_.gradientThickness\x3dfunction(){return value$jscomp$0(spec.gradientThickness,config.gradientThickness||config.gradientHeight)};_.entryColumns\x3d\nfunction(){return value$jscomp$0(spec.columns,value$jscomp$0(config.columns,+_.isVertical(!0)))};return _}function getEncoding(name,encode){return(name\x3dencode\x26\x26(encode.update\x26\x26encode.update[name]||encode.enter\x26\x26encode.enter[name]))\x26\x26name.signal?name:name?name.value:null}function anchorExpr(s,e,m){return\x22item.anchor \\x3d\\x3d\\x3d \x27start\x27 ? \x22+s+\x22 : item.anchor \\x3d\\x3d\\x3d \x27end\x27 ? \x22+e+\x22 : \x22+m}function extendOffset(value,offset){return offset?value?vegaUtil.isObject(value)?Object.assign({},value,{offset:extendOffset(value.offset,\noffset)}):{value:value,offset:offset}:offset:value}function guideMark(mark,extras){extras?(mark.name\x3dextras.name,mark.style\x3dextras.style||mark.style,mark.interactive\x3d!!extras.interactive,mark.encode\x3dextendEncode(mark.encode,extras,Skip)):mark.interactive\x3d!1;return mark}function legendGradient(spec,scale,config,userEncode){spec\x3dlookup$jscomp$0(spec,config);var vertical\x3dspec.isVertical();config\x3dspec.gradientThickness();var length\x3dspec.gradientLength(),enter;if(vertical){vertical\x3d[0,1];var stop\x3d[0,0];\nvar width\x3dconfig;config\x3dlength}else vertical\x3d[0,0],stop\x3d[1,0],width\x3dlength;scale\x3d{enter:enter\x3d{opacity:zero$jscomp$0,x:zero$jscomp$0,y:zero$jscomp$0,width:encoder(width),height:encoder(config)},update:vegaUtil.extend({},enter,{opacity:one,fill:{gradient:scale,start:vertical,stop:stop}}),exit:{opacity:zero$jscomp$0}};addEncoders(scale,{stroke:spec(\x22gradientStrokeColor\x22),strokeWidth:spec(\x22gradientStrokeWidth\x22)},{opacity:spec(\x22gradientOpacity\x22)});return guideMark({type:\x22rect\x22,role:\x22legend-gradient\x22,\nencode:scale},userEncode)}function legendGradientDiscrete(spec,scale,config,userEncode,dataRef){spec\x3dlookup$jscomp$0(spec,config);var vertical\x3dspec.isVertical();config\x3dspec.gradientThickness();var length\x3dspec.gradientLength(),u,v,uu,vv,adjust\x3d\x22\x22;vertical?(u\x3d\x22y\x22,uu\x3d\x22y2\x22,v\x3d\x22x\x22,vv\x3d\x22width\x22,adjust\x3d\x221-\x22):(u\x3d\x22x\x22,uu\x3d\x22x2\x22,v\x3d\x22y\x22,vv\x3d\x22height\x22);scale\x3d{opacity:zero$jscomp$0,fill:{scale:scale,field:\x22value\x22}};scale[u]\x3d{signal:adjust+\x22datum.perc\x22,mult:length};scale[v]\x3dzero$jscomp$0;scale[uu]\x3d{signal:adjust+\x22datum.perc2\x22,\nmult:length};scale[vv]\x3dencoder(config);u\x3d{enter:scale,update:vegaUtil.extend({},scale,{opacity:one}),exit:{opacity:zero$jscomp$0}};addEncoders(u,{stroke:spec(\x22gradientStrokeColor\x22),strokeWidth:spec(\x22gradientStrokeWidth\x22)},{opacity:spec(\x22gradientOpacity\x22)});return guideMark({type:\x22rect\x22,role:\x22legend-band\x22,key:\x22value\x22,from:dataRef,encode:u},userEncode)}function legendGradientLabels(spec,config,userEncode,dataRef){var _\x3dlookup$jscomp$0(spec,config),vertical\x3d_.isVertical(),thickness\x3dencoder(_.gradientThickness()),\nlength\x3d_.gradientLength(),overlap\x3d_(\x22labelOverlap\x22),enter,update,adjust\x3d\x22\x22,encode\x3d{enter:enter\x3d{opacity:zero$jscomp$0},update:update\x3d{opacity:one,text:{field:\x22label\x22}},exit:{opacity:zero$jscomp$0}};addEncoders(encode,{fill:_(\x22labelColor\x22),fillOpacity:_(\x22labelOpacity\x22),font:_(\x22labelFont\x22),fontSize:_(\x22labelFontSize\x22),fontStyle:_(\x22labelFontStyle\x22),fontWeight:_(\x22labelFontWeight\x22),limit:value$jscomp$0(spec.labelLimit,config.gradientLabelLimit)});if(vertical){enter.align\x3d{value:\x22left\x22};enter.baseline\x3dupdate.baseline\x3d\n{signal:\x27datum.perc\\x3c\\x3d0?\x22bottom\x22:datum.perc\\x3e\\x3d1?\x22top\x22:\x22middle\x22\x27};vertical\x3d\x22y\x22;var v\x3d\x22x\x22;adjust\x3d\x221-\x22}else enter.align\x3dupdate.align\x3d{signal:\x27datum.perc\\x3c\\x3d0?\x22left\x22:datum.perc\\x3e\\x3d1?\x22right\x22:\x22center\x22\x27},enter.baseline\x3d{value:\x22top\x22},vertical\x3d\x22x\x22,v\x3d\x22y\x22;enter[vertical]\x3dupdate[vertical]\x3d{signal:adjust+\x22datum.perc\x22,mult:length};enter[v]\x3dupdate[v]\x3dthickness;thickness.offset\x3dvalue$jscomp$0(spec.labelOffset,config.gradientLabelOffset)||0;overlap\x3doverlap?{separation:_(\x22labelSeparation\x22),method:overlap,\norder:\x22datum.index\x22}:void 0;return guideMark({type:\x22text\x22,role:\x22legend-label\x22,style:\x22guide-label\x22,key:\x22value\x22,from:dataRef,encode:encode,overlap:overlap},userEncode)}function legendSymbolGroups(spec,config,userEncode,dataRef,columns){var _\x3dlookup$jscomp$0(spec,config),entries\x3duserEncode.entries,interactive\x3d!(!entries||!entries.interactive),name\x3dentries?entries.name:void 0,height\x3d_(\x22clipHeight\x22),symbolOffset\x3d_(\x22symbolOffset\x22),valueRef\x3d{data:\x22value\x22},xSignal\x3d\x22(\x22+columns+\x22) ? datum.offset : datum.size\x22,\nyEncode\x3dheight?encoder(height):{field:\x22size\x22},ncols\x3d\x22max(1, \x22+columns+\x22)\x22,enter,update;yEncode.mult\x3d.5;var encode\x3d{enter:enter\x3d{opacity:zero$jscomp$0,x:{signal:xSignal,mult:.5,offset:symbolOffset},y:yEncode},update:update\x3d{opacity:one,x:enter.x,y:enter.y},exit:{opacity:zero$jscomp$0}};var baseFill\x3dnull,baseStroke\x3dnull;spec.fill||(baseFill\x3dconfig.symbolBaseFillColor,baseStroke\x3dconfig.symbolBaseStrokeColor);addEncoders(encode,{fill:_(\x22symbolFillColor\x22,baseFill),shape:_(\x22symbolType\x22),size:_(\x22symbolSize\x22),\nstroke:_(\x22symbolStrokeColor\x22,baseStroke),strokeDash:_(\x22symbolDash\x22),strokeDashOffset:_(\x22symbolDashOffset\x22),strokeWidth:_(\x22symbolStrokeWidth\x22)},{opacity:_(\x22symbolOpacity\x22)});LegendScales.forEach(function(scale){spec[scale]\x26\x26(update[scale]\x3denter[scale]\x3d{scale:spec[scale],field:\x22value\x22})});config\x3dguideMark({type:\x22symbol\x22,role:\x22legend-symbol\x22,key:\x22value\x22,from:valueRef,clip:height?!0:void 0,encode:encode},userEncode.symbols);encode\x3dencoder(symbolOffset);encode.offset\x3d_(\x22labelOffset\x22);encode\x3d{enter:enter\x3d\n{opacity:zero$jscomp$0,x:{signal:xSignal,offset:encode},y:yEncode},update:update\x3d{opacity:one,text:{field:\x22label\x22},x:enter.x,y:enter.y},exit:{opacity:zero$jscomp$0}};addEncoders(encode,{align:_(\x22labelAlign\x22),baseline:_(\x22labelBaseline\x22),fill:_(\x22labelColor\x22),fillOpacity:_(\x22labelOpacity\x22),font:_(\x22labelFont\x22),fontSize:_(\x22labelFontSize\x22),fontStyle:_(\x22labelFontStyle\x22),fontWeight:_(\x22labelFontWeight\x22),limit:_(\x22labelLimit\x22)});userEncode\x3dguideMark({type:\x22text\x22,role:\x22legend-label\x22,style:\x22guide-label\x22,key:\x22value\x22,\nfrom:valueRef,encode:encode},userEncode.labels);encode\x3d{enter:{noBound:{value:!height},width:zero$jscomp$0,height:height?encoder(height):zero$jscomp$0,opacity:zero$jscomp$0},exit:{opacity:zero$jscomp$0},update:update\x3d{opacity:one,row:{signal:null},column:{signal:null}}};_.isVertical(!0)?(_\x3d\x22ceil(item.mark.items.length / \x22+ncols+\x22)\x22,update.row.signal\x3d\x22datum.index%\x22+_,update.column.signal\x3d\x22floor(datum.index / \x22+_+\x22)\x22,_\x3d{field:[\x22row\x22,\x22datum.index\x22]}):(update.row.signal\x3d\x22floor(datum.index / \x22+ncols+\x22)\x22,\nupdate.column.signal\x3d\x22datum.index % \x22+ncols,_\x3d{field:\x22datum.index\x22});update.column.signal\x3d\x22(\x22+columns+\x22)?\x22+update.column.signal+\x22:datum.index\x22;dataRef\x3d{facet:{data:dataRef,name:\x22value\x22,groupby:\x22index\x22}};return guideGroup({role:\x22scope\x22,from:dataRef,encode:extendEncode(encode,entries,Skip),marks:[config,userEncode],name:name,interactive:interactive,sort:_})}function legendSymbolLayout(spec,config){spec\x3dlookup$jscomp$0(spec,config);return{align:spec(\x22gridAlign\x22),columns:spec.entryColumns(),center:{row:!0,\ncolumn:!1},padding:{row:spec(\x22rowPadding\x22),column:spec(\x22columnPadding\x22)}}}function legendTitle(spec,config,userEncode,dataRef){config\x3dlookup$jscomp$0(spec,config);var encode\x3d{enter:{opacity:zero$jscomp$0},update:{opacity:one,x:{field:{group:\x22padding\x22}},y:{field:{group:\x22padding\x22}}},exit:{opacity:zero$jscomp$0}};addEncoders(encode,{orient:config(\x22titleOrient\x22),_anchor:config(\x22titleAnchor\x22),anchor:{signal:\x27item._anchor || ((item.orient \\x3d\\x3d\\x3d \x22left\x22 || item.orient \\x3d\\x3d\\x3d \x22right\x22) ? \x22middle\x22 : \x22start\x22)\x27},\nangle:{signal:\x27datum.vgrad \\x26\\x26 (item.orient \\x3d\\x3d\\x3d \x22left\x22 || item.orient \\x3d\\x3d\\x3d \x22right\x22) ? (item.orient \\x3d\\x3d\\x3d \x22left\x22 ? -90 : 90) : 0\x27},align:{signal:exprAlign},baseline:{signal:exprBaseline},text:spec.title,fill:config(\x22titleColor\x22),fillOpacity:config(\x22titleOpacity\x22),font:config(\x22titleFont\x22),fontSize:config(\x22titleFontSize\x22),fontStyle:config(\x22titleFontStyle\x22),fontWeight:config(\x22titleFontWeight\x22),limit:config(\x22titleLimit\x22),lineHeight:config(\x22titleLineHeight\x22)},{align:config(\x22titleAlign\x22),\nbaseline:config(\x22titleBaseline\x22)});return guideMark({type:\x22text\x22,role:\x22legend-title\x22,style:\x22guide-title\x22,from:dataRef,encode:encode},userEncode)}function clip$jscomp$0(clip,scope){var expr;vegaUtil.isObject(clip)\x26\x26(clip.signal?expr\x3dclip.signal:clip.path?expr\x3d\x22pathShape(\x22+param$jscomp$0(clip.path)+\x22)\x22:clip.sphere\x26\x26(expr\x3d\x22geoShape(\x22+param$jscomp$0(clip.sphere)+\x27, {type: \x22Sphere\x22})\x27));return expr?scope.signalRef(expr):!!clip}function param$jscomp$0(value){return vegaUtil.isObject(value)\x26\x26value.signal?\nvalue.signal:vegaUtil.stringValue(value)}function getRole(spec){var role\x3dspec.role||\x22\x22;return role.indexOf(\x22axis\x22)\x26\x26role.indexOf(\x22legend\x22)\x26\x26role.indexOf(\x22title\x22)?\x22group\x22\x3d\x3d\x3dspec.type?\x22scope\x22:role||\x22mark\x22:role}function definition(spec){return{marktype:spec.type,name:spec.name||void 0,role:spec.role||getRole(spec),zindex:+spec.zindex||void 0,aria:spec.aria,description:spec.description}}function interactive$jscomp$0(spec,scope){return spec\x26\x26spec.signal?scope.signalRef(spec.signal):!1\x3d\x3d\x3dspec?!1:!0}function parseTransform(spec,\nscope){var def\x3dvegaDataflow.definition(spec.type);def||vegaUtil.error(\x22Unrecognized transform type: \x22+vegaUtil.stringValue(spec.type));var JSCompiler_inline_result\x3ddef.type.toLowerCase();var params\x3dparseParameters(def,spec,scope);JSCompiler_inline_result\x3dnew Entry(JSCompiler_inline_result,null,params,void 0);spec.signal\x26\x26scope.addSignal(spec.signal,scope.proxy(JSCompiler_inline_result));JSCompiler_inline_result.metadata\x3ddef.metadata||{};return JSCompiler_inline_result}function parseParameters(def,\nspec,scope){for(var params\x3d{},n\x3ddef.params.length,i\x3d0;i\x3cn;++i){var pdef\x3ddef.params[i];params[pdef.name]\x3dparseParameter$1(pdef,spec,scope)}return params}function parseParameter$1(def,spec,scope){var type\x3ddef.type,value\x3dspec[def.name];if(\x22index\x22\x3d\x3d\x3dtype)return parseIndexParameter(def,spec,scope);if(void 0\x3d\x3d\x3dvalue)def.required\x26\x26vegaUtil.error(\x22Missing required \x22+vegaUtil.stringValue(spec.type)+\x22 parameter: \x22+vegaUtil.stringValue(def.name));else return\x22param\x22\x3d\x3d\x3dtype?parseSubParameters(def,spec,scope):\n\x22projection\x22\x3d\x3d\x3dtype?scope.projectionRef(spec[def.name]):def.array\x26\x26!isSignal(value)?value.map(function(v){return parameterValue(def,v,scope)}):parameterValue(def,value,scope)}function parameterValue(def,value,scope){var type\x3ddef.type;return isSignal(value)?\x22expr\x22\x3d\x3d\x3dtype?vegaUtil.error(\x22Expression references can not be signals.\x22):\x22field\x22\x3d\x3d\x3dtype?scope.fieldRef(value):\x22compare\x22\x3d\x3d\x3dtype?scope.compareRef(value):scope.signalRef(value.signal):(def\x3ddef.expr||\x22field\x22\x3d\x3d\x3dtype)\x26\x26value\x26\x26value.expr?scope.exprRef(value.expr,\nvalue.as):def\x26\x26value\x26\x26value.field?fieldRef(value.field,value.as):\x22expr\x22\x3d\x3d\x3dtype?vegaFunctions.parseExpression(value,scope):\x22data\x22\x3d\x3d\x3dtype?ref$jscomp$0(scope.getData(value).values):\x22field\x22\x3d\x3d\x3dtype?fieldRef(value):\x22compare\x22\x3d\x3d\x3dtype?scope.compareRef(value):value}function parseIndexParameter(def,spec,scope){vegaUtil.isString(spec.from)||vegaUtil.error(\x27Lookup \x22from\x22 parameter must be a string literal.\x27);return scope.getData(spec.from).lookupRef(scope,spec.key)}function parseSubParameters(def,spec,scope){spec\x3d\nspec[def.name];return def.array?(vegaUtil.isArray(spec)||vegaUtil.error(\x22Expected an array of sub-parameters. Instead: \x22+vegaUtil.stringValue(spec)),spec.map(function(v){return parseSubParameter(def,v,scope)})):parseSubParameter(def,spec,scope)}function parseSubParameter(def,value,scope){for(var n\x3ddef.params.length,pdef,i\x3d0;i\x3cn;++i){pdef\x3ddef.params[i];for(var k in pdef.key)if(pdef.key[k]!\x3d\x3dvalue[k]){pdef\x3dnull;break}if(pdef)break}pdef||vegaUtil.error(\x22Unsupported parameter: \x22+vegaUtil.stringValue(value));\ndef\x3dvegaUtil.extend(parseParameters(pdef,value,scope),pdef.key);return ref$jscomp$0(scope.add(Params(def)))}function parseData(from,group,scope){var facet,parent;if(!from)var dataRef\x3dref$jscomp$0(scope.add(Collect(null,[{}])));else if(facet\x3dfrom.facet)if(group||vegaUtil.error(\x22Only group marks can be faceted.\x22),null!\x3dfacet.field)dataRef\x3dparent\x3dgetDataRef(facet,scope);else{from.data?parent\x3dref$jscomp$0(scope.getData(from.data).aggregate):(group\x3dparseTransform(vegaUtil.extend({type:\x22aggregate\x22,groupby:vegaUtil.array(facet.groupby)},\nfacet.aggregate),scope),group.params.key\x3dscope.keyRef(facet.groupby),group.params.pulse\x3dgetDataRef(facet,scope),dataRef\x3dparent\x3dref$jscomp$0(scope.add(group)));var key\x3dscope.keyRef(facet.groupby,!0)}dataRef||(dataRef\x3dgetDataRef(from,scope));return{key:key,pulse:dataRef,parent:parent}}function getDataRef(from,scope){return from.$ref?from:from.data\x26\x26from.data.$ref?from.data:ref$jscomp$0(scope.getData(from.data).output)}function DataScope(scope,input,output,values,aggr){this.scope\x3dscope;this.input\x3dinput;\nthis.output\x3doutput;this.values\x3dvalues;this.aggregate\x3daggr;this.index\x3d{}}function fieldKey(field){return vegaUtil.isString(field)?field:null}function addSortField(scope,p,sort){var as\x3daggrField(sort.op,sort.field),s;if(p.ops)for(var i\x3d0,n\x3dp.as.length;i\x3cn;++i){if(p.as[i]\x3d\x3d\x3das)return}else p.ops\x3d[\x22count\x22],p.fields\x3d[null],p.as\x3d[\x22count\x22];sort.op\x26\x26(p.ops.push((s\x3dsort.op.signal)?scope.signalRef(s):sort.op),p.fields.push(scope.fieldRef(sort.field)),p.as.push(as))}function cache$jscomp$0(scope,ds,name,optype,\nfield,counts,index){name\x3dds[name]||(ds[name]\x3d{});var JSCompiler_inline_result\x3dvegaUtil.isObject(counts)?(\x22descending\x22\x3d\x3d\x3dcounts.order?\x22-\x22:\x22+\x22)+aggrField(counts.op,counts.field):\x22\x22;var k\x3dfieldKey(field);if(null!\x3dk){scope\x3dds.scope;k+\x3dJSCompiler_inline_result?\x22|\x22+JSCompiler_inline_result:\x22\x22;var v\x3dname[k]}v||(v\x3dcounts?{field:keyFieldRef,pulse:ds.countsRef(scope,field,counts)}:{field:scope.fieldRef(field),pulse:ref$jscomp$0(ds.output)},JSCompiler_inline_result\x26\x26(v.sort\x3dscope.sortRef(counts)),scope\x3dscope.add(new Entry(optype,\nvoid 0,v,void 0)),index\x26\x26(ds.index[field]\x3dscope),v\x3dref$jscomp$0(scope),null!\x3dk\x26\x26(name[k]\x3dv));return v}function parseFacet(spec,scope,group){var facet\x3dspec.from.facet,name\x3dfacet.name,data\x3dgetDataRef(facet,scope),op;facet.name||vegaUtil.error(\x22Facet must have a name: \x22+vegaUtil.stringValue(facet));facet.data||vegaUtil.error(\x22Facet must reference a data set: \x22+vegaUtil.stringValue(facet));facet.field?op\x3dscope.add(PreFacet({field:scope.fieldRef(facet.field),pulse:data})):facet.groupby?op\x3dscope.add(Facet({key:scope.keyRef(facet.groupby),\ngroup:ref$jscomp$0(scope.proxy(group.parent)),pulse:data})):vegaUtil.error(\x22Facet must specify groupby or field: \x22+vegaUtil.stringValue(facet));scope\x3dscope.fork();group\x3dscope.add(Collect());facet\x3dscope.add(Sieve({pulse:ref$jscomp$0(group)}));scope.addData(name,new DataScope(scope,group,group,facet));scope.addSignal(\x22parent\x22,null);op.params.subflow\x3d{$subflow:scope.parse(spec).toRuntime()}}function parseSubflow(spec,scope,input){input\x3dscope.add(PreFacet({pulse:input.pulse}));scope\x3dscope.fork();scope.add(Sieve());\nscope.addSignal(\x22parent\x22,null);input.params.subflow\x3d{$subflow:scope.parse(spec).toRuntime()}}function parseTrigger(spec,scope,name){var remove\x3dspec.remove,insert\x3dspec.insert,toggle\x3dspec.toggle,modify\x3dspec.modify,values\x3dspec.values,op\x3dscope.add(new Entry(\x22operator\x22,void 0,void 0,void 0));spec\x3d\x22if(\x22+spec.trigger+\x27,modify(\x22\x27+name+\x27\x22,\x27+[insert,remove,toggle,modify,values].map(function(_){return null\x3d\x3d_?\x22null\x22:_}).join(\x22,\x22)+\x22),0)\x22;scope\x3dvegaFunctions.parseExpression(spec,scope);op.update\x3dscope.$expr;op.params\x3d\nscope.$params}function parseMark(spec,scope){var role\x3dgetRole(spec),group\x3d\x22group\x22\x3d\x3d\x3dspec.type,facet\x3dspec.from\x26\x26spec.from.facet,overlap\x3dspec.overlap,layout\x3dspec.layout||\x22scope\x22\x3d\x3d\x3drole||\x22frame\x22\x3d\x3d\x3drole,store,enc,nested\x3d\x22mark\x22\x3d\x3d\x3drole||layout||facet,input\x3dparseData(spec.from,group,scope);var op\x3dscope.add(DataJoin({key:input.key||(spec.key?fieldRef(spec.key):void 0),pulse:input.pulse,clean:!group}));var joinRef\x3dref$jscomp$0(op);op\x3dstore\x3dscope.add(Collect({pulse:joinRef}));op\x3dscope.add(Mark({markdef:definition(spec),\ninteractive:interactive$jscomp$0(spec.interactive,scope),clip:clip$jscomp$0(spec.clip,scope),context:{$context:!0},groups:scope.lookup(),parent:scope.signals.parent?scope.signalRef(\x22parent\x22):null,index:scope.markpath(),pulse:ref$jscomp$0(op)}));var boundRef\x3dref$jscomp$0(op);op\x3denc\x3dscope.add(Encode(parseEncode(spec.encode,spec.type,role,spec.style,scope,{mod:!1,pulse:boundRef})));op.params.parent\x3dscope.encode();spec.transform\x26\x26spec.transform.forEach(function(_){_\x3dparseTransform(_,scope);var md\x3d_.metadata;\n(md.generates||md.changes)\x26\x26vegaUtil.error(\x22Mark transforms should not generate new data.\x22);md.nomod||(enc.params.mod\x3d!0);_.params.pulse\x3dref$jscomp$0(op);scope.add(op\x3d_)});spec.sort\x26\x26(op\x3dscope.add(SortItems({sort:scope.compareRef(spec.sort),pulse:ref$jscomp$0(op)})));role\x3dref$jscomp$0(op);if(facet||layout){layout\x3dscope.add(ViewLayout({layout:scope.objectProperty(spec.layout),legends:scope.legends,mark:boundRef,pulse:role}));var layoutRef\x3dref$jscomp$0(layout)}var bound\x3dscope.add(Bound({mark:boundRef,\npulse:layoutRef||role}));boundRef\x3dref$jscomp$0(bound);if(group){if(nested){var ops\x3dscope.operators;ops.pop();layout\x26\x26ops.pop()}scope.pushState(role,layoutRef||boundRef,joinRef);facet?parseFacet(spec,scope,input):nested?parseSubflow(spec,scope,input):scope.parse(spec);scope.popState();nested\x26\x26(layout\x26\x26ops.push(layout),ops.push(bound))}overlap\x26\x26(boundRef\x3dparseOverlap(overlap,boundRef,scope));group\x3dscope.add(Render({pulse:boundRef}));facet\x3dscope.add(Sieve({pulse:ref$jscomp$0(group)},void 0,scope.parent()));\nif(null!\x3dspec.name){var name\x3dspec.name;scope.addData(name,new DataScope(scope,store,group,facet));spec.on\x26\x26spec.on.forEach(function(on){(on.insert||on.remove||on.toggle)\x26\x26vegaUtil.error(\x22Marks only support modify triggers.\x22);parseTrigger(on,scope,name)})}}function parseOverlap(overlap,source,scope){var method\x3doverlap.method,bound\x3doverlap.bound,sep\x3doverlap.separation;source\x3d{separation:isSignal(sep)?scope.signalRef(sep.signal):sep,method:isSignal(method)?scope.signalRef(method.signal):method,pulse:source};\noverlap.order\x26\x26(source.sort\x3dscope.compareRef({field:overlap.order}));bound\x26\x26(overlap\x3dbound.tolerance,source.boundTolerance\x3disSignal(overlap)?scope.signalRef(overlap.signal):+overlap,source.boundScale\x3dscope.scaleRef(bound.scale),source.boundOrient\x3dbound.orient);return ref$jscomp$0(scope.add(Overlap(source)))}function parseLegend(spec,scope){var config\x3dscope.config.legend,encode\x3dspec.encode||{},_\x3dlookup$jscomp$0(spec,config),legendEncode\x3dencode.legend||{},name\x3dlegendEncode.name||void 0,interactive\x3d\nlegendEncode.interactive,style\x3dlegendEncode.style,scales\x3d{},scale\x3d0,params;LegendScales.forEach(function(s){return spec[s]?(scales[s]\x3dspec[s],scale\x3dscale||spec[s]):0});scale||vegaUtil.error(\x22Missing valid scale for legend.\x22);var children\x3dlegendType(spec,scope.scaleType(scale));var datum\x3d{title:null!\x3dspec.title,scales:scales,type:children,vgrad:\x22symbol\x22!\x3d\x3dchildren\x26\x26_.isVertical()},dataRef\x3dref$jscomp$0(scope.add(Collect(null,[datum]))),entryRef\x3dref$jscomp$0(scope.add(LegendEntries(params\x3d{type:children,\nscale:scope.scaleRef(scale),count:scope.objectProperty(_(\x22tickCount\x22)),limit:scope.property(_(\x22symbolLimit\x22)),values:scope.objectProperty(spec.values),minstep:scope.property(spec.tickMinStep),formatType:scope.property(spec.formatType),formatSpecifier:scope.property(spec.format)})));if(\x22gradient\x22\x3d\x3d\x3dchildren)children\x3d[legendGradient(spec,scale,config,encode.gradient),legendGradientLabels(spec,config,encode.labels,entryRef)],params.count\x3dparams.count||scope.signalRef(\x22max(2,2*floor((\x22+deref(_.gradientLength())+\n\x22)/100))\x22);else if(\x22discrete\x22\x3d\x3d\x3dchildren)children\x3d[legendGradientDiscrete(spec,scale,config,encode.gradient,entryRef),legendGradientLabels(spec,config,encode.labels,entryRef)];else{var entryLayout\x3dlegendSymbolLayout(spec,config);children\x3d[legendSymbolGroups(spec,config,encode,entryRef,deref(entryLayout.columns))];params.size\x3dsizeExpression(spec,scope,children[0].marks)}children\x3d[guideGroup({role:\x22legend-entry\x22,from:dataRef,encode:{enter:{x:{value:0},y:{value:0}}},marks:children,layout:entryLayout,\ninteractive:interactive})];datum.title\x26\x26children.push(legendTitle(spec,config,encode.title,dataRef));return parseMark(guideGroup({role:\x22legend\x22,from:dataRef,encode:extendEncode(buildLegendEncode(_,spec,config),legendEncode,Skip),marks:children,aria:_(\x22aria\x22),description:_(\x22description\x22),zindex:_(\x22zindex\x22),name:name,interactive:interactive,style:style}),scope)}function legendType(spec,scaleType){var type\x3dspec.type||\x22symbol\x22;spec.type||1!\x3d\x3dscaleCount(spec)||!spec.fill\x26\x26!spec.stroke||(type\x3dvegaScale.isContinuous(scaleType)?\n\x22gradient\x22:vegaScale.isDiscretizing(scaleType)?\x22discrete\x22:\x22symbol\x22);return\x22gradient\x22!\x3d\x3dtype?type:vegaScale.isDiscretizing(scaleType)?\x22discrete\x22:\x22gradient\x22}function scaleCount(spec){return LegendScales.reduce(function(count,type){return count+(spec[type]?1:0)},0)}function buildLegendEncode(_,spec,config){var encode\x3d{enter:{},update:{}};addEncoders(encode,{orient:_(\x22orient\x22),offset:_(\x22offset\x22),padding:_(\x22padding\x22),titlePadding:_(\x22titlePadding\x22),cornerRadius:_(\x22cornerRadius\x22),fill:_(\x22fillColor\x22),stroke:_(\x22strokeColor\x22),\nstrokeWidth:config.strokeWidth,strokeDash:config.strokeDash,x:_(\x22legendX\x22),y:_(\x22legendY\x22),format:spec.format,formatType:spec.formatType});return encode}function sizeExpression(spec,scope,marks){var size\x3dderef(getChannel(\x22size\x22,spec,marks));spec\x3dderef(getChannel(\x22strokeWidth\x22,spec,marks));(marks\x3dgetEncoding(\x22fontSize\x22,marks[1].encode))||(marks\x3d(marks\x3dscope.config.style[\x22guide-label\x22])\x26\x26marks.fontSize);marks\x3dderef(marks);return vegaFunctions.parseExpression(\x22max(ceil(sqrt(\x22+size+\x22)+\x22+spec+\x22),\x22+marks+\n\x22)\x22,scope)}function getChannel(name,spec,marks){return spec[name]?\x27scale(\x22\x27+spec[name]+\x27\x22,datum)\x27:getEncoding(name,marks[0].encode)}function parseTitle(spec,scope){spec\x3dvegaUtil.isString(spec)?{text:spec}:spec;var _\x3dlookup$jscomp$0(spec,scope.config.title),encode\x3dspec.encode||{},userEncode\x3dencode.group||{},name\x3duserEncode.name||void 0,interactive\x3duserEncode.interactive,style\x3duserEncode.style,children\x3d[],dataRef\x3dref$jscomp$0(scope.add(Collect(null,[{}])));children.push(buildTitle(spec,_,titleEncode(spec),\ndataRef));spec.subtitle\x26\x26children.push(buildSubTitle(spec,_,encode.subtitle,dataRef));spec\x3d{enter:{},update:{}};addEncoders(spec,{orient:_(\x22orient\x22),anchor:_(\x22anchor\x22),align:{signal:alignExpr},angle:{signal:\x27item.orient\\x3d\\x3d\\x3d\x22left\x22?-90:item.orient\\x3d\\x3d\\x3d\x22right\x22?90:0\x27},limit:_(\x22limit\x22),frame:_(\x22frame\x22),offset:_(\x22offset\x22)||0,padding:_(\x22subtitlePadding\x22)});userEncode\x3dextendEncode(spec,userEncode,Skip);return parseMark(guideGroup({role:\x22title\x22,from:dataRef,encode:userEncode,marks:children,\naria:_(\x22aria\x22),description:_(\x22description\x22),zindex:_(\x22zindex\x22),name:name,interactive:interactive,style:style}),scope)}function titleEncode(spec){var encode\x3dspec.encode;return encode\x26\x26encode.title||vegaUtil.extend({name:spec.name,interactive:spec.interactive,style:spec.style},encode)}function buildTitle(spec,_,userEncode,dataRef){var zero\x3d{value:0};zero\x3d{enter:{opacity:zero},update:{opacity:{value:1}},exit:{opacity:zero}};addEncoders(zero,{text:spec.text,align:{signal:\x22item.mark.group.align\x22},angle:{signal:\x22item.mark.group.angle\x22},\nlimit:{signal:\x22item.mark.group.limit\x22},baseline:\x22top\x22,dx:_(\x22dx\x22),dy:_(\x22dy\x22),fill:_(\x22color\x22),font:_(\x22font\x22),fontSize:_(\x22fontSize\x22),fontStyle:_(\x22fontStyle\x22),fontWeight:_(\x22fontWeight\x22),lineHeight:_(\x22lineHeight\x22)},{align:_(\x22align\x22),angle:_(\x22angle\x22),baseline:_(\x22baseline\x22)});return guideMark({type:\x22text\x22,role:\x22title-text\x22,style:\x22group-title\x22,from:dataRef,encode:zero},userEncode)}function buildSubTitle(spec,_,userEncode,dataRef){var zero\x3d{value:0};zero\x3d{enter:{opacity:zero},update:{opacity:{value:1}},exit:{opacity:zero}};\naddEncoders(zero,{text:spec.subtitle,align:{signal:\x22item.mark.group.align\x22},angle:{signal:\x22item.mark.group.angle\x22},limit:{signal:\x22item.mark.group.limit\x22},baseline:\x22top\x22,dx:_(\x22dx\x22),dy:_(\x22dy\x22),fill:_(\x22subtitleColor\x22),font:_(\x22subtitleFont\x22),fontSize:_(\x22subtitleFontSize\x22),fontStyle:_(\x22subtitleFontStyle\x22),fontWeight:_(\x22subtitleFontWeight\x22),lineHeight:_(\x22subtitleLineHeight\x22)},{align:_(\x22align\x22),angle:_(\x22angle\x22),baseline:_(\x22baseline\x22)});return guideMark({type:\x22text\x22,role:\x22title-subtitle\x22,style:\x22group-subtitle\x22,\nfrom:dataRef,encode:zero},userEncode)}function parseData$1(data,scope){var transforms\x3d[];data.transform\x26\x26data.transform.forEach(function(tx){transforms.push(parseTransform(tx,scope))});data.on\x26\x26data.on.forEach(function(on){parseTrigger(on,scope,data.name)});scope.addDataPipeline(data.name,analyze(data,scope,transforms))}function analyze(data,scope,ops){var output\x3d[],source\x3dnull,modify\x3d!1,generate\x3d!1,upstream,n;data.values?hasSignal(data.values)||hasSignal(data.format)?(output.push(load(scope,data)),\noutput.push(source\x3dcollect())):output.push(source\x3dcollect({$ingest:data.values,$format:data.format})):data.url?hasSignal(data.url)||hasSignal(data.format)?(output.push(load(scope,data)),output.push(source\x3dcollect())):output.push(source\x3dcollect({$request:data.url,$format:data.format})):data.source\x26\x26(source\x3dupstream\x3dvegaUtil.array(data.source).map(function(d){return ref$jscomp$0(scope.getData(d).output)}),output.push(null));data\x3d0;for(n\x3dops.length;data\x3cn;++data){var t\x3dops[data];var m\x3dt.metadata;source||\nm.source||output.push(source\x3dcollect());output.push(t);m.generates\x26\x26(generate\x3d!0);m.modifies\x26\x26!generate\x26\x26(modify\x3d!0);m.source?source\x3dt:m.changes\x26\x26(source\x3dnull)}upstream\x26\x26(n\x3dupstream.length-1,output[0]\x3dRelay({derive:modify,pulse:n?upstream:upstream[0]}),(modify||n)\x26\x26output.splice(1,0,collect()));source||output.push(collect());output.push(Sieve({}));return output}function collect(values){values\x3dCollect({},values);values.metadata\x3d{source:!0};return values}function load(scope,data){return Load({url:data.url?\nscope.property(data.url):void 0,async:data.async?scope.property(data.async):void 0,values:data.values?scope.property(data.values):void 0,format:scope.objectProperty(data.format)})}function fallback(prop,config,axisConfig,style){if(config\x26\x26vegaUtil.hasOwnProperty(config,prop))return config[prop];if(vegaUtil.hasOwnProperty(axisConfig,prop))return axisConfig[prop];if(prop.startsWith(\x22title\x22)){switch(prop){case \x22titleColor\x22:var styleProp\x3d\x22fill\x22;break;case \x22titleFont\x22:case \x22titleFontSize\x22:case \x22titleFontWeight\x22:styleProp\x3d\nprop[5].toLowerCase()+prop.slice(6)}return style[\x22guide-title\x22][styleProp]}if(prop.startsWith(\x22label\x22)){switch(prop){case \x22labelColor\x22:styleProp\x3d\x22fill\x22;break;case \x22labelFont\x22:case \x22labelFontSize\x22:styleProp\x3dprop[5].toLowerCase()+prop.slice(6)}return style[\x22guide-label\x22][styleProp]}return null}function keys(objects){var map\x3d{};objects\x3d$jscomp.makeIterator(objects);for(var $jscomp$key$obj\x3dobjects.next();!$jscomp$key$obj.done;$jscomp$key$obj\x3dobjects.next())if($jscomp$key$obj\x3d$jscomp$key$obj.value)for(var key in $jscomp$key$obj)map[key]\x3d\n1;return Object.keys(map)}function axisDomain(spec,config,userEncode,dataRef){var _\x3dlookup$jscomp$0(spec,config);config\x3dspec.orient;var enter,update,encode\x3d{enter:enter\x3d{opacity:zero$jscomp$0},update:update\x3d{opacity:one},exit:{opacity:zero$jscomp$0}};addEncoders(encode,{stroke:_(\x22domainColor\x22),strokeCap:_(\x22domainCap\x22),strokeDash:_(\x22domainDash\x22),strokeDashOffset:_(\x22domainDashOffset\x22),strokeWidth:_(\x22domainWidth\x22),strokeOpacity:_(\x22domainOpacity\x22)});_\x3d{scale:spec.scale,range:0};spec\x3d{scale:spec.scale,\nrange:1};enter.x\x3dupdate.x\x3difX(config,_,zero$jscomp$0);enter.x2\x3dupdate.x2\x3difX(config,spec);enter.y\x3dupdate.y\x3difY(config,_,zero$jscomp$0);enter.y2\x3dupdate.y2\x3difY(config,spec);return guideMark({type:\x22rule\x22,role:\x22axis-domain\x22,from:dataRef,encode:encode},userEncode)}function axisGrid(spec,config,userEncode,dataRef,band){var _\x3dlookup$jscomp$0(spec,config);config\x3dspec.orient;var vscale\x3dspec.gridScale,sign\x3dgetSign(config,1,-1);a:{var JSCompiler_inline_result\x3dspec.offset;if(1!\x3d\x3dsign)if(vegaUtil.isObject(JSCompiler_inline_result)){for(var entry$592\x3d\nJSCompiler_inline_result\x3dvegaUtil.extend({},JSCompiler_inline_result);null!\x3dentry$592.mult;)if(vegaUtil.isObject(entry$592.mult))entry$592\x3dentry$592.mult\x3dvegaUtil.extend({},entry$592.mult);else{entry$592.mult\x3disSignal(sign)?{signal:\x22(\x22+entry$592.mult+\x22) * (\x22+sign.signal+\x22)\x22}:entry$592.mult*sign;break a}entry$592.mult\x3dsign}else JSCompiler_inline_result\x3disSignal(sign)?{signal:\x22(\x22+sign.signal+\x22) * (\x22+(JSCompiler_inline_result||0)+\x22)\x22}:sign*(JSCompiler_inline_result||0)}var offset\x3dJSCompiler_inline_result,\nupdate,encode\x3d{enter:JSCompiler_inline_result\x3d{opacity:zero$jscomp$0},update:update\x3d{opacity:one},exit:entry$592\x3d{opacity:zero$jscomp$0}};addEncoders(encode,{stroke:_(\x22gridColor\x22),strokeCap:_(\x22gridCap\x22),strokeDash:_(\x22gridDash\x22),strokeDashOffset:_(\x22gridDashOffset\x22),strokeOpacity:_(\x22gridOpacity\x22),strokeWidth:_(\x22gridWidth\x22)});spec\x3d{scale:spec.scale,field:\x22value\x22,band:band.band,extra:band.extra,offset:band.offset,round:_(\x22tickRound\x22)};_\x3difX(config,{signal:\x22height\x22},{signal:\x22width\x22});band\x3dvscale?{scale:vscale,\nrange:0,mult:sign,offset:offset}:{value:0,offset:offset};vscale\x3dvscale?{scale:vscale,range:1,mult:sign,offset:offset}:vegaUtil.extend(_,{mult:sign,offset:offset});JSCompiler_inline_result.x\x3dupdate.x\x3difX(config,spec,band);JSCompiler_inline_result.y\x3dupdate.y\x3difY(config,spec,band);JSCompiler_inline_result.x2\x3dupdate.x2\x3difY(config,vscale);JSCompiler_inline_result.y2\x3dupdate.y2\x3difX(config,vscale);entry$592.x\x3difX(config,spec);entry$592.y\x3difY(config,spec);return guideMark({type:\x22rule\x22,role:\x22axis-grid\x22,key:\x22value\x22,\nfrom:dataRef,encode:encode},userEncode)}function axisTicks(spec,config,userEncode,dataRef,size,band){var _\x3dlookup$jscomp$0(spec,config);config\x3dspec.orient;var sign\x3dgetSign(config,-1,1),enter,exit,update,encode\x3d{enter:enter\x3d{opacity:zero$jscomp$0},update:update\x3d{opacity:one},exit:exit\x3d{opacity:zero$jscomp$0}};addEncoders(encode,{stroke:_(\x22tickColor\x22),strokeCap:_(\x22tickCap\x22),strokeDash:_(\x22tickDash\x22),strokeDashOffset:_(\x22tickDashOffset\x22),strokeOpacity:_(\x22tickOpacity\x22),strokeWidth:_(\x22tickWidth\x22)});size\x3d\nencoder(size);size.mult\x3dsign;spec\x3d{scale:spec.scale,field:\x22value\x22,band:band.band,extra:band.extra,offset:band.offset,round:_(\x22tickRound\x22)};update.y\x3denter.y\x3difX(config,zero$jscomp$0,spec);update.y2\x3denter.y2\x3difX(config,size);exit.x\x3difX(config,spec);update.x\x3denter.x\x3difY(config,zero$jscomp$0,spec);update.x2\x3denter.x2\x3difY(config,size);exit.y\x3difY(config,spec);return guideMark({type:\x22rule\x22,role:\x22axis-tick\x22,key:\x22value\x22,from:dataRef,encode:encode},userEncode)}function flushExpr(scale,threshold,a,b,c){return{signal:\x27flush(range(\x22\x27+\nscale+\x27\x22), scale(\x22\x27+scale+\x27\x22, datum.value), \x27+threshold+\x22,\x22+a+\x22,\x22+b+\x22,\x22+c+\x22)\x22}}function axisLabels(spec,config,userEncode,dataRef,size,band){config\x3dlookup$jscomp$0(spec,config);var orient\x3dspec.orient;spec\x3dspec.scale;var sign\x3dgetSign(orient,-1,1),flush\x3dderef(config(\x22labelFlush\x22)),flushOffset\x3dderef(config(\x22labelFlushOffset\x22)),labelAlign\x3dconfig(\x22labelAlign\x22),labelBaseline\x3dconfig(\x22labelBaseline\x22),flushOn\x3d0\x3d\x3d\x3dflush||!!flush,tickSize\x3dencoder(size);tickSize.mult\x3dsign;tickSize.offset\x3dencoder(config(\x22labelPadding\x22)||\n0);tickSize.offset.mult\x3dsign;sign\x3d{scale:spec,field:\x22value\x22,band:.5,offset:extendOffset(band.offset,config(\x22labelOffset\x22))};band\x3dflushOn?flushExpr(spec,flush,\x27\x22left\x22\x27,\x27\x22right\x22\x27,\x27\x22center\x22\x27):{value:\x22center\x22};size\x3disSignal(orient)?ifExpr(orient.signal+\x22 \\x3d\\x3d\\x3d \x27right\x27\x22,\x22left\x22,\x22right\x22):\x22right\x22\x3d\x3d\x3dorient?{value:\x22left\x22}:{value:\x22right\x22};band\x3difX(orient,band,size);size\x3difX(orient,ifTop(orient,\x22bottom\x22,\x22top\x22),flushOn?flushExpr(spec,flush,\x27\x22top\x22\x27,\x27\x22bottom\x22\x27,\x27\x22middle\x22\x27):{value:\x22middle\x22});flush\x3dflushExpr(spec,\nflush,\x22-(\x22+flushOffset+\x22)\x22,flushOffset,0);flushOn\x3dflushOn\x26\x26flushOffset;tickSize\x3d{opacity:zero$jscomp$0,x:ifX(orient,sign,tickSize),y:ifY(orient,sign,tickSize)};tickSize\x3d{enter:tickSize,update:flushOffset\x3d{opacity:one,text:{field:\x22label\x22},x:tickSize.x,y:tickSize.y,align:band,baseline:size},exit:{opacity:zero$jscomp$0,x:tickSize.x,y:tickSize.y}};addEncoders(tickSize,{dx:!labelAlign\x26\x26flushOn?ifX(orient,flush):null,dy:!labelBaseline\x26\x26flushOn?ifY(orient,flush):null});addEncoders(tickSize,{angle:config(\x22labelAngle\x22),\nfill:config(\x22labelColor\x22),fillOpacity:config(\x22labelOpacity\x22),font:config(\x22labelFont\x22),fontSize:config(\x22labelFontSize\x22),fontWeight:config(\x22labelFontWeight\x22),fontStyle:config(\x22labelFontStyle\x22),limit:config(\x22labelLimit\x22),lineHeight:config(\x22labelLineHeight\x22)},{align:labelAlign,baseline:labelBaseline});labelAlign\x3dconfig(\x22labelBound\x22);labelBaseline\x3d(labelBaseline\x3dconfig(\x22labelOverlap\x22))||labelAlign?{separation:config(\x22labelSeparation\x22),method:labelBaseline,order:\x22datum.index\x22,bound:labelAlign?{scale:spec,\norient:orient,tolerance:labelAlign}:null}:void 0;flushOffset.align!\x3d\x3dband\x26\x26(flushOffset.align\x3dpatch(flushOffset.align,band));flushOffset.baseline!\x3d\x3dsize\x26\x26(flushOffset.baseline\x3dpatch(flushOffset.baseline,size));return guideMark({type:\x22text\x22,role:\x22axis-label\x22,style:\x22guide-label\x22,key:\x22value\x22,from:dataRef,encode:tickSize,overlap:labelBaseline},userEncode)}function axisTitle(spec,config,userEncode,dataRef){config\x3dlookup$jscomp$0(spec,config);var orient\x3dspec.orient,sign\x3dgetSign(orient,-1,1),enter,update,\nencode\x3d{enter:enter\x3d{opacity:zero$jscomp$0,anchor:encoder(config(\x22titleAnchor\x22,null)),align:{signal:alignExpr}},update:update\x3dvegaUtil.extend({},enter,{opacity:one,text:encoder(spec.title)}),exit:{opacity:zero$jscomp$0}};spec\x3d{signal:\x27lerp(range(\x22\x27+spec.scale+\x27\x22), \x27+anchorExpr(0,1,.5)+\x22)\x22};update.x\x3difX(orient,spec);update.y\x3difY(orient,spec);enter.angle\x3difX(orient,zero$jscomp$0,isSignal(sign)?{signal:\x22(\x22+sign.signal+\x22) * 90\x22}:{value:90*sign});enter.baseline\x3difX(orient,ifTop(orient,\x22bottom\x22,\x22top\x22),\n{value:\x22bottom\x22});update.angle\x3denter.angle;update.baseline\x3denter.baseline;addEncoders(encode,{fill:config(\x22titleColor\x22),fillOpacity:config(\x22titleOpacity\x22),font:config(\x22titleFont\x22),fontSize:config(\x22titleFontSize\x22),fontStyle:config(\x22titleFontStyle\x22),fontWeight:config(\x22titleFontWeight\x22),limit:config(\x22titleLimit\x22),lineHeight:config(\x22titleLineHeight\x22)},{align:config(\x22titleAlign\x22),angle:config(\x22titleAngle\x22),baseline:config(\x22titleBaseline\x22)});autoLayout(config,orient,encode,userEncode);encode.update.align\x3d\npatch(encode.update.align,enter.align);encode.update.angle\x3dpatch(encode.update.angle,enter.angle);encode.update.baseline\x3dpatch(encode.update.baseline,enter.baseline);return guideMark({type:\x22text\x22,role:\x22axis-title\x22,style:\x22guide-title\x22,from:dataRef,encode:encode},userEncode)}function autoLayout(_,orient,encode,userEncode){var auto\x3dfunction(value,dim){return null!\x3dvalue?(encode.update[dim]\x3dpatch(encoder(value),encode.update[dim]),!1):has(dim,userEncode)?!1:!0},autoY\x3dauto(_(\x22titleX\x22),\x22x\x22);_\x3dauto(_(\x22titleY\x22),\n\x22y\x22);encode.enter.auto\x3d_\x3d\x3d\x3dautoY?encoder(_):ifX(orient,encoder(_),encoder(autoY))}function parseScope(spec,scope,preprocessed){var signals\x3dvegaUtil.array(spec.signals),scales\x3dvegaUtil.array(spec.scales);preprocessed||signals.forEach(function(_){return parseSignal(_,scope)});vegaUtil.array(spec.projections).forEach(function(_){var config\x3dscope.config.projection||{},params\x3d{},name;for(name in _)\x22name\x22!\x3d\x3dname\x26\x26(params[name]\x3dparseParameter(_[name],name,scope));for(var name$590 in config)null\x3d\x3dparams[name$590]\x26\x26\n(params[name$590]\x3dparseParameter(config[name$590],name$590,scope));scope.addProjection(_.name,params)});scales.forEach(function(_){var type\x3d_.type||\x22linear\x22;vegaScale.isValidScaleType(type)||vegaUtil.error(\x22Unrecognized scale type: \x22+vegaUtil.stringValue(type));scope.addScale(_.name,{type:type,domain:void 0})});vegaUtil.array(spec.data).forEach(function(_){return parseData$1(_,scope)});scales.forEach(function(_){var params\x3dscope.getScale(_.name).params,key;params.domain\x3dparseScaleDomain(_.domain,\n_,scope);null!\x3d_.range\x26\x26(params.range\x3dparseScaleRange(_,scope,params));if(null!\x3d_.interpolate){var interpolate\x3d_.interpolate;params.interpolate\x3dparseLiteral(interpolate.type||interpolate);null!\x3dinterpolate.gamma\x26\x26(params.interpolateGamma\x3dparseLiteral(interpolate.gamma))}null!\x3d_.nice\x26\x26(interpolate\x3d_.nice,interpolate\x3dvegaUtil.isObject(interpolate)?{interval:parseLiteral(interpolate.interval),step:parseLiteral(interpolate.step)}:parseLiteral(interpolate),params.nice\x3dinterpolate);null!\x3d_.bins\x26\x26(interpolate\x3d\n_.bins,interpolate\x3dinterpolate.signal||vegaUtil.isArray(interpolate)?parseArray(interpolate,scope):scope.objectProperty(interpolate),params.bins\x3dinterpolate);for(key in _)vegaUtil.hasOwnProperty(params,key)||\x22name\x22\x3d\x3d\x3dkey||(params[key]\x3dparseLiteral(_[key],scope))});(preprocessed||signals).forEach(function(_){return parseSignalUpdates(_,scope)});vegaUtil.array(spec.axes).forEach(function(_){var config\x3dscope.config,style\x3dconfig.style,axis\x3dconfig.axis,band\x3d\x22band\x22\x3d\x3d\x3dscope.scaleType(_.scale)\x26\x26config.axisBand,\norient\x3d_.orient,key;if(isSignal(orient)){var or\x3dkeys([config.axisX,config.axisY]);var orientKeys\x3dkeys([config.axisTop,config.axisBottom,config.axisLeft,config.axisRight]);var JSCompiler_inline_result\x3d{};or\x3d$jscomp.makeIterator(or);for(key\x3dor.next();!key.done;key\x3dor.next())key\x3dkey.value,JSCompiler_inline_result[key]\x3difX(orient,fallback(key,config.axisX,axis,style),fallback(key,config.axisY,axis,style));or\x3d{};orientKeys\x3d$jscomp.makeIterator(orientKeys);for(key\x3dorientKeys.next();!key.done;key\x3dorientKeys.next()){key\x3d\nkey.value;var JSCompiler_temp_const\x3dor,JSCompiler_temp_const$jscomp$0\x3dkey,$orient\x3dorient.signal,t\x3dfallback(key,config.axisTop,axis,style),b\x3dfallback(key,config.axisBottom,axis,style),l\x3dfallback(key,config.axisLeft,axis,style);key\x3dfallback(key,config.axisRight,axis,style);key\x3d{signal:(null!\x3dl?$orient+\x22 \\x3d\\x3d\\x3d \x27left\x27 ? (\x22+toExpr(l)+\x22) : \x22:\x22\x22)+(null!\x3db?$orient+\x22 \\x3d\\x3d\\x3d \x27bottom\x27 ? (\x22+toExpr(b)+\x22) : \x22:\x22\x22)+(null!\x3dkey?$orient+\x22 \\x3d\\x3d\\x3d \x27right\x27 ? (\x22+toExpr(key)+\x22) : \x22:\x22\x22)+(null!\x3dt?$orient+\n\x22 \\x3d\\x3d\\x3d \x27top\x27 ? (\x22+toExpr(t)+\x22) : \x22:\x22\x22)+\x22(null)\x22};JSCompiler_temp_const[JSCompiler_temp_const$jscomp$0]\x3dkey}}else JSCompiler_inline_result\x3d\x22top\x22\x3d\x3d\x3dorient||\x22bottom\x22\x3d\x3d\x3dorient?config.axisX:config.axisY,or\x3dconfig[\x22axis\x22+orient[0].toUpperCase()+orient.slice(1)];JSCompiler_inline_result\x3dJSCompiler_inline_result||or||band?vegaUtil.extend({},axis,JSCompiler_inline_result,or,band):axis;or\x3d_.encode||{};config\x3dor.axis||{};style\x3dconfig.name||void 0;axis\x3dconfig.interactive;band\x3dconfig.style;orient\x3dlookup$jscomp$0(_,\nJSCompiler_inline_result);orientKeys\x3dorient(\x22tickBand\x22);key\x3dorient(\x22tickOffset\x22);orientKeys?orientKeys.signal?(JSCompiler_temp_const\x3d{signal:\x22(\x22+orientKeys.signal+\x22) \\x3d\\x3d\\x3d \x27extent\x27 ? 1 : 0.5\x22},JSCompiler_temp_const$jscomp$0\x3d{signal:\x22(\x22+orientKeys.signal+\x22) \\x3d\\x3d\\x3d \x27extent\x27\x22},vegaUtil.isObject(key)||(key\x3d{signal:\x22(\x22+orientKeys.signal+\x22) \\x3d\\x3d\\x3d \x27extent\x27 ? 0 : \x22+key})):\x22extent\x22\x3d\x3d\x3dorientKeys?(JSCompiler_temp_const\x3d1,JSCompiler_temp_const$jscomp$0\x3d!0,key\x3d0):(JSCompiler_temp_const\x3d.5,\nJSCompiler_temp_const$jscomp$0\x3d!1):(JSCompiler_temp_const\x3dorient(\x22bandPosition\x22),JSCompiler_temp_const$jscomp$0\x3dorient(\x22tickExtra\x22));JSCompiler_temp_const\x3d{extra:JSCompiler_temp_const$jscomp$0,band:JSCompiler_temp_const,offset:key};JSCompiler_temp_const$jscomp$0\x3d{scale:_.scale,ticks:!!orient(\x22ticks\x22),labels:!!orient(\x22labels\x22),grid:!!orient(\x22grid\x22),domain:!!orient(\x22domain\x22),title:null!\x3d_.title};orientKeys\x3dref$jscomp$0(scope.add(Collect({},[JSCompiler_temp_const$jscomp$0])));$orient\x3dref$jscomp$0(scope.add(AxisTicks({scale:scope.scaleRef(_.scale),\nextra:scope.property(JSCompiler_temp_const.extra),count:scope.objectProperty(_.tickCount),values:scope.objectProperty(_.values),minstep:scope.property(_.tickMinStep),formatType:scope.property(_.formatType),formatSpecifier:scope.property(_.format)})));key\x3d[];JSCompiler_temp_const$jscomp$0.grid\x26\x26key.push(axisGrid(_,JSCompiler_inline_result,or.grid,$orient,JSCompiler_temp_const));if(JSCompiler_temp_const$jscomp$0.ticks){var size\x3dorient(\x22tickSize\x22);key.push(axisTicks(_,JSCompiler_inline_result,or.ticks,\n$orient,size,JSCompiler_temp_const))}JSCompiler_temp_const$jscomp$0.labels\x26\x26(size\x3dJSCompiler_temp_const$jscomp$0.ticks?size:0,key.push(axisLabels(_,JSCompiler_inline_result,or.labels,$orient,size,JSCompiler_temp_const)));JSCompiler_temp_const$jscomp$0.domain\x26\x26key.push(axisDomain(_,JSCompiler_inline_result,or.domain,orientKeys));JSCompiler_temp_const$jscomp$0.title\x26\x26key.push(axisTitle(_,JSCompiler_inline_result,or.title,orientKeys));size\x3d{enter:{},update:{}};addEncoders(size,{orient:orient(\x22orient\x22),\noffset:orient(\x22offset\x22)||0,position:value$jscomp$0(_.position,0),titlePadding:orient(\x22titlePadding\x22),minExtent:orient(\x22minExtent\x22),maxExtent:orient(\x22maxExtent\x22),range:{signal:\x27abs(span(range(\x22\x27+_.scale+\x27\x22)))\x27},translate:orient(\x22translate\x22),format:_.format,formatType:_.formatType});return parseMark(guideGroup({role:\x22axis\x22,from:orientKeys,encode:extendEncode(size,config,Skip),marks:key,aria:orient(\x22aria\x22),description:orient(\x22description\x22),zindex:orient(\x22zindex\x22),name:style,interactive:axis,style:band}),\nscope)});vegaUtil.array(spec.marks).forEach(function(_){return parseMark(_,scope)});vegaUtil.array(spec.legends).forEach(function(_){return parseLegend(_,scope)});spec.title\x26\x26parseTitle(spec.title,scope);scope.parseLambdas();return scope}function parseView(spec,scope){var config\x3dscope.config,root\x3dref$jscomp$0(scope.root\x3dscope.add(new Entry(\x22operator\x22,void 0,void 0,void 0))),signals\x3dcollectSignals(spec,config);signals.forEach(function(_){return parseSignal(_,scope)});scope.description\x3dspec.description||\nconfig.description;scope.eventConfig\x3dconfig.events;scope.legends\x3dscope.objectProperty(config.legend\x26\x26config.legend.layout);scope.locale\x3dconfig.locale;config\x3dscope.add(Collect());var encode\x3dscope.add(Encode(parseEncode(extendEncode({enter:{x:{value:0},y:{value:0}},update:{width:{signal:\x22width\x22},height:{signal:\x22height\x22}}},spec.encode),\x22group\x22,\x22frame\x22,spec.style,scope,{pulse:ref$jscomp$0(config)}))),parent\x3dscope.add(ViewLayout({layout:scope.objectProperty(spec.layout),legends:scope.legends,autosize:scope.signalRef(\x22autosize\x22),\nmark:root,pulse:ref$jscomp$0(encode)}));scope.operators.pop();scope.pushState(ref$jscomp$0(encode),ref$jscomp$0(parent),null);parseScope(spec,scope,signals);scope.operators.push(parent);spec\x3dscope.add(Bound({mark:root,pulse:ref$jscomp$0(parent)}));spec\x3dscope.add(Render({pulse:ref$jscomp$0(spec)}));spec\x3dscope.add(Sieve({pulse:ref$jscomp$0(spec)}));scope.addData(\x22root\x22,new DataScope(scope,config,config,spec));return scope}function signalObject(name,value){return value\x26\x26value.signal?{name:name,update:value.signal}:\n{name:name,value:value}}function collectSignals(spec,config){var _\x3dfunction(name){return value$jscomp$0(spec[name],config[name])},signals\x3d[signalObject(\x22background\x22,_(\x22background\x22)),signalObject(\x22autosize\x22,parseAutosize(_(\x22autosize\x22))),signalObject(\x22padding\x22,parsePadding(_(\x22padding\x22))),signalObject(\x22width\x22,_(\x22width\x22)||0),signalObject(\x22height\x22,_(\x22height\x22)||0)],pre\x3dsignals.reduce(function(p,s){return p[s.name]\x3ds,p},{}),map\x3d{};vegaUtil.array(spec.signals).forEach(function(s){vegaUtil.hasOwnProperty(pre,\ns.name)?s\x3dvegaUtil.extend(pre[s.name],s):signals.push(s);map[s.name]\x3ds});vegaUtil.array(config.signals).forEach(function(s){vegaUtil.hasOwnProperty(map,s.name)||vegaUtil.hasOwnProperty(pre,s.name)||signals.push(s)});return signals}function Scope$1(config,options){this.config\x3dconfig||{};this.options\x3doptions||{};this.bindings\x3d[];this.field\x3d{};this.signals\x3d{};this.lambdas\x3d{};this.scales\x3d{};this.events\x3d{};this.data\x3d{};this.streams\x3d[];this.updates\x3d[];this.operators\x3d[];this.locale\x3dthis.eventConfig\x3dnull;\nthis._subid\x3dthis._id\x3d0;this._nextsub\x3d[0];this._parent\x3d[];this._encode\x3d[];this._lookup\x3d[];this._markpath\x3d[]}function Subscope(scope){this.config\x3dscope.config;this.options\x3dscope.options;this.legends\x3dscope.legends;this.field\x3dObject.create(scope.field);this.signals\x3dObject.create(scope.signals);this.lambdas\x3dObject.create(scope.lambdas);this.scales\x3dObject.create(scope.scales);this.events\x3dObject.create(scope.events);this.data\x3dObject.create(scope.data);this.streams\x3d[];this.updates\x3d[];this.operators\x3d[];this._id\x3d\n0;this._subid\x3d++scope._nextsub[0];this._nextsub\x3dscope._nextsub;this._parent\x3dscope._parent.slice();this._encode\x3dscope._encode.slice();this._lookup\x3dscope._lookup.slice();this._markpath\x3dscope._markpath}function propertyLambda(spec){return(vegaUtil.isArray(spec)?arrayLambda:objectLambda)(spec)}function arrayLambda(array){for(var n\x3darray.length,code\x3d\x22[\x22,i\x3d0;i\x3cn;++i){var value$594\x3darray[i];code+\x3d(0\x3ci?\x22,\x22:\x22\x22)+(vegaUtil.isObject(value$594)?value$594.signal||propertyLambda(value$594):vegaUtil.stringValue(value$594))}return code+\n\x22]\x22}function objectLambda(obj){var code\x3d\x22{\x22,i\x3d0,key;for(key in obj){var value\x3dobj[key];code+\x3d(1\x3c++i?\x22,\x22:\x22\x22)+vegaUtil.stringValue(key)+\x22:\x22+(vegaUtil.isObject(value)?value.signal||propertyLambda(value):vegaUtil.stringValue(value))}return code+\x22}\x22}function defaults(){return{description:\x22Vega visualization\x22,padding:0,autosize:\x22pad\x22,background:null,events:{defaults:{allow:[\x22wheel\x22]}},group:null,mark:null,arc:{fill:\x22#4c78a8\x22},area:{fill:\x22#4c78a8\x22},image:null,line:{stroke:\x22#4c78a8\x22,strokeWidth:2},path:{stroke:\x22#4c78a8\x22},\nrect:{fill:\x22#4c78a8\x22},rule:{stroke:\x22#000\x22},shape:{stroke:\x22#4c78a8\x22},symbol:{fill:\x22#4c78a8\x22,size:64},text:{fill:\x22#000\x22,font:\x22sans-serif\x22,fontSize:11},trail:{fill:\x22#4c78a8\x22,size:2},style:{\x22guide-label\x22:{fill:\x22#000\x22,font:\x22sans-serif\x22,fontSize:10},\x22guide-title\x22:{fill:\x22#000\x22,font:\x22sans-serif\x22,fontSize:11,fontWeight:\x22bold\x22},\x22group-title\x22:{fill:\x22#000\x22,font:\x22sans-serif\x22,fontSize:13,fontWeight:\x22bold\x22},\x22group-subtitle\x22:{fill:\x22#000\x22,font:\x22sans-serif\x22,fontSize:12},point:{size:30,strokeWidth:2,shape:\x22circle\x22},\ncircle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:\x22square\x22},cell:{fill:\x22transparent\x22,stroke:\x22#ddd\x22}},title:{orient:\x22top\x22,anchor:\x22middle\x22,offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:\x22#888\x22,grid:!1,gridWidth:1,gridColor:\x22#ddd\x22,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:\x22#888\x22,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:\x22mercator\x22},\nlegend:{orient:\x22right\x22,padding:0,gridAlign:\x22each\x22,columnPadding:10,rowPadding:2,symbolDirection:\x22vertical\x22,gradientDirection:\x22vertical\x22,gradientLength:200,gradientThickness:16,gradientStrokeColor:\x22#ddd\x22,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:\x22left\x22,labelBaseline:\x22middle\x22,labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:\x22circle\x22,symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:\x22transparent\x22,symbolBaseStrokeColor:\x22#888\x22,titleLimit:180,titleOrient:\x22top\x22,\ntitlePadding:5,layout:{offset:18,direction:\x22horizontal\x22,left:{direction:\x22vertical\x22},right:{direction:\x22vertical\x22}}},range:{category:{scheme:\x22tableau10\x22},ordinal:{scheme:\x22blues\x22},heatmap:{scheme:\x22yellowgreenblue\x22},ramp:{scheme:\x22blues\x22},diverging:{scheme:\x22blueorange\x22,extent:[1,0]},symbol:\x22circle square triangle-up cross diamond triangle-right triangle-down triangle-left\x22.split(\x22 \x22)}}}var encoder\x3dfunction(_){return vegaUtil.isObject(_)\x26\x26!vegaUtil.isArray(_)?vegaUtil.extend({},_):{value:_}},scaleRef\x3dfunction(scale){return vegaUtil.isString(scale)?\nvegaUtil.stringValue(scale):scale.signal?\x22(\x22+scale.signal+\x22)\x22:field$jscomp$0(scale)},_color\x3dfunction(type,x,y,z){return\x22(\x22+type+\x22(\x22+[x,y,z].map(entry$jscomp$0).join(\x22,\x22)+\x22)+\x27\x27)\x22},OUTER_INVALID\x3d[\x22value\x22,\x22update\x22,\x22init\x22,\x22react\x22,\x22bind\x22],keyFieldRef\x3dfieldRef(\x22key\x22),OP_VALUE_EXPR\x3d{code:\x22_.$value\x22,ast:{type:\x22Identifier\x22,value:\x22value\x22}},transform$jscomp$0\x3dfunction(name){return function(params,value,parent){return new Entry(name,value,params||void 0,parent)}},Aggregate\x3dtransform$jscomp$0(\x22aggregate\x22),AxisTicks\x3d\ntransform$jscomp$0(\x22axisticks\x22),Bound\x3dtransform$jscomp$0(\x22bound\x22),Collect\x3dtransform$jscomp$0(\x22collect\x22),Compare\x3dtransform$jscomp$0(\x22compare\x22),DataJoin\x3dtransform$jscomp$0(\x22datajoin\x22),Encode\x3dtransform$jscomp$0(\x22encode\x22),Expression\x3dtransform$jscomp$0(\x22expression\x22),Facet\x3dtransform$jscomp$0(\x22facet\x22),Field\x3dtransform$jscomp$0(\x22field\x22),Key\x3dtransform$jscomp$0(\x22key\x22),LegendEntries\x3dtransform$jscomp$0(\x22legendentries\x22),Load\x3dtransform$jscomp$0(\x22load\x22),Mark\x3dtransform$jscomp$0(\x22mark\x22),MultiExtent\x3dtransform$jscomp$0(\x22multiextent\x22),\nMultiValues\x3dtransform$jscomp$0(\x22multivalues\x22),Overlap\x3dtransform$jscomp$0(\x22overlap\x22),Params\x3dtransform$jscomp$0(\x22params\x22),PreFacet\x3dtransform$jscomp$0(\x22prefacet\x22),Projection\x3dtransform$jscomp$0(\x22projection\x22),Proxy\x3dtransform$jscomp$0(\x22proxy\x22),Relay\x3dtransform$jscomp$0(\x22relay\x22),Render\x3dtransform$jscomp$0(\x22render\x22),Scale\x3dtransform$jscomp$0(\x22scale\x22),Sieve\x3dtransform$jscomp$0(\x22sieve\x22),SortItems\x3dtransform$jscomp$0(\x22sortitems\x22),ViewLayout\x3dtransform$jscomp$0(\x22viewlayout\x22),Values\x3dtransform$jscomp$0(\x22values\x22),FIELD_REF_ID\x3d\n0,MULTIDOMAIN_SORT_OPS\x3d{min:\x22min\x22,max:\x22max\x22,count:\x22sum\x22},LegendScales\x3d\x22size shape fill stroke strokeWidth strokeDash opacity\x22.split(\x22 \x22),Skip\x3d{name:1,style:1,interactive:1},zero$jscomp$0\x3d{value:0},one\x3d{value:1},alignExpr\x3danchorExpr(vegaUtil.stringValue(\x22left\x22),vegaUtil.stringValue(\x22right\x22),vegaUtil.stringValue(\x22center\x22)),baseline\x3danchorExpr(\x27\x22top\x22\x27,\x27\x22bottom\x22\x27,\x27\x22middle\x22\x27),exprAlign\x3d\x27datum.vgrad \\x26\\x26 item.orient \\x3d\\x3d\\x3d \x22right\x22 ? (\x27+anchorExpr(\x27\x22right\x22\x27,\x27\x22left\x22\x27,\x27\x22center\x22\x27)+\x27) : ((item.orient \\x3d\\x3d\\x3d \x22left\x22 || item.orient \\x3d\\x3d\\x3d \x22right\x22) \\x26\\x26 !(datum.vgrad \\x26\\x26 item.orient \\x3d\\x3d\\x3d \x22left\x22)) ? \x22left\x22 : \x27+\nalignExpr,exprBaseline\x3d\x27(item.orient \\x3d\\x3d\\x3d \x22left\x22 || item.orient \\x3d\\x3d\\x3d \x22right\x22) ? (datum.vgrad ? (item.orient \\x3d\\x3d\\x3d \x22right\x22 ? \x22bottom\x22 : \x22top\x22) : \x27+baseline+\x27) : \x22top\x22\x27;DataScope.fromEntries\x3dfunction(scope,entries){var n\x3dentries.length,values\x3dentries[n-1],output\x3dentries[n-2],input\x3dentries[0],aggr\x3dnull,i\x3d1;input\x26\x26\x22load\x22\x3d\x3d\x3dinput.type\x26\x26(input\x3dentries[1]);for(scope.add(entries[0]);i\x3cn;++i)entries[i].params.pulse\x3dref$jscomp$0(entries[i-1]),scope.add(entries[i]),\x22aggregate\x22\x3d\x3d\x3dentries[i].type\x26\x26\n(aggr\x3dentries[i]);return new DataScope(scope,input,output,values,aggr)};DataScope.prototype\x3d{countsRef:function(scope,field,sort){var cache\x3dthis.counts||(this.counts\x3d{}),k\x3dfieldKey(field);if(null!\x3dk){scope\x3dthis.scope;var v\x3dcache[k]}v?sort\x26\x26sort.field\x26\x26addSortField(scope,v.agg.params,sort):(v\x3d{groupby:scope.fieldRef(field,\x22key\x22),pulse:ref$jscomp$0(this.output)},sort\x26\x26sort.field\x26\x26addSortField(scope,v,sort),sort\x3dscope.add(Aggregate(v)),v\x3dscope.add(Collect({pulse:ref$jscomp$0(sort)})),v\x3d{agg:sort,ref:ref$jscomp$0(v)},\nnull!\x3dk\x26\x26(cache[k]\x3dv));return v.ref},tuplesRef:function(){return ref$jscomp$0(this.values)},extentRef:function(scope,field){return cache$jscomp$0(scope,this,\x22extent\x22,\x22extent\x22,field,!1)},domainRef:function(scope,field){return cache$jscomp$0(scope,this,\x22domain\x22,\x22values\x22,field,!1)},valuesRef:function(scope,field,sort){return cache$jscomp$0(scope,this,\x22vals\x22,\x22values\x22,field,sort||!0)},lookupRef:function(scope,field){return cache$jscomp$0(scope,this,\x22lookup\x22,\x22tupleindex\x22,field,!1)},indataRef:function(scope,\nfield){return cache$jscomp$0(scope,this,\x22indata\x22,\x22tupleindex\x22,field,!0,!0)}};var getSign\x3dfunction(orient,a,b){isSignal(orient)?(orient\x3dorient.signal,a\x3difExpr(orient+\x22 \\x3d\\x3d\\x3d \x27left\x27 || \x22+orient+\x22 \\x3d\\x3d\\x3d \x27top\x27\x22,a,b)):a\x3d\x22left\x22\x3d\x3d\x3dorient||\x22top\x22\x3d\x3d\x3dorient?a:b;return a},ifX\x3dfunction(orient,a,b){isSignal(orient)?(orient\x3dorient.signal,a\x3difEnc(orient+\x22 \\x3d\\x3d\\x3d \x27top\x27 || \x22+orient+\x22 \\x3d\\x3d\\x3d \x27bottom\x27\x22,a,b)):a\x3d\x22bottom\x22\x3d\x3d\x3dorient||\x22top\x22\x3d\x3d\x3dorient?a:b;return a},ifY\x3dfunction(orient,a,b){isSignal(orient)?\n(orient\x3dorient.signal,a\x3difEnc(orient+\x22 !\\x3d\\x3d \x27top\x27 \\x26\\x26 \x22+orient+\x22 !\\x3d\\x3d \x27bottom\x27\x22,a,b)):a\x3d\x22bottom\x22\x3d\x3d\x3dorient||\x22top\x22\x3d\x3d\x3dorient?b:a;return a},ifTop\x3dfunction(orient,a,b){return isSignal(orient)?ifExpr(orient.signal+\x22 \\x3d\\x3d\\x3d \x27top\x27\x22,a,b):\x22top\x22\x3d\x3d\x3dorient?{value:a}:{value:b}},ifEnc\x3dfunction(test,a,b){a\x3dnull!\x3da?encoder(a):a;b\x3dnull!\x3db?encoder(b):b;if(null!\x3da\x26\x261!\x3d\x3dObject.keys(a).length||null!\x3db\x26\x261!\x3d\x3dObject.keys(b).length)return[vegaUtil.extend({test:test},a)].concat(b||[]);a\x3da?a.signal||vegaUtil.stringValue(a.value):\nnull;b\x3db?b.signal||vegaUtil.stringValue(b.value):null;return{signal:test+\x22 ? (\x22+a+\x22) : (\x22+b+\x22)\x22}},ifExpr\x3dfunction(test,a,b){return{signal:test+\x22 ? (\x22+toExpr(a)+\x22) : (\x22+toExpr(b)+\x22)\x22}},toExpr\x3dfunction(v){return isSignal(v)?v.signal:null\x3d\x3dv?null:vegaUtil.stringValue(v)},patch\x3dfunction(value,base){var s\x3dvalue.signal;return s\x26\x26s.endsWith(\x22(null)\x22)?{signal:s.slice(0,-6)+base.signal}:value};Scope$1.prototype\x3dSubscope.prototype\x3d{parse:function(spec){return parseScope(spec,this)},fork:function(){return new Subscope(this)},\nisSubscope:function(){return 0\x3cthis._subid},toRuntime:function(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+\x22:\x22:0)+this._id++},add:function(op){this.operators.push(op);op.id\x3dthis.id();op.refs\x26\x26(op.refs.forEach(function(ref){ref.$ref\x3dop.id}),op.refs\x3dnull);return op},proxy:function(op){op\x3dop instanceof Entry?ref$jscomp$0(op):\nop;return this.add(Proxy({value:op}))},addStream:function(stream){this.streams.push(stream);stream.id\x3dthis.id();return stream},addUpdate:function(update){this.updates.push(update);return update},finish:function(){function annotate(op,name,type){op\x26\x26(op\x3dop.data||(op.data\x3d{}),name\x3dop[name]||(op[name]\x3d[]),name.push(type))}var name$jscomp$0;this.root\x26\x26(this.root.root\x3d!0);for(name$jscomp$0 in this.signals)this.signals[name$jscomp$0].signal\x3dname$jscomp$0;for(name$jscomp$0 in this.scales)this.scales[name$jscomp$0].scale\x3d\nname$jscomp$0;for(name$jscomp$0 in this.data){var ds\x3dthis.data[name$jscomp$0];annotate(ds.input,name$jscomp$0,\x22input\x22);annotate(ds.output,name$jscomp$0,\x22output\x22);annotate(ds.values,name$jscomp$0,\x22values\x22);for(var field$593 in ds.index)annotate(ds.index[field$593],name$jscomp$0,\x22index:\x22+field$593)}return this},pushState:function(encode,parent,lookup){this._encode.push(ref$jscomp$0(this.add(Sieve({pulse:encode}))));this._parent.push(parent);this._lookup.push(lookup?ref$jscomp$0(this.proxy(lookup)):\nnull);this._markpath.push(-1)},popState:function(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent:function(){return vegaUtil.peek(this._parent)},encode:function(){return vegaUtil.peek(this._encode)},lookup:function(){return vegaUtil.peek(this._lookup)},markpath:function(){var p\x3dthis._markpath;return++p[p.length-1]},fieldRef:function(field,name){if(vegaUtil.isString(field))return fieldRef(field,name);field.signal||vegaUtil.error(\x22Unsupported field reference: \x22+\nvegaUtil.stringValue(field));field\x3dfield.signal;var f\x3dthis.field[field];f||(f\x3d{name:this.signalRef(field)},name\x26\x26(f.as\x3dname),this.field[field]\x3df\x3dref$jscomp$0(this.add(Field(f))));return f},compareRef:function(cmp){var $jscomp$this\x3dthis,signal\x3d!1,check\x3dfunction(_){return isSignal(_)?(signal\x3d!0,$jscomp$this.signalRef(_.signal)):_\x26\x26_.expr?(signal\x3d!0,$jscomp$this.exprRef(_.expr)):_},fields\x3dvegaUtil.array(cmp.field).map(check);cmp\x3dvegaUtil.array(cmp.order).map(check);return signal?ref$jscomp$0(this.add(Compare({fields:fields,\norders:cmp}))):{$compare:fields,$order:cmp}},keyRef:function(fields,flat){var signal\x3d!1,sig\x3dthis.signals;fields\x3dvegaUtil.array(fields).map(function(_){return isSignal(_)?(signal\x3d!0,ref$jscomp$0(sig[_.signal])):_});return signal?ref$jscomp$0(this.add(Key({fields:fields,flat:flat}))):keyRef(fields,flat)},sortRef:function(sort){if(!sort)return sort;var a\x3daggrField(sort.op,sort.field);sort\x3dsort.order||\x22ascending\x22;return sort.signal?ref$jscomp$0(this.add(Compare({fields:a,orders:this.signalRef(sort.signal)}))):\n{$compare:a,$order:sort}},event:function(source,type){var key\x3dsource+\x22:\x22+type;if(!this.events[key]){var id\x3dthis.id();this.streams.push({id:id,source:source,type:type});this.events[key]\x3did}return this.events[key]},hasOwnSignal:function(name){return vegaUtil.hasOwnProperty(this.signals,name)},addSignal:function(name,value){this.hasOwnSignal(name)\x26\x26vegaUtil.error(\x22Duplicate signal name: \x22+vegaUtil.stringValue(name));value\x3dvalue instanceof Entry?value:this.add(new Entry(\x22operator\x22,value,void 0,void 0));\nreturn this.signals[name]\x3dvalue},getSignal:function(name){this.signals[name]||vegaUtil.error(\x22Unrecognized signal name: \x22+vegaUtil.stringValue(name));return this.signals[name]},signalRef:function(s){if(this.signals[s])return ref$jscomp$0(this.signals[s]);vegaUtil.hasOwnProperty(this.lambdas,s)||(this.lambdas[s]\x3dthis.add(new Entry(\x22operator\x22,null,void 0,void 0)));return ref$jscomp$0(this.lambdas[s])},parseLambdas:function(){for(var code\x3dObject.keys(this.lambdas),i\x3d0,n\x3dcode.length;i\x3cn;++i){var s\x3dcode[i],\ne\x3dvegaFunctions.parseExpression(s,this);s\x3dthis.lambdas[s];s.params\x3de.$params;s.update\x3de.$expr}},property:function(spec){return spec\x26\x26spec.signal?this.signalRef(spec.signal):spec},objectProperty:function(spec){return spec\x26\x26vegaUtil.isObject(spec)?this.signalRef(spec.signal||propertyLambda(spec)):spec},exprRef:function(code,name){code\x3d{expr:vegaFunctions.parseExpression(code,this)};name\x26\x26(code.expr.$name\x3dname);return ref$jscomp$0(this.add(Expression(code)))},addBinding:function(name,bind){this.bindings||\nvegaUtil.error(\x22Nested signals do not support binding: \x22+vegaUtil.stringValue(name));this.bindings.push(vegaUtil.extend({signal:name},bind))},addScaleProj:function(name,transform){vegaUtil.hasOwnProperty(this.scales,name)\x26\x26vegaUtil.error(\x22Duplicate scale or projection name: \x22+vegaUtil.stringValue(name));this.scales[name]\x3dthis.add(transform)},addScale:function(name,params){this.addScaleProj(name,Scale(params))},addProjection:function(name,params){this.addScaleProj(name,Projection(params))},getScale:function(name){this.scales[name]||\nvegaUtil.error(\x22Unrecognized scale name: \x22+vegaUtil.stringValue(name));return this.scales[name]},scaleRef:function(name){return ref$jscomp$0(this.getScale(name))},scaleType:function(name){return this.getScale(name).params.type},projectionRef:function(name){return this.scaleRef(name)},projectionType:function(name){return this.scaleType(name)},addData:function(name,dataScope){vegaUtil.hasOwnProperty(this.data,name)\x26\x26vegaUtil.error(\x22Duplicate data set name: \x22+vegaUtil.stringValue(name));return this.data[name]\x3d\ndataScope},getData:function(name){this.data[name]||vegaUtil.error(\x22Undefined data set name: \x22+vegaUtil.stringValue(name));return this.data[name]},addDataPipeline:function(name,entries){vegaUtil.hasOwnProperty(this.data,name)\x26\x26vegaUtil.error(\x22Duplicate data set name: \x22+vegaUtil.stringValue(name));return this.addData(name,DataScope.fromEntries(this,entries))}};exports.AxisDomainRole\x3d\x22axis-domain\x22;exports.AxisGridRole\x3d\x22axis-grid\x22;exports.AxisLabelRole\x3d\x22axis-label\x22;exports.AxisRole\x3d\x22axis\x22;exports.AxisTickRole\x3d\n\x22axis-tick\x22;exports.AxisTitleRole\x3d\x22axis-title\x22;exports.DataScope\x3dDataScope;exports.FrameRole\x3d\x22frame\x22;exports.LegendEntryRole\x3d\x22legend-entry\x22;exports.LegendLabelRole\x3d\x22legend-label\x22;exports.LegendRole\x3d\x22legend\x22;exports.LegendSymbolRole\x3d\x22legend-symbol\x22;exports.LegendTitleRole\x3d\x22legend-title\x22;exports.MarkRole\x3d\x22mark\x22;exports.Scope\x3dScope$1;exports.ScopeRole\x3d\x22scope\x22;exports.config\x3ddefaults;exports.parse\x3dfunction(spec,config,options){vegaUtil.isObject(spec)||vegaUtil.error(\x22Input Vega specification must be an object.\x22);\nconfig\x3dvegaUtil.mergeConfig(defaults(),config,spec.config);return parseView(spec,new Scope$1(config,options)).toRuntime()};exports.signal\x3dparseSignal;exports.signalUpdates\x3dparseSignalUpdates;exports.stream\x3dparseStream;Object.defineProperty(exports,\x22__esModule\x22,{value:!0})})}");
SHADOW_ENV.evalLoad("module$node_modules$vega$build$vega_node.js", true , "shadow$provide.module$node_modules$vega$build$vega_node\x3dfunction(global,require,module,exports){function _interopNamespace(e){if(e\x26\x26e.__esModule)return e;var n\x3dObject.create(null);e\x26\x26Object.keys(e).forEach(function(k){if(\x22default\x22!\x3d\x3dk){var d\x3dObject.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}});n[\x22default\x22]\x3de;return Object.freeze(n)}Object.defineProperty(exports,\x22__esModule\x22,{value:!0});var vegaUtil\x3drequire(\x22module$node_modules$vega_util$build$vega_util\x22),\nvegaDataflow\x3drequire(\x22module$node_modules$vega_dataflow$build$vega_dataflow\x22),tx\x3drequire(\x22module$node_modules$vega_transforms$build$vega_transforms\x22),vtx\x3drequire(\x22module$node_modules$vega_view_transforms$build$vega_view_transforms\x22),encode\x3drequire(\x22module$node_modules$vega_encode$build$vega_encode\x22),geo\x3drequire(\x22module$node_modules$vega_geo$build$vega_geo\x22),force\x3drequire(\x22module$node_modules$vega_force$build$vega_force\x22),tree\x3drequire(\x22module$node_modules$vega_hierarchy$build$vega_hierarchy\x22),reg\x3d\nrequire(\x22module$node_modules$vega_regression$build$vega_regression\x22),voronoi\x3drequire(\x22module$node_modules$vega_voronoi$build$vega_voronoi\x22);module\x3drequire(\x22module$node_modules$vega_wordcloud$build$vega_wordcloud\x22);global\x3drequire(\x22module$node_modules$vega_crossfilter$build$vega_crossfilter\x22);var vegaStatistics\x3drequire(\x22module$node_modules$vega_statistics$build$vega_statistics\x22),vegaTime\x3drequire(\x22module$node_modules$vega_time$build$vega_time\x22),vegaLoader\x3drequire(\x22module$node_modules$vega_loader$build$vega_loader\x22),\nvegaScenegraph\x3drequire(\x22module$node_modules$vega_scenegraph$build$vega_scenegraph\x22),vegaScale\x3drequire(\x22module$node_modules$vega_scale$build$vega_scale\x22),vegaProjection\x3drequire(\x22module$node_modules$vega_projection$build$vega_projection\x22),vegaView\x3drequire(\x22module$node_modules$vega_view$build$vega_view\x22),vegaFormat\x3drequire(\x22module$node_modules$vega_format$build$vega_format\x22),vegaFunctions\x3drequire(\x22module$node_modules$vega_functions$build$vega_functions\x22),vegaParser\x3drequire(\x22module$node_modules$vega_parser$build$vega_parser\x22),\nvegaRuntime\x3drequire(\x22module$node_modules$vega_runtime$build$vega_runtime\x22);require\x3d_interopNamespace(tx);vtx\x3d_interopNamespace(vtx);encode\x3d_interopNamespace(encode);geo\x3d_interopNamespace(geo);force\x3d_interopNamespace(force);tree\x3d_interopNamespace(tree);reg\x3d_interopNamespace(reg);voronoi\x3d_interopNamespace(voronoi);module\x3d_interopNamespace(module);global\x3d_interopNamespace(global);vegaUtil.extend(vegaDataflow.transforms,require,vtx,encode,geo,force,tree,reg,voronoi,module,global);Object.keys(vegaUtil).forEach(function(k){\x22default\x22!\x3d\x3d\nk\x26\x26Object.defineProperty(exports,k,{enumerable:!0,get:function(){return vegaUtil[k]}})});Object.keys(vegaStatistics).forEach(function(k){\x22default\x22!\x3d\x3dk\x26\x26Object.defineProperty(exports,k,{enumerable:!0,get:function(){return vegaStatistics[k]}})});Object.keys(vegaTime).forEach(function(k){\x22default\x22!\x3d\x3dk\x26\x26Object.defineProperty(exports,k,{enumerable:!0,get:function(){return vegaTime[k]}})});Object.keys(vegaLoader).forEach(function(k){\x22default\x22!\x3d\x3dk\x26\x26Object.defineProperty(exports,k,{enumerable:!0,get:function(){return vegaLoader[k]}})});\nObject.keys(vegaScenegraph).forEach(function(k){\x22default\x22!\x3d\x3dk\x26\x26Object.defineProperty(exports,k,{enumerable:!0,get:function(){return vegaScenegraph[k]}})});Object.defineProperty(exports,\x22Dataflow\x22,{enumerable:!0,get:function(){return vegaDataflow.Dataflow}});Object.defineProperty(exports,\x22EventStream\x22,{enumerable:!0,get:function(){return vegaDataflow.EventStream}});Object.defineProperty(exports,\x22MultiPulse\x22,{enumerable:!0,get:function(){return vegaDataflow.MultiPulse}});Object.defineProperty(exports,\n\x22Operator\x22,{enumerable:!0,get:function(){return vegaDataflow.Operator}});Object.defineProperty(exports,\x22Parameters\x22,{enumerable:!0,get:function(){return vegaDataflow.Parameters}});Object.defineProperty(exports,\x22Pulse\x22,{enumerable:!0,get:function(){return vegaDataflow.Pulse}});Object.defineProperty(exports,\x22Transform\x22,{enumerable:!0,get:function(){return vegaDataflow.Transform}});Object.defineProperty(exports,\x22changeset\x22,{enumerable:!0,get:function(){return vegaDataflow.changeset}});Object.defineProperty(exports,\n\x22definition\x22,{enumerable:!0,get:function(){return vegaDataflow.definition}});Object.defineProperty(exports,\x22ingest\x22,{enumerable:!0,get:function(){return vegaDataflow.ingest}});Object.defineProperty(exports,\x22isTuple\x22,{enumerable:!0,get:function(){return vegaDataflow.isTuple}});Object.defineProperty(exports,\x22transform\x22,{enumerable:!0,get:function(){return vegaDataflow.transform}});Object.defineProperty(exports,\x22transforms\x22,{enumerable:!0,get:function(){return vegaDataflow.transforms}});Object.defineProperty(exports,\n\x22tupleid\x22,{enumerable:!0,get:function(){return vegaDataflow.tupleid}});Object.defineProperty(exports,\x22interpolate\x22,{enumerable:!0,get:function(){return vegaScale.interpolate}});Object.defineProperty(exports,\x22interpolateColors\x22,{enumerable:!0,get:function(){return vegaScale.interpolateColors}});Object.defineProperty(exports,\x22interpolateRange\x22,{enumerable:!0,get:function(){return vegaScale.interpolateRange}});Object.defineProperty(exports,\x22quantizeInterpolator\x22,{enumerable:!0,get:function(){return vegaScale.quantizeInterpolator}});\nObject.defineProperty(exports,\x22scale\x22,{enumerable:!0,get:function(){return vegaScale.scale}});Object.defineProperty(exports,\x22scheme\x22,{enumerable:!0,get:function(){return vegaScale.scheme}});Object.defineProperty(exports,\x22projection\x22,{enumerable:!0,get:function(){return vegaProjection.projection}});Object.defineProperty(exports,\x22View\x22,{enumerable:!0,get:function(){return vegaView.View}});Object.defineProperty(exports,\x22defaultLocale\x22,{enumerable:!0,get:function(){return vegaFormat.defaultLocale}});\nObject.defineProperty(exports,\x22formatLocale\x22,{enumerable:!0,get:function(){return vegaFormat.numberFormatDefaultLocale}});Object.defineProperty(exports,\x22locale\x22,{enumerable:!0,get:function(){return vegaFormat.locale}});Object.defineProperty(exports,\x22resetDefaultLocale\x22,{enumerable:!0,get:function(){return vegaFormat.resetDefaultLocale}});Object.defineProperty(exports,\x22timeFormatLocale\x22,{enumerable:!0,get:function(){return vegaFormat.timeFormatDefaultLocale}});Object.defineProperty(exports,\x22expressionFunction\x22,\n{enumerable:!0,get:function(){return vegaFunctions.expressionFunction}});Object.defineProperty(exports,\x22parse\x22,{enumerable:!0,get:function(){return vegaParser.parse}});Object.defineProperty(exports,\x22runtimeContext\x22,{enumerable:!0,get:function(){return vegaRuntime.context}});exports.version\x3d\x225.15.0\x22}");
SHADOW_ENV.evalLoad("module$node_modules$process$browser.js", true , "shadow$provide.module$node_modules$process$browser\x3dfunction(global,require,module,exports){function defaultSetTimout(){throw Error(\x22setTimeout has not been defined\x22);}function defaultClearTimeout(){throw Error(\x22clearTimeout has not been defined\x22);}function runTimeout(fun){if(cachedSetTimeout\x3d\x3d\x3dsetTimeout)return setTimeout(fun,0);if((cachedSetTimeout\x3d\x3d\x3ddefaultSetTimout||!cachedSetTimeout)\x26\x26setTimeout)return cachedSetTimeout\x3dsetTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e$596){try{return cachedSetTimeout.call(null,\nfun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout\x3d\x3d\x3dclearTimeout)return clearTimeout(marker);if((cachedClearTimeout\x3d\x3d\x3ddefaultClearTimeout||!cachedClearTimeout)\x26\x26clearTimeout)return cachedClearTimeout\x3dclearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e$597){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining\x26\x26currentQueue\x26\x26\n(draining\x3d!1,currentQueue.length?queue\x3dcurrentQueue.concat(queue):queueIndex\x3d-1,queue.length\x26\x26drainQueue())}function drainQueue(){if(!draining){var timeout\x3drunTimeout(cleanUpNextTick);draining\x3d!0;for(var len\x3dqueue.length;len;){currentQueue\x3dqueue;for(queue\x3d[];++queueIndex\x3clen;)currentQueue\x26\x26currentQueue[queueIndex].run();queueIndex\x3d-1;len\x3dqueue.length}currentQueue\x3dnull;draining\x3d!1;runClearTimeout(timeout)}}function Item(fun,array){this.fun\x3dfun;this.array\x3darray}function noop(){}global\x3dmodule.exports\x3d\n{};try{var cachedSetTimeout\x3d\x22function\x22\x3d\x3d\x3dtypeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout\x3ddefaultSetTimout}try{var cachedClearTimeout\x3d\x22function\x22\x3d\x3d\x3dtypeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e$595){cachedClearTimeout\x3ddefaultClearTimeout}var queue\x3d[],draining\x3d!1,currentQueue,queueIndex\x3d-1;global.nextTick\x3dfunction(fun){var args\x3dArray(arguments.length-1);if(1\x3carguments.length)for(var i\x3d1;i\x3carguments.length;i++)args[i-1]\x3darguments[i];queue.push(new Item(fun,args));\n1!\x3d\x3dqueue.length||draining||runTimeout(drainQueue)};Item.prototype.run\x3dfunction(){this.fun.apply(null,this.array)};global.title\x3d\x22browser\x22;global.browser\x3d!0;global.env\x3d{};global.argv\x3d[];global.version\x3d\x22\x22;global.versions\x3d{};global.on\x3dnoop;global.addListener\x3dnoop;global.once\x3dnoop;global.off\x3dnoop;global.removeListener\x3dnoop;global.removeAllListeners\x3dnoop;global.emit\x3dnoop;global.prependListener\x3dnoop;global.prependOnceListener\x3dnoop;global.listeners\x3dfunction(name){return[]};global.binding\x3dfunction(name){throw Error(\x22process.binding is not supported\x22);\n};global.cwd\x3dfunction(){return\x22/\x22};global.chdir\x3dfunction(dir){throw Error(\x22process.chdir is not supported\x22);};global.umask\x3dfunction(){return 0}}");
SHADOW_ENV.evalLoad("module$node_modules$vega_embed$build$vega_embed.js", true , "shadow$provide.module$node_modules$vega_embed$build$vega_embed\x3dfunction(global$jscomp$0,require,module$jscomp$0,exports$jscomp$0){var process\x3drequire(\x22module$node_modules$process$browser\x22);(function(global,factory){\x22object\x22\x3d\x3d\x3dtypeof exports$jscomp$0\x26\x26\x22undefined\x22!\x3d\x3dtypeof module$jscomp$0?module$jscomp$0.exports\x3dfactory(require(\x22module$node_modules$vega$build$vega_node\x22),require(\x22module$node_modules$vega_lite$build$vega_lite\x22)):\x22function\x22\x3d\x3d\x3dtypeof define\x26\x26define.amd?define([\x22vega\x22,\x22vega-lite\x22],factory):\n(global\x3d\x22undefined\x22!\x3d\x3dtypeof globalThis?globalThis:global||self,global.vegaEmbed\x3dfactory(global.vega,global.vegaLite))})(this,function(vegaImport,vegaLiteImport){function _interopNamespace(e){if(e\x26\x26e.__esModule)return e;var n\x3dObject.create(null);e\x26\x26Object.keys(e).forEach(function(k){if(\x22default\x22!\x3d\x3dk){var d\x3dObject.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}});n[\x22default\x22]\x3de;return Object.freeze(n)}function __awaiter(thisArg,_arguments,\nP,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P\x3dPromise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator[\x22throw\x22](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator\x3dgenerator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,\nbody){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError(\x22Generator is already executing.\x22);for(;_;)try{if(f\x3d1,y\x26\x26(t\x3dop[0]\x262?y[\x22return\x22]:op[0]?y[\x22throw\x22]||((t\x3dy[\x22return\x22])\x26\x26t.call(y),0):y.next)\x26\x26!(t\x3dt.call(y,op[1])).done)return t;if(y\x3d0,t)op\x3d[op[0]\x262,t.value];switch(op[0]){case 0:case 1:t\x3dop;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++;y\x3dop[1];op\x3d[0];continue;case 7:op\x3d_.ops.pop();_.trys.pop();continue;default:if(!(t\x3d_.trys,t\x3d\n0\x3ct.length\x26\x26t[t.length-1])\x26\x26(6\x3d\x3d\x3dop[0]||2\x3d\x3d\x3dop[0])){_\x3d0;continue}if(3\x3d\x3d\x3dop[0]\x26\x26(!t||op[1]\x3et[0]\x26\x26op[1]\x3ct[3]))_.label\x3dop[1];else if(6\x3d\x3d\x3dop[0]\x26\x26_.label\x3ct[1])_.label\x3dt[1],t\x3dop;else if(t\x26\x26_.label\x3ct[2])_.label\x3dt[2],_.ops.push(op);else{t[2]\x26\x26_.ops.pop();_.trys.pop();continue}}op\x3dbody.call(thisArg,_)}catch(e){op\x3d[6,e],y\x3d0}finally{f\x3dt\x3d0}if(op[0]\x265)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var _\x3d{label:0,sent:function(){if(t[0]\x261)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;$jscomp.initSymbol();\n$jscomp.initSymbol();$jscomp.initSymbolIterator();return g\x3d{next:verb(0),\x22throw\x22:verb(1),\x22return\x22:verb(2)},\x22function\x22\x3d\x3d\x3dtypeof Symbol\x26\x26(g[Symbol.iterator]\x3dfunction(){return this}),g}function _objectKeys(obj){if(Array.isArray(obj)){var keys\x3dArray(obj.length);for(obj\x3d0;obj\x3ckeys.length;obj++)keys[obj]\x3d\x22\x22+obj;return keys}if(Object.keys)return Object.keys(obj);keys\x3d[];for(var i in obj)_hasOwnProperty.call(obj,i)\x26\x26keys.push(i);return keys}function _deepClone(obj){switch(typeof obj){case \x22object\x22:return JSON.parse(JSON.stringify(obj));\ncase \x22undefined\x22:return null;default:return obj}}function isInteger(str){for(var i\x3d0,len\x3dstr.length,charCode;i\x3clen;)if(charCode\x3dstr.charCodeAt(i),48\x3c\x3dcharCode\x26\x2657\x3e\x3dcharCode)i++;else return!1;return!0}function escapePathComponent(path){return-1\x3d\x3d\x3dpath.indexOf(\x22/\x22)\x26\x26-1\x3d\x3d\x3dpath.indexOf(\x22~\x22)?path:path.replace(/~/g,\x22~0\x22).replace(/\\//g,\x22~1\x22)}function unescapePathComponent(path){return path.replace(/~1/g,\x22/\x22).replace(/~0/g,\x22~\x22)}function hasUndefined(obj){if(void 0\x3d\x3d\x3dobj)return!0;if(obj)if(Array.isArray(obj))for(var i\x3d\n0,len\x3dobj.length;i\x3clen;i++){if(hasUndefined(obj[i]))return!0}else if(\x22object\x22\x3d\x3d\x3dtypeof obj){len\x3d_objectKeys(obj);var objKeysLength\x3dlen.length;for(i\x3d0;i\x3cobjKeysLength;i++)if(hasUndefined(obj[len[i]]))return!0}return!1}function patchErrorMessageFormatter(message,args){message\x3d[message];for(var key in args){var value\x3d\x22object\x22\x3d\x3d\x3dtypeof args[key]?JSON.stringify(args[key],null,2):args[key];\x22undefined\x22!\x3d\x3dtypeof value\x26\x26message.push(key+\x22: \x22+value)}return message.join(\x22\\n\x22)}function getValueByPointer(document,\npointer){if(\x22\x22\x3d\x3dpointer)return document;pointer\x3d{op:\x22_get\x22,path:pointer};applyOperation(document,pointer);return pointer.value}function applyOperation(document,operation,validateOperation,mutateDocument,banPrototypeModifications,index){void 0\x3d\x3d\x3dvalidateOperation\x26\x26(validateOperation\x3d!1);void 0\x3d\x3d\x3dmutateDocument\x26\x26(mutateDocument\x3d!0);void 0\x3d\x3d\x3dbanPrototypeModifications\x26\x26(banPrototypeModifications\x3d!0);void 0\x3d\x3d\x3dindex\x26\x26(index\x3d0);validateOperation\x26\x26(\x22function\x22\x3d\x3dtypeof validateOperation?validateOperation(operation,\n0,document,operation.path):validator(operation,0));if(\x22\x22\x3d\x3d\x3doperation.path){banPrototypeModifications\x3d{newDocument:document};if(\x22add\x22\x3d\x3d\x3doperation.op)return banPrototypeModifications.newDocument\x3doperation.value,banPrototypeModifications;if(\x22replace\x22\x3d\x3d\x3doperation.op)return banPrototypeModifications.newDocument\x3doperation.value,banPrototypeModifications.removed\x3ddocument,banPrototypeModifications;if(\x22move\x22\x3d\x3d\x3doperation.op||\x22copy\x22\x3d\x3d\x3doperation.op)return banPrototypeModifications.newDocument\x3dgetValueByPointer(document,\noperation.from),\x22move\x22\x3d\x3d\x3doperation.op\x26\x26(banPrototypeModifications.removed\x3ddocument),banPrototypeModifications;if(\x22test\x22\x3d\x3d\x3doperation.op){banPrototypeModifications.test\x3d_areEquals(document,operation.value);if(!1\x3d\x3d\x3dbanPrototypeModifications.test)throw new JsonPatchError(\x22Test operation failed\x22,\x22TEST_OPERATION_FAILED\x22,index,operation,document);banPrototypeModifications.newDocument\x3ddocument;return banPrototypeModifications}if(\x22remove\x22\x3d\x3d\x3doperation.op)return banPrototypeModifications.removed\x3ddocument,banPrototypeModifications.newDocument\x3d\nnull,banPrototypeModifications;if(\x22_get\x22\x3d\x3d\x3doperation.op)return operation.value\x3ddocument,banPrototypeModifications;if(validateOperation)throw new JsonPatchError(\x22Operation `op` property is not one of operations defined in RFC-6902\x22,\x22OPERATION_OP_INVALID\x22,index,operation,document);return banPrototypeModifications}mutateDocument||(document\x3d_deepClone(document));mutateDocument\x3d(operation.path||\x22\x22).split(\x22/\x22);var obj\x3ddocument,t\x3d1,len\x3dmutateDocument.length,existingPathFragment\x3dvoid 0,validateFunction;for(validateFunction\x3d\n\x22function\x22\x3d\x3dtypeof validateOperation?validateOperation:validator;;){var key\x3dmutateDocument[t];if(banPrototypeModifications\x26\x26\x22__proto__\x22\x3d\x3dkey)throw new TypeError(\x22JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README\x22);validateOperation\x26\x26void 0\x3d\x3d\x3dexistingPathFragment\x26\x26(void 0\x3d\x3d\x3dobj[key]?existingPathFragment\x3dmutateDocument.slice(0,t).join(\x22/\x22):\nt\x3d\x3dlen-1\x26\x26(existingPathFragment\x3doperation.path),void 0!\x3d\x3dexistingPathFragment\x26\x26validateFunction(operation,0,document,existingPathFragment));t++;if(Array.isArray(obj)){if(\x22-\x22\x3d\x3d\x3dkey)key\x3dobj.length;else{if(validateOperation\x26\x26!isInteger(key))throw new JsonPatchError(\x22Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index\x22,\x22OPERATION_PATH_ILLEGAL_ARRAY_INDEX\x22,index,operation,document);isInteger(key)\x26\x26(key\x3d~~key)}if(t\x3e\x3dlen){if(validateOperation\x26\x26\n\x22add\x22\x3d\x3d\x3doperation.op\x26\x26key\x3eobj.length)throw new JsonPatchError(\x22The specified index MUST NOT be greater than the number of elements in the array\x22,\x22OPERATION_VALUE_OUT_OF_BOUNDS\x22,index,operation,document);banPrototypeModifications\x3darrOps[operation.op].call(operation,obj,key,document);if(!1\x3d\x3d\x3dbanPrototypeModifications.test)throw new JsonPatchError(\x22Test operation failed\x22,\x22TEST_OPERATION_FAILED\x22,index,operation,document);return banPrototypeModifications}}else if(key\x26\x26-1!\x3dkey.indexOf(\x22~\x22)\x26\x26(key\x3dunescapePathComponent(key)),\nt\x3e\x3dlen){banPrototypeModifications\x3dobjOps[operation.op].call(operation,obj,key,document);if(!1\x3d\x3d\x3dbanPrototypeModifications.test)throw new JsonPatchError(\x22Test operation failed\x22,\x22TEST_OPERATION_FAILED\x22,index,operation,document);return banPrototypeModifications}obj\x3dobj[key]}}function applyPatch(document,patch,validateOperation,mutateDocument,banPrototypeModifications){void 0\x3d\x3d\x3dmutateDocument\x26\x26(mutateDocument\x3d!0);void 0\x3d\x3d\x3dbanPrototypeModifications\x26\x26(banPrototypeModifications\x3d!0);if(validateOperation\x26\x26\n!Array.isArray(patch))throw new JsonPatchError(\x22Patch sequence must be an array\x22,\x22SEQUENCE_NOT_AN_ARRAY\x22);mutateDocument||(document\x3d_deepClone(document));mutateDocument\x3dArray(patch.length);for(var i\x3d0,length_1\x3dpatch.length;i\x3clength_1;i++)mutateDocument[i]\x3dapplyOperation(document,patch[i],validateOperation,!0,banPrototypeModifications,i),document\x3dmutateDocument[i].newDocument;mutateDocument.newDocument\x3ddocument;return mutateDocument}function validator(operation,index,document,existingPathFragment){if(\x22object\x22!\x3d\x3d\ntypeof operation||null\x3d\x3d\x3doperation||Array.isArray(operation))throw new JsonPatchError(\x22Operation is not an object\x22,\x22OPERATION_NOT_AN_OBJECT\x22,index,operation,document);if(objOps[operation.op]){if(\x22string\x22!\x3d\x3dtypeof operation.path)throw new JsonPatchError(\x22Operation `path` property is not a string\x22,\x22OPERATION_PATH_INVALID\x22,index,operation,document);if(0!\x3d\x3doperation.path.indexOf(\x22/\x22)\x26\x260\x3coperation.path.length)throw new JsonPatchError(\x27Operation `path` property must start with \x22/\x22\x27,\x22OPERATION_PATH_INVALID\x22,\nindex,operation,document);if(\x22move\x22!\x3d\x3doperation.op\x26\x26\x22copy\x22!\x3d\x3doperation.op||\x22string\x22\x3d\x3d\x3dtypeof operation.from)if(\x22add\x22!\x3d\x3doperation.op\x26\x26\x22replace\x22!\x3d\x3doperation.op\x26\x26\x22test\x22!\x3d\x3doperation.op||void 0!\x3d\x3doperation.value){if((\x22add\x22\x3d\x3d\x3doperation.op||\x22replace\x22\x3d\x3d\x3doperation.op||\x22test\x22\x3d\x3d\x3doperation.op)\x26\x26hasUndefined(operation.value))throw new JsonPatchError(\x22Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\x22,\x22OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED\x22,index,operation,document);\nif(document)if(\x22add\x22\x3d\x3doperation.op){var pathLen\x3doperation.path.split(\x22/\x22).length;existingPathFragment\x3dexistingPathFragment.split(\x22/\x22).length;if(pathLen!\x3d\x3dexistingPathFragment+1\x26\x26pathLen!\x3d\x3dexistingPathFragment)throw new JsonPatchError(\x22Cannot perform an `add` operation at the desired path\x22,\x22OPERATION_PATH_CANNOT_ADD\x22,index,operation,document);}else if(\x22replace\x22\x3d\x3d\x3doperation.op||\x22remove\x22\x3d\x3d\x3doperation.op||\x22_get\x22\x3d\x3d\x3doperation.op){if(operation.path!\x3d\x3dexistingPathFragment)throw new JsonPatchError(\x22Cannot perform the operation at a path that does not exist\x22,\n\x22OPERATION_PATH_UNRESOLVABLE\x22,index,operation,document);}else if((\x22move\x22\x3d\x3d\x3doperation.op||\x22copy\x22\x3d\x3d\x3doperation.op)\x26\x26(pathLen\x3dvalidate([{op:\x22_get\x22,path:operation.from,value:void 0}],document))\x26\x26\x22OPERATION_PATH_UNRESOLVABLE\x22\x3d\x3d\x3dpathLen.name)throw new JsonPatchError(\x22Cannot perform the operation from a path that does not exist\x22,\x22OPERATION_FROM_UNRESOLVABLE\x22,index,operation,document);}else throw new JsonPatchError(\x22Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\x22,\n\x22OPERATION_VALUE_REQUIRED\x22,index,operation,document);else throw new JsonPatchError(\x22Operation `from` property is not present (applicable in `move` and `copy` operations)\x22,\x22OPERATION_FROM_REQUIRED\x22,index,operation,document);}else throw new JsonPatchError(\x22Operation `op` property is not one of operations defined in RFC-6902\x22,\x22OPERATION_OP_INVALID\x22,index,operation,document);}function validate(sequence,document,externalValidator){try{if(!Array.isArray(sequence))throw new JsonPatchError(\x22Patch sequence must be an array\x22,\n\x22SEQUENCE_NOT_AN_ARRAY\x22);if(document)applyPatch(_deepClone(document),_deepClone(sequence),externalValidator||!0);else{externalValidator\x3dexternalValidator||validator;for(var i\x3d0;i\x3csequence.length;i++)externalValidator(sequence[i],i,document,void 0)}}catch(e){if(e instanceof JsonPatchError)return e;throw e;}}function _areEquals(a,b){if(a\x3d\x3d\x3db)return!0;if(a\x26\x26b\x26\x26\x22object\x22\x3d\x3dtypeof a\x26\x26\x22object\x22\x3d\x3dtypeof b){var arrA\x3dArray.isArray(a),arrB\x3dArray.isArray(b);if(arrA\x26\x26arrB){var length\x3da.length;if(length!\x3db.length)return!1;\nfor(arrA\x3dlength;0!\x3d\x3darrA--;)if(!_areEquals(a[arrA],b[arrA]))return!1;return!0}if(arrA!\x3darrB)return!1;arrB\x3dObject.keys(a);length\x3darrB.length;if(length!\x3d\x3dObject.keys(b).length)return!1;for(arrA\x3dlength;0!\x3d\x3darrA--;)if(!b.hasOwnProperty(arrB[arrA]))return!1;for(arrA\x3dlength;0!\x3d\x3darrA--;)if(length\x3darrB[arrA],!_areEquals(a[length],b[length]))return!1;return!0}return a!\x3d\x3da\x26\x26b!\x3d\x3db}function generate(observer,invertible){void 0\x3d\x3d\x3dinvertible\x26\x26(invertible\x3d!1);var mirror\x3dbeforeDict.get(observer.object);_generate(mirror.value,\nobserver.object,observer.patches,\x22\x22,invertible);observer.patches.length\x26\x26applyPatch(mirror.value,observer.patches);invertible\x3dobserver.patches;0\x3cinvertible.length\x26\x26(observer.patches\x3d[],observer.callback\x26\x26observer.callback(invertible));return invertible}function _generate(mirror,obj,patches,path,invertible){if(obj!\x3d\x3dmirror){\x22function\x22\x3d\x3d\x3dtypeof obj.toJSON\x26\x26(obj\x3dobj.toJSON());for(var newKeys\x3d_objectKeys(obj),oldKeys\x3d_objectKeys(mirror),deleted\x3d!1,t\x3doldKeys.length-1;0\x3c\x3dt;t--){var key\x3doldKeys[t],oldVal\x3d\nmirror[key];if(!_hasOwnProperty.call(obj,key)||void 0\x3d\x3d\x3dobj[key]\x26\x26void 0!\x3d\x3doldVal\x26\x26!1\x3d\x3d\x3dArray.isArray(obj))Array.isArray(mirror)\x3d\x3d\x3dArray.isArray(obj)?(invertible\x26\x26patches.push({op:\x22test\x22,path:path+\x22/\x22+escapePathComponent(key),value:_deepClone(oldVal)}),patches.push({op:\x22remove\x22,path:path+\x22/\x22+escapePathComponent(key)}),deleted\x3d!0):(invertible\x26\x26patches.push({op:\x22test\x22,path:path,value:mirror}),patches.push({op:\x22replace\x22,path:path,value:obj}));else{var newVal\x3dobj[key];\x22object\x22\x3d\x3dtypeof oldVal\x26\x26null!\x3doldVal\x26\x26\n\x22object\x22\x3d\x3dtypeof newVal\x26\x26null!\x3dnewVal?_generate(oldVal,newVal,patches,path+\x22/\x22+escapePathComponent(key),invertible):oldVal!\x3d\x3dnewVal\x26\x26(invertible\x26\x26patches.push({op:\x22test\x22,path:path+\x22/\x22+escapePathComponent(key),value:_deepClone(oldVal)}),patches.push({op:\x22replace\x22,path:path+\x22/\x22+escapePathComponent(key),value:_deepClone(newVal)}))}}if(deleted||newKeys.length!\x3doldKeys.length)for(t\x3d0;t\x3cnewKeys.length;t++)key\x3dnewKeys[t],_hasOwnProperty.call(mirror,key)||void 0\x3d\x3d\x3dobj[key]||patches.push({op:\x22add\x22,path:path+\n\x22/\x22+escapePathComponent(key),value:_deepClone(obj[key])})}}function schemaParser(e){var $jscomp$destructuring$var472\x3d$jscomp.makeIterator(/\\/schema\\/([\\w-]+)\\/([\\w\\.\\-]+)\\.json$/g.exec(e).slice(1,3));e\x3d$jscomp$destructuring$var472.next().value;$jscomp$destructuring$var472\x3d$jscomp$destructuring$var472.next().value;return{library:e,version:$jscomp$destructuring$var472}}function accessor(fn,fields,name){fn.fields\x3dfields||[];fn.fname\x3dname;return fn}function getter(path){return 1\x3d\x3d\x3dpath.length?get1(path[0]):\ngetN(path)}function splitAccessPath(p){function push(){path.push(s+p.substring(i,j));s\x3d\x22\x22;i\x3dj+1}var path\x3d[],n\x3dp.length,q\x3dnull,b\x3d0,s\x3d\x22\x22,i,j;p+\x3d\x22\x22;for(i\x3dj\x3d0;j\x3cn;++j){var c\x3dp[j];if(\x22\\\\\x22\x3d\x3d\x3dc)s+\x3dp.substring(i,j),s+\x3dp.substring(++j,++j),i\x3dj;else if(c\x3d\x3d\x3dq)push(),q\x3dnull,b\x3d-1;else if(!q)if(i\x3d\x3d\x3db\x26\x26\x27\x22\x27\x3d\x3d\x3dc)i\x3dj+1,q\x3dc;else if(i\x3d\x3d\x3db\x26\x26\x22\x27\x22\x3d\x3d\x3dc)i\x3dj+1,q\x3dc;else if(\x22.\x22\x3d\x3d\x3dc\x26\x26!b)j\x3ei?push():i\x3dj+1;else if(\x22[\x22\x3d\x3d\x3dc)j\x3ei\x26\x26push(),b\x3di\x3dj+1;else if(\x22]\x22\x3d\x3d\x3dc){if(!b)throw Error(\x22Access path missing open bracket: \x22+p);0\x3cb\x26\x26push();b\x3d\n0;i\x3dj+1}}if(b)throw Error(\x22Access path missing closing bracket: \x22+p);if(q)throw Error(\x22Access path missing closing quote: \x22+p);j\x3ei\x26\x26(j++,push());return path}function __rest(s,e){var t\x3d{},p;for(p in s)Object.prototype.hasOwnProperty.call(s,p)\x26\x260\x3ee.indexOf(p)\x26\x26(t[p]\x3ds[p]);if(null!\x3ds\x26\x26\x22function\x22\x3d\x3d\x3dtypeof Object.getOwnPropertySymbols){var i\x3d0;for(p\x3dObject.getOwnPropertySymbols(s);i\x3cp.length;i++)0\x3ee.indexOf(p[i])\x26\x26Object.prototype.propertyIsEnumerable.call(s,p[i])\x26\x26(t[p[i]]\x3ds[p[i]])}return t}function formatValue(value,\nvalueToHtml,maxDepth){if(isArray(value))return\x22[\x22+value.map(function(v){return valueToHtml(\x22string\x22\x3d\x3d\x3dtypeof v?v:JSON.stringify(v,replacer(maxDepth)))}).join(\x22, \x22)+\x22]\x22;if(value\x3d\x3d\x3dObject(value)){var content\x3d\x22\x22,title\x3dvalue.title,image\x3dvalue.image;value\x3d__rest(value,[\x22title\x22,\x22image\x22]);title\x26\x26(content+\x3d\x22\\x3ch2\\x3e\x22+valueToHtml(title)+\x22\\x3c/h2\\x3e\x22);image\x26\x26(content+\x3d\x27\\x3cimg src\\x3d\x22\x27+valueToHtml(image)+\x27\x22\\x3e\x27);title\x3dObject.keys(value);if(0\x3ctitle.length){content+\x3d\x22\\x3ctable\\x3e\x22;title\x3d$jscomp.makeIterator(title);\nfor(image\x3dtitle.next();!image.done;image\x3dtitle.next()){image\x3dimage.value;var val\x3dvalue[image];void 0!\x3d\x3dval\x26\x26(val\x3d\x3d\x3dObject(val)\x26\x26(val\x3dJSON.stringify(val,replacer(maxDepth))),content+\x3d\x27\\x3ctr\\x3e\\x3ctd class\\x3d\x22key\x22\\x3e\x27+valueToHtml(image)+\x27:\\x3c/td\\x3e\\x3ctd class\\x3d\x22value\x22\\x3e\x27+valueToHtml(val)+\x22\\x3c/td\\x3e\\x3c/tr\\x3e\x22)}content+\x3d\x22\\x3c/table\\x3e\x22}return content||\x22{}\x22}return valueToHtml(value)}function replacer(maxDepth){var stack\x3d[];return function(key,value){if(\x22object\x22!\x3d\x3dtypeof value||null\x3d\x3d\x3dvalue)return value;\nkey\x3dstack.indexOf(this)+1;stack.length\x3dkey;if(stack.length\x3emaxDepth)return\x22[Object]\x22;if(0\x3c\x3dstack.indexOf(value))return\x22[Circular]\x22;stack.push(value);return value}}function post(window,url,data){function listen(evt){evt.source\x3d\x3d\x3deditor\x26\x26(count\x3d0,window.removeEventListener(\x22message\x22,listen,!1))}function send(){0\x3e\x3dcount||(editor.postMessage(data,origin),setTimeout(send,250),--count)}var editor\x3dwindow.open(url),origin\x3d(new URL(url)).origin,count\x3d40;window.addEventListener(\x22message\x22,listen,!1);setTimeout(send,\n250)}function mergeDeep(dest$jscomp$0){for(var src\x3d[],_i\x3d1;_i\x3carguments.length;_i++)src[_i-1]\x3darguments[_i];for(_i\x3d0;_i\x3csrc.length;_i++)for(var dest\x3ddest$jscomp$0,src$jscomp$0\x3dsrc[_i],_i$jscomp$0\x3d0,_a\x3dObject.keys(src$jscomp$0);_i$jscomp$0\x3c_a.length;_i$jscomp$0++){var property\x3d_a[_i$jscomp$0];vegaImport.writeConfig(dest,property,src$jscomp$0[property],!0)}return dest$jscomp$0}function viewSource(source,sourceHeader,sourceFooter,mode){sourceHeader\x3d\x22\\x3chtml\\x3e\\x3chead\\x3e\x22+sourceHeader+\x27\\x3c/head\\x3e\\x3cbody\\x3e\\x3cpre\\x3e\\x3ccode class\\x3d\x22json\x22\\x3e\x27;\nsourceFooter\x3d\x22\\x3c/code\\x3e\\x3c/pre\\x3e\x22+sourceFooter+\x22\\x3c/body\\x3e\\x3c/html\\x3e\x22;var win\x3dwindow.open(\x22\x22);win.document.write(sourceHeader+source+sourceFooter);win.document.title\x3dNAMES[mode]+\x22 JSON Source\x22}function guessMode(spec,providedMode){var _a;return spec.$schema?(spec\x3dschemaParser(spec.$schema),providedMode\x26\x26providedMode!\x3d\x3dspec.library\x26\x26console.warn(\x22The given visualization spec is written in \x22+NAMES[spec.library]+\x22, but mode argument sets \x22+(null!\x3d\x3d(_a\x3dNAMES[providedMode])\x26\x26void 0!\x3d\x3d_a?_a:\nprovidedMode)+\x22.\x22),providedMode\x3dspec.library,semver$1.satisfies(VERSION[providedMode],\x22^\x22+spec.version.slice(1))||console.warn(\x22The input spec uses \x22+NAMES[providedMode]+\x22 \x22+spec.version+\x22, but the current version of \x22+NAMES[providedMode]+\x22 is v\x22+VERSION[providedMode]+\x22.\x22),providedMode):\x22mark\x22in spec||\x22encoding\x22in spec||\x22layer\x22in spec||\x22hconcat\x22in spec||\x22vconcat\x22in spec||\x22facet\x22in spec||\x22repeat\x22in spec?\x22vega-lite\x22:\x22marks\x22in spec||\x22signals\x22in spec||\x22scales\x22in spec||\x22axes\x22in spec?\x22vega\x22:null!\x3d\x3dprovidedMode\x26\x26\nvoid 0!\x3d\x3dprovidedMode?providedMode:\x22vega\x22}function embed(el,spec,opts){var _a,_b,_c;void 0\x3d\x3d\x3dopts\x26\x26(opts\x3d{});return __awaiter(this,void 0,void 0,function(){var loader,parsedSpec,_d,_e,_f,usermetaOpts,parsedOpts,mergedOpts;return __generator(this,function(_g){switch(_g.label){case 0:loader\x3d(_g\x3dopts.loader)\x26\x26\x22load\x22in _g?opts.loader:vega.loader(opts.loader);if(!vegaImport.isString(spec))return[3,2];_f\x3d(_e\x3dJSON).parse;return[4,loader.load(spec)];case 1:return _d\x3d_f.apply(_e,[_g.sent()]),[3,3];case 2:_d\x3d\nspec,_g.label\x3d3;case 3:return parsedSpec\x3d_d,[4,loadOpts(null!\x3d\x3d(_a\x3dparsedSpec.usermeta\x26\x26parsedSpec.usermeta.embedOptions)\x26\x26void 0!\x3d\x3d_a?_a:{},loader)];case 4:return usermetaOpts\x3d_g.sent(),[4,loadOpts(opts,loader)];case 5:return parsedOpts\x3d_g.sent(),mergedOpts\x3d__assign(__assign({},mergeDeep(parsedOpts,usermetaOpts)),{config:vegaImport.mergeConfig(null!\x3d\x3d(_b\x3dparsedOpts.config)\x26\x26void 0!\x3d\x3d_b?_b:{},null!\x3d\x3d(_c\x3dusermetaOpts.config)\x26\x26void 0!\x3d\x3d_c?_c:{})}),[4,_embed(el,parsedSpec,mergedOpts,loader)];case 6:return[2,\n_g.sent()]}})})}function loadOpts(opt,loader){var _a;return __awaiter(this,void 0,void 0,function(){var config,_b,_c,_d,patch,_e,_f,_g;return __generator(this,function(_h){switch(_h.label){case 0:if(!vegaImport.isString(opt.config))return[3,2];_d\x3d(_c\x3dJSON).parse;return[4,loader.load(opt.config)];case 1:return _b\x3d_d.apply(_c,[_h.sent()]),[3,3];case 2:_b\x3dnull!\x3d\x3d(_a\x3dopt.config)\x26\x26void 0!\x3d\x3d_a?_a:{},_h.label\x3d3;case 3:config\x3d_b;if(!vegaImport.isString(opt.patch))return[3,5];_g\x3d(_f\x3dJSON).parse;return[4,loader.load(opt.patch)];\ncase 4:return _e\x3d_g.apply(_f,[_h.sent()]),[3,6];case 5:_e\x3dopt.patch,_h.label\x3d6;case 6:return patch\x3d_e,[2,__assign(__assign(__assign({},opt),patch?{patch:patch}:{}),config?{config:config}:{})]}})})}function getRoot(el){var _a;el\x3del.getRootNode?el.getRootNode():document;return el instanceof ShadowRoot?{root:el,rootContainer:el}:{root:document,rootContainer:null!\x3d\x3d(_a\x3ddocument.head)\x26\x26void 0!\x3d\x3d_a?_a:document.body}}function _embed(el,spec,opts,loader){var _a$jscomp$0,_b$jscomp$0,_c,_d,_e,_f;void 0\x3d\x3d\x3dopts\x26\x26\n(opts\x3d{});return __awaiter(this,void 0,void 0,function(){function finalize(){documentClickHandler\x26\x26document.removeEventListener(\x22click\x22,documentClickHandler);view.finalize()}var config,actions,i18n,renderer,logLevel,downloadFileName,div,_g,root,rootContainer,style,mode,vgSpec,parsed,target,chartWrapper,patch,ast,runtime,view,handler,hover,_h,hoverSet,updateSet,documentClickHandler,wrapper,details_1,summary,ctrl,_loop_1,_i,_j,ext$jscomp$0,viewSourceLink,compileLink,editorUrl_1,editorLink;return __generator(this,\nfunction(_k){switch(_k.label){case 0:config\x3dopts.theme?vegaImport.mergeConfig(themes[opts.theme],null!\x3d\x3d(_a$jscomp$0\x3dopts.config)\x26\x26void 0!\x3d\x3d_a$jscomp$0?_a$jscomp$0:{}):opts.config;actions\x3dvegaImport.isBoolean(opts.actions)?opts.actions:mergeDeep({},DEFAULT_ACTIONS,null!\x3d\x3d(_b$jscomp$0\x3dopts.actions)\x26\x26void 0!\x3d\x3d_b$jscomp$0?_b$jscomp$0:{});i18n\x3d__assign(__assign({},I18N),opts.i18n);renderer\x3dnull!\x3d\x3d(_c\x3dopts.renderer)\x26\x26void 0!\x3d\x3d_c?_c:\x22canvas\x22;logLevel\x3dnull!\x3d\x3d(_d\x3dopts.logLevel)\x26\x26void 0!\x3d\x3d_d?_d:vega.Warn;\ndownloadFileName\x3dnull!\x3d\x3d(_e\x3dopts.downloadFileName)\x26\x26void 0!\x3d\x3d_e?_e:\x22visualization\x22;div\x3d\x22string\x22\x3d\x3d\x3dtypeof el?document.querySelector(el):el;if(!div)throw Error(el+\x22 does not exist\x22);!1!\x3d\x3dopts.defaultStyle\x26\x26(_g\x3dgetRoot(div),root\x3d_g.root,rootContainer\x3d_g.rootContainer,root.getElementById(\x22vega-embed-style\x22)||(style\x3ddocument.createElement(\x22style\x22),style.id\x3d\x22vega-embed-style\x22,style.innerText\x3dvoid 0\x3d\x3d\x3dopts.defaultStyle||!0\x3d\x3d\x3dopts.defaultStyle?\x27.vega-embed {\\n  position: relative;\\n  display: inline-block;\\n  box-sizing: border-box; }\\n  .vega-embed.has-actions {\\n    padding-right: 38px; }\\n  .vega-embed details:not([open]) \\x3e :not(summary) {\\n    display: none !important; }\\n  .vega-embed summary {\\n    list-style: none;\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    padding: 6px;\\n    z-index: 1000;\\n    background: white;\\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\\n    color: #1b1e23;\\n    border: 1px solid #aaa;\\n    border-radius: 999px;\\n    opacity: 0.2;\\n    transition: opacity 0.4s ease-in;\\n    outline: none;\\n    cursor: pointer;\\n    line-height: 0px; }\\n    .vega-embed summary::-webkit-details-marker {\\n      display: none; }\\n    .vega-embed summary:active {\\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\\n    .vega-embed summary svg {\\n      width: 14px;\\n      height: 14px; }\\n  .vega-embed details[open] summary {\\n    opacity: 0.7; }\\n  .vega-embed:hover summary,\\n  .vega-embed:focus summary {\\n    opacity: 1 !important;\\n    transition: opacity 0.2s ease; }\\n  .vega-embed .vega-actions {\\n    position: absolute;\\n    z-index: 1001;\\n    top: 35px;\\n    right: -9px;\\n    display: flex;\\n    flex-direction: column;\\n    padding-bottom: 8px;\\n    padding-top: 8px;\\n    border-radius: 4px;\\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\\n    border: 1px solid #d9d9d9;\\n    background: white;\\n    animation-duration: 0.15s;\\n    animation-name: scale-in;\\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\\n    text-align: left; }\\n    .vega-embed .vega-actions a {\\n      padding: 8px 16px;\\n      font-family: sans-serif;\\n      font-size: 14px;\\n      font-weight: 600;\\n      white-space: nowrap;\\n      color: #434a56;\\n      text-decoration: none; }\\n      .vega-embed .vega-actions a:hover {\\n        background-color: #f7f7f9;\\n        color: black; }\\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\\n      content: \x22\x22;\\n      display: inline-block;\\n      position: absolute; }\\n    .vega-embed .vega-actions::before {\\n      left: auto;\\n      right: 14px;\\n      top: -16px;\\n      border: 8px solid #0000;\\n      border-bottom-color: #d9d9d9; }\\n    .vega-embed .vega-actions::after {\\n      left: auto;\\n      right: 15px;\\n      top: -14px;\\n      border: 7px solid #0000;\\n      border-bottom-color: #fff; }\\n  .vega-embed .chart-wrapper {\\n    width: 100%;\\n    height: 100%; }\\n\\n.vega-embed-wrapper {\\n  max-width: 100%;\\n  overflow: scroll;\\n  padding-right: 14px; }\\n\\n@keyframes scale-in {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.6); }\\n  to {\\n    opacity: 1;\\n    transform: scale(1); } }\\n\x27.toString():\nopts.defaultStyle,rootContainer.appendChild(style)));mode\x3dguessMode(spec,opts.mode);vgSpec\x3dPREPROCESSOR[mode](spec,config);\x22vega-lite\x22\x3d\x3d\x3dmode\x26\x26vgSpec.$schema\x26\x26(parsed\x3dschemaParser(vgSpec.$schema),semver$1.satisfies(VERSION.vega,\x22^\x22+parsed.version.slice(1))||console.warn(\x22The compiled spec uses Vega \x22+parsed.version+\x22, but current version is v\x22+VERSION.vega+\x22.\x22));div.classList.add(\x22vega-embed\x22);actions\x26\x26div.classList.add(\x22has-actions\x22);div.innerHTML\x3d\x22\x22;target\x3ddiv;actions\x26\x26(chartWrapper\x3ddocument.createElement(\x22div\x22),\nchartWrapper.classList.add(\x22chart-wrapper\x22),div.appendChild(chartWrapper),target\x3dchartWrapper);(patch\x3dopts.patch)\x26\x26(vgSpec\x3dpatch instanceof Function?patch(vgSpec):applyPatch(vgSpec,patch,!0,!1).newDocument);opts.formatLocale\x26\x26vega.formatLocale(opts.formatLocale);opts.timeFormatLocale\x26\x26vega.timeFormatLocale(opts.timeFormatLocale);ast\x3dopts.ast;runtime\x3dvega.parse(vgSpec,\x22vega-lite\x22\x3d\x3d\x3dmode?{}:config,{ast:ast});view\x3dnew vega.View(runtime,__assign({loader:loader,logLevel:logLevel,renderer:renderer},ast?\n{expr:vega.expressionInterpreter}:{}));!1!\x3d\x3dopts.tooltip\x26\x26(handler\x3dvoid 0,handler\x3d\x22function\x22\x3d\x3d\x3dtypeof opts.tooltip?opts.tooltip:(new Handler(!0\x3d\x3d\x3dopts.tooltip?{}:opts.tooltip)).call,view.tooltip(handler));hover\x3dopts.hover;void 0\x3d\x3d\x3dhover\x26\x26(hover\x3d\x22vega\x22\x3d\x3d\x3dmode);hover\x26\x26(_h\x3d\x22boolean\x22\x3d\x3d\x3dtypeof hover?{}:hover,hoverSet\x3d_h.hoverSet,updateSet\x3d_h.updateSet,view.hover(hoverSet,updateSet));opts\x26\x26(null!\x3dopts.width\x26\x26view.width(opts.width),null!\x3dopts.height\x26\x26view.height(opts.height),null!\x3dopts.padding\x26\x26view.padding(opts.padding));\nreturn[4,view.initialize(target).runAsync()];case 1:_k.sent();if(!1!\x3d\x3dactions){wrapper\x3ddiv;!1!\x3d\x3dopts.defaultStyle\x26\x26(details_1\x3ddocument.createElement(\x22details\x22),details_1.title\x3di18n.CLICK_TO_VIEW_ACTIONS,div.append(details_1),wrapper\x3ddetails_1,summary\x3ddocument.createElement(\x22summary\x22),summary.innerHTML\x3d\x27\\n\\x3csvg viewBox\\x3d\x220 0 16 16\x22 fill\\x3d\x22currentColor\x22 stroke\\x3d\x22none\x22 stroke-width\\x3d\x221\x22 stroke-linecap\\x3d\x22round\x22 stroke-linejoin\\x3d\x22round\x22\\x3e\\n  \\x3ccircle r\\x3d\x222\x22 cy\\x3d\x228\x22 cx\\x3d\x222\x22\\x3e\\x3c/circle\\x3e\\n  \\x3ccircle r\\x3d\x222\x22 cy\\x3d\x228\x22 cx\\x3d\x228\x22\\x3e\\x3c/circle\\x3e\\n  \\x3ccircle r\\x3d\x222\x22 cy\\x3d\x228\x22 cx\\x3d\x2214\x22\\x3e\\x3c/circle\\x3e\\n\\x3c/svg\\x3e\x27,\ndetails_1.append(summary),documentClickHandler\x3dfunction(ev){details_1.contains(ev.target)||details_1.removeAttribute(\x22open\x22)},document.addEventListener(\x22click\x22,documentClickHandler));ctrl\x3ddocument.createElement(\x22div\x22);wrapper.append(ctrl);ctrl.classList.add(\x22vega-actions\x22);if(!0\x3d\x3d\x3dactions||!1!\x3d\x3dactions[\x22export\x22])for(_loop_1\x3dfunction(ext){if(!0\x3d\x3d\x3dactions||!0\x3d\x3d\x3dactions[\x22export\x22]||actions[\x22export\x22][ext]){var i18nExportAction\x3di18n[ext.toUpperCase()+\x22_ACTION\x22],exportLink\x3ddocument.createElement(\x22a\x22);exportLink.text\x3d\ni18nExportAction;exportLink.href\x3d\x22#\x22;exportLink.target\x3d\x22_blank\x22;exportLink.download\x3ddownloadFileName+\x22.\x22+ext;exportLink.addEventListener(\x22mousedown\x22,function(e){return __awaiter(this,void 0,void 0,function(){var url;return __generator(this,function(_a){switch(_a.label){case 0:return e.preventDefault(),[4,view.toImageURL(ext,opts.scaleFactor)];case 1:return this.href\x3durl\x3d_a.sent(),[2]}})})});ctrl.append(exportLink)}},_i\x3d0,_j\x3d[\x22svg\x22,\x22png\x22];_i\x3c_j.length;_i++)ext$jscomp$0\x3d_j[_i],_loop_1(ext$jscomp$0);\nif(!0\x3d\x3d\x3dactions||!1!\x3d\x3dactions.source)viewSourceLink\x3ddocument.createElement(\x22a\x22),viewSourceLink.text\x3di18n.SOURCE_ACTION,viewSourceLink.href\x3d\x22#\x22,viewSourceLink.addEventListener(\x22click\x22,function(e){var _a,_b;viewSource(jsonStringifyPrettyCompact(spec),null!\x3d\x3d(_a\x3dopts.sourceHeader)\x26\x26void 0!\x3d\x3d_a?_a:\x22\x22,null!\x3d\x3d(_b\x3dopts.sourceFooter)\x26\x26void 0!\x3d\x3d_b?_b:\x22\x22,mode);e.preventDefault()}),ctrl.append(viewSourceLink);\x22vega-lite\x22!\x3d\x3dmode||!0!\x3d\x3dactions\x26\x26!1\x3d\x3d\x3dactions.compiled||(compileLink\x3ddocument.createElement(\x22a\x22),compileLink.text\x3d\ni18n.COMPILED_ACTION,compileLink.href\x3d\x22#\x22,compileLink.addEventListener(\x22click\x22,function(e){var _a,_b;viewSource(jsonStringifyPrettyCompact(vgSpec),null!\x3d\x3d(_a\x3dopts.sourceHeader)\x26\x26void 0!\x3d\x3d_a?_a:\x22\x22,null!\x3d\x3d(_b\x3dopts.sourceFooter)\x26\x26void 0!\x3d\x3d_b?_b:\x22\x22,\x22vega\x22);e.preventDefault()}),ctrl.append(compileLink));if(!0\x3d\x3d\x3dactions||!1!\x3d\x3dactions.editor)editorUrl_1\x3dnull!\x3d\x3d(_f\x3dopts.editorUrl)\x26\x26void 0!\x3d\x3d_f?_f:\x22https://vega.github.io/editor/\x22,editorLink\x3ddocument.createElement(\x22a\x22),editorLink.text\x3di18n.EDITOR_ACTION,editorLink.href\x3d\n\x22#\x22,editorLink.addEventListener(\x22click\x22,function(e){post(window,editorUrl_1,{config:config,mode:mode,renderer:renderer,spec:jsonStringifyPrettyCompact(spec)});e.preventDefault()}),ctrl.append(editorLink)}return[2,{view:view,spec:spec,vgSpec:vgSpec,finalize:finalize}]}})})}function container(spec,opt){var _a;void 0\x3d\x3d\x3dopt\x26\x26(opt\x3d{});return __awaiter(this,void 0,void 0,function(){var wrapper,div,actions,result;return __generator(this,function(_b){switch(_b.label){case 0:return wrapper\x3ddocument.createElement(\x22div\x22),\nwrapper.classList.add(\x22vega-embed-wrapper\x22),div\x3ddocument.createElement(\x22div\x22),wrapper.appendChild(div),actions\x3d!0\x3d\x3d\x3dopt.actions||!1\x3d\x3d\x3dopt.actions?opt.actions:__assign({\x22export\x22:!0,source:!1,compiled:!0,editor:!0},null!\x3d\x3d(_a\x3dopt.actions)\x26\x26void 0!\x3d\x3d_a?_a:{}),[4,embed(div,spec,__assign({actions:actions},null!\x3d\x3dopt\x26\x26void 0!\x3d\x3dopt?opt:{}))];case 1:return result\x3d_b.sent(),wrapper.value\x3dresult.view,[2,wrapper]}})})}var vegaImport__namespace\x3d_interopNamespace(vegaImport),vegaLiteImport__namespace\x3d_interopNamespace(vegaLiteImport),\n__assign\x3dfunction(){__assign\x3dObject.assign||function(t){for(var s,i\x3d1,n\x3darguments.length;i\x3cn;i++){s\x3darguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)\x26\x26(t[p]\x3ds[p])}return t};return __assign.apply(this,arguments)},__extends\x3dfunction(){var extendStatics\x3dfunction(d$jscomp$0,b$jscomp$0){extendStatics\x3dObject.setPrototypeOf||{__proto__:[]}instanceof Array\x26\x26function(d,b){d.__proto__\x3db}||function(d,b){for(var p in b)b.hasOwnProperty(p)\x26\x26(d[p]\x3db[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};\nreturn function(d,b){function __(){this.constructor\x3dd}extendStatics(d,b);d.prototype\x3dnull\x3d\x3d\x3db?Object.create(b):(__.prototype\x3db.prototype,new __)}}(),_hasOwnProperty\x3dObject.prototype.hasOwnProperty,PatchError\x3dfunction(_super){function PatchError(message,name,index,operation,tree){var _newTarget\x3dthis.constructor,_this\x3d_super.call(this,patchErrorMessageFormatter(message,{name:name,index:index,operation:operation,tree:tree}))||this;_this.name\x3dname;_this.index\x3dindex;_this.operation\x3doperation;_this.tree\x3d\ntree;Object.setPrototypeOf(_this,_newTarget.prototype);_this.message\x3dpatchErrorMessageFormatter(message,{name:name,index:index,operation:operation,tree:tree});return _this}__extends(PatchError,_super);return PatchError}(Error),JsonPatchError\x3dPatchError,objOps\x3d{add:function(obj,key,document){obj[key]\x3dthis.value;return{newDocument:document}},remove:function(obj,key,document){var removed\x3dobj[key];delete obj[key];return{newDocument:document,removed:removed}},replace:function(obj,key,document){var removed\x3d\nobj[key];obj[key]\x3dthis.value;return{newDocument:document,removed:removed}},move:function(obj,key,document){(obj\x3dgetValueByPointer(document,this.path))\x26\x26(obj\x3d_deepClone(obj));key\x3dapplyOperation(document,{op:\x22remove\x22,path:this.from}).removed;applyOperation(document,{op:\x22add\x22,path:this.path,value:key});return{newDocument:document,removed:obj}},copy:function(obj,key,document){obj\x3dgetValueByPointer(document,this.from);applyOperation(document,{op:\x22add\x22,path:this.path,value:_deepClone(obj)});return{newDocument:document}},\ntest:function(obj,key,document){return{newDocument:document,test:_areEquals(obj[key],this.value)}},_get:function(obj,key,document){this.value\x3dobj[key];return{newDocument:document}}},arrOps\x3d{add:function(arr,i,document){isInteger(i)?arr.splice(i,0,this.value):arr[i]\x3dthis.value;return{newDocument:document,index:i}},remove:function(arr,i,document){arr\x3darr.splice(i,1);return{newDocument:document,removed:arr[0]}},replace:function(arr,i,document){var removed\x3darr[i];arr[i]\x3dthis.value;return{newDocument:document,\nremoved:removed}},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get},core\x3dObject.freeze({__proto__:null,JsonPatchError:JsonPatchError,deepClone:_deepClone,getValueByPointer:getValueByPointer,applyOperation:applyOperation,applyPatch:applyPatch,applyReducer:function(document,operation,index){var operationResult\x3dapplyOperation(document,operation);if(!1\x3d\x3d\x3doperationResult.test)throw new JsonPatchError(\x22Test operation failed\x22,\x22TEST_OPERATION_FAILED\x22,index,operation,document);return operationResult.newDocument},\nvalidator:validator,validate:validate,_areEquals:_areEquals}),beforeDict\x3dnew WeakMap,Mirror\x3dfunction(){return function(obj){this.observers\x3dnew Map;this.obj\x3dobj}}(),ObserverInfo\x3dfunction(){return function(callback,observer){this.callback\x3dcallback;this.observer\x3dobserver}}(),duplex\x3dObject.freeze({__proto__:null,unobserve:function(root,observer){observer.unobserve()},observe:function(obj,callback){var mirror\x3dbeforeDict.get(obj);if(mirror){var observerInfo\x3dmirror.observers.get(callback);var observer\x3dobserverInfo\x26\x26\nobserverInfo.observer}else mirror\x3dnew Mirror(obj),beforeDict.set(obj,mirror);if(observer)return observer;observer\x3d{};mirror.value\x3d_deepClone(obj);if(callback){observer.callback\x3dcallback;observer.next\x3dnull;var dirtyCheck\x3dfunction(){generate(observer)},fastCheck\x3dfunction(){clearTimeout(observer.next);observer.next\x3dsetTimeout(dirtyCheck)};\x22undefined\x22!\x3d\x3dtypeof window\x26\x26(window.addEventListener(\x22mouseup\x22,fastCheck),window.addEventListener(\x22keyup\x22,fastCheck),window.addEventListener(\x22mousedown\x22,fastCheck),\nwindow.addEventListener(\x22keydown\x22,fastCheck),window.addEventListener(\x22change\x22,fastCheck))}observer.patches\x3d[];observer.object\x3dobj;observer.unobserve\x3dfunction(){generate(observer);clearTimeout(observer.next);mirror.observers.delete(observer.callback);\x22undefined\x22!\x3d\x3dtypeof window\x26\x26(window.removeEventListener(\x22mouseup\x22,fastCheck),window.removeEventListener(\x22keyup\x22,fastCheck),window.removeEventListener(\x22mousedown\x22,fastCheck),window.removeEventListener(\x22keydown\x22,fastCheck),window.removeEventListener(\x22change\x22,\nfastCheck))};mirror.observers.set(callback,new ObserverInfo(callback,observer));return observer},generate:generate,compare:function(tree1,tree2,invertible){void 0\x3d\x3d\x3dinvertible\x26\x26(invertible\x3d!1);var patches\x3d[];_generate(tree1,tree2,patches,\x22\x22,invertible);return patches}});Object.assign({},core,duplex,{JsonPatchError:PatchError,deepClone:_deepClone,escapePathComponent:escapePathComponent,unescapePathComponent:unescapePathComponent});var stringOrChar\x3d/(\x22(?:[^\\\\\x22]|\\\\.)*\x22)|[:,]/g,jsonStringifyPrettyCompact\x3d\nfunction(passedObj,options){options\x3doptions||{};var indent\x3dJSON.stringify([1],void 0,void 0\x3d\x3d\x3doptions.indent?2:options.indent).slice(2,-3);var maxLength\x3d\x22\x22\x3d\x3d\x3dindent?Infinity:void 0\x3d\x3d\x3doptions.maxLength?80:options.maxLength;var replacer\x3doptions.replacer;return function _stringify(obj,currentIndent,reserved){obj\x26\x26\x22function\x22\x3d\x3d\x3dtypeof obj.toJSON\x26\x26(obj\x3dobj.toJSON());var string\x3dJSON.stringify(obj,replacer);if(void 0\x3d\x3d\x3dstring)return string;reserved\x3dmaxLength-currentIndent.length-reserved;if(string.length\x3c\x3d\nreserved){var end\x3dstring.replace(stringOrChar,function(match,stringLiteral){return stringLiteral||match+\x22 \x22});if(end.length\x3c\x3dreserved)return end}null!\x3dreplacer\x26\x26(obj\x3dJSON.parse(string),replacer\x3dvoid 0);if(\x22object\x22\x3d\x3d\x3dtypeof obj\x26\x26null!\x3d\x3dobj){var nextIndent\x3dcurrentIndent+indent;var items\x3d[];var index\x3d0;if(Array.isArray(obj)){var start\x3d\x22[\x22;end\x3d\x22]\x22;for(reserved\x3dobj.length;index\x3creserved;index++)items.push(_stringify(obj[index],nextIndent,index\x3d\x3d\x3dreserved-1?0:1)||\x22null\x22)}else{start\x3d\x22{\x22;end\x3d\x22}\x22;var keys\x3d\nObject.keys(obj);for(reserved\x3dkeys.length;index\x3creserved;index++){var key\x3dkeys[index];var keyPart\x3dJSON.stringify(key)+\x22: \x22;key\x3d_stringify(obj[key],nextIndent,keyPart.length+(index\x3d\x3d\x3dreserved-1?0:1));void 0!\x3d\x3dkey\x26\x26items.push(keyPart+key)}}if(0\x3citems.length)return[start,indent+items.join(\x22,\\n\x22+nextIndent),end].join(\x22\\n\x22+currentIndent)}return string}(passedObj,\x22\x22,0)},JSCompiler_object_inline_MAX_SAFE_INTEGER_3355\x3dNumber.MAX_SAFE_INTEGER||9007199254740991,debug_1\x3d\x22object\x22\x3d\x3d\x3dtypeof process\x26\x26process.env\x26\x26\nprocess.env.NODE_DEBUG\x26\x26/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?function(args){for(var $jscomp$restParams\x3d[],$jscomp$restIndex\x3d0;$jscomp$restIndex\x3carguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]\x3darguments[$jscomp$restIndex];return console.error.apply(console,[\x22SEMVER\x22].concat($jscomp.arrayFromIterable($jscomp$restParams)))}:function(){},re_1\x3dfunction(fn,basedir,module){return module\x3d{path:basedir,exports:{},require:function(path,base){throw Error(\x22Dynamic requires are not currently supported by @rollup/plugin-commonjs\x22);\n}},fn(module,module.exports),module.exports}(function(module,exports){exports\x3dmodule.exports\x3d{};var re\x3dexports.re\x3d[],src\x3dexports.src\x3d[],t\x3dexports.t\x3d{},R\x3d0;module\x3dfunction(name,value,isGlobal){var index\x3dR++;debug_1(index,value);t[name]\x3dindex;src[index]\x3dvalue;re[index]\x3dnew RegExp(value,isGlobal?\x22g\x22:void 0)};module(\x22NUMERICIDENTIFIER\x22,\x220|[1-9]\\\\d*\x22);module(\x22NUMERICIDENTIFIERLOOSE\x22,\x22[0-9]+\x22);module(\x22NONNUMERICIDENTIFIER\x22,\x22\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\x22);module(\x22MAINVERSION\x22,\x22(\x22+src[t.NUMERICIDENTIFIER]+\n\x22)\\\\.(\x22+(src[t.NUMERICIDENTIFIER]+\x22)\\\\.(\x22)+(src[t.NUMERICIDENTIFIER]+\x22)\x22));module(\x22MAINVERSIONLOOSE\x22,\x22(\x22+src[t.NUMERICIDENTIFIERLOOSE]+\x22)\\\\.(\x22+(src[t.NUMERICIDENTIFIERLOOSE]+\x22)\\\\.(\x22)+(src[t.NUMERICIDENTIFIERLOOSE]+\x22)\x22));module(\x22PRERELEASEIDENTIFIER\x22,\x22(?:\x22+src[t.NUMERICIDENTIFIER]+\x22|\x22+src[t.NONNUMERICIDENTIFIER]+\x22)\x22);module(\x22PRERELEASEIDENTIFIERLOOSE\x22,\x22(?:\x22+src[t.NUMERICIDENTIFIERLOOSE]+\x22|\x22+src[t.NONNUMERICIDENTIFIER]+\x22)\x22);module(\x22PRERELEASE\x22,\x22(?:-(\x22+src[t.PRERELEASEIDENTIFIER]+\x22(?:\\\\.\x22+src[t.PRERELEASEIDENTIFIER]+\n\x22)*))\x22);module(\x22PRERELEASELOOSE\x22,\x22(?:-?(\x22+src[t.PRERELEASEIDENTIFIERLOOSE]+\x22(?:\\\\.\x22+src[t.PRERELEASEIDENTIFIERLOOSE]+\x22)*))\x22);module(\x22BUILDIDENTIFIER\x22,\x22[0-9A-Za-z-]+\x22);module(\x22BUILD\x22,\x22(?:\\\\+(\x22+src[t.BUILDIDENTIFIER]+\x22(?:\\\\.\x22+src[t.BUILDIDENTIFIER]+\x22)*))\x22);module(\x22FULLPLAIN\x22,\x22v?\x22+src[t.MAINVERSION]+src[t.PRERELEASE]+\x22?\x22+src[t.BUILD]+\x22?\x22);module(\x22FULL\x22,\x22^\x22+src[t.FULLPLAIN]+\x22$\x22);module(\x22LOOSEPLAIN\x22,\x22[v\\x3d\\\\s]*\x22+src[t.MAINVERSIONLOOSE]+src[t.PRERELEASELOOSE]+\x22?\x22+src[t.BUILD]+\x22?\x22);module(\x22LOOSE\x22,\x22^\x22+src[t.LOOSEPLAIN]+\n\x22$\x22);module(\x22GTLT\x22,\x22((?:\\x3c|\\x3e)?\\x3d?)\x22);module(\x22XRANGEIDENTIFIERLOOSE\x22,src[t.NUMERICIDENTIFIERLOOSE]+\x22|x|X|\\\\*\x22);module(\x22XRANGEIDENTIFIER\x22,src[t.NUMERICIDENTIFIER]+\x22|x|X|\\\\*\x22);module(\x22XRANGEPLAIN\x22,\x22[v\\x3d\\\\s]*(\x22+src[t.XRANGEIDENTIFIER]+\x22)(?:\\\\.(\x22+(src[t.XRANGEIDENTIFIER]+\x22)(?:\\\\.(\x22)+(src[t.XRANGEIDENTIFIER]+\x22)(?:\x22)+(src[t.PRERELEASE]+\x22)?\x22+src[t.BUILD]+\x22?)?)?\x22));module(\x22XRANGEPLAINLOOSE\x22,\x22[v\\x3d\\\\s]*(\x22+src[t.XRANGEIDENTIFIERLOOSE]+\x22)(?:\\\\.(\x22+(src[t.XRANGEIDENTIFIERLOOSE]+\x22)(?:\\\\.(\x22)+(src[t.XRANGEIDENTIFIERLOOSE]+\n\x22)(?:\x22)+(src[t.PRERELEASELOOSE]+\x22)?\x22+src[t.BUILD]+\x22?)?)?\x22));module(\x22XRANGE\x22,\x22^\x22+src[t.GTLT]+\x22\\\\s*\x22+src[t.XRANGEPLAIN]+\x22$\x22);module(\x22XRANGELOOSE\x22,\x22^\x22+src[t.GTLT]+\x22\\\\s*\x22+src[t.XRANGEPLAINLOOSE]+\x22$\x22);module(\x22COERCE\x22,\x22(^|[^\\\\d])(\\\\d{1,16})(?:\\\\.(\\\\d{1,16}))?(?:\\\\.(\\\\d{1,16}))?(?:$|[^\\\\d])\x22);module(\x22COERCERTL\x22,src[t.COERCE],!0);module(\x22LONETILDE\x22,\x22(?:~\\x3e?)\x22);module(\x22TILDETRIM\x22,\x22(\\\\s*)\x22+src[t.LONETILDE]+\x22\\\\s+\x22,!0);exports.tildeTrimReplace\x3d\x22$1~\x22;module(\x22TILDE\x22,\x22^\x22+src[t.LONETILDE]+src[t.XRANGEPLAIN]+\x22$\x22);\nmodule(\x22TILDELOOSE\x22,\x22^\x22+src[t.LONETILDE]+src[t.XRANGEPLAINLOOSE]+\x22$\x22);module(\x22LONECARET\x22,\x22(?:\\\\^)\x22);module(\x22CARETTRIM\x22,\x22(\\\\s*)\x22+src[t.LONECARET]+\x22\\\\s+\x22,!0);exports.caretTrimReplace\x3d\x22$1^\x22;module(\x22CARET\x22,\x22^\x22+src[t.LONECARET]+src[t.XRANGEPLAIN]+\x22$\x22);module(\x22CARETLOOSE\x22,\x22^\x22+src[t.LONECARET]+src[t.XRANGEPLAINLOOSE]+\x22$\x22);module(\x22COMPARATORLOOSE\x22,\x22^\x22+src[t.GTLT]+\x22\\\\s*(\x22+src[t.LOOSEPLAIN]+\x22)$|^$\x22);module(\x22COMPARATOR\x22,\x22^\x22+src[t.GTLT]+\x22\\\\s*(\x22+src[t.FULLPLAIN]+\x22)$|^$\x22);module(\x22COMPARATORTRIM\x22,\x22(\\\\s*)\x22+src[t.GTLT]+\n\x22\\\\s*(\x22+src[t.LOOSEPLAIN]+\x22|\x22+src[t.XRANGEPLAIN]+\x22)\x22,!0);exports.comparatorTrimReplace\x3d\x22$1$2$3\x22;module(\x22HYPHENRANGE\x22,\x22^\\\\s*(\x22+src[t.XRANGEPLAIN]+\x22)\\\\s+-\\\\s+(\x22+(src[t.XRANGEPLAIN]+\x22)\\\\s*$\x22));module(\x22HYPHENRANGELOOSE\x22,\x22^\\\\s*(\x22+src[t.XRANGEPLAINLOOSE]+\x22)\\\\s+-\\\\s+(\x22+(src[t.XRANGEPLAINLOOSE]+\x22)\\\\s*$\x22));module(\x22STAR\x22,\x22(\\x3c|\\x3e)?\\x3d?\\\\s*\\\\*\x22);module(\x22GTE0\x22,\x22^\\\\s*\\x3e\\x3d\\\\s*0.0.0\\\\s*$\x22);module(\x22GTE0PRE\x22,\x22^\\\\s*\\x3e\\x3d\\\\s*0.0.0-0\\\\s*$\x22)}),numeric\x3d/^[0-9]+$/,compareIdentifiers\x3dfunction(a,b){var anum\x3dnumeric.test(a),\nbnum\x3dnumeric.test(b);anum\x26\x26bnum\x26\x26(a\x3d+a,b\x3d+b);return a\x3d\x3d\x3db?0:anum\x26\x26!bnum?-1:bnum\x26\x26!anum?1:a\x3cb?-1:1},re$jscomp$0\x3dre_1.re,t$jscomp$0\x3dre_1.t,SemVer\x3dfunction(version,options){options\x26\x26\x22object\x22\x3d\x3d\x3dtypeof options||(options\x3d{loose:!!options,includePrerelease:!1});if(version instanceof SemVer){if(version.loose\x3d\x3d\x3d!!options.loose\x26\x26version.includePrerelease\x3d\x3d\x3d!!options.includePrerelease)return version;version\x3dversion.version}else if(\x22string\x22!\x3d\x3dtypeof version)throw new TypeError(\x22Invalid Version: \x22+version);if(256\x3c\nversion.length)throw new TypeError(\x22version is longer than 256 characters\x22);debug_1(\x22SemVer\x22,version,options);this.options\x3doptions;this.loose\x3d!!options.loose;this.includePrerelease\x3d!!options.includePrerelease;options\x3dversion.trim().match(options.loose?re$jscomp$0[t$jscomp$0.LOOSE]:re$jscomp$0[t$jscomp$0.FULL]);if(!options)throw new TypeError(\x22Invalid Version: \x22+version);this.raw\x3dversion;this.major\x3d+options[1];this.minor\x3d+options[2];this.patch\x3d+options[3];if(this.major\x3eJSCompiler_object_inline_MAX_SAFE_INTEGER_3355||\n0\x3ethis.major)throw new TypeError(\x22Invalid major version\x22);if(this.minor\x3eJSCompiler_object_inline_MAX_SAFE_INTEGER_3355||0\x3ethis.minor)throw new TypeError(\x22Invalid minor version\x22);if(this.patch\x3eJSCompiler_object_inline_MAX_SAFE_INTEGER_3355||0\x3ethis.patch)throw new TypeError(\x22Invalid patch version\x22);this.prerelease\x3doptions[4]?options[4].split(\x22.\x22).map(function(id){if(/^[0-9]+$/.test(id)){var num\x3d+id;if(0\x3c\x3dnum\x26\x26num\x3cJSCompiler_object_inline_MAX_SAFE_INTEGER_3355)return num}return id}):[];this.build\x3doptions[5]?\noptions[5].split(\x22.\x22):[];this.format()};SemVer.prototype.format\x3dfunction(){this.version\x3dthis.major+\x22.\x22+this.minor+\x22.\x22+this.patch;this.prerelease.length\x26\x26(this.version+\x3d\x22-\x22+this.prerelease.join(\x22.\x22));return this.version};SemVer.prototype.toString\x3dfunction(){return this.version};SemVer.prototype.compare\x3dfunction(other){debug_1(\x22SemVer.compare\x22,this.version,this.options,other);if(!(other instanceof SemVer)){if(\x22string\x22\x3d\x3d\x3dtypeof other\x26\x26other\x3d\x3d\x3dthis.version)return 0;other\x3dnew SemVer(other,this.options)}return other.version\x3d\x3d\x3d\nthis.version?0:this.compareMain(other)||this.comparePre(other)};SemVer.prototype.compareMain\x3dfunction(other){other instanceof SemVer||(other\x3dnew SemVer(other,this.options));return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)};SemVer.prototype.comparePre\x3dfunction(other){other instanceof SemVer||(other\x3dnew SemVer(other,this.options));if(this.prerelease.length\x26\x26!other.prerelease.length)return-1;if(!this.prerelease.length\x26\x26\nother.prerelease.length)return 1;if(!this.prerelease.length\x26\x26!other.prerelease.length)return 0;var i\x3d0;do{var a\x3dthis.prerelease[i],b\x3dother.prerelease[i];debug_1(\x22prerelease compare\x22,i,a,b);if(void 0\x3d\x3d\x3da\x26\x26void 0\x3d\x3d\x3db)return 0;if(void 0\x3d\x3d\x3db)return 1;if(void 0\x3d\x3d\x3da)return-1;if(a!\x3d\x3db)return compareIdentifiers(a,b)}while(++i)};SemVer.prototype.compareBuild\x3dfunction(other){other instanceof SemVer||(other\x3dnew SemVer(other,this.options));var i\x3d0;do{var a\x3dthis.build[i],b\x3dother.build[i];debug_1(\x22prerelease compare\x22,\ni,a,b);if(void 0\x3d\x3d\x3da\x26\x26void 0\x3d\x3d\x3db)return 0;if(void 0\x3d\x3d\x3db)return 1;if(void 0\x3d\x3d\x3da)return-1;if(a!\x3d\x3db)return compareIdentifiers(a,b)}while(++i)};SemVer.prototype.inc\x3dfunction(release,identifier){switch(release){case \x22premajor\x22:this.minor\x3dthis.patch\x3dthis.prerelease.length\x3d0;this.major++;this.inc(\x22pre\x22,identifier);break;case \x22preminor\x22:this.patch\x3dthis.prerelease.length\x3d0;this.minor++;this.inc(\x22pre\x22,identifier);break;case \x22prepatch\x22:this.prerelease.length\x3d0;this.inc(\x22patch\x22,identifier);this.inc(\x22pre\x22,identifier);\nbreak;case \x22prerelease\x22:0\x3d\x3d\x3dthis.prerelease.length\x26\x26this.inc(\x22patch\x22,identifier);this.inc(\x22pre\x22,identifier);break;case \x22major\x22:0\x3d\x3d\x3dthis.minor\x26\x260\x3d\x3d\x3dthis.patch\x26\x260!\x3d\x3dthis.prerelease.length||this.major++;this.patch\x3dthis.minor\x3d0;this.prerelease\x3d[];break;case \x22minor\x22:0\x3d\x3d\x3dthis.patch\x26\x260!\x3d\x3dthis.prerelease.length||this.minor++;this.patch\x3d0;this.prerelease\x3d[];break;case \x22patch\x22:0\x3d\x3d\x3dthis.prerelease.length\x26\x26this.patch++;this.prerelease\x3d[];break;case \x22pre\x22:if(0\x3d\x3d\x3dthis.prerelease.length)this.prerelease\x3d[0];else{for(release\x3d\nthis.prerelease.length;0\x3c\x3d--release;)\x22number\x22\x3d\x3d\x3dtypeof this.prerelease[release]\x26\x26(this.prerelease[release]++,release\x3d-2);-1\x3d\x3d\x3drelease\x26\x26this.prerelease.push(0)}identifier\x26\x26(this.prerelease[0]\x3d\x3d\x3didentifier?isNaN(this.prerelease[1])\x26\x26(this.prerelease\x3d[identifier,0]):this.prerelease\x3d[identifier,0]);break;default:throw Error(\x22invalid increment argument: \x22+release);}this.format();this.raw\x3dthis.version;return this};var semver\x3dSemVer,re$1\x3dre_1.re,t$1\x3dre_1.t,parse_1\x3dfunction(version,options){options\x26\x26\x22object\x22\x3d\x3d\x3d\ntypeof options||(options\x3d{loose:!!options,includePrerelease:!1});if(version instanceof semver)return version;if(\x22string\x22!\x3d\x3dtypeof version||256\x3cversion.length||!(options.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]).test(version))return null;try{return new semver(version,options)}catch(er){return null}},compare_1\x3dfunction(a,b,loose){return(new semver(a,loose)).compare(new semver(b,loose))},eq_1\x3dfunction(a,b,loose){return 0\x3d\x3d\x3dcompare_1(a,b,loose)},compareBuild_1\x3dfunction(a,b,loose){a\x3dnew semver(a,loose);b\x3d\nnew semver(b,loose);return a.compare(b)||a.compareBuild(b)},gt_1\x3dfunction(a,b,loose){return 0\x3ccompare_1(a,b,loose)},lt_1\x3dfunction(a,b,loose){return 0\x3ecompare_1(a,b,loose)},neq_1\x3dfunction(a,b,loose){return 0!\x3d\x3dcompare_1(a,b,loose)},gte_1\x3dfunction(a,b,loose){return 0\x3c\x3dcompare_1(a,b,loose)},lte_1\x3dfunction(a,b,loose){return 0\x3e\x3dcompare_1(a,b,loose)},cmp_1\x3dfunction(a,op,b,loose){switch(op){case \x22\\x3d\\x3d\\x3d\x22:return\x22object\x22\x3d\x3d\x3dtypeof a\x26\x26(a\x3da.version),\x22object\x22\x3d\x3d\x3dtypeof b\x26\x26(b\x3db.version),a\x3d\x3d\x3db;case \x22!\\x3d\\x3d\x22:return\x22object\x22\x3d\x3d\x3d\ntypeof a\x26\x26(a\x3da.version),\x22object\x22\x3d\x3d\x3dtypeof b\x26\x26(b\x3db.version),a!\x3d\x3db;case \x22\x22:case \x22\\x3d\x22:case \x22\\x3d\\x3d\x22:return eq_1(a,b,loose);case \x22!\\x3d\x22:return neq_1(a,b,loose);case \x22\\x3e\x22:return gt_1(a,b,loose);case \x22\\x3e\\x3d\x22:return gte_1(a,b,loose);case \x22\\x3c\x22:return lt_1(a,b,loose);case \x22\\x3c\\x3d\x22:return lte_1(a,b,loose);default:throw new TypeError(\x22Invalid operator: \x22+op);}},re$2\x3dre_1.re,t$2\x3dre_1.t,Range\x3dfunction(range$jscomp$0,options){var $jscomp$this\x3dthis;options\x26\x26\x22object\x22\x3d\x3d\x3dtypeof options||(options\x3d{loose:!!options,\nincludePrerelease:!1});if(range$jscomp$0 instanceof Range)return range$jscomp$0.loose\x3d\x3d\x3d!!options.loose\x26\x26range$jscomp$0.includePrerelease\x3d\x3d\x3d!!options.includePrerelease?range$jscomp$0:new Range(range$jscomp$0.raw,options);if(range$jscomp$0 instanceof comparator$jscomp$0)return this.raw\x3drange$jscomp$0.value,this.set\x3d[[range$jscomp$0]],this.format(),this;this.options\x3doptions;this.loose\x3d!!options.loose;this.includePrerelease\x3d!!options.includePrerelease;this.raw\x3drange$jscomp$0;this.set\x3drange$jscomp$0.split(/\\s*\\|\\|\\s*/).map(function(range){return $jscomp$this.parseRange(range.trim())}).filter(function(c){return c.length});\nif(!this.set.length)throw new TypeError(\x22Invalid SemVer Range: \x22+range$jscomp$0);this.format()};Range.prototype.format\x3dfunction(){return this.range\x3dthis.set.map(function(comps){return comps.join(\x22 \x22).trim()}).join(\x22||\x22).trim()};Range.prototype.toString\x3dfunction(){return this.range};Range.prototype.parseRange\x3dfunction(range){var $jscomp$this\x3dthis,loose\x3dthis.options.loose;range\x3drange.trim();range\x3drange.replace(loose?re$3[t$3.HYPHENRANGELOOSE]:re$3[t$3.HYPHENRANGE],hyphenReplace(this.options.includePrerelease));\ndebug_1(\x22hyphen replace\x22,range);range\x3drange.replace(re$3[t$3.COMPARATORTRIM],comparatorTrimReplace);debug_1(\x22comparator trim\x22,range,re$3[t$3.COMPARATORTRIM]);range\x3drange.replace(re$3[t$3.TILDETRIM],tildeTrimReplace);range\x3drange.replace(re$3[t$3.CARETTRIM],caretTrimReplace);range\x3drange.split(/\\s+/).join(\x22 \x22);var compRe\x3dloose?re$3[t$3.COMPARATORLOOSE]:re$3[t$3.COMPARATOR];return range.split(\x22 \x22).map(function(comp){var comp$jscomp$0\x3dcomp;comp\x3d$jscomp$this.options;debug_1(\x22comp\x22,comp$jscomp$0,comp);comp$jscomp$0\x3d\nreplaceCarets(comp$jscomp$0,comp);debug_1(\x22caret\x22,comp$jscomp$0);comp$jscomp$0\x3dreplaceTildes(comp$jscomp$0,comp);debug_1(\x22tildes\x22,comp$jscomp$0);comp$jscomp$0\x3dreplaceXRanges(comp$jscomp$0,comp);debug_1(\x22xrange\x22,comp$jscomp$0);debug_1(\x22replaceStars\x22,comp$jscomp$0,comp);comp$jscomp$0\x3dcomp$jscomp$0.trim().replace(re$3[t$3.STAR],\x22\x22);debug_1(\x22stars\x22,comp$jscomp$0);return comp$jscomp$0}).join(\x22 \x22).split(/\\s+/).map(function(comp){var options\x3d$jscomp$this.options;debug_1(\x22replaceGTE0\x22,comp,options);return comp.trim().replace(re$3[options.includePrerelease?\nt$3.GTE0PRE:t$3.GTE0],\x22\x22)}).filter(this.options.loose?function(comp){return!!comp.match(compRe)}:function(){return!0}).map(function(comp){return new comparator$jscomp$0(comp,$jscomp$this.options)})};Range.prototype.intersects\x3dfunction(range,options){if(!(range instanceof Range))throw new TypeError(\x22a Range is required\x22);return this.set.some(function(thisComparators){return isSatisfiable(thisComparators,options)\x26\x26range.set.some(function(rangeComparators){return isSatisfiable(rangeComparators,options)\x26\x26\nthisComparators.every(function(thisComparator){return rangeComparators.every(function(rangeComparator){return thisComparator.intersects(rangeComparator,options)})})})})};Range.prototype.test\x3dfunction(version$jscomp$0){if(!version$jscomp$0)return!1;if(\x22string\x22\x3d\x3d\x3dtypeof version$jscomp$0)try{version$jscomp$0\x3dnew semver(version$jscomp$0,this.options)}catch(er){return!1}for(var i\x3d0;i\x3cthis.set.length;i++){a:{var JSCompiler_inline_result\x3dthis.set[i];for(var version\x3dversion$jscomp$0,options\x3dthis.options,\ni$jscomp$0\x3d0;i$jscomp$0\x3cJSCompiler_inline_result.length;i$jscomp$0++)if(!JSCompiler_inline_result[i$jscomp$0].test(version)){JSCompiler_inline_result\x3d!1;break a}if(version.prerelease.length\x26\x26!options.includePrerelease){for(options\x3d0;options\x3cJSCompiler_inline_result.length;options++)if(debug_1(JSCompiler_inline_result[options].semver),JSCompiler_inline_result[options].semver!\x3d\x3dcomparator$jscomp$0.ANY\x26\x260\x3cJSCompiler_inline_result[options].semver.prerelease.length\x26\x26(i$jscomp$0\x3dJSCompiler_inline_result[options].semver,\ni$jscomp$0.major\x3d\x3d\x3dversion.major\x26\x26i$jscomp$0.minor\x3d\x3d\x3dversion.minor\x26\x26i$jscomp$0.patch\x3d\x3d\x3dversion.patch)){JSCompiler_inline_result\x3d!0;break a}JSCompiler_inline_result\x3d!1}else JSCompiler_inline_result\x3d!0}if(JSCompiler_inline_result)return!0}return!1};var range$jscomp$1\x3dRange,re$3\x3dre_1.re,t$3\x3dre_1.t,comparatorTrimReplace\x3dre_1.comparatorTrimReplace,tildeTrimReplace\x3dre_1.tildeTrimReplace,caretTrimReplace\x3dre_1.caretTrimReplace,isSatisfiable\x3dfunction(comparators,options){var result\x3d!0;comparators\x3dcomparators.slice();\nfor(var testComparator\x3dcomparators.pop();result\x26\x26comparators.length;)result\x3dcomparators.every(function(otherComparator){return testComparator.intersects(otherComparator,options)}),testComparator\x3dcomparators.pop();return result},isX\x3dfunction(id){return!id||\x22x\x22\x3d\x3d\x3did.toLowerCase()||\x22*\x22\x3d\x3d\x3did},replaceTildes\x3dfunction(comp$jscomp$0,options){return comp$jscomp$0.trim().split(/\\s+/).map(function(comp){return replaceTilde(comp,options)}).join(\x22 \x22)},replaceTilde\x3dfunction(comp,options){return comp.replace(options.loose?\nre$3[t$3.TILDELOOSE]:re$3[t$3.TILDE],function(_,M,m,p,pr){debug_1(\x22tilde\x22,comp,_,M,m,p,pr);isX(M)?_\x3d\x22\x22:isX(m)?_\x3d\x22\\x3e\\x3d\x22+M+\x22.0.0 \\x3c\x22+(+M+1)+\x22.0.0-0\x22:isX(p)?_\x3d\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.0 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22:pr?(debug_1(\x22replaceTilde pr\x22,pr),_\x3d\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+\x22-\x22+pr+\x22 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22):_\x3d\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+\x22 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22;debug_1(\x22tilde return\x22,_);return _})},replaceCarets\x3dfunction(comp$jscomp$0,options){return comp$jscomp$0.trim().split(/\\s+/).map(function(comp){return replaceCaret(comp,\noptions)}).join(\x22 \x22)},replaceCaret\x3dfunction(comp,options){debug_1(\x22caret\x22,comp,options);var z\x3doptions.includePrerelease?\x22-0\x22:\x22\x22;return comp.replace(options.loose?re$3[t$3.CARETLOOSE]:re$3[t$3.CARET],function(_,M,m,p,pr){debug_1(\x22caret\x22,comp,_,M,m,p,pr);isX(M)?_\x3d\x22\x22:isX(m)?_\x3d\x22\\x3e\\x3d\x22+M+\x22.0.0\x22+z+\x22 \\x3c\x22+(+M+1)+\x22.0.0-0\x22:isX(p)?_\x3d\x220\x22\x3d\x3d\x3dM?\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.0\x22+z+\x22 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22:\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.0\x22+z+\x22 \\x3c\x22+(+M+1)+\x22.0.0-0\x22:pr?(debug_1(\x22replaceCaret pr\x22,pr),_\x3d\x220\x22\x3d\x3d\x3dM?\x220\x22\x3d\x3d\x3dm?\x22\\x3e\\x3d\x22+\nM+\x22.\x22+m+\x22.\x22+p+\x22-\x22+pr+\x22 \\x3c\x22+M+\x22.\x22+m+\x22.\x22+(+p+1)+\x22-0\x22:\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+\x22-\x22+pr+\x22 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22:\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+\x22-\x22+pr+\x22 \\x3c\x22+(+M+1)+\x22.0.0-0\x22):(debug_1(\x22no pr\x22),_\x3d\x220\x22\x3d\x3d\x3dM?\x220\x22\x3d\x3d\x3dm?\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+z+\x22 \\x3c\x22+M+\x22.\x22+m+\x22.\x22+(+p+1)+\x22-0\x22:\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+z+\x22 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22:\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.\x22+p+\x22 \\x3c\x22+(+M+1)+\x22.0.0-0\x22);debug_1(\x22caret return\x22,_);return _})},replaceXRanges\x3dfunction(comp$jscomp$0,options){debug_1(\x22replaceXRanges\x22,comp$jscomp$0,options);\nreturn comp$jscomp$0.split(/\\s+/).map(function(comp){return replaceXRange(comp,options)}).join(\x22 \x22)},replaceXRange\x3dfunction(comp,options){comp\x3dcomp.trim();return comp.replace(options.loose?re$3[t$3.XRANGELOOSE]:re$3[t$3.XRANGE],function(ret,gtlt,M,m,p,pr){debug_1(\x22xRange\x22,comp,ret,gtlt,M,m,p,pr);var xM\x3disX(M),xm\x3dxM||isX(m);p\x3dxm||isX(p);\x22\\x3d\x22\x3d\x3d\x3dgtlt\x26\x26p\x26\x26(gtlt\x3d\x22\x22);pr\x3doptions.includePrerelease?\x22-0\x22:\x22\x22;xM?ret\x3d\x22\\x3e\x22\x3d\x3d\x3dgtlt||\x22\\x3c\x22\x3d\x3d\x3dgtlt?\x22\\x3c0.0.0-0\x22:\x22*\x22:gtlt\x26\x26p?(xm\x26\x26(m\x3d0),p\x3d0,\x22\\x3e\x22\x3d\x3d\x3dgtlt?(gtlt\x3d\x22\\x3e\\x3d\x22,\nxm?(M\x3d+M+1,m\x3d0):m\x3d+m+1,p\x3d0):\x22\\x3c\\x3d\x22\x3d\x3d\x3dgtlt\x26\x26(gtlt\x3d\x22\\x3c\x22,xm?M\x3d+M+1:m\x3d+m+1),\x22\\x3c\x22\x3d\x3d\x3dgtlt\x26\x26(pr\x3d\x22-0\x22),ret\x3dgtlt+M+\x22.\x22+m+\x22.\x22+p+pr):xm?ret\x3d\x22\\x3e\\x3d\x22+M+\x22.0.0\x22+pr+\x22 \\x3c\x22+(+M+1)+\x22.0.0-0\x22:p\x26\x26(ret\x3d\x22\\x3e\\x3d\x22+M+\x22.\x22+m+\x22.0\x22+pr+\x22 \\x3c\x22+M+\x22.\x22+(+m+1)+\x22.0-0\x22);debug_1(\x22xRange return\x22,ret);return ret})},hyphenReplace\x3dfunction(incPr){return function($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){from\x3disX(fM)?\x22\x22:isX(fm)?\x22\\x3e\\x3d\x22+fM+\x22.0.0\x22+(incPr?\x22-0\x22:\x22\x22):isX(fp)?\x22\\x3e\\x3d\x22+fM+\x22.\x22+fm+\x22.0\x22+(incPr?\x22-0\x22:\x22\x22):fpr?\x22\\x3e\\x3d\x22+\nfrom:\x22\\x3e\\x3d\x22+from+(incPr?\x22-0\x22:\x22\x22);to\x3disX(tM)?\x22\x22:isX(tm)?\x22\\x3c\x22+(+tM+1)+\x22.0.0-0\x22:isX(tp)?\x22\\x3c\x22+tM+\x22.\x22+(+tm+1)+\x22.0-0\x22:tpr?\x22\\x3c\\x3d\x22+tM+\x22.\x22+tm+\x22.\x22+tp+\x22-\x22+tpr:incPr?\x22\\x3c\x22+tM+\x22.\x22+tm+\x22.\x22+(+tp+1)+\x22-0\x22:\x22\\x3c\\x3d\x22+to;return(from+\x22 \x22+to).trim()}};$jscomp.initSymbol();var ANY\x3dSymbol(\x22SemVer ANY\x22),Comparator\x3dfunction(comp,options){options\x26\x26\x22object\x22\x3d\x3d\x3dtypeof options||(options\x3d{loose:!!options,includePrerelease:!1});if(comp instanceof Comparator){if(comp.loose\x3d\x3d\x3d!!options.loose)return comp;comp\x3dcomp.value}debug_1(\x22comparator\x22,\ncomp,options);this.options\x3doptions;this.loose\x3d!!options.loose;this.parse(comp);this.value\x3dthis.semver\x3d\x3d\x3dANY?\x22\x22:this.operator+this.semver.version;debug_1(\x22comp\x22,this)};Comparator.prototype.parse\x3dfunction(comp){var m\x3dcomp.match(this.options.loose?re$4[t$4.COMPARATORLOOSE]:re$4[t$4.COMPARATOR]);if(!m)throw new TypeError(\x22Invalid comparator: \x22+comp);this.operator\x3dvoid 0!\x3d\x3dm[1]?m[1]:\x22\x22;\x22\\x3d\x22\x3d\x3d\x3dthis.operator\x26\x26(this.operator\x3d\x22\x22);this.semver\x3dm[2]?new semver(m[2],this.options.loose):ANY};Comparator.prototype.toString\x3d\nfunction(){return this.value};Comparator.prototype.test\x3dfunction(version){debug_1(\x22Comparator.test\x22,version,this.options.loose);if(this.semver\x3d\x3d\x3dANY||version\x3d\x3d\x3dANY)return!0;if(\x22string\x22\x3d\x3d\x3dtypeof version)try{version\x3dnew semver(version,this.options)}catch(er){return!1}return cmp_1(version,this.operator,this.semver,this.options)};Comparator.prototype.intersects\x3dfunction(comp,options){if(!(comp instanceof Comparator))throw new TypeError(\x22a Comparator is required\x22);options\x26\x26\x22object\x22\x3d\x3d\x3dtypeof options||(options\x3d\n{loose:!!options,includePrerelease:!1});if(\x22\x22\x3d\x3d\x3dthis.operator)return\x22\x22\x3d\x3d\x3dthis.value?!0:(new range$jscomp$1(comp.value,options)).test(this.value);if(\x22\x22\x3d\x3d\x3dcomp.operator)return\x22\x22\x3d\x3d\x3dcomp.value?!0:(new range$jscomp$1(this.value,options)).test(comp.semver);var sameDirectionIncreasing\x3d(\x22\\x3e\\x3d\x22\x3d\x3d\x3dthis.operator||\x22\\x3e\x22\x3d\x3d\x3dthis.operator)\x26\x26(\x22\\x3e\\x3d\x22\x3d\x3d\x3dcomp.operator||\x22\\x3e\x22\x3d\x3d\x3dcomp.operator),sameDirectionDecreasing\x3d(\x22\\x3c\\x3d\x22\x3d\x3d\x3dthis.operator||\x22\\x3c\x22\x3d\x3d\x3dthis.operator)\x26\x26(\x22\\x3c\\x3d\x22\x3d\x3d\x3dcomp.operator||\x22\\x3c\x22\x3d\x3d\x3d\ncomp.operator),sameSemVer\x3dthis.semver.version\x3d\x3d\x3dcomp.semver.version,differentDirectionsInclusive\x3d(\x22\\x3e\\x3d\x22\x3d\x3d\x3dthis.operator||\x22\\x3c\\x3d\x22\x3d\x3d\x3dthis.operator)\x26\x26(\x22\\x3e\\x3d\x22\x3d\x3d\x3dcomp.operator||\x22\\x3c\\x3d\x22\x3d\x3d\x3dcomp.operator),oppositeDirectionsLessThan\x3dcmp_1(this.semver,\x22\\x3c\x22,comp.semver,options)\x26\x26(\x22\\x3e\\x3d\x22\x3d\x3d\x3dthis.operator||\x22\\x3e\x22\x3d\x3d\x3dthis.operator)\x26\x26(\x22\\x3c\\x3d\x22\x3d\x3d\x3dcomp.operator||\x22\\x3c\x22\x3d\x3d\x3dcomp.operator);comp\x3dcmp_1(this.semver,\x22\\x3e\x22,comp.semver,options)\x26\x26(\x22\\x3c\\x3d\x22\x3d\x3d\x3dthis.operator||\x22\\x3c\x22\x3d\x3d\x3dthis.operator)\x26\x26(\x22\\x3e\\x3d\x22\x3d\x3d\x3d\ncomp.operator||\x22\\x3e\x22\x3d\x3d\x3dcomp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer\x26\x26differentDirectionsInclusive||oppositeDirectionsLessThan||comp};$jscomp.global.Object.defineProperties(Comparator,{ANY:{configurable:!0,enumerable:!0,get:function(){return ANY}}});var comparator$jscomp$0\x3dComparator,re$4\x3dre_1.re,t$4\x3dre_1.t,satisfies_1\x3dfunction(version,range$1,options){try{range$1\x3dnew range$jscomp$1(range$1,options)}catch(er){return!1}return range$1.test(version)},ANY$1\x3dcomparator$jscomp$0.ANY,\noutside_1\x3dfunction(version,range$1,hilo,options){version\x3dnew semver(version,options);range$1\x3dnew range$jscomp$1(range$1,options);switch(hilo){case \x22\\x3e\x22:var gtfn\x3dgt_1;hilo\x3dlte_1;var ltfn\x3dlt_1;var comp\x3d\x22\\x3e\x22;var ecomp\x3d\x22\\x3e\\x3d\x22;break;case \x22\\x3c\x22:gtfn\x3dlt_1;hilo\x3dgte_1;ltfn\x3dgt_1;comp\x3d\x22\\x3c\x22;ecomp\x3d\x22\\x3c\\x3d\x22;break;default:throw new TypeError(\x27Must provide a hilo val of \x22\\x3c\x22 or \x22\\x3e\x22\x27);}if(satisfies_1(version,range$1,options))return!1;for(var $jscomp$loop$627\x3d{},i\x3d0;i\x3crange$1.set.length;$jscomp$loop$627\x3d\n{$jscomp$loop$prop$high$628:$jscomp$loop$627.$jscomp$loop$prop$high$628,$jscomp$loop$prop$low$629:$jscomp$loop$627.$jscomp$loop$prop$low$629},++i){var comparators\x3drange$1.set[i];$jscomp$loop$627.$jscomp$loop$prop$high$628\x3dnull;$jscomp$loop$627.$jscomp$loop$prop$low$629\x3dnull;comparators.forEach(function($jscomp$loop$627){return function(comparator$1){comparator$1.semver\x3d\x3d\x3dANY$1\x26\x26(comparator$1\x3dnew comparator$jscomp$0(\x22\\x3e\\x3d0.0.0\x22));$jscomp$loop$627.$jscomp$loop$prop$high$628\x3d$jscomp$loop$627.$jscomp$loop$prop$high$628||\ncomparator$1;$jscomp$loop$627.$jscomp$loop$prop$low$629\x3d$jscomp$loop$627.$jscomp$loop$prop$low$629||comparator$1;gtfn(comparator$1.semver,$jscomp$loop$627.$jscomp$loop$prop$high$628.semver,options)?$jscomp$loop$627.$jscomp$loop$prop$high$628\x3dcomparator$1:ltfn(comparator$1.semver,$jscomp$loop$627.$jscomp$loop$prop$low$629.semver,options)\x26\x26($jscomp$loop$627.$jscomp$loop$prop$low$629\x3dcomparator$1)}}($jscomp$loop$627));if($jscomp$loop$627.$jscomp$loop$prop$high$628.operator\x3d\x3d\x3dcomp||$jscomp$loop$627.$jscomp$loop$prop$high$628.operator\x3d\x3d\x3d\necomp||(!$jscomp$loop$627.$jscomp$loop$prop$low$629.operator||$jscomp$loop$627.$jscomp$loop$prop$low$629.operator\x3d\x3d\x3dcomp)\x26\x26hilo(version,$jscomp$loop$627.$jscomp$loop$prop$low$629.semver)||$jscomp$loop$627.$jscomp$loop$prop$low$629.operator\x3d\x3d\x3decomp\x26\x26ltfn(version,$jscomp$loop$627.$jscomp$loop$prop$low$629.semver))return!1}return!0},ANY$2\x3dcomparator$jscomp$0.ANY,simpleSubset\x3dfunction(sub,dom,options){if(1\x3d\x3d\x3dsub.length\x26\x26sub[0].semver\x3d\x3d\x3dANY$2)return 1\x3d\x3d\x3ddom.length\x26\x26dom[0].semver\x3d\x3d\x3dANY$2;var eqSet\x3dnew Set,\ngt,lt,$jscomp$iter$336\x3d$jscomp.makeIterator(sub);for(sub\x3d$jscomp$iter$336.next();!sub.done;sub\x3d$jscomp$iter$336.next())sub\x3dsub.value,\x22\\x3e\x22\x3d\x3d\x3dsub.operator||\x22\\x3e\\x3d\x22\x3d\x3d\x3dsub.operator?gt\x3dhigherGT(gt,sub,options):\x22\\x3c\x22\x3d\x3d\x3dsub.operator||\x22\\x3c\\x3d\x22\x3d\x3d\x3dsub.operator?lt\x3dlowerLT(lt,sub,options):eqSet.add(sub.semver);if(1\x3ceqSet.size)return null;if(gt\x26\x26lt){var gtltComp\x3dcompare_1(gt.semver,lt.semver,options);if(0\x3cgtltComp||0\x3d\x3d\x3dgtltComp\x26\x26(\x22\\x3e\\x3d\x22!\x3d\x3dgt.operator||\x22\\x3c\\x3d\x22!\x3d\x3dlt.operator))return null}for(sub\x3d\n$jscomp.makeIterator(eqSet).next();!sub.done;){gtltComp\x3dsub.value;if(gt\x26\x26!satisfies_1(gtltComp,String(gt),options)||lt\x26\x26!satisfies_1(gtltComp,String(lt),options))return null;gt\x3d$jscomp.makeIterator(dom);for(sub\x3dgt.next();!sub.done;sub\x3dgt.next())if(!satisfies_1(gtltComp,String(sub.value),options))return!1;return!0}dom\x3d$jscomp.makeIterator(dom);for(sub\x3ddom.next();!sub.done;sub\x3ddom.next()){sub\x3dsub.value;var hasDomGT\x3dhasDomGT||\x22\\x3e\x22\x3d\x3d\x3dsub.operator||\x22\\x3e\\x3d\x22\x3d\x3d\x3dsub.operator;var hasDomLT\x3dhasDomLT||\x22\\x3c\x22\x3d\x3d\x3d\nsub.operator||\x22\\x3c\\x3d\x22\x3d\x3d\x3dsub.operator;if(gt)if(\x22\\x3e\x22\x3d\x3d\x3dsub.operator||\x22\\x3e\\x3d\x22\x3d\x3d\x3dsub.operator){if(eqSet\x3dhigherGT(gt,sub,options),eqSet\x3d\x3d\x3dsub)return!1}else if(\x22\\x3e\\x3d\x22\x3d\x3d\x3dgt.operator\x26\x26!satisfies_1(gt.semver,String(sub),options))return!1;if(lt)if(\x22\\x3c\x22\x3d\x3d\x3dsub.operator||\x22\\x3c\\x3d\x22\x3d\x3d\x3dsub.operator){if(eqSet\x3dlowerLT(lt,sub,options),eqSet\x3d\x3d\x3dsub)return!1}else if(\x22\\x3c\\x3d\x22\x3d\x3d\x3dlt.operator\x26\x26!satisfies_1(lt.semver,String(sub),options))return!1;if(!sub.operator\x26\x26(lt||gt)\x26\x260!\x3d\x3dgtltComp)return!1}return gt\x26\x26\nhasDomLT\x26\x26!lt\x26\x260!\x3d\x3dgtltComp||lt\x26\x26hasDomGT\x26\x26!gt\x26\x260!\x3d\x3dgtltComp?!1:!0},higherGT\x3dfunction(a,b,options){if(!a)return b;options\x3dcompare_1(a.semver,b.semver,options);return 0\x3coptions?a:0\x3eoptions?b:\x22\\x3e\x22\x3d\x3d\x3db.operator\x26\x26\x22\\x3e\\x3d\x22\x3d\x3d\x3da.operator?b:a},lowerLT\x3dfunction(a,b,options){if(!a)return b;options\x3dcompare_1(a.semver,b.semver,options);return 0\x3eoptions?a:0\x3coptions?b:\x22\\x3c\x22\x3d\x3d\x3db.operator\x26\x26\x22\\x3c\\x3d\x22\x3d\x3d\x3da.operator?b:a},semver$1\x3d{re:re_1.re,src:re_1.src,tokens:re_1.t,SEMVER_SPEC_VERSION:\x222.0.0\x22,SemVer:semver,\ncompareIdentifiers:compareIdentifiers,rcompareIdentifiers:function(a,b){return compareIdentifiers(b,a)},parse:parse_1,valid:function(version,options){return(version\x3dparse_1(version,options))?version.version:null},clean:function(version,options){return(version\x3dparse_1(version.trim().replace(/^[\x3dv]+/,\x22\x22),options))?version.version:null},inc:function(version,release,options,identifier){\x22string\x22\x3d\x3d\x3dtypeof options\x26\x26(identifier\x3doptions,options\x3dvoid 0);try{return(new semver(version,options)).inc(release,identifier).version}catch(er){return null}},\ndiff:function(version1,version2){if(eq_1(version1,version2))return null;version1\x3dparse_1(version1);version2\x3dparse_1(version2);var hasPre\x3dversion1.prerelease.length||version2.prerelease.length,prefix\x3dhasPre?\x22pre\x22:\x22\x22,key;for(key in version1)if((\x22major\x22\x3d\x3d\x3dkey||\x22minor\x22\x3d\x3d\x3dkey||\x22patch\x22\x3d\x3d\x3dkey)\x26\x26version1[key]!\x3d\x3dversion2[key])return prefix+key;return hasPre?\x22prerelease\x22:\x22\x22},major:function(a,loose){return(new semver(a,loose)).major},minor:function(a,loose){return(new semver(a,loose)).minor},patch:function(a,\nloose){return(new semver(a,loose)).patch},prerelease:function(version,options){return(version\x3dparse_1(version,options))\x26\x26version.prerelease.length?version.prerelease:null},compare:compare_1,rcompare:function(a,b,loose){return compare_1(b,a,loose)},compareLoose:function(a,b){return compare_1(a,b,!0)},compareBuild:compareBuild_1,sort:function(list,loose){return list.sort(function(a,b){return compareBuild_1(a,b,loose)})},rsort:function(list,loose){return list.sort(function(a,b){return compareBuild_1(b,\na,loose)})},gt:gt_1,lt:lt_1,eq:eq_1,neq:neq_1,gte:gte_1,lte:lte_1,cmp:cmp_1,coerce:function(version,options){if(version instanceof semver)return version;\x22number\x22\x3d\x3d\x3dtypeof version\x26\x26(version\x3dString(version));if(\x22string\x22!\x3d\x3dtypeof version)return null;options\x3doptions||{};var match\x3dnull;if(options.rtl){for(var next;(next\x3dre$2[t$2.COERCERTL].exec(version))\x26\x26(!match||match.index+match[0].length!\x3d\x3dversion.length);)match\x26\x26next.index+next[0].length\x3d\x3d\x3dmatch.index+match[0].length||(match\x3dnext),re$2[t$2.COERCERTL].lastIndex\x3d\nnext.index+next[1].length+next[2].length;re$2[t$2.COERCERTL].lastIndex\x3d-1}else match\x3dversion.match(re$2[t$2.COERCE]);return null\x3d\x3d\x3dmatch?null:parse_1(match[2]+\x22.\x22+(match[3]||\x220\x22)+\x22.\x22+(match[4]||\x220\x22),options)},Comparator:comparator$jscomp$0,Range:range$jscomp$1,satisfies:satisfies_1,toComparators:function(range$1,options){return(new range$jscomp$1(range$1,options)).set.map(function(comp){return comp.map(function(c){return c.value}).join(\x22 \x22).trim().split(\x22 \x22)})},maxSatisfying:function(versions,range$1,\noptions){var max\x3dnull,maxSV\x3dnull,rangeObj\x3dnull;try{rangeObj\x3dnew range$jscomp$1(range$1,options)}catch(er){return null}versions.forEach(function(v){!rangeObj.test(v)||max\x26\x26-1!\x3d\x3dmaxSV.compare(v)||(max\x3dv,maxSV\x3dnew semver(max,options))});return max},minSatisfying:function(versions,range$1,options){var min\x3dnull,minSV\x3dnull,rangeObj\x3dnull;try{rangeObj\x3dnew range$jscomp$1(range$1,options)}catch(er){return null}versions.forEach(function(v){!rangeObj.test(v)||min\x26\x261!\x3d\x3dminSV.compare(v)||(min\x3dv,minSV\x3dnew semver(min,\noptions))});return min},minVersion:function(range$1,loose){range$1\x3dnew range$jscomp$1(range$1,loose);var minver\x3dnew semver(\x220.0.0\x22);if(range$1.test(minver))return minver;minver\x3dnew semver(\x220.0.0-0\x22);if(range$1.test(minver))return minver;minver\x3dnull;for(loose\x3d0;loose\x3crange$1.set.length;++loose)range$1.set[loose].forEach(function(comparator){var compver\x3dnew semver(comparator.semver.version);switch(comparator.operator){case \x22\\x3e\x22:0\x3d\x3d\x3dcompver.prerelease.length?compver.patch++:compver.prerelease.push(0),\ncompver.raw\x3dcompver.format();case \x22\x22:case \x22\\x3e\\x3d\x22:if(!minver||gt_1(minver,compver))minver\x3dcompver;break;case \x22\\x3c\x22:case \x22\\x3c\\x3d\x22:break;default:throw Error(\x22Unexpected operation: \x22+comparator.operator);}});return minver\x26\x26range$1.test(minver)?minver:null},validRange:function(range$1,options){try{return(new range$jscomp$1(range$1,options)).range||\x22*\x22}catch(er){return null}},outside:outside_1,gtr:function(version,range,options){return outside_1(version,range,\x22\\x3e\x22,options)},ltr:function(version,\nrange,options){return outside_1(version,range,\x22\\x3c\x22,options)},intersects:function(r1,r2,options){r1\x3dnew range$jscomp$1(r1,options);r2\x3dnew range$jscomp$1(r2,options);return r1.intersects(r2)},simplifyRange:function(versions,range,options){var set\x3d[],min\x3dnull,prev\x3dnull;versions\x3dversions.sort(function(a,b){return compare_1(a,b,options)});for(var $jscomp$iter$332\x3d$jscomp.makeIterator(versions),$jscomp$key$version\x3d$jscomp$iter$332.next();!$jscomp$key$version.done;$jscomp$key$version\x3d$jscomp$iter$332.next())$jscomp$key$version\x3d\n$jscomp$key$version.value,satisfies_1($jscomp$key$version,range,options)?(prev\x3d$jscomp$key$version,min||(min\x3d$jscomp$key$version)):(prev\x26\x26set.push([min,prev]),min\x3dprev\x3dnull);min\x26\x26set.push([min,null]);min\x3d[];set\x3d$jscomp.makeIterator(set);for(prev\x3dset.next();!prev.done;prev\x3dset.next())$jscomp$iter$332\x3d$jscomp.makeIterator(prev.value),prev\x3d$jscomp$iter$332.next().value,$jscomp$iter$332\x3d$jscomp$iter$332.next().value,prev\x3d\x3d\x3d$jscomp$iter$332?min.push(prev):$jscomp$iter$332||prev!\x3d\x3dversions[0]?$jscomp$iter$332?\nprev\x3d\x3d\x3dversions[0]?min.push(\x22\\x3c\\x3d\x22+$jscomp$iter$332):min.push(prev+\x22 - \x22+$jscomp$iter$332):min.push(\x22\\x3e\\x3d\x22+prev):min.push(\x22*\x22);versions\x3dmin.join(\x22 || \x22);return versions.length\x3c(\x22string\x22\x3d\x3d\x3dtypeof range.raw?range.raw:String(range)).length?versions:range},subset:function(sub,dom,options){sub\x3dnew range$jscomp$1(sub,options);dom\x3dnew range$jscomp$1(dom,options);var sawNonNull\x3d!1;sub\x3d$jscomp.makeIterator(sub.set);var $jscomp$key$simpleSub\x3dsub.next();a:for(;!$jscomp$key$simpleSub.done;$jscomp$key$simpleSub\x3d\nsub.next()){$jscomp$key$simpleSub\x3d$jscomp$key$simpleSub.value;for(var $jscomp$iter$334\x3d$jscomp.makeIterator(dom.set),$jscomp$key$simpleDom\x3d$jscomp$iter$334.next();!$jscomp$key$simpleDom.done;$jscomp$key$simpleDom\x3d$jscomp$iter$334.next())if($jscomp$key$simpleDom\x3dsimpleSubset($jscomp$key$simpleSub,$jscomp$key$simpleDom.value,options),sawNonNull\x3dsawNonNull||null!\x3d\x3d$jscomp$key$simpleDom,$jscomp$key$simpleDom)continue a;if(sawNonNull)return!1}return!0}},colorSchemes\x3d{\x22category-6\x22:\x22#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4\x22.split(\x22 \x22),\n\x22fire-7\x22:\x22#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232\x22.split(\x22 \x22),\x22fireandice-6\x22:\x22#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae\x22.split(\x22 \x22),\x22ice-7\x22:\x22#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d\x22.split(\x22 \x22)},colorSchemes$1\x3d{\x22main-colors\x22:\x22#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27\x22.split(\x22 \x22),\x22shades-blue\x22:\x22#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635\x22.split(\x22 \x22),\x22shades-gray\x22:\x22#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535\x22.split(\x22 \x22),\n\x22shades-yellow\x22:\x22#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215\x22.split(\x22 \x22),\x22shades-magenta\x22:\x22#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123\x22.split(\x22 \x22),\x22shades-green\x22:\x22#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19\x22.split(\x22 \x22),\x22shades-black\x22:\x22#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D\x22.split(\x22 \x22),\x22shades-red\x22:\x22#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A\x22.split(\x22 \x22),\x22one-group\x22:[\x22#1696d2\x22,\x22#000000\x22],\x22two-groups-cat-1\x22:[\x22#1696d2\x22,\n\x22#000000\x22],\x22two-groups-cat-2\x22:[\x22#1696d2\x22,\x22#fdbf11\x22],\x22two-groups-cat-3\x22:[\x22#1696d2\x22,\x22#db2b27\x22],\x22two-groups-seq\x22:[\x22#a2d4ec\x22,\x22#1696d2\x22],\x22three-groups-cat\x22:[\x22#1696d2\x22,\x22#fdbf11\x22,\x22#000000\x22],\x22three-groups-seq\x22:[\x22#a2d4ec\x22,\x22#1696d2\x22,\x22#0a4c6a\x22],\x22four-groups-cat-1\x22:[\x22#000000\x22,\x22#d2d2d2\x22,\x22#fdbf11\x22,\x22#1696d2\x22],\x22four-groups-cat-2\x22:[\x22#1696d2\x22,\x22#ec0008b\x22,\x22#fdbf11\x22,\x22#5c5859\x22],\x22four-groups-seq\x22:[\x22#cfe8f3\x22,\x22#73bf42\x22,\x22#1696d2\x22,\x22#0a4c6a\x22],\x22five-groups-cat-1\x22:[\x22#1696d2\x22,\x22#fdbf11\x22,\x22#d2d2d2\x22,\x22#ec008b\x22,\x22#000000\x22],\x22five-groups-cat-2\x22:[\x22#1696d2\x22,\n\x22#0a4c6a\x22,\x22#d2d2d2\x22,\x22#fdbf11\x22,\x22#332d2f\x22],\x22five-groups-seq\x22:[\x22#cfe8f3\x22,\x22#73bf42\x22,\x22#1696d2\x22,\x22#0a4c6a\x22,\x22#000000\x22],\x22six-groups-cat-1\x22:\x22#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748\x22.split(\x22 \x22),\x22six-groups-cat-2\x22:\x22#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a\x22.split(\x22 \x22),\x22six-groups-seq\x22:\x22#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e\x22.split(\x22 \x22),\x22diverging-colors\x22:\x22#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a\x22.split(\x22 \x22)},themes\x3dObject.freeze({__proto__:null,dark:{background:\x22#333\x22,\ntitle:{color:\x22#fff\x22},style:{\x22guide-label\x22:{fill:\x22#fff\x22},\x22guide-title\x22:{fill:\x22#fff\x22}},axis:{domainColor:\x22#fff\x22,gridColor:\x22#888\x22,tickColor:\x22#fff\x22}},excel:{background:\x22#fff\x22,arc:{fill:\x22#4572a7\x22},area:{fill:\x22#4572a7\x22},line:{stroke:\x22#4572a7\x22,strokeWidth:2},path:{stroke:\x22#4572a7\x22},rect:{fill:\x22#4572a7\x22},shape:{stroke:\x22#4572a7\x22},symbol:{fill:\x22#4572a7\x22,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:\x22#000000\x22,gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,\ntickExtra:!0},legend:{labelBaseline:\x22middle\x22,labelFontSize:11,symbolSize:50,symbolType:\x22square\x22},range:{category:\x22#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc\x22.split(\x22 \x22)}},fivethirtyeight:{arc:{fill:\x22#30a2da\x22},area:{fill:\x22#30a2da\x22},axis:{domainColor:\x22#cbcbcb\x22,grid:!0,gridColor:\x22#cbcbcb\x22,gridWidth:1,labelColor:\x22#999\x22,labelFontSize:10,titleColor:\x22#333\x22,tickColor:\x22#cbcbcb\x22,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:\x22#f0f0f0\x22,\ngroup:{fill:\x22#f0f0f0\x22},legend:{labelColor:\x22#333\x22,labelFontSize:11,padding:1,symbolSize:30,symbolType:\x22square\x22,titleColor:\x22#333\x22,titleFontSize:14,titlePadding:10},line:{stroke:\x22#30a2da\x22,strokeWidth:2},path:{stroke:\x22#30a2da\x22,strokeWidth:.5},rect:{fill:\x22#30a2da\x22},range:{category:\x22#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8\x22.split(\x22 \x22),diverging:\x22#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5\x22.split(\x22 \x22),heatmap:[\x22#d6e8ed\x22,\x22#cee0e5\x22,\x22#91bfd9\x22,\x22#549cc6\x22,\n\x22#1d78b5\x22]},point:{filled:!0,shape:\x22circle\x22},shape:{stroke:\x22#30a2da\x22},bar:{binSpacing:2,fill:\x22#30a2da\x22,stroke:null},title:{anchor:\x22start\x22,fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:\x22#e5e5e5\x22},arc:{fill:\x22#000\x22},area:{fill:\x22#000\x22},line:{stroke:\x22#000\x22},path:{stroke:\x22#000\x22},rect:{fill:\x22#000\x22},shape:{stroke:\x22#000\x22},symbol:{fill:\x22#000\x22,size:40},axis:{domain:!1,grid:!0,gridColor:\x22#FFFFFF\x22,gridOpacity:1,labelColor:\x22#7F7F7F\x22,labelPadding:4,tickColor:\x22#7F7F7F\x22,tickSize:5.67,titleFontSize:16,\ntitleFontWeight:\x22normal\x22},legend:{labelBaseline:\x22middle\x22,labelFontSize:11,symbolSize:40},range:{category:\x22#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC\x22.split(\x22 \x22)}},googlecharts:{arc:{fill:\x22#3366CC\x22},area:{fill:\x22#3366CC\x22},path:{stroke:\x22#3366CC\x22},rect:{fill:\x22#3366CC\x22},shape:{stroke:\x22#3366CC\x22},symbol:{stroke:\x22#3366CC\x22},circle:{fill:\x22#3366CC\x22},background:\x22#fff\x22,padding:{top:10,right:10,bottom:10,left:10},style:{\x22guide-label\x22:{font:\x22Arial, sans-serif\x22,fontSize:12},\x22guide-title\x22:{font:\x22Arial, sans-serif\x22,\nfontSize:12},\x22group-title\x22:{font:\x22Arial, sans-serif\x22,fontSize:12}},title:{font:\x22Arial, sans-serif\x22,fontSize:14,fontWeight:\x22bold\x22,dy:-3,anchor:\x22start\x22},axis:{gridColor:\x22#ccc\x22,tickColor:\x22#ccc\x22,domain:!1,grid:!0},range:{category:\x22#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B\x22.split(\x22 \x22),heatmap:[\x22#c6dafc\x22,\x22#5e97f6\x22,\x22#2a56c6\x22]}},latimes:{background:\x22#ffffff\x22,title:{anchor:\x22start\x22,color:\x22#000000\x22,font:\x22Benton Gothic Bold, sans-serif\x22,fontSize:22,fontWeight:\x22normal\x22},\narc:{fill:\x22#82c6df\x22},area:{fill:\x22#82c6df\x22},line:{stroke:\x22#82c6df\x22,strokeWidth:2},path:{stroke:\x22#82c6df\x22},rect:{fill:\x22#82c6df\x22},shape:{stroke:\x22#82c6df\x22},symbol:{fill:\x22#82c6df\x22,size:30},axis:{labelFont:\x22Benton Gothic, sans-serif\x22,labelFontSize:11.5,labelFontWeight:\x22normal\x22,titleFont:\x22Benton Gothic Bold, sans-serif\x22,titleFontSize:13,titleFontWeight:\x22normal\x22},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:\x22middle\x22,maxExtent:45,minExtent:45,tickSize:2,titleAlign:\x22left\x22,titleAngle:0,\ntitleX:-45,titleY:-11},legend:{labelFont:\x22Benton Gothic, sans-serif\x22,labelFontSize:11.5,symbolType:\x22square\x22,titleFont:\x22Benton Gothic Bold, sans-serif\x22,titleFontSize:13,titleFontWeight:\x22normal\x22},range:{category:colorSchemes[\x22category-6\x22],diverging:colorSchemes[\x22fireandice-6\x22],heatmap:colorSchemes[\x22fire-7\x22],ordinal:colorSchemes[\x22fire-7\x22],ramp:colorSchemes[\x22fire-7\x22]}},quartz:{background:\x22#f9f9f9\x22,arc:{fill:\x22#ab5787\x22},area:{fill:\x22#ab5787\x22},line:{stroke:\x22#ab5787\x22},path:{stroke:\x22#ab5787\x22},rect:{fill:\x22#ab5787\x22},\nshape:{stroke:\x22#ab5787\x22},symbol:{fill:\x22#ab5787\x22,size:30},axis:{domainColor:\x22#979797\x22,domainWidth:.5,gridWidth:.2,labelColor:\x22#979797\x22,tickColor:\x22#979797\x22,tickWidth:.2,titleColor:\x22#979797\x22},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:\x22square\x22},range:{category:\x22#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4\x22.split(\x22 \x22)}},urbaninstitute:{background:\x22#FFFFFF\x22,title:{anchor:\x22start\x22,\nfontSize:18,font:\x22Lato\x22},axisX:{domain:!0,domainColor:\x22#000000\x22,domainWidth:1,grid:!1,labelFontSize:12,labelFont:\x22Lato\x22,labelAngle:0,tickColor:\x22#000000\x22,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:\x22Lato\x22},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:\x22#DEDDDD\x22,gridWidth:1,labelFontSize:12,labelFont:\x22Lato\x22,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:\x22Lato\x22,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:\x22Lato\x22,symbolSize:100,titleFontSize:12,\ntitlePadding:10,titleFont:\x22Lato\x22,orient:\x22right\x22,offset:10},view:{stroke:\x22transparent\x22},range:{category:colorSchemes$1[\x22six-groups-cat-1\x22],diverging:colorSchemes$1[\x22diverging-colors\x22],heatmap:colorSchemes$1[\x22diverging-colors\x22],ordinal:colorSchemes$1[\x22six-groups-seq\x22],ramp:colorSchemes$1[\x22shades-blue\x22]},area:{fill:\x22#1696d2\x22},rect:{fill:\x22#1696d2\x22},line:{color:\x22#1696d2\x22,stroke:\x22#1696d2\x22,strokeWidth:5},trail:{color:\x22#1696d2\x22,stroke:\x22#1696d2\x22,strokeWidth:0,size:1},path:{stroke:\x22#1696d2\x22,strokeWidth:.5},\npoint:{filled:!0},text:{font:\x22Lato\x22,color:\x22#1696d2\x22,fontSize:11,align:\x22center\x22,fontWeight:400,size:11},style:{bar:{fill:\x22#1696d2\x22,stroke:null}},arc:{fill:\x22#1696d2\x22},shape:{stroke:\x22#1696d2\x22},symbol:{fill:\x22#1696d2\x22,size:30}},version:\x222.9.0\x22,vox:{background:\x22#fff\x22,arc:{fill:\x22#3e5c69\x22},area:{fill:\x22#3e5c69\x22},line:{stroke:\x22#3e5c69\x22},path:{stroke:\x22#3e5c69\x22},rect:{fill:\x22#3e5c69\x22},shape:{stroke:\x22#3e5c69\x22},symbol:{fill:\x22#3e5c69\x22},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:\x22normal\x22},\naxisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:\x22square\x22},range:{category:\x22#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2\x22.split(\x22 \x22)}}}),get1\x3dfunction(field){return function(obj){return obj[field]}},getN\x3dfunction(path){var len\x3dpath.length;return function(obj){for(var i\x3d0;i\x3clen;++i)obj\x3dobj[path[i]];return obj}};(function(field,name,opt){var path\x3dsplitAccessPath(field);field\x3d1\x3d\x3d\x3dpath.length?path[0]:field;return accessor((opt\x26\x26\nopt.get||getter)(path),[field],name||field)})(\x22id\x22);accessor(function(_){return _},[],\x22identity\x22);accessor(function(){return 0},[],\x22zero\x22);accessor(function(){return 1},[],\x22one\x22);accessor(function(){return!0},[],\x22true\x22);accessor(function(){return!1},[],\x22false\x22);var isArray\x3dArray.isArray,DEFAULT_OPTIONS\x3d{offsetX:10,offsetY:10,id:\x22vg-tooltip-element\x22,styleId:\x22vega-tooltip-style\x22,theme:\x22light\x22,disableDefaultStyle:!1,sanitize:function(value){return String(value).replace(/\x26/g,\x22\\x26amp;\x22).replace(/\x3c/g,\n\x22\\x26lt;\x22)},maxDepth:2},Handler\x3dfunction(options){this.options\x3dObject.assign(Object.assign({},DEFAULT_OPTIONS),options);options\x3dthis.options.id;this.call\x3dthis.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle\x26\x26!document.getElementById(this.options.styleId)){var style\x3ddocument.createElement(\x22style\x22);style.setAttribute(\x22id\x22,this.options.styleId);if(!/^[A-Za-z]+[-:.\\w]*$/.test(options))throw Error(\x22Invalid HTML ID\x22);var JSCompiler_inline_result\x3d\x22#vg-tooltip-element {\\n  visibility: hidden;\\n  padding: 8px;\\n  position: fixed;\\n  z-index: 1000;\\n  font-family: sans-serif;\\n  font-size: 11px;\\n  border-radius: 3px;\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n  /* The default theme is the light theme. */\\n  background-color: rgba(255, 255, 255, 0.95);\\n  border: 1px solid #d9d9d9;\\n  color: black; }\\n  #vg-tooltip-element.visible {\\n    visibility: visible; }\\n  #vg-tooltip-element h2 {\\n    margin-top: 0;\\n    margin-bottom: 10px;\\n    font-size: 13px; }\\n  #vg-tooltip-element img {\\n    max-width: 200px;\\n    max-height: 200px; }\\n  #vg-tooltip-element table {\\n    border-spacing: 0; }\\n    #vg-tooltip-element table tr {\\n      border: none; }\\n      #vg-tooltip-element table tr td {\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        padding-top: 2px;\\n        padding-bottom: 2px; }\\n        #vg-tooltip-element table tr td.key {\\n          color: #808080;\\n          max-width: 150px;\\n          text-align: right;\\n          padding-right: 4px; }\\n        #vg-tooltip-element table tr td.value {\\n          display: block;\\n          max-width: 300px;\\n          max-height: 7em;\\n          text-align: left; }\\n  #vg-tooltip-element.dark-theme {\\n    background-color: rgba(32, 32, 32, 0.9);\\n    border: 1px solid #f5f5f5;\\n    color: white; }\\n    #vg-tooltip-element.dark-theme td.key {\\n      color: #bfbfbf; }\\n\x22.toString().replace(\x22vg-tooltip-element\x22,\noptions);style.innerHTML\x3dJSCompiler_inline_result;JSCompiler_inline_result\x3ddocument.head;0\x3cJSCompiler_inline_result.childNodes.length?JSCompiler_inline_result.insertBefore(style,JSCompiler_inline_result.childNodes[0]):JSCompiler_inline_result.appendChild(style)}this.el\x3ddocument.getElementById(options);this.el||(this.el\x3ddocument.createElement(\x22div\x22),this.el.setAttribute(\x22id\x22,options),this.el.classList.add(\x22vg-tooltip\x22),document.body.appendChild(this.el))};Handler.prototype.tooltipHandler\x3dfunction(handler,\nevent,item,value){if(null\x3d\x3dvalue||\x22\x22\x3d\x3d\x3dvalue)this.el.classList.remove(\x22visible\x22,this.options.theme+\x22-theme\x22);else{this.el.innerHTML\x3dformatValue(value,this.options.sanitize,this.options.maxDepth);this.el.classList.add(\x22visible\x22,this.options.theme+\x22-theme\x22);handler\x3dthis.el.getBoundingClientRect();var offsetX\x3dthis.options.offsetX;item\x3dthis.options.offsetY;value\x3devent.clientX+offsetX;value+handler.width\x3ewindow.innerWidth\x26\x26(value\x3d+event.clientX-offsetX-handler.width);offsetX\x3devent.clientY+item;offsetX+\nhandler.height\x3ewindow.innerHeight\x26\x26(offsetX\x3d+event.clientY-item-handler.height);this.el.setAttribute(\x22style\x22,\x22top: \x22+offsetX+\x22px; left: \x22+value+\x22px\x22)}};String.prototype.startsWith||(String.prototype.startsWith\x3dfunction(search,pos){return this.substr(!pos||0\x3epos?0:+pos,search.length)\x3d\x3d\x3dsearch});var _a$jscomp$1,vega\x3dvegaImport__namespace,vegaLite\x3dvegaLiteImport__namespace,w\x3d\x22undefined\x22!\x3d\x3dtypeof window?window:void 0;void 0\x3d\x3d\x3dvegaLite\x26\x26(null\x3d\x3d\x3d(_a$jscomp$1\x3dnull\x3d\x3d\x3dw||void 0\x3d\x3d\x3dw?void 0:w.vl)||void 0\x3d\x3d\x3d\n_a$jscomp$1?0:_a$jscomp$1.compile)\x26\x26(vegaLite\x3dw.vl);var DEFAULT_ACTIONS\x3d{\x22export\x22:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},I18N\x3d{CLICK_TO_VIEW_ACTIONS:\x22Click to view actions\x22,COMPILED_ACTION:\x22View Compiled Vega\x22,EDITOR_ACTION:\x22Open in Vega Editor\x22,PNG_ACTION:\x22Save as PNG\x22,SOURCE_ACTION:\x22View Source\x22,SVG_ACTION:\x22Save as SVG\x22},NAMES\x3d{vega:\x22Vega\x22,\x22vega-lite\x22:\x22Vega-Lite\x22},VERSION\x3d{vega:vega.version,\x22vega-lite\x22:vegaLite?vegaLite.version:\x22not available\x22},PREPROCESSOR\x3d{vega:function(vgSpec){return vgSpec},\n\x22vega-lite\x22:function(vlSpec,config){return vegaLite.compile(vlSpec,{config:config}).spec}},wrapper$jscomp$0\x3dfunction(){for(var args\x3d[],_i\x3d0;_i\x3carguments.length;_i++)args[_i]\x3darguments[_i];if(_i\x3d1\x3cargs.length){if(_i\x3dvegaImport.isString(args[0]))_i\x3dargs[0],_i\x3d!(_i.startsWith(\x22http://\x22)||_i.startsWith(\x22https://\x22)||_i.startsWith(\x22//\x22));_i\x3d_i||args[0]instanceof HTMLElement||3\x3d\x3d\x3dargs.length}return _i?embed(args[0],args[1],args[2]):container(args[0],args[1])};wrapper$jscomp$0.vegaLite\x3dvegaLite;wrapper$jscomp$0.vl\x3d\nvegaLite;wrapper$jscomp$0.container\x3dcontainer;wrapper$jscomp$0.embed\x3dembed;wrapper$jscomp$0.vega\x3dvega;wrapper$jscomp$0[\x22default\x22]\x3dembed;wrapper$jscomp$0.version\x3d\x226.12.2\x22;return wrapper$jscomp$0})}");
SHADOW_ENV.evalLoad("vega.base.js", true , "goog.provide(\x27vega.base\x27);\nvar module$node_modules$vega_lite$build$vega_lite\x3dshadow.js.require(\x22module$node_modules$vega_lite$build$vega_lite\x22, {});\nvar module$node_modules$vega_embed$build$vega_embed\x3dshadow.js.require(\x22module$node_modules$vega_embed$build$vega_embed\x22, {});\nconsole.log(\x22LOADED VEGA BASE\x22);\nvega.base.window_resolve \x3d (function vega$base$window_resolve(symbol){\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (p1__90736_SHARP_,p2__90737_SHARP_){\nreturn (p1__90736_SHARP_[p2__90737_SHARP_]);\n}),window,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(clojure.string.split.cljs$core$IFn$_invoke$arity$2(clojure.string.replace(cljs.core.namespace(symbol),\x22-\x22,\x22_\x22),\x22.\x22),clojure.string.replace(cljs.core.name(symbol),\x22-\x22,\x22_\x22)));\n});\nvega.base.compile \x3d (function vega$base$compile(form){\nreturn sci.core.eval_string.cljs$core$IFn$_invoke$arity$2(cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([form], 0)),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\x22bindings\x22,\x22bindings\x22,1271397192),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Symbol(\x22js\x22,\x22console.log\x22,\x22js/console.log\x22,-2005248266,null),console.log,new cljs.core.Symbol(\x22js\x22,\x22document\x22,\x22js/document\x22,311343521,null),document], null),new cljs.core.Keyword(null,\x22classes\x22,\x22classes\x22,2037804510),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\x22allow\x22,\x22allow\x22,-1857325745),new cljs.core.Keyword(null,\x22all\x22,\x22all\x22,892129742)], null)], null));\n});\nvega.base.dataset_component \x3d (function vega$base$dataset_component(p__90738){\nvar map__90739 \x3d p__90738;\nvar map__90739__$1 \x3d (((((!((map__90739 \x3d\x3d null))))?(((((map__90739.cljs$lang$protocol_mask$partition0$ \x26 (64))) || ((cljs.core.PROTOCOL_SENTINEL \x3d\x3d\x3d map__90739.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__90739):map__90739);\nvar data__GT_vega_spec \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__90739__$1,new cljs.core.Keyword(\x22vega\x22,\x22data-\x3evega-spec\x22,\x22vega/data-\x3evega-spec\x22,-155039939));\nvar dependencies \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__90739__$1,new cljs.core.Keyword(\x22dataset\x22,\x22dependencies\x22,\x22dataset/dependencies\x22,2019679717));\nvar data__GT_vega_spec__$1 \x3d vega.base.compile((data__GT_vega_spec[\x22rep\x22]));\nvar data \x3d cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22div\x22,\x22div\x22,1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\x22ref\x22,\x22ref\x22,1289896967),(function (c){\nreturn cljs.core.doall.cljs$core$IFn$_invoke$arity$1(cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p__90741){\nvar vec__90742 \x3d p__90741;\nvar dep_name \x3d cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__90742,(0),null);\nvar dep_path \x3d cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__90742,(1),null);\nreturn (function (){var fexpr__90745 \x3d vega.base.window_resolve(new cljs.core.Symbol(\x22browjure.state\x22,\x22get-or-create-subject\x22,\x22browjure.state/get-or-create-subject\x22,-741919012,null));\nreturn (fexpr__90745.cljs$core$IFn$_invoke$arity$2 ? fexpr__90745.cljs$core$IFn$_invoke$arity$2(dep_path,null) : fexpr__90745.call(null,dep_path,null));\n})().subscribe((function (r){\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(data,cljs.core.assoc,dep_name,r);\n\nreturn module$node_modules$vega_embed$build$vega_embed.default(c,cljs.core.clj__GT_js((function (){var G__90746 \x3d cljs.core.deref(data);\nreturn (data__GT_vega_spec__$1.cljs$core$IFn$_invoke$arity$1 ? data__GT_vega_spec__$1.cljs$core$IFn$_invoke$arity$1(G__90746) : data__GT_vega_spec__$1.call(null,G__90746));\n})()));\n}));\n}),dependencies));\n})], null)], null);\n});\nvega.base.embed_component \x3d (function vega$base$embed_component(var_args){\nvar args__4742__auto__ \x3d [];\nvar len__4736__auto___90756 \x3d arguments.length;\nvar i__4737__auto___90757 \x3d (0);\nwhile(true){\nif((i__4737__auto___90757 \x3c len__4736__auto___90756)){\nargs__4742__auto__.push((arguments[i__4737__auto___90757]));\n\nvar G__90758 \x3d (i__4737__auto___90757 + (1));\ni__4737__auto___90757 \x3d G__90758;\ncontinue;\n} else {\n}\nbreak;\n}\n\nvar argseq__4743__auto__ \x3d ((((0) \x3c args__4742__auto__.length))?(new cljs.core.IndexedSeq(args__4742__auto__.slice((0)),(0),null)):null);\nreturn vega.base.embed_component.cljs$core$IFn$_invoke$arity$variadic(argseq__4743__auto__);\n});\n\n(vega.base.embed_component.cljs$core$IFn$_invoke$arity$variadic \x3d (function (specs){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22div\x22,\x22div\x22,1057191632),(function (){var iter__4529__auto__ \x3d (function vega$base$iter__90749(s__90750){\nreturn (new cljs.core.LazySeq(null,(function (){\nvar s__90750__$1 \x3d s__90750;\nwhile(true){\nvar temp__5735__auto__ \x3d cljs.core.seq(s__90750__$1);\nif(temp__5735__auto__){\nvar s__90750__$2 \x3d temp__5735__auto__;\nif(cljs.core.chunked_seq_QMARK_(s__90750__$2)){\nvar c__4527__auto__ \x3d cljs.core.chunk_first(s__90750__$2);\nvar size__4528__auto__ \x3d cljs.core.count(c__4527__auto__);\nvar b__90752 \x3d cljs.core.chunk_buffer(size__4528__auto__);\nif((function (){var i__90751 \x3d (0);\nwhile(true){\nif((i__90751 \x3c size__4528__auto__)){\nvar spec \x3d cljs.core._nth(c__4527__auto__,i__90751);\ncljs.core.chunk_append(b__90752,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22div\x22,\x22div\x22,1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\x22ref\x22,\x22ref\x22,1289896967),((function (i__90751,spec,c__4527__auto__,size__4528__auto__,b__90752,s__90750__$2,temp__5735__auto__){\nreturn (function (p1__90747_SHARP_){\nreturn module$node_modules$vega_embed$build$vega_embed.default(p1__90747_SHARP_,cljs.core.clj__GT_js(spec));\n});})(i__90751,spec,c__4527__auto__,size__4528__auto__,b__90752,s__90750__$2,temp__5735__auto__))\n], null)], null));\n\nvar G__90759 \x3d (i__90751 + (1));\ni__90751 \x3d G__90759;\ncontinue;\n} else {\nreturn true;\n}\nbreak;\n}\n})()){\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__90752),vega$base$iter__90749(cljs.core.chunk_rest(s__90750__$2)));\n} else {\nreturn cljs.core.chunk_cons(cljs.core.chunk(b__90752),null);\n}\n} else {\nvar spec \x3d cljs.core.first(s__90750__$2);\nreturn cljs.core.cons(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\x22div\x22,\x22div\x22,1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\x22ref\x22,\x22ref\x22,1289896967),((function (spec,s__90750__$2,temp__5735__auto__){\nreturn (function (p1__90747_SHARP_){\nreturn module$node_modules$vega_embed$build$vega_embed.default(p1__90747_SHARP_,cljs.core.clj__GT_js(spec));\n});})(spec,s__90750__$2,temp__5735__auto__))\n], null)], null),vega$base$iter__90749(cljs.core.rest(s__90750__$2)));\n}\n} else {\nreturn null;\n}\nbreak;\n}\n}),null,null));\n});\nreturn iter__4529__auto__(specs);\n})()], null);\n}));\n\n(vega.base.embed_component.cljs$lang$maxFixedArity \x3d (0));\n\n/** @this {Function} */\n(vega.base.embed_component.cljs$lang$applyTo \x3d (function (seq90748){\nvar self__4724__auto__ \x3d this;\nreturn self__4724__auto__.cljs$core$IFn$_invoke$arity$variadic(cljs.core.seq(seq90748));\n}));\n\nvega.base.handler \x3d (function vega$base$handler(p__90753){\nvar map__90754 \x3d p__90753;\nvar map__90754__$1 \x3d (((((!((map__90754 \x3d\x3d null))))?(((((map__90754.cljs$lang$protocol_mask$partition0$ \x26 (64))) || ((cljs.core.PROTOCOL_SENTINEL \x3d\x3d\x3d map__90754.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__90754):map__90754);\nvar command \x3d map__90754__$1;\nvar id \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__90754__$1,new cljs.core.Keyword(null,\x22id\x22,\x22id\x22,-1388402092));\nvar type \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__90754__$1,new cljs.core.Keyword(null,\x22type\x22,\x22type\x22,1174270348));\nvar payload \x3d cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__90754__$1,new cljs.core.Keyword(null,\x22payload\x22,\x22payload\x22,-383036092));\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(type,new cljs.core.Keyword(null,\x22visualize\x22,\x22visualize\x22,-44099815))){\nconsole.log(\x22vega base handler\x22,command);\n\nreturn module$node_modules$vega_embed$build$vega_embed.default(\x22#app\x22,cljs.core.clj__GT_js(payload));\n} else {\nreturn null;\n}\n});\n");
SHADOW_ENV.evalLoad("shadow.module.vega.append.js", false , ";\nSHADOW_ENV.setLoaded(\x22module$node_modules$base64_js$index.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$ieee754$index.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$isarray$index.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$buffer$index.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_lite$build$vega_lite.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_util$build$vega_util.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_dsv$dist$d3_dsv.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$topojson_client$dist$topojson_client.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_array$dist$d3_array.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_format$dist$d3_format.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_time$dist$d3_time.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_time$build$vega_time.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_time_format$dist$d3_time_format.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_format$build$vega_format.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_loader$build$vega_loader.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_dataflow$build$vega_dataflow.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_statistics$build$vega_statistics.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_transforms$build$vega_transforms.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_path$dist$d3_path.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_shape$dist$d3_shape.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_canvas$build$vega_canvas.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_color$dist$d3_color.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_interpolate$dist$d3_interpolate.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_scale$dist$d3_scale.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_scale$build$vega_scale.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_scenegraph$build$vega_scenegraph.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_view_transforms$build$vega_view_transforms.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_encode$build$vega_encode.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_geo$dist$d3_geo.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_geo_projection$dist$d3_geo_projection.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_projection$build$vega_projection.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_geo$build$vega_geo.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_quadtree$dist$d3_quadtree.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_dispatch$dist$d3_dispatch.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_timer$dist$d3_timer.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_force$dist$d3_force.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_force$build$vega_force.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_hierarchy$dist$d3_hierarchy.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_hierarchy$build$vega_hierarchy.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_regression$build$vega_regression.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$d3_delaunay$dist$d3_delaunay.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_voronoi$build$vega_voronoi.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_wordcloud$build$vega_wordcloud.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_crossfilter$build$vega_crossfilter.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_expression$build$vega_expression.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_selections$build$vega_selections.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_functions$build$vega_functions.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_runtime$build$vega_runtime.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_view$build$vega_view.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_event_selector$build$vega_event_selector.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_parser$build$vega_parser.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega$build$vega_node.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$process$browser.js\x22);\nSHADOW_ENV.setLoaded(\x22module$node_modules$vega_embed$build$vega_embed.js\x22);\nSHADOW_ENV.setLoaded(\x22vega.base.js\x22);\nSHADOW_ENV.setLoaded(\x22shadow.module.vega.append.js\x22);");